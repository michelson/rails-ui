"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __typeError = (msg) => {
    throw TypeError(msg);
  };
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
  var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
  var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  var __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
  var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);

  // node_modules/@rails/actioncable/src/adapters.js
  var adapters_default;
  var init_adapters = __esm({
    "node_modules/@rails/actioncable/src/adapters.js"() {
      adapters_default = {
        logger: typeof console !== "undefined" ? console : void 0,
        WebSocket: typeof WebSocket !== "undefined" ? WebSocket : void 0
      };
    }
  });

  // node_modules/@rails/actioncable/src/logger.js
  var logger_default;
  var init_logger = __esm({
    "node_modules/@rails/actioncable/src/logger.js"() {
      init_adapters();
      logger_default = {
        log(...messages) {
          if (this.enabled) {
            messages.push(Date.now());
            adapters_default.logger.log("[ActionCable]", ...messages);
          }
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/connection_monitor.js
  var now, secondsSince, ConnectionMonitor, connection_monitor_default;
  var init_connection_monitor = __esm({
    "node_modules/@rails/actioncable/src/connection_monitor.js"() {
      init_logger();
      now = () => (/* @__PURE__ */ new Date()).getTime();
      secondsSince = (time) => (now() - time) / 1e3;
      ConnectionMonitor = class {
        constructor(connection) {
          this.visibilityDidChange = this.visibilityDidChange.bind(this);
          this.connection = connection;
          this.reconnectAttempts = 0;
        }
        start() {
          if (!this.isRunning()) {
            this.startedAt = now();
            delete this.stoppedAt;
            this.startPolling();
            addEventListener("visibilitychange", this.visibilityDidChange);
            logger_default.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`);
          }
        }
        stop() {
          if (this.isRunning()) {
            this.stoppedAt = now();
            this.stopPolling();
            removeEventListener("visibilitychange", this.visibilityDidChange);
            logger_default.log("ConnectionMonitor stopped");
          }
        }
        isRunning() {
          return this.startedAt && !this.stoppedAt;
        }
        recordPing() {
          this.pingedAt = now();
        }
        recordConnect() {
          this.reconnectAttempts = 0;
          this.recordPing();
          delete this.disconnectedAt;
          logger_default.log("ConnectionMonitor recorded connect");
        }
        recordDisconnect() {
          this.disconnectedAt = now();
          logger_default.log("ConnectionMonitor recorded disconnect");
        }
        // Private
        startPolling() {
          this.stopPolling();
          this.poll();
        }
        stopPolling() {
          clearTimeout(this.pollTimeout);
        }
        poll() {
          this.pollTimeout = setTimeout(
            () => {
              this.reconnectIfStale();
              this.poll();
            },
            this.getPollInterval()
          );
        }
        getPollInterval() {
          const { staleThreshold, reconnectionBackoffRate } = this.constructor;
          const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10));
          const jitterMax = this.reconnectAttempts === 0 ? 1 : reconnectionBackoffRate;
          const jitter = jitterMax * Math.random();
          return staleThreshold * 1e3 * backoff * (1 + jitter);
        }
        reconnectIfStale() {
          if (this.connectionIsStale()) {
            logger_default.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`);
            this.reconnectAttempts++;
            if (this.disconnectedRecently()) {
              logger_default.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`);
            } else {
              logger_default.log("ConnectionMonitor reopening");
              this.connection.reopen();
            }
          }
        }
        get refreshedAt() {
          return this.pingedAt ? this.pingedAt : this.startedAt;
        }
        connectionIsStale() {
          return secondsSince(this.refreshedAt) > this.constructor.staleThreshold;
        }
        disconnectedRecently() {
          return this.disconnectedAt && secondsSince(this.disconnectedAt) < this.constructor.staleThreshold;
        }
        visibilityDidChange() {
          if (document.visibilityState === "visible") {
            setTimeout(
              () => {
                if (this.connectionIsStale() || !this.connection.isOpen()) {
                  logger_default.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`);
                  this.connection.reopen();
                }
              },
              200
            );
          }
        }
      };
      ConnectionMonitor.staleThreshold = 6;
      ConnectionMonitor.reconnectionBackoffRate = 0.15;
      connection_monitor_default = ConnectionMonitor;
    }
  });

  // node_modules/@rails/actioncable/src/internal.js
  var internal_default;
  var init_internal = __esm({
    "node_modules/@rails/actioncable/src/internal.js"() {
      internal_default = {
        "message_types": {
          "welcome": "welcome",
          "disconnect": "disconnect",
          "ping": "ping",
          "confirmation": "confirm_subscription",
          "rejection": "reject_subscription"
        },
        "disconnect_reasons": {
          "unauthorized": "unauthorized",
          "invalid_request": "invalid_request",
          "server_restart": "server_restart",
          "remote": "remote"
        },
        "default_mount_path": "/cable",
        "protocols": [
          "actioncable-v1-json",
          "actioncable-unsupported"
        ]
      };
    }
  });

  // node_modules/@rails/actioncable/src/connection.js
  var message_types, protocols, supportedProtocols, indexOf, Connection, connection_default;
  var init_connection = __esm({
    "node_modules/@rails/actioncable/src/connection.js"() {
      init_adapters();
      init_connection_monitor();
      init_internal();
      init_logger();
      ({ message_types, protocols } = internal_default);
      supportedProtocols = protocols.slice(0, protocols.length - 1);
      indexOf = [].indexOf;
      Connection = class {
        constructor(consumer2) {
          this.open = this.open.bind(this);
          this.consumer = consumer2;
          this.subscriptions = this.consumer.subscriptions;
          this.monitor = new connection_monitor_default(this);
          this.disconnected = true;
        }
        send(data) {
          if (this.isOpen()) {
            this.webSocket.send(JSON.stringify(data));
            return true;
          } else {
            return false;
          }
        }
        open() {
          if (this.isActive()) {
            logger_default.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`);
            return false;
          } else {
            const socketProtocols = [...protocols, ...this.consumer.subprotocols || []];
            logger_default.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${socketProtocols}`);
            if (this.webSocket) {
              this.uninstallEventHandlers();
            }
            this.webSocket = new adapters_default.WebSocket(this.consumer.url, socketProtocols);
            this.installEventHandlers();
            this.monitor.start();
            return true;
          }
        }
        close({ allowReconnect } = { allowReconnect: true }) {
          if (!allowReconnect) {
            this.monitor.stop();
          }
          if (this.isOpen()) {
            return this.webSocket.close();
          }
        }
        reopen() {
          logger_default.log(`Reopening WebSocket, current state is ${this.getState()}`);
          if (this.isActive()) {
            try {
              return this.close();
            } catch (error2) {
              logger_default.log("Failed to reopen WebSocket", error2);
            } finally {
              logger_default.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`);
              setTimeout(this.open, this.constructor.reopenDelay);
            }
          } else {
            return this.open();
          }
        }
        getProtocol() {
          if (this.webSocket) {
            return this.webSocket.protocol;
          }
        }
        isOpen() {
          return this.isState("open");
        }
        isActive() {
          return this.isState("open", "connecting");
        }
        triedToReconnect() {
          return this.monitor.reconnectAttempts > 0;
        }
        // Private
        isProtocolSupported() {
          return indexOf.call(supportedProtocols, this.getProtocol()) >= 0;
        }
        isState(...states) {
          return indexOf.call(states, this.getState()) >= 0;
        }
        getState() {
          if (this.webSocket) {
            for (let state in adapters_default.WebSocket) {
              if (adapters_default.WebSocket[state] === this.webSocket.readyState) {
                return state.toLowerCase();
              }
            }
          }
          return null;
        }
        installEventHandlers() {
          for (let eventName in this.events) {
            const handler = this.events[eventName].bind(this);
            this.webSocket[`on${eventName}`] = handler;
          }
        }
        uninstallEventHandlers() {
          for (let eventName in this.events) {
            this.webSocket[`on${eventName}`] = function() {
            };
          }
        }
      };
      Connection.reopenDelay = 500;
      Connection.prototype.events = {
        message(event) {
          if (!this.isProtocolSupported()) {
            return;
          }
          const { identifier, message: message2, reason, reconnect, type } = JSON.parse(event.data);
          switch (type) {
            case message_types.welcome:
              if (this.triedToReconnect()) {
                this.reconnectAttempted = true;
              }
              this.monitor.recordConnect();
              return this.subscriptions.reload();
            case message_types.disconnect:
              logger_default.log(`Disconnecting. Reason: ${reason}`);
              return this.close({ allowReconnect: reconnect });
            case message_types.ping:
              return this.monitor.recordPing();
            case message_types.confirmation:
              this.subscriptions.confirmSubscription(identifier);
              if (this.reconnectAttempted) {
                this.reconnectAttempted = false;
                return this.subscriptions.notify(identifier, "connected", { reconnected: true });
              } else {
                return this.subscriptions.notify(identifier, "connected", { reconnected: false });
              }
            case message_types.rejection:
              return this.subscriptions.reject(identifier);
            default:
              return this.subscriptions.notify(identifier, "received", message2);
          }
        },
        open() {
          logger_default.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`);
          this.disconnected = false;
          if (!this.isProtocolSupported()) {
            logger_default.log("Protocol is unsupported. Stopping monitor and disconnecting.");
            return this.close({ allowReconnect: false });
          }
        },
        close(event) {
          logger_default.log("WebSocket onclose event");
          if (this.disconnected) {
            return;
          }
          this.disconnected = true;
          this.monitor.recordDisconnect();
          return this.subscriptions.notifyAll("disconnected", { willAttemptReconnect: this.monitor.isRunning() });
        },
        error() {
          logger_default.log("WebSocket onerror event");
        }
      };
      connection_default = Connection;
    }
  });

  // node_modules/@rails/actioncable/src/subscription.js
  var extend, Subscription;
  var init_subscription = __esm({
    "node_modules/@rails/actioncable/src/subscription.js"() {
      extend = function(object, properties) {
        if (properties != null) {
          for (let key in properties) {
            const value = properties[key];
            object[key] = value;
          }
        }
        return object;
      };
      Subscription = class {
        constructor(consumer2, params = {}, mixin) {
          this.consumer = consumer2;
          this.identifier = JSON.stringify(params);
          extend(this, mixin);
        }
        // Perform a channel action with the optional data passed as an attribute
        perform(action, data = {}) {
          data.action = action;
          return this.send(data);
        }
        send(data) {
          return this.consumer.send({ command: "message", identifier: this.identifier, data: JSON.stringify(data) });
        }
        unsubscribe() {
          return this.consumer.subscriptions.remove(this);
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/subscription_guarantor.js
  var SubscriptionGuarantor, subscription_guarantor_default;
  var init_subscription_guarantor = __esm({
    "node_modules/@rails/actioncable/src/subscription_guarantor.js"() {
      init_logger();
      SubscriptionGuarantor = class {
        constructor(subscriptions) {
          this.subscriptions = subscriptions;
          this.pendingSubscriptions = [];
        }
        guarantee(subscription) {
          if (this.pendingSubscriptions.indexOf(subscription) == -1) {
            logger_default.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`);
            this.pendingSubscriptions.push(subscription);
          } else {
            logger_default.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`);
          }
          this.startGuaranteeing();
        }
        forget(subscription) {
          logger_default.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`);
          this.pendingSubscriptions = this.pendingSubscriptions.filter((s) => s !== subscription);
        }
        startGuaranteeing() {
          this.stopGuaranteeing();
          this.retrySubscribing();
        }
        stopGuaranteeing() {
          clearTimeout(this.retryTimeout);
        }
        retrySubscribing() {
          this.retryTimeout = setTimeout(
            () => {
              if (this.subscriptions && typeof this.subscriptions.subscribe === "function") {
                this.pendingSubscriptions.map((subscription) => {
                  logger_default.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`);
                  this.subscriptions.subscribe(subscription);
                });
              }
            },
            500
          );
        }
      };
      subscription_guarantor_default = SubscriptionGuarantor;
    }
  });

  // node_modules/@rails/actioncable/src/subscriptions.js
  var Subscriptions;
  var init_subscriptions = __esm({
    "node_modules/@rails/actioncable/src/subscriptions.js"() {
      init_subscription();
      init_subscription_guarantor();
      init_logger();
      Subscriptions = class {
        constructor(consumer2) {
          this.consumer = consumer2;
          this.guarantor = new subscription_guarantor_default(this);
          this.subscriptions = [];
        }
        create(channelName, mixin) {
          const channel = channelName;
          const params = typeof channel === "object" ? channel : { channel };
          const subscription = new Subscription(this.consumer, params, mixin);
          return this.add(subscription);
        }
        // Private
        add(subscription) {
          this.subscriptions.push(subscription);
          this.consumer.ensureActiveConnection();
          this.notify(subscription, "initialized");
          this.subscribe(subscription);
          return subscription;
        }
        remove(subscription) {
          this.forget(subscription);
          if (!this.findAll(subscription.identifier).length) {
            this.sendCommand(subscription, "unsubscribe");
          }
          return subscription;
        }
        reject(identifier) {
          return this.findAll(identifier).map((subscription) => {
            this.forget(subscription);
            this.notify(subscription, "rejected");
            return subscription;
          });
        }
        forget(subscription) {
          this.guarantor.forget(subscription);
          this.subscriptions = this.subscriptions.filter((s) => s !== subscription);
          return subscription;
        }
        findAll(identifier) {
          return this.subscriptions.filter((s) => s.identifier === identifier);
        }
        reload() {
          return this.subscriptions.map((subscription) => this.subscribe(subscription));
        }
        notifyAll(callbackName, ...args) {
          return this.subscriptions.map((subscription) => this.notify(subscription, callbackName, ...args));
        }
        notify(subscription, callbackName, ...args) {
          let subscriptions;
          if (typeof subscription === "string") {
            subscriptions = this.findAll(subscription);
          } else {
            subscriptions = [subscription];
          }
          return subscriptions.map((subscription2) => typeof subscription2[callbackName] === "function" ? subscription2[callbackName](...args) : void 0);
        }
        subscribe(subscription) {
          if (this.sendCommand(subscription, "subscribe")) {
            this.guarantor.guarantee(subscription);
          }
        }
        confirmSubscription(identifier) {
          logger_default.log(`Subscription confirmed ${identifier}`);
          this.findAll(identifier).map((subscription) => this.guarantor.forget(subscription));
        }
        sendCommand(subscription, command) {
          const { identifier } = subscription;
          return this.consumer.send({ command, identifier });
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/consumer.js
  function createWebSocketURL(url) {
    if (typeof url === "function") {
      url = url();
    }
    if (url && !/^wss?:/i.test(url)) {
      const a = document.createElement("a");
      a.href = url;
      a.href = a.href;
      a.protocol = a.protocol.replace("http", "ws");
      return a.href;
    } else {
      return url;
    }
  }
  var Consumer;
  var init_consumer = __esm({
    "node_modules/@rails/actioncable/src/consumer.js"() {
      init_connection();
      init_subscriptions();
      Consumer = class {
        constructor(url) {
          this._url = url;
          this.subscriptions = new Subscriptions(this);
          this.connection = new connection_default(this);
          this.subprotocols = [];
        }
        get url() {
          return createWebSocketURL(this._url);
        }
        send(data) {
          return this.connection.send(data);
        }
        connect() {
          return this.connection.open();
        }
        disconnect() {
          return this.connection.close({ allowReconnect: false });
        }
        ensureActiveConnection() {
          if (!this.connection.isActive()) {
            return this.connection.open();
          }
        }
        addSubProtocol(subprotocol) {
          this.subprotocols = [...this.subprotocols, subprotocol];
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/index.js
  var src_exports = {};
  __export(src_exports, {
    Connection: () => connection_default,
    ConnectionMonitor: () => connection_monitor_default,
    Consumer: () => Consumer,
    INTERNAL: () => internal_default,
    Subscription: () => Subscription,
    SubscriptionGuarantor: () => subscription_guarantor_default,
    Subscriptions: () => Subscriptions,
    adapters: () => adapters_default,
    createConsumer: () => createConsumer,
    createWebSocketURL: () => createWebSocketURL,
    getConfig: () => getConfig,
    logger: () => logger_default
  });
  function createConsumer(url = getConfig("url") || internal_default.default_mount_path) {
    return new Consumer(url);
  }
  function getConfig(name) {
    const element = document.head.querySelector(`meta[name='action-cable-${name}']`);
    if (element) {
      return element.getAttribute("content");
    }
  }
  var init_src = __esm({
    "node_modules/@rails/actioncable/src/index.js"() {
      init_connection();
      init_connection_monitor();
      init_consumer();
      init_internal();
      init_subscription();
      init_subscriptions();
      init_subscription_guarantor();
      init_adapters();
      init_logger();
    }
  });

  // node_modules/interactjs/dist/interact.min.js
  var require_interact_min = __commonJS({
    "node_modules/interactjs/dist/interact.min.js"(exports, module) {
      !function(t, e) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : false ? (void 0)(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).interact = e();
      }(exports, function() {
        "use strict";
        function t(t2, e2) {
          var n2 = Object.keys(t2);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t2);
            e2 && (r2 = r2.filter(function(e3) {
              return Object.getOwnPropertyDescriptor(t2, e3).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function e(e2) {
          for (var n2 = 1; n2 < arguments.length; n2++) {
            var r2 = null != arguments[n2] ? arguments[n2] : {};
            n2 % 2 ? t(Object(r2), true).forEach(function(t2) {
              a(e2, t2, r2[t2]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(r2)) : t(Object(r2)).forEach(function(t2) {
              Object.defineProperty(e2, t2, Object.getOwnPropertyDescriptor(r2, t2));
            });
          }
          return e2;
        }
        function n(t2) {
          return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          }, n(t2);
        }
        function r(t2, e2) {
          if (!(t2 instanceof e2)) throw new TypeError("Cannot call a class as a function");
        }
        function i(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(t2, d(r2.key), r2);
          }
        }
        function o(t2, e2, n2) {
          return e2 && i(t2.prototype, e2), n2 && i(t2, n2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        function a(t2, e2, n2) {
          return (e2 = d(e2)) in t2 ? Object.defineProperty(t2, e2, { value: n2, enumerable: true, configurable: true, writable: true }) : t2[e2] = n2, t2;
        }
        function s(t2, e2) {
          if ("function" != typeof e2 && null !== e2) throw new TypeError("Super expression must either be null or a function");
          t2.prototype = Object.create(e2 && e2.prototype, { constructor: { value: t2, writable: true, configurable: true } }), Object.defineProperty(t2, "prototype", { writable: false }), e2 && l(t2, e2);
        }
        function c(t2) {
          return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          }, c(t2);
        }
        function l(t2, e2) {
          return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          }, l(t2, e2);
        }
        function u(t2) {
          if (void 0 === t2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t2;
        }
        function p(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = c(t2);
            if (e2) {
              var i2 = c(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return function(t3, e3) {
              if (e3 && ("object" == typeof e3 || "function" == typeof e3)) return e3;
              if (void 0 !== e3) throw new TypeError("Derived constructors may only return object or undefined");
              return u(t3);
            }(this, n2);
          };
        }
        function f() {
          return f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e2, n2) {
            var r2 = function(t3, e3) {
              for (; !Object.prototype.hasOwnProperty.call(t3, e3) && null !== (t3 = c(t3)); ) ;
              return t3;
            }(t2, e2);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, e2);
              return i2.get ? i2.get.call(arguments.length < 3 ? t2 : n2) : i2.value;
            }
          }, f.apply(this, arguments);
        }
        function d(t2) {
          var e2 = function(t3, e3) {
            if ("object" != typeof t3 || null === t3) return t3;
            var n2 = t3[Symbol.toPrimitive];
            if (void 0 !== n2) {
              var r2 = n2.call(t3, e3 || "default");
              if ("object" != typeof r2) return r2;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return ("string" === e3 ? String : Number)(t3);
          }(t2, "string");
          return "symbol" == typeof e2 ? e2 : e2 + "";
        }
        var h = function(t2) {
          return !(!t2 || !t2.Window) && t2 instanceof t2.Window;
        }, v = void 0, g = void 0;
        function m(t2) {
          v = t2;
          var e2 = t2.document.createTextNode("");
          e2.ownerDocument !== t2.document && "function" == typeof t2.wrap && t2.wrap(e2) === e2 && (t2 = t2.wrap(t2)), g = t2;
        }
        function y(t2) {
          return h(t2) ? t2 : (t2.ownerDocument || t2).defaultView || g.window;
        }
        "undefined" != typeof window && window && m(window);
        var b = function(t2) {
          return !!t2 && "object" === n(t2);
        }, x = function(t2) {
          return "function" == typeof t2;
        }, w = { window: function(t2) {
          return t2 === g || h(t2);
        }, docFrag: function(t2) {
          return b(t2) && 11 === t2.nodeType;
        }, object: b, func: x, number: function(t2) {
          return "number" == typeof t2;
        }, bool: function(t2) {
          return "boolean" == typeof t2;
        }, string: function(t2) {
          return "string" == typeof t2;
        }, element: function(t2) {
          if (!t2 || "object" !== n(t2)) return false;
          var e2 = y(t2) || g;
          return /object|function/.test("undefined" == typeof Element ? "undefined" : n(Element)) ? t2 instanceof Element || t2 instanceof e2.Element : 1 === t2.nodeType && "string" == typeof t2.nodeName;
        }, plainObject: function(t2) {
          return b(t2) && !!t2.constructor && /function Object\b/.test(t2.constructor.toString());
        }, array: function(t2) {
          return b(t2) && void 0 !== t2.length && x(t2.splice);
        } };
        function E(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.prepared.axis;
            "x" === n2 ? (e2.coords.cur.page.y = e2.coords.start.page.y, e2.coords.cur.client.y = e2.coords.start.client.y, e2.coords.velocity.client.y = 0, e2.coords.velocity.page.y = 0) : "y" === n2 && (e2.coords.cur.page.x = e2.coords.start.page.x, e2.coords.cur.client.x = e2.coords.start.client.x, e2.coords.velocity.client.x = 0, e2.coords.velocity.page.x = 0);
          }
        }
        function T(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("drag" === n2.prepared.name) {
            var r2 = n2.prepared.axis;
            if ("x" === r2 || "y" === r2) {
              var i2 = "x" === r2 ? "y" : "x";
              e2.page[i2] = n2.coords.start.page[i2], e2.client[i2] = n2.coords.start.client[i2], e2.delta[i2] = 0;
            }
          }
        }
        var S = { id: "actions/drag", install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.draggable = S.draggable, e2.map.drag = S, e2.methodDict.drag = "draggable", r2.actions.drag = S.defaults;
        }, listeners: { "interactions:before-action-move": E, "interactions:action-resume": E, "interactions:action-move": T, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.buttons, i2 = n2.options.drag;
          if (i2 && i2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (r2 & n2.options.drag.mouseButtons))) return t2.action = { name: "drag", axis: "start" === i2.lockAxis ? i2.startAxis : i2.lockAxis }, false;
        } }, draggable: function(t2) {
          return w.object(t2) ? (this.options.drag.enabled = false !== t2.enabled, this.setPerAction("drag", t2), this.setOnEvents("drag", t2), /^(xy|x|y|start)$/.test(t2.lockAxis) && (this.options.drag.lockAxis = t2.lockAxis), /^(xy|x|y)$/.test(t2.startAxis) && (this.options.drag.startAxis = t2.startAxis), this) : w.bool(t2) ? (this.options.drag.enabled = t2, this) : this.options.drag;
        }, beforeMove: E, move: T, defaults: { startAxis: "xy", lockAxis: "xy" }, getCursor: function() {
          return "move";
        }, filterEventType: function(t2) {
          return 0 === t2.search("drag");
        } }, _ = S, P = { init: function(t2) {
          var e2 = t2;
          P.document = e2.document, P.DocumentFragment = e2.DocumentFragment || O, P.SVGElement = e2.SVGElement || O, P.SVGSVGElement = e2.SVGSVGElement || O, P.SVGElementInstance = e2.SVGElementInstance || O, P.Element = e2.Element || O, P.HTMLElement = e2.HTMLElement || P.Element, P.Event = e2.Event, P.Touch = e2.Touch || O, P.PointerEvent = e2.PointerEvent || e2.MSPointerEvent;
        }, document: null, DocumentFragment: null, SVGElement: null, SVGSVGElement: null, SVGElementInstance: null, Element: null, HTMLElement: null, Event: null, Touch: null, PointerEvent: null };
        function O() {
        }
        var k = P;
        var D = { init: function(t2) {
          var e2 = k.Element, n2 = t2.navigator || {};
          D.supportsTouch = "ontouchstart" in t2 || w.func(t2.DocumentTouch) && k.document instanceof t2.DocumentTouch, D.supportsPointerEvent = false !== n2.pointerEnabled && !!k.PointerEvent, D.isIOS = /iP(hone|od|ad)/.test(n2.platform), D.isIOS7 = /iP(hone|od|ad)/.test(n2.platform) && /OS 7[^\d]/.test(n2.appVersion), D.isIe9 = /MSIE 9/.test(n2.userAgent), D.isOperaMobile = "Opera" === n2.appName && D.supportsTouch && /Presto/.test(n2.userAgent), D.prefixedMatchesSelector = "matches" in e2.prototype ? "matches" : "webkitMatchesSelector" in e2.prototype ? "webkitMatchesSelector" : "mozMatchesSelector" in e2.prototype ? "mozMatchesSelector" : "oMatchesSelector" in e2.prototype ? "oMatchesSelector" : "msMatchesSelector", D.pEventTypes = D.supportsPointerEvent ? k.PointerEvent === t2.MSPointerEvent ? { up: "MSPointerUp", down: "MSPointerDown", over: "mouseover", out: "mouseout", move: "MSPointerMove", cancel: "MSPointerCancel" } : { up: "pointerup", down: "pointerdown", over: "pointerover", out: "pointerout", move: "pointermove", cancel: "pointercancel" } : null, D.wheelEvent = k.document && "onmousewheel" in k.document ? "mousewheel" : "wheel";
        }, supportsTouch: null, supportsPointerEvent: null, isIOS7: null, isIOS: null, isIe9: null, isOperaMobile: null, prefixedMatchesSelector: null, pEventTypes: null, wheelEvent: null };
        var I = D;
        function M(t2, e2) {
          if (t2.contains) return t2.contains(e2);
          for (; e2; ) {
            if (e2 === t2) return true;
            e2 = e2.parentNode;
          }
          return false;
        }
        function z(t2, e2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return t2;
            t2 = A(t2);
          }
          return null;
        }
        function A(t2) {
          var e2 = t2.parentNode;
          if (w.docFrag(e2)) {
            for (; (e2 = e2.host) && w.docFrag(e2); ) ;
            return e2;
          }
          return e2;
        }
        function R(t2, e2) {
          return g !== v && (e2 = e2.replace(/\/deep\//g, " ")), t2[I.prefixedMatchesSelector](e2);
        }
        var C = function(t2) {
          return t2.parentNode || t2.host;
        };
        function j(t2, e2) {
          for (var n2, r2 = [], i2 = t2; (n2 = C(i2)) && i2 !== e2 && n2 !== i2.ownerDocument; ) r2.unshift(i2), i2 = n2;
          return r2;
        }
        function F(t2, e2, n2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return true;
            if ((t2 = A(t2)) === n2) return R(t2, e2);
          }
          return false;
        }
        function X(t2) {
          return t2.correspondingUseElement || t2;
        }
        function Y(t2) {
          var e2 = t2 instanceof k.SVGElement ? t2.getBoundingClientRect() : t2.getClientRects()[0];
          return e2 && { left: e2.left, right: e2.right, top: e2.top, bottom: e2.bottom, width: e2.width || e2.right - e2.left, height: e2.height || e2.bottom - e2.top };
        }
        function L(t2) {
          var e2, n2 = Y(t2);
          if (!I.isIOS7 && n2) {
            var r2 = { x: (e2 = (e2 = y(t2)) || g).scrollX || e2.document.documentElement.scrollLeft, y: e2.scrollY || e2.document.documentElement.scrollTop };
            n2.left += r2.x, n2.right += r2.x, n2.top += r2.y, n2.bottom += r2.y;
          }
          return n2;
        }
        function q(t2) {
          for (var e2 = []; t2; ) e2.push(t2), t2 = A(t2);
          return e2;
        }
        function B(t2) {
          return !!w.string(t2) && (k.document.querySelector(t2), true);
        }
        function V(t2, e2) {
          for (var n2 in e2) t2[n2] = e2[n2];
          return t2;
        }
        function W(t2, e2, n2) {
          return "parent" === t2 ? A(n2) : "self" === t2 ? e2.getRect(n2) : z(n2, t2);
        }
        function G(t2, e2, n2, r2) {
          var i2 = t2;
          return w.string(i2) ? i2 = W(i2, e2, n2) : w.func(i2) && (i2 = i2.apply(void 0, r2)), w.element(i2) && (i2 = L(i2)), i2;
        }
        function N(t2) {
          return t2 && { x: "x" in t2 ? t2.x : t2.left, y: "y" in t2 ? t2.y : t2.top };
        }
        function U(t2) {
          return !t2 || "x" in t2 && "y" in t2 || ((t2 = V({}, t2)).x = t2.left || 0, t2.y = t2.top || 0, t2.width = t2.width || (t2.right || 0) - t2.x, t2.height = t2.height || (t2.bottom || 0) - t2.y), t2;
        }
        function H(t2, e2, n2) {
          t2.left && (e2.left += n2.x), t2.right && (e2.right += n2.x), t2.top && (e2.top += n2.y), t2.bottom && (e2.bottom += n2.y), e2.width = e2.right - e2.left, e2.height = e2.bottom - e2.top;
        }
        function K(t2, e2, n2) {
          var r2 = n2 && t2.options[n2];
          return N(G(r2 && r2.origin || t2.options.origin, t2, e2, [t2 && e2])) || { x: 0, y: 0 };
        }
        function $(t2, e2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function(t3) {
            return true;
          }, r2 = arguments.length > 3 ? arguments[3] : void 0;
          if (r2 = r2 || {}, w.string(t2) && -1 !== t2.search(" ") && (t2 = J(t2)), w.array(t2)) return t2.forEach(function(t3) {
            return $(t3, e2, n2, r2);
          }), r2;
          if (w.object(t2) && (e2 = t2, t2 = ""), w.func(e2) && n2(t2)) r2[t2] = r2[t2] || [], r2[t2].push(e2);
          else if (w.array(e2)) for (var i2 = 0, o2 = e2; i2 < o2.length; i2++) {
            var a2 = o2[i2];
            $(t2, a2, n2, r2);
          }
          else if (w.object(e2)) for (var s2 in e2) {
            $(J(s2).map(function(e3) {
              return "".concat(t2).concat(e3);
            }), e2[s2], n2, r2);
          }
          return r2;
        }
        function J(t2) {
          return t2.trim().split(/ +/);
        }
        var Q = function(t2, e2) {
          return Math.sqrt(t2 * t2 + e2 * e2);
        }, Z = ["webkit", "moz"];
        function tt(t2, e2) {
          t2.__set || (t2.__set = {});
          var n2 = function(n3) {
            if (Z.some(function(t3) {
              return 0 === n3.indexOf(t3);
            })) return 1;
            "function" != typeof t2[n3] && "__set" !== n3 && Object.defineProperty(t2, n3, { get: function() {
              return n3 in t2.__set ? t2.__set[n3] : t2.__set[n3] = e2[n3];
            }, set: function(e3) {
              t2.__set[n3] = e3;
            }, configurable: true });
          };
          for (var r2 in e2) n2(r2);
          return t2;
        }
        function et(t2, e2) {
          t2.page = t2.page || {}, t2.page.x = e2.page.x, t2.page.y = e2.page.y, t2.client = t2.client || {}, t2.client.x = e2.client.x, t2.client.y = e2.client.y, t2.timeStamp = e2.timeStamp;
        }
        function nt(t2) {
          t2.page.x = 0, t2.page.y = 0, t2.client.x = 0, t2.client.y = 0;
        }
        function rt(t2) {
          return t2 instanceof k.Event || t2 instanceof k.Touch;
        }
        function it(t2, e2, n2) {
          return t2 = t2 || "page", (n2 = n2 || {}).x = e2[t2 + "X"], n2.y = e2[t2 + "Y"], n2;
        }
        function ot(t2, e2) {
          return e2 = e2 || { x: 0, y: 0 }, I.isOperaMobile && rt(t2) ? (it("screen", t2, e2), e2.x += window.scrollX, e2.y += window.scrollY) : it("page", t2, e2), e2;
        }
        function at(t2) {
          return w.number(t2.pointerId) ? t2.pointerId : t2.identifier;
        }
        function st(t2, e2, n2) {
          var r2 = e2.length > 1 ? lt(e2) : e2[0];
          ot(r2, t2.page), function(t3, e3) {
            e3 = e3 || {}, I.isOperaMobile && rt(t3) ? it("screen", t3, e3) : it("client", t3, e3);
          }(r2, t2.client), t2.timeStamp = n2;
        }
        function ct(t2) {
          var e2 = [];
          return w.array(t2) ? (e2[0] = t2[0], e2[1] = t2[1]) : "touchend" === t2.type ? 1 === t2.touches.length ? (e2[0] = t2.touches[0], e2[1] = t2.changedTouches[0]) : 0 === t2.touches.length && (e2[0] = t2.changedTouches[0], e2[1] = t2.changedTouches[1]) : (e2[0] = t2.touches[0], e2[1] = t2.touches[1]), e2;
        }
        function lt(t2) {
          for (var e2 = { pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0 }, n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            for (var i2 in e2) e2[i2] += r2[i2];
          }
          for (var o2 in e2) e2[o2] /= t2.length;
          return e2;
        }
        function ut(t2) {
          if (!t2.length) return null;
          var e2 = ct(t2), n2 = Math.min(e2[0].pageX, e2[1].pageX), r2 = Math.min(e2[0].pageY, e2[1].pageY), i2 = Math.max(e2[0].pageX, e2[1].pageX), o2 = Math.max(e2[0].pageY, e2[1].pageY);
          return { x: n2, y: r2, left: n2, top: r2, right: i2, bottom: o2, width: i2 - n2, height: o2 - r2 };
        }
        function pt(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[0][n2] - i2[1][n2], a2 = i2[0][r2] - i2[1][r2];
          return Q(o2, a2);
        }
        function ft(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[1][n2] - i2[0][n2], a2 = i2[1][r2] - i2[0][r2];
          return 180 * Math.atan2(a2, o2) / Math.PI;
        }
        function dt(t2) {
          return w.string(t2.pointerType) ? t2.pointerType : w.number(t2.pointerType) ? [void 0, void 0, "touch", "pen", "mouse"][t2.pointerType] : /touch/.test(t2.type || "") || t2 instanceof k.Touch ? "touch" : "mouse";
        }
        function ht(t2) {
          var e2 = w.func(t2.composedPath) ? t2.composedPath() : t2.path;
          return [X(e2 ? e2[0] : t2.target), X(t2.currentTarget)];
        }
        var vt = function() {
          function t2(e2) {
            r(this, t2), this.immediatePropagationStopped = false, this.propagationStopped = false, this._interaction = e2;
          }
          return o(t2, [{ key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), t2;
        }();
        Object.defineProperty(vt.prototype, "interaction", { get: function() {
          return this._interaction._proxy;
        }, set: function() {
        } });
        var gt = function(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            t2.push(r2);
          }
          return t2;
        }, mt = function(t2) {
          return gt([], t2);
        }, yt = function(t2, e2) {
          for (var n2 = 0; n2 < t2.length; n2++) if (e2(t2[n2], n2, t2)) return n2;
          return -1;
        }, bt = function(t2, e2) {
          return t2[yt(t2, e2)];
        }, xt = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2) {
            var a2;
            r(this, n2), (a2 = e2.call(this, i2._interaction)).dropzone = void 0, a2.dragEvent = void 0, a2.relatedTarget = void 0, a2.draggable = void 0, a2.propagationStopped = false, a2.immediatePropagationStopped = false;
            var s2 = "dragleave" === o2 ? t3.prev : t3.cur, c2 = s2.element, l2 = s2.dropzone;
            return a2.type = o2, a2.target = c2, a2.currentTarget = c2, a2.dropzone = l2, a2.dragEvent = i2, a2.relatedTarget = i2.target, a2.draggable = i2.interactable, a2.timeStamp = i2.timeStamp, a2;
          }
          return o(n2, [{ key: "reject", value: function() {
            var t3 = this, e3 = this._interaction.dropState;
            if ("dropactivate" === this.type || this.dropzone && e3.cur.dropzone === this.dropzone && e3.cur.element === this.target) if (e3.prev.dropzone = this.dropzone, e3.prev.element = this.target, e3.rejected = true, e3.events.enter = null, this.stopImmediatePropagation(), "dropactivate" === this.type) {
              var r2 = e3.activeDrops, i2 = yt(r2, function(e4) {
                var n3 = e4.dropzone, r3 = e4.element;
                return n3 === t3.dropzone && r3 === t3.target;
              });
              e3.activeDrops.splice(i2, 1);
              var o2 = new n2(e3, this.dragEvent, "dropdeactivate");
              o2.dropzone = this.dropzone, o2.target = this.target, this.dropzone.fire(o2);
            } else this.dropzone.fire(new n2(e3, this.dragEvent, "dragleave"));
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), n2;
        }(vt);
        function wt(t2, e2) {
          for (var n2 = 0, r2 = t2.slice(); n2 < r2.length; n2++) {
            var i2 = r2[n2], o2 = i2.dropzone, a2 = i2.element;
            e2.dropzone = o2, e2.target = a2, o2.fire(e2), e2.propagationStopped = e2.immediatePropagationStopped = false;
          }
        }
        function Et(t2, e2) {
          for (var n2 = function(t3, e3) {
            for (var n3 = [], r3 = 0, i3 = t3.interactables.list; r3 < i3.length; r3++) {
              var o2 = i3[r3];
              if (o2.options.drop.enabled) {
                var a2 = o2.options.drop.accept;
                if (!(w.element(a2) && a2 !== e3 || w.string(a2) && !R(e3, a2) || w.func(a2) && !a2({ dropzone: o2, draggableElement: e3 }))) for (var s2 = 0, c2 = o2.getAllElements(); s2 < c2.length; s2++) {
                  var l2 = c2[s2];
                  l2 !== e3 && n3.push({ dropzone: o2, element: l2, rect: o2.getRect(l2) });
                }
              }
            }
            return n3;
          }(t2, e2), r2 = 0; r2 < n2.length; r2++) {
            var i2 = n2[r2];
            i2.rect = i2.dropzone.getRect(i2.element);
          }
          return n2;
        }
        function Tt(t2, e2, n2) {
          for (var r2 = t2.dropState, i2 = t2.interactable, o2 = t2.element, a2 = [], s2 = 0, c2 = r2.activeDrops; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = l2.dropzone, p2 = l2.element, f2 = l2.rect, d2 = u2.dropCheck(e2, n2, i2, o2, p2, f2);
            a2.push(d2 ? p2 : null);
          }
          var h2 = function(t3) {
            for (var e3, n3, r3, i3 = [], o3 = 0; o3 < t3.length; o3++) {
              var a3 = t3[o3], s3 = t3[e3];
              if (a3 && o3 !== e3) if (s3) {
                var c3 = C(a3), l3 = C(s3);
                if (c3 !== a3.ownerDocument) if (l3 !== a3.ownerDocument) if (c3 !== l3) {
                  i3 = i3.length ? i3 : j(s3);
                  var u3 = void 0;
                  if (s3 instanceof k.HTMLElement && a3 instanceof k.SVGElement && !(a3 instanceof k.SVGSVGElement)) {
                    if (a3 === l3) continue;
                    u3 = a3.ownerSVGElement;
                  } else u3 = a3;
                  for (var p3 = j(u3, s3.ownerDocument), f3 = 0; p3[f3] && p3[f3] === i3[f3]; ) f3++;
                  var d3 = [p3[f3 - 1], p3[f3], i3[f3]];
                  if (d3[0]) for (var h3 = d3[0].lastChild; h3; ) {
                    if (h3 === d3[1]) {
                      e3 = o3, i3 = p3;
                      break;
                    }
                    if (h3 === d3[2]) break;
                    h3 = h3.previousSibling;
                  }
                } else r3 = s3, void 0, void 0, (parseInt(y(n3 = a3).getComputedStyle(n3).zIndex, 10) || 0) >= (parseInt(y(r3).getComputedStyle(r3).zIndex, 10) || 0) && (e3 = o3);
                else e3 = o3;
              } else e3 = o3;
            }
            return e3;
          }(a2);
          return r2.activeDrops[h2] || null;
        }
        function St(t2, e2, n2) {
          var r2 = t2.dropState, i2 = { enter: null, leave: null, activate: null, deactivate: null, move: null, drop: null };
          return "dragstart" === n2.type && (i2.activate = new xt(r2, n2, "dropactivate"), i2.activate.target = null, i2.activate.dropzone = null), "dragend" === n2.type && (i2.deactivate = new xt(r2, n2, "dropdeactivate"), i2.deactivate.target = null, i2.deactivate.dropzone = null), r2.rejected || (r2.cur.element !== r2.prev.element && (r2.prev.dropzone && (i2.leave = new xt(r2, n2, "dragleave"), n2.dragLeave = i2.leave.target = r2.prev.element, n2.prevDropzone = i2.leave.dropzone = r2.prev.dropzone), r2.cur.dropzone && (i2.enter = new xt(r2, n2, "dragenter"), n2.dragEnter = r2.cur.element, n2.dropzone = r2.cur.dropzone)), "dragend" === n2.type && r2.cur.dropzone && (i2.drop = new xt(r2, n2, "drop"), n2.dropzone = r2.cur.dropzone, n2.relatedTarget = r2.cur.element), "dragmove" === n2.type && r2.cur.dropzone && (i2.move = new xt(r2, n2, "dropmove"), n2.dropzone = r2.cur.dropzone)), i2;
        }
        function _t(t2, e2) {
          var n2 = t2.dropState, r2 = n2.activeDrops, i2 = n2.cur, o2 = n2.prev;
          e2.leave && o2.dropzone.fire(e2.leave), e2.enter && i2.dropzone.fire(e2.enter), e2.move && i2.dropzone.fire(e2.move), e2.drop && i2.dropzone.fire(e2.drop), e2.deactivate && wt(r2, e2.deactivate), n2.prev.dropzone = i2.dropzone, n2.prev.element = i2.element;
        }
        function Pt(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent, i2 = t2.event;
          if ("dragmove" === r2.type || "dragend" === r2.type) {
            var o2 = n2.dropState;
            e2.dynamicDrop && (o2.activeDrops = Et(e2, n2.element));
            var a2 = r2, s2 = Tt(n2, a2, i2);
            o2.rejected = o2.rejected && !!s2 && s2.dropzone === o2.cur.dropzone && s2.element === o2.cur.element, o2.cur.dropzone = s2 && s2.dropzone, o2.cur.element = s2 && s2.element, o2.events = St(n2, 0, a2);
          }
        }
        var Ot = { id: "actions/drop", install: function(t2) {
          var e2 = t2.actions, n2 = t2.interactStatic, r2 = t2.Interactable, i2 = t2.defaults;
          t2.usePlugin(_), r2.prototype.dropzone = function(t3) {
            return function(t4, e3) {
              if (w.object(e3)) {
                if (t4.options.drop.enabled = false !== e3.enabled, e3.listeners) {
                  var n3 = $(e3.listeners), r3 = Object.keys(n3).reduce(function(t5, e4) {
                    return t5[/^(enter|leave)/.test(e4) ? "drag".concat(e4) : /^(activate|deactivate|move)/.test(e4) ? "drop".concat(e4) : e4] = n3[e4], t5;
                  }, {}), i3 = t4.options.drop.listeners;
                  i3 && t4.off(i3), t4.on(r3), t4.options.drop.listeners = r3;
                }
                return w.func(e3.ondrop) && t4.on("drop", e3.ondrop), w.func(e3.ondropactivate) && t4.on("dropactivate", e3.ondropactivate), w.func(e3.ondropdeactivate) && t4.on("dropdeactivate", e3.ondropdeactivate), w.func(e3.ondragenter) && t4.on("dragenter", e3.ondragenter), w.func(e3.ondragleave) && t4.on("dragleave", e3.ondragleave), w.func(e3.ondropmove) && t4.on("dropmove", e3.ondropmove), /^(pointer|center)$/.test(e3.overlap) ? t4.options.drop.overlap = e3.overlap : w.number(e3.overlap) && (t4.options.drop.overlap = Math.max(Math.min(1, e3.overlap), 0)), "accept" in e3 && (t4.options.drop.accept = e3.accept), "checker" in e3 && (t4.options.drop.checker = e3.checker), t4;
              }
              if (w.bool(e3)) return t4.options.drop.enabled = e3, t4;
              return t4.options.drop;
            }(this, t3);
          }, r2.prototype.dropCheck = function(t3, e3, n3, r3, i3, o2) {
            return function(t4, e4, n4, r4, i4, o3, a2) {
              var s2 = false;
              if (!(a2 = a2 || t4.getRect(o3))) return !!t4.options.drop.checker && t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4);
              var c2 = t4.options.drop.overlap;
              if ("pointer" === c2) {
                var l2 = K(r4, i4, "drag"), u2 = ot(e4);
                u2.x += l2.x, u2.y += l2.y;
                var p2 = u2.x > a2.left && u2.x < a2.right, f2 = u2.y > a2.top && u2.y < a2.bottom;
                s2 = p2 && f2;
              }
              var d2 = r4.getRect(i4);
              if (d2 && "center" === c2) {
                var h2 = d2.left + d2.width / 2, v2 = d2.top + d2.height / 2;
                s2 = h2 >= a2.left && h2 <= a2.right && v2 >= a2.top && v2 <= a2.bottom;
              }
              if (d2 && w.number(c2)) {
                s2 = Math.max(0, Math.min(a2.right, d2.right) - Math.max(a2.left, d2.left)) * Math.max(0, Math.min(a2.bottom, d2.bottom) - Math.max(a2.top, d2.top)) / (d2.width * d2.height) >= c2;
              }
              t4.options.drop.checker && (s2 = t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4));
              return s2;
            }(this, t3, e3, n3, r3, i3, o2);
          }, n2.dynamicDrop = function(e3) {
            return w.bool(e3) ? (t2.dynamicDrop = e3, n2) : t2.dynamicDrop;
          }, V(e2.phaselessTypes, { dragenter: true, dragleave: true, dropactivate: true, dropdeactivate: true, dropmove: true, drop: true }), e2.methodDict.drop = "dropzone", t2.dynamicDrop = false, i2.actions.drop = Ot.defaults;
        }, listeners: { "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction;
          "drag" === e2.prepared.name && (e2.dropState = { cur: { dropzone: null, element: null }, prev: { dropzone: null, element: null }, rejected: null, events: null, activeDrops: [] });
        }, "interactions:after-action-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = (t2.event, t2.iEvent);
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            i2.activeDrops = [], i2.events = {}, i2.activeDrops = Et(e2, n2.element), i2.events = St(n2, 0, r2), i2.events.activate && (wt(i2.activeDrops, i2.events.activate), e2.fire("actions/drop:start", { interaction: n2, dragEvent: r2 }));
          }
        }, "interactions:action-move": Pt, "interactions:after-action-move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent;
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            _t(n2, i2.events), e2.fire("actions/drop:move", { interaction: n2, dragEvent: r2 }), i2.events = {};
          }
        }, "interactions:action-end": function(t2, e2) {
          if ("drag" === t2.interaction.prepared.name) {
            var n2 = t2.interaction, r2 = t2.iEvent;
            Pt(t2, e2), _t(n2, n2.dropState.events), e2.fire("actions/drop:end", { interaction: n2, dragEvent: r2 });
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.dropState;
            n2 && (n2.activeDrops = null, n2.events = null, n2.cur.dropzone = null, n2.cur.element = null, n2.prev.dropzone = null, n2.prev.element = null, n2.rejected = false);
          }
        } }, getActiveDrops: Et, getDrop: Tt, getDropEvents: St, fireDropEvents: _t, filterEventType: function(t2) {
          return 0 === t2.search("drag") || 0 === t2.search("drop");
        }, defaults: { enabled: false, accept: null, overlap: "pointer" } }, kt = Ot;
        function Dt(t2) {
          var e2 = t2.interaction, n2 = t2.iEvent, r2 = t2.phase;
          if ("gesture" === e2.prepared.name) {
            var i2 = e2.pointers.map(function(t3) {
              return t3.pointer;
            }), o2 = "start" === r2, a2 = "end" === r2, s2 = e2.interactable.options.deltaSource;
            if (n2.touches = [i2[0], i2[1]], o2) n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = 1, n2.ds = 0, n2.angle = ft(i2, s2), n2.da = 0, e2.gesture.startDistance = n2.distance, e2.gesture.startAngle = n2.angle;
            else if (a2 || e2.pointers.length < 2) {
              var c2 = e2.prevEvent;
              n2.distance = c2.distance, n2.box = c2.box, n2.scale = c2.scale, n2.ds = 0, n2.angle = c2.angle, n2.da = 0;
            } else n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = n2.distance / e2.gesture.startDistance, n2.angle = ft(i2, s2), n2.ds = n2.scale - e2.gesture.scale, n2.da = n2.angle - e2.gesture.angle;
            e2.gesture.distance = n2.distance, e2.gesture.angle = n2.angle, w.number(n2.scale) && n2.scale !== 1 / 0 && !isNaN(n2.scale) && (e2.gesture.scale = n2.scale);
          }
        }
        var It = { id: "actions/gesture", before: ["actions/drag", "actions/resize"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.gesturable = function(t3) {
            return w.object(t3) ? (this.options.gesture.enabled = false !== t3.enabled, this.setPerAction("gesture", t3), this.setOnEvents("gesture", t3), this) : w.bool(t3) ? (this.options.gesture.enabled = t3, this) : this.options.gesture;
          }, e2.map.gesture = It, e2.methodDict.gesture = "gesturable", r2.actions.gesture = It.defaults;
        }, listeners: { "interactions:action-start": Dt, "interactions:action-move": Dt, "interactions:action-end": Dt, "interactions:new": function(t2) {
          t2.interaction.gesture = { angle: 0, distance: 0, scale: 1, startAngle: 0, startDistance: 0 };
        }, "auto-start:check": function(t2) {
          if (!(t2.interaction.pointers.length < 2)) {
            var e2 = t2.interactable.options.gesture;
            if (e2 && e2.enabled) return t2.action = { name: "gesture" }, false;
          }
        } }, defaults: {}, getCursor: function() {
          return "";
        }, filterEventType: function(t2) {
          return 0 === t2.search("gesture");
        } }, Mt = It;
        function zt(t2, e2, n2, r2, i2, o2, a2) {
          if (!e2) return false;
          if (true === e2) {
            var s2 = w.number(o2.width) ? o2.width : o2.right - o2.left, c2 = w.number(o2.height) ? o2.height : o2.bottom - o2.top;
            if (a2 = Math.min(a2, Math.abs(("left" === t2 || "right" === t2 ? s2 : c2) / 2)), s2 < 0 && ("left" === t2 ? t2 = "right" : "right" === t2 && (t2 = "left")), c2 < 0 && ("top" === t2 ? t2 = "bottom" : "bottom" === t2 && (t2 = "top")), "left" === t2) {
              var l2 = s2 >= 0 ? o2.left : o2.right;
              return n2.x < l2 + a2;
            }
            if ("top" === t2) {
              var u2 = c2 >= 0 ? o2.top : o2.bottom;
              return n2.y < u2 + a2;
            }
            if ("right" === t2) return n2.x > (s2 >= 0 ? o2.right : o2.left) - a2;
            if ("bottom" === t2) return n2.y > (c2 >= 0 ? o2.bottom : o2.top) - a2;
          }
          return !!w.element(r2) && (w.element(e2) ? e2 === r2 : F(r2, e2, i2));
        }
        function At(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.resizeAxes) {
            var r2 = e2;
            n2.interactable.options.resize.square ? ("y" === n2.resizeAxes ? r2.delta.x = r2.delta.y : r2.delta.y = r2.delta.x, r2.axes = "xy") : (r2.axes = n2.resizeAxes, "x" === n2.resizeAxes ? r2.delta.y = 0 : "y" === n2.resizeAxes && (r2.delta.x = 0));
          }
        }
        var Rt, Ct, jt = { id: "actions/resize", before: ["actions/drag"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.browser, r2 = t2.Interactable, i2 = t2.defaults;
          jt.cursors = function(t3) {
            return t3.isIe9 ? { x: "e-resize", y: "s-resize", xy: "se-resize", top: "n-resize", left: "w-resize", bottom: "s-resize", right: "e-resize", topleft: "se-resize", bottomright: "se-resize", topright: "ne-resize", bottomleft: "ne-resize" } : { x: "ew-resize", y: "ns-resize", xy: "nwse-resize", top: "ns-resize", left: "ew-resize", bottom: "ns-resize", right: "ew-resize", topleft: "nwse-resize", bottomright: "nwse-resize", topright: "nesw-resize", bottomleft: "nesw-resize" };
          }(n2), jt.defaultMargin = n2.supportsTouch || n2.supportsPointerEvent ? 20 : 10, r2.prototype.resizable = function(e3) {
            return function(t3, e4, n3) {
              if (w.object(e4)) return t3.options.resize.enabled = false !== e4.enabled, t3.setPerAction("resize", e4), t3.setOnEvents("resize", e4), w.string(e4.axis) && /^x$|^y$|^xy$/.test(e4.axis) ? t3.options.resize.axis = e4.axis : null === e4.axis && (t3.options.resize.axis = n3.defaults.actions.resize.axis), w.bool(e4.preserveAspectRatio) ? t3.options.resize.preserveAspectRatio = e4.preserveAspectRatio : w.bool(e4.square) && (t3.options.resize.square = e4.square), t3;
              if (w.bool(e4)) return t3.options.resize.enabled = e4, t3;
              return t3.options.resize;
            }(this, e3, t2);
          }, e2.map.resize = jt, e2.methodDict.resize = "resizable", i2.actions.resize = jt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.resizeAxes = "xy";
        }, "interactions:action-start": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.rect;
              n2._rects = { start: V({}, i2), corrected: V({}, i2), previous: V({}, i2), delta: { left: 0, right: 0, width: 0, top: 0, bottom: 0, height: 0 } }, r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
            }
          }(t2), At(t2);
        }, "interactions:action-move": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.interactable.options.resize.invert, o2 = "reposition" === i2 || "negate" === i2, a2 = n2.rect, s2 = n2._rects, c2 = s2.start, l2 = s2.corrected, u2 = s2.delta, p2 = s2.previous;
              if (V(p2, l2), o2) {
                if (V(l2, a2), "reposition" === i2) {
                  if (l2.top > l2.bottom) {
                    var f2 = l2.top;
                    l2.top = l2.bottom, l2.bottom = f2;
                  }
                  if (l2.left > l2.right) {
                    var d2 = l2.left;
                    l2.left = l2.right, l2.right = d2;
                  }
                }
              } else l2.top = Math.min(a2.top, c2.bottom), l2.bottom = Math.max(a2.bottom, c2.top), l2.left = Math.min(a2.left, c2.right), l2.right = Math.max(a2.right, c2.left);
              for (var h2 in l2.width = l2.right - l2.left, l2.height = l2.bottom - l2.top, l2) u2[h2] = l2[h2] - p2[h2];
              r2.edges = n2.prepared.edges, r2.rect = l2, r2.deltaRect = u2;
            }
          }(t2), At(t2);
        }, "interactions:action-end": function(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.prepared.edges) {
            var r2 = e2;
            r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
          }
        }, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.element, i2 = t2.rect, o2 = t2.buttons;
          if (i2) {
            var a2 = V({}, e2.coords.cur.page), s2 = n2.options.resize;
            if (s2 && s2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (o2 & s2.mouseButtons))) {
              if (w.object(s2.edges)) {
                var c2 = { left: false, right: false, top: false, bottom: false };
                for (var l2 in c2) c2[l2] = zt(l2, s2.edges[l2], a2, e2._latestPointer.eventTarget, r2, i2, s2.margin || jt.defaultMargin);
                c2.left = c2.left && !c2.right, c2.top = c2.top && !c2.bottom, (c2.left || c2.right || c2.top || c2.bottom) && (t2.action = { name: "resize", edges: c2 });
              } else {
                var u2 = "y" !== s2.axis && a2.x > i2.right - jt.defaultMargin, p2 = "x" !== s2.axis && a2.y > i2.bottom - jt.defaultMargin;
                (u2 || p2) && (t2.action = { name: "resize", axes: (u2 ? "x" : "") + (p2 ? "y" : "") });
              }
              return !t2.action && void 0;
            }
          }
        } }, defaults: { square: false, preserveAspectRatio: false, axis: "xy", margin: NaN, edges: null, invert: "none" }, cursors: null, getCursor: function(t2) {
          var e2 = t2.edges, n2 = t2.axis, r2 = t2.name, i2 = jt.cursors, o2 = null;
          if (n2) o2 = i2[r2 + n2];
          else if (e2) {
            for (var a2 = "", s2 = 0, c2 = ["top", "bottom", "left", "right"]; s2 < c2.length; s2++) {
              var l2 = c2[s2];
              e2[l2] && (a2 += l2);
            }
            o2 = i2[a2];
          }
          return o2;
        }, filterEventType: function(t2) {
          return 0 === t2.search("resize");
        }, defaultMargin: null }, Ft = jt, Xt = { id: "actions", install: function(t2) {
          t2.usePlugin(Mt), t2.usePlugin(Ft), t2.usePlugin(_), t2.usePlugin(kt);
        } }, Yt = 0;
        var Lt = { request: function(t2) {
          return Rt(t2);
        }, cancel: function(t2) {
          return Ct(t2);
        }, init: function(t2) {
          if (Rt = t2.requestAnimationFrame, Ct = t2.cancelAnimationFrame, !Rt) for (var e2 = ["ms", "moz", "webkit", "o"], n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            Rt = t2["".concat(r2, "RequestAnimationFrame")], Ct = t2["".concat(r2, "CancelAnimationFrame")] || t2["".concat(r2, "CancelRequestAnimationFrame")];
          }
          Rt = Rt && Rt.bind(t2), Ct = Ct && Ct.bind(t2), Rt || (Rt = function(e3) {
            var n3 = Date.now(), r3 = Math.max(0, 16 - (n3 - Yt)), i2 = t2.setTimeout(function() {
              e3(n3 + r3);
            }, r3);
            return Yt = n3 + r3, i2;
          }, Ct = function(t3) {
            return clearTimeout(t3);
          });
        } };
        var qt = { defaults: { enabled: false, margin: 60, container: null, speed: 300 }, now: Date.now, interaction: null, i: 0, x: 0, y: 0, isScrolling: false, prevTime: 0, margin: 0, speed: 0, start: function(t2) {
          qt.isScrolling = true, Lt.cancel(qt.i), t2.autoScroll = qt, qt.interaction = t2, qt.prevTime = qt.now(), qt.i = Lt.request(qt.scroll);
        }, stop: function() {
          qt.isScrolling = false, qt.interaction && (qt.interaction.autoScroll = null), Lt.cancel(qt.i);
        }, scroll: function() {
          var t2 = qt.interaction, e2 = t2.interactable, n2 = t2.element, r2 = t2.prepared.name, i2 = e2.options[r2].autoScroll, o2 = Bt(i2.container, e2, n2), a2 = qt.now(), s2 = (a2 - qt.prevTime) / 1e3, c2 = i2.speed * s2;
          if (c2 >= 1) {
            var l2 = { x: qt.x * c2, y: qt.y * c2 };
            if (l2.x || l2.y) {
              var u2 = Vt(o2);
              w.window(o2) ? o2.scrollBy(l2.x, l2.y) : o2 && (o2.scrollLeft += l2.x, o2.scrollTop += l2.y);
              var p2 = Vt(o2), f2 = { x: p2.x - u2.x, y: p2.y - u2.y };
              (f2.x || f2.y) && e2.fire({ type: "autoscroll", target: n2, interactable: e2, delta: f2, interaction: t2, container: o2 });
            }
            qt.prevTime = a2;
          }
          qt.isScrolling && (Lt.cancel(qt.i), qt.i = Lt.request(qt.scroll));
        }, check: function(t2, e2) {
          var n2;
          return null == (n2 = t2.options[e2].autoScroll) ? void 0 : n2.enabled;
        }, onInteractionMove: function(t2) {
          var e2 = t2.interaction, n2 = t2.pointer;
          if (e2.interacting() && qt.check(e2.interactable, e2.prepared.name)) if (e2.simulation) qt.x = qt.y = 0;
          else {
            var r2, i2, o2, a2, s2 = e2.interactable, c2 = e2.element, l2 = e2.prepared.name, u2 = s2.options[l2].autoScroll, p2 = Bt(u2.container, s2, c2);
            if (w.window(p2)) a2 = n2.clientX < qt.margin, r2 = n2.clientY < qt.margin, i2 = n2.clientX > p2.innerWidth - qt.margin, o2 = n2.clientY > p2.innerHeight - qt.margin;
            else {
              var f2 = Y(p2);
              a2 = n2.clientX < f2.left + qt.margin, r2 = n2.clientY < f2.top + qt.margin, i2 = n2.clientX > f2.right - qt.margin, o2 = n2.clientY > f2.bottom - qt.margin;
            }
            qt.x = i2 ? 1 : a2 ? -1 : 0, qt.y = o2 ? 1 : r2 ? -1 : 0, qt.isScrolling || (qt.margin = u2.margin, qt.speed = u2.speed, qt.start(e2));
          }
        } };
        function Bt(t2, e2, n2) {
          return (w.string(t2) ? W(t2, e2, n2) : t2) || y(n2);
        }
        function Vt(t2) {
          return w.window(t2) && (t2 = window.document.body), { x: t2.scrollLeft, y: t2.scrollTop };
        }
        var Wt = { id: "auto-scroll", install: function(t2) {
          var e2 = t2.defaults, n2 = t2.actions;
          t2.autoScroll = qt, qt.now = function() {
            return t2.now();
          }, n2.phaselessTypes.autoscroll = true, e2.perAction.autoScroll = qt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoScroll = null;
        }, "interactions:destroy": function(t2) {
          t2.interaction.autoScroll = null, qt.stop(), qt.interaction && (qt.interaction = null);
        }, "interactions:stop": qt.stop, "interactions:action-move": function(t2) {
          return qt.onInteractionMove(t2);
        } } }, Gt = Wt;
        function Nt(t2, e2) {
          var n2 = false;
          return function() {
            return n2 || (g.console.warn(e2), n2 = true), t2.apply(this, arguments);
          };
        }
        function Ut(t2, e2) {
          return t2.name = e2.name, t2.axis = e2.axis, t2.edges = e2.edges, t2;
        }
        function Ht(t2) {
          return w.bool(t2) ? (this.options.styleCursor = t2, this) : null === t2 ? (delete this.options.styleCursor, this) : this.options.styleCursor;
        }
        function Kt(t2) {
          return w.func(t2) ? (this.options.actionChecker = t2, this) : null === t2 ? (delete this.options.actionChecker, this) : this.options.actionChecker;
        }
        var $t = { id: "auto-start/interactableMethods", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.getAction = function(e3, n2, r2, i2) {
            var o2 = function(t3, e4, n3, r3, i3) {
              var o3 = t3.getRect(r3), a2 = e4.buttons || { 0: 1, 1: 4, 3: 8, 4: 16 }[e4.button], s2 = { action: null, interactable: t3, interaction: n3, element: r3, rect: o3, buttons: a2 };
              return i3.fire("auto-start:check", s2), s2.action;
            }(this, n2, r2, i2, t2);
            return this.options.actionChecker ? this.options.actionChecker(e3, n2, o2, this, i2, r2) : o2;
          }, e2.prototype.ignoreFrom = Nt(function(t3) {
            return this._backCompatOption("ignoreFrom", t3);
          }, "Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."), e2.prototype.allowFrom = Nt(function(t3) {
            return this._backCompatOption("allowFrom", t3);
          }, "Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."), e2.prototype.actionChecker = Kt, e2.prototype.styleCursor = Ht;
        } };
        function Jt(t2, e2, n2, r2, i2) {
          return e2.testIgnoreAllow(e2.options[t2.name], n2, r2) && e2.options[t2.name].enabled && ee(e2, n2, t2, i2) ? t2 : null;
        }
        function Qt(t2, e2, n2, r2, i2, o2, a2) {
          for (var s2 = 0, c2 = r2.length; s2 < c2; s2++) {
            var l2 = r2[s2], u2 = i2[s2], p2 = l2.getAction(e2, n2, t2, u2);
            if (p2) {
              var f2 = Jt(p2, l2, u2, o2, a2);
              if (f2) return { action: f2, interactable: l2, element: u2 };
            }
          }
          return { action: null, interactable: null, element: null };
        }
        function Zt(t2, e2, n2, r2, i2) {
          var o2 = [], a2 = [], s2 = r2;
          function c2(t3) {
            o2.push(t3), a2.push(s2);
          }
          for (; w.element(s2); ) {
            o2 = [], a2 = [], i2.interactables.forEachMatch(s2, c2);
            var l2 = Qt(t2, e2, n2, o2, a2, r2, i2);
            if (l2.action && !l2.interactable.options[l2.action.name].manualStart) return l2;
            s2 = A(s2);
          }
          return { action: null, interactable: null, element: null };
        }
        function te(t2, e2, n2) {
          var r2 = e2.action, i2 = e2.interactable, o2 = e2.element;
          r2 = r2 || { name: null }, t2.interactable = i2, t2.element = o2, Ut(t2.prepared, r2), t2.rect = i2 && r2.name ? i2.getRect(o2) : null, ie(t2, n2), n2.fire("autoStart:prepared", { interaction: t2 });
        }
        function ee(t2, e2, n2, r2) {
          var i2 = t2.options, o2 = i2[n2.name].max, a2 = i2[n2.name].maxPerElement, s2 = r2.autoStart.maxInteractions, c2 = 0, l2 = 0, u2 = 0;
          if (!(o2 && a2 && s2)) return false;
          for (var p2 = 0, f2 = r2.interactions.list; p2 < f2.length; p2++) {
            var d2 = f2[p2], h2 = d2.prepared.name;
            if (d2.interacting()) {
              if (++c2 >= s2) return false;
              if (d2.interactable === t2) {
                if ((l2 += h2 === n2.name ? 1 : 0) >= o2) return false;
                if (d2.element === e2 && (u2++, h2 === n2.name && u2 >= a2)) return false;
              }
            }
          }
          return s2 > 0;
        }
        function ne(t2, e2) {
          return w.number(t2) ? (e2.autoStart.maxInteractions = t2, this) : e2.autoStart.maxInteractions;
        }
        function re(t2, e2, n2) {
          var r2 = n2.autoStart.cursorElement;
          r2 && r2 !== t2 && (r2.style.cursor = ""), t2.ownerDocument.documentElement.style.cursor = e2, t2.style.cursor = e2, n2.autoStart.cursorElement = e2 ? t2 : null;
        }
        function ie(t2, e2) {
          var n2 = t2.interactable, r2 = t2.element, i2 = t2.prepared;
          if ("mouse" === t2.pointerType && n2 && n2.options.styleCursor) {
            var o2 = "";
            if (i2.name) {
              var a2 = n2.options[i2.name].cursorChecker;
              o2 = w.func(a2) ? a2(i2, n2, r2, t2._interacting) : e2.actions.map[i2.name].getCursor(i2);
            }
            re(t2.element, o2 || "", e2);
          } else e2.autoStart.cursorElement && re(e2.autoStart.cursorElement, "", e2);
        }
        var oe = { id: "auto-start/base", before: ["actions"], install: function(t2) {
          var e2 = t2.interactStatic, n2 = t2.defaults;
          t2.usePlugin($t), n2.base.actionChecker = null, n2.base.styleCursor = true, V(n2.perAction, { manualStart: false, max: 1 / 0, maxPerElement: 1, allowFrom: null, ignoreFrom: null, mouseButtons: 1 }), e2.maxInteractions = function(e3) {
            return ne(e3, t2);
          }, t2.autoStart = { maxInteractions: 1 / 0, withinInteractionLimit: ee, cursorElement: null };
        }, listeners: { "interactions:down": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e2), e2);
        }, "interactions:move": function(t2, e2) {
          !function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            "mouse" !== n2.pointerType || n2.pointerIsDown || n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e3), e3);
          }(t2, e2), function(t3, e3) {
            var n2 = t3.interaction;
            if (n2.pointerIsDown && !n2.interacting() && n2.pointerWasMoved && n2.prepared.name) {
              e3.fire("autoStart:before-start", t3);
              var r2 = n2.interactable, i2 = n2.prepared.name;
              i2 && r2 && (r2.options[i2].manualStart || !ee(r2, n2.element, n2.prepared, e3) ? n2.stop() : (n2.start(n2.prepared, r2, n2.element), ie(n2, e3)));
            }
          }(t2, e2);
        }, "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction, r2 = n2.interactable;
          r2 && r2.options.styleCursor && re(n2.element, "", e2);
        } }, maxInteractions: ne, withinInteractionLimit: ee, validateAction: Jt }, ae = oe;
        var se = { id: "auto-start/dragAxis", listeners: { "autoStart:before-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.eventTarget, i2 = t2.dx, o2 = t2.dy;
          if ("drag" === n2.prepared.name) {
            var a2 = Math.abs(i2), s2 = Math.abs(o2), c2 = n2.interactable.options.drag, l2 = c2.startAxis, u2 = a2 > s2 ? "x" : a2 < s2 ? "y" : "xy";
            if (n2.prepared.axis = "start" === c2.lockAxis ? u2[0] : c2.lockAxis, "xy" !== u2 && "xy" !== l2 && l2 !== u2) {
              n2.prepared.name = null;
              for (var p2 = r2, f2 = function(t3) {
                if (t3 !== n2.interactable) {
                  var i3 = n2.interactable.options.drag;
                  if (!i3.manualStart && t3.testIgnoreAllow(i3, p2, r2)) {
                    var o3 = t3.getAction(n2.downPointer, n2.downEvent, n2, p2);
                    if (o3 && "drag" === o3.name && function(t4, e3) {
                      if (!e3) return false;
                      var n3 = e3.options.drag.startAxis;
                      return "xy" === t4 || "xy" === n3 || n3 === t4;
                    }(u2, t3) && ae.validateAction(o3, t3, p2, r2, e2)) return t3;
                  }
                }
              }; w.element(p2); ) {
                var d2 = e2.interactables.forEachMatch(p2, f2);
                if (d2) {
                  n2.prepared.name = "drag", n2.interactable = d2, n2.element = p2;
                  break;
                }
                p2 = A(p2);
              }
            }
          }
        } } };
        function ce(t2) {
          var e2 = t2.prepared && t2.prepared.name;
          if (!e2) return null;
          var n2 = t2.interactable.options;
          return n2[e2].hold || n2[e2].delay;
        }
        var le = { id: "auto-start/hold", install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(ae), e2.perAction.hold = 0, e2.perAction.delay = 0;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoStartHoldTimer = null;
        }, "autoStart:prepared": function(t2) {
          var e2 = t2.interaction, n2 = ce(e2);
          n2 > 0 && (e2.autoStartHoldTimer = setTimeout(function() {
            e2.start(e2.prepared, e2.interactable, e2.element);
          }, n2));
        }, "interactions:move": function(t2) {
          var e2 = t2.interaction, n2 = t2.duplicate;
          e2.autoStartHoldTimer && e2.pointerWasMoved && !n2 && (clearTimeout(e2.autoStartHoldTimer), e2.autoStartHoldTimer = null);
        }, "autoStart:before-start": function(t2) {
          var e2 = t2.interaction;
          ce(e2) > 0 && (e2.prepared.name = null);
        } }, getHoldDuration: ce }, ue = le, pe = { id: "auto-start", install: function(t2) {
          t2.usePlugin(ae), t2.usePlugin(ue), t2.usePlugin(se);
        } }, fe = function(t2) {
          return /^(always|never|auto)$/.test(t2) ? (this.options.preventDefault = t2, this) : w.bool(t2) ? (this.options.preventDefault = t2 ? "always" : "never", this) : this.options.preventDefault;
        };
        function de(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          e2.interactable && e2.interactable.checkAndPreventDefault(n2);
        }
        var he = { id: "core/interactablePreventDefault", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.preventDefault = fe, e2.prototype.checkAndPreventDefault = function(e3) {
            return function(t3, e4, n2) {
              var r2 = t3.options.preventDefault;
              if ("never" !== r2) if ("always" !== r2) {
                if (e4.events.supportsPassive && /^touch(start|move)$/.test(n2.type)) {
                  var i2 = y(n2.target).document, o2 = e4.getDocOptions(i2);
                  if (!o2 || !o2.events || false !== o2.events.passive) return;
                }
                /^(mouse|pointer|touch)*(down|start)/i.test(n2.type) || w.element(n2.target) && R(n2.target, "input,select,textarea,[contenteditable=true],[contenteditable=true] *") || n2.preventDefault();
              } else n2.preventDefault();
            }(this, t2, e3);
          }, t2.interactions.docEvents.push({ type: "dragstart", listener: function(e3) {
            for (var n2 = 0, r2 = t2.interactions.list; n2 < r2.length; n2++) {
              var i2 = r2[n2];
              if (i2.element && (i2.element === e3.target || M(i2.element, e3.target))) return void i2.interactable.checkAndPreventDefault(e3);
            }
          } });
        }, listeners: ["down", "move", "up", "cancel"].reduce(function(t2, e2) {
          return t2["interactions:".concat(e2)] = de, t2;
        }, {}) };
        function ve(t2, e2) {
          if (e2.phaselessTypes[t2]) return true;
          for (var n2 in e2.map) if (0 === t2.indexOf(n2) && t2.substr(n2.length) in e2.phases) return true;
          return false;
        }
        function ge(t2) {
          var e2 = {};
          for (var n2 in t2) {
            var r2 = t2[n2];
            w.plainObject(r2) ? e2[n2] = ge(r2) : w.array(r2) ? e2[n2] = mt(r2) : e2[n2] = r2;
          }
          return e2;
        }
        var me = function() {
          function t2(e2) {
            r(this, t2), this.states = [], this.startOffset = { left: 0, right: 0, top: 0, bottom: 0 }, this.startDelta = void 0, this.result = void 0, this.endResult = void 0, this.startEdges = void 0, this.edges = void 0, this.interaction = void 0, this.interaction = e2, this.result = ye(), this.edges = { left: false, right: false, top: false, bottom: false };
          }
          return o(t2, [{ key: "start", value: function(t3, e2) {
            var n2, r2, i2 = t3.phase, o2 = this.interaction, a2 = function(t4) {
              var e3 = t4.interactable.options[t4.prepared.name], n3 = e3.modifiers;
              if (n3 && n3.length) return n3;
              return ["snap", "snapSize", "snapEdges", "restrict", "restrictEdges", "restrictSize"].map(function(t5) {
                var n4 = e3[t5];
                return n4 && n4.enabled && { options: n4, methods: n4._methods };
              }).filter(function(t5) {
                return !!t5;
              });
            }(o2);
            this.prepareStates(a2), this.startEdges = V({}, o2.edges), this.edges = V({}, this.startEdges), this.startOffset = (n2 = o2.rect, r2 = e2, n2 ? { left: r2.x - n2.left, top: r2.y - n2.top, right: n2.right - r2.x, bottom: n2.bottom - r2.y } : { left: 0, top: 0, right: 0, bottom: 0 }), this.startDelta = { x: 0, y: 0 };
            var s2 = this.fillArg({ phase: i2, pageCoords: e2, preEnd: false });
            return this.result = ye(), this.startAll(s2), this.result = this.setAll(s2);
          } }, { key: "fillArg", value: function(t3) {
            var e2 = this.interaction;
            return t3.interaction = e2, t3.interactable = e2.interactable, t3.element = e2.element, t3.rect || (t3.rect = e2.rect), t3.edges || (t3.edges = this.startEdges), t3.startOffset = this.startOffset, t3;
          } }, { key: "startAll", value: function(t3) {
            for (var e2 = 0, n2 = this.states; e2 < n2.length; e2++) {
              var r2 = n2[e2];
              r2.methods.start && (t3.state = r2, r2.methods.start(t3));
            }
          } }, { key: "setAll", value: function(t3) {
            var e2 = t3.phase, n2 = t3.preEnd, r2 = t3.skipModifiers, i2 = t3.rect, o2 = t3.edges;
            t3.coords = V({}, t3.pageCoords), t3.rect = V({}, i2), t3.edges = V({}, o2);
            for (var a2 = r2 ? this.states.slice(r2) : this.states, s2 = ye(t3.coords, t3.rect), c2 = 0; c2 < a2.length; c2++) {
              var l2, u2 = a2[c2], p2 = u2.options, f2 = V({}, t3.coords), d2 = null;
              null != (l2 = u2.methods) && l2.set && this.shouldDo(p2, n2, e2) && (t3.state = u2, d2 = u2.methods.set(t3), H(t3.edges, t3.rect, { x: t3.coords.x - f2.x, y: t3.coords.y - f2.y })), s2.eventProps.push(d2);
            }
            V(this.edges, t3.edges), s2.delta.x = t3.coords.x - t3.pageCoords.x, s2.delta.y = t3.coords.y - t3.pageCoords.y, s2.rectDelta.left = t3.rect.left - i2.left, s2.rectDelta.right = t3.rect.right - i2.right, s2.rectDelta.top = t3.rect.top - i2.top, s2.rectDelta.bottom = t3.rect.bottom - i2.bottom;
            var h2 = this.result.coords, v2 = this.result.rect;
            if (h2 && v2) {
              var g2 = s2.rect.left !== v2.left || s2.rect.right !== v2.right || s2.rect.top !== v2.top || s2.rect.bottom !== v2.bottom;
              s2.changed = g2 || h2.x !== s2.coords.x || h2.y !== s2.coords.y;
            }
            return s2;
          } }, { key: "applyToInteraction", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = e2.coords.cur, i2 = e2.coords.start, o2 = this.result, a2 = this.startDelta, s2 = o2.delta;
            "start" === n2 && V(this.startDelta, o2.delta);
            for (var c2 = 0, l2 = [[i2, a2], [r2, s2]]; c2 < l2.length; c2++) {
              var u2 = l2[c2], p2 = u2[0], f2 = u2[1];
              p2.page.x += f2.x, p2.page.y += f2.y, p2.client.x += f2.x, p2.client.y += f2.y;
            }
            var d2 = this.result.rectDelta, h2 = t3.rect || e2.rect;
            h2.left += d2.left, h2.right += d2.right, h2.top += d2.top, h2.bottom += d2.bottom, h2.width = h2.right - h2.left, h2.height = h2.bottom - h2.top;
          } }, { key: "setAndApply", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.skipModifiers, o2 = this.setAll(this.fillArg({ preEnd: r2, phase: n2, pageCoords: t3.modifiedCoords || e2.coords.cur.page }));
            if (this.result = o2, !o2.changed && (!i2 || i2 < this.states.length) && e2.interacting()) return false;
            if (t3.modifiedCoords) {
              var a2 = e2.coords.cur.page, s2 = { x: t3.modifiedCoords.x - a2.x, y: t3.modifiedCoords.y - a2.y };
              o2.coords.x += s2.x, o2.coords.y += s2.y, o2.delta.x += s2.x, o2.delta.y += s2.y;
            }
            this.applyToInteraction(t3);
          } }, { key: "beforeEnd", value: function(t3) {
            var e2 = t3.interaction, n2 = t3.event, r2 = this.states;
            if (r2 && r2.length) {
              for (var i2 = false, o2 = 0; o2 < r2.length; o2++) {
                var a2 = r2[o2];
                t3.state = a2;
                var s2 = a2.options, c2 = a2.methods, l2 = c2.beforeEnd && c2.beforeEnd(t3);
                if (l2) return this.endResult = l2, false;
                i2 = i2 || !i2 && this.shouldDo(s2, true, t3.phase, true);
              }
              i2 && e2.move({ event: n2, preEnd: true });
            }
          } }, { key: "stop", value: function(t3) {
            var e2 = t3.interaction;
            if (this.states && this.states.length) {
              var n2 = V({ states: this.states, interactable: e2.interactable, element: e2.element, rect: null }, t3);
              this.fillArg(n2);
              for (var r2 = 0, i2 = this.states; r2 < i2.length; r2++) {
                var o2 = i2[r2];
                n2.state = o2, o2.methods.stop && o2.methods.stop(n2);
              }
              this.states = null, this.endResult = null;
            }
          } }, { key: "prepareStates", value: function(t3) {
            this.states = [];
            for (var e2 = 0; e2 < t3.length; e2++) {
              var n2 = t3[e2], r2 = n2.options, i2 = n2.methods, o2 = n2.name;
              this.states.push({ options: r2, methods: i2, index: e2, name: o2 });
            }
            return this.states;
          } }, { key: "restoreInteractionCoords", value: function(t3) {
            var e2 = t3.interaction, n2 = e2.coords, r2 = e2.rect, i2 = e2.modification;
            if (i2.result) {
              for (var o2 = i2.startDelta, a2 = i2.result, s2 = a2.delta, c2 = a2.rectDelta, l2 = 0, u2 = [[n2.start, o2], [n2.cur, s2]]; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = p2[0], d2 = p2[1];
                f2.page.x -= d2.x, f2.page.y -= d2.y, f2.client.x -= d2.x, f2.client.y -= d2.y;
              }
              r2.left -= c2.left, r2.right -= c2.right, r2.top -= c2.top, r2.bottom -= c2.bottom;
            }
          } }, { key: "shouldDo", value: function(t3, e2, n2, r2) {
            return !(!t3 || false === t3.enabled || r2 && !t3.endOnly || t3.endOnly && !e2 || "start" === n2 && !t3.setStart);
          } }, { key: "copyFrom", value: function(t3) {
            this.startOffset = t3.startOffset, this.startDelta = t3.startDelta, this.startEdges = t3.startEdges, this.edges = t3.edges, this.states = t3.states.map(function(t4) {
              return ge(t4);
            }), this.result = ye(V({}, t3.result.coords), V({}, t3.result.rect));
          } }, { key: "destroy", value: function() {
            for (var t3 in this) this[t3] = null;
          } }]), t2;
        }();
        function ye(t2, e2) {
          return { rect: e2, coords: t2, delta: { x: 0, y: 0 }, rectDelta: { left: 0, right: 0, top: 0, bottom: 0 }, eventProps: [], changed: true };
        }
        function be(t2, e2) {
          var n2 = t2.defaults, r2 = { start: t2.start, set: t2.set, beforeEnd: t2.beforeEnd, stop: t2.stop }, i2 = function(t3) {
            var i3 = t3 || {};
            for (var o2 in i3.enabled = false !== i3.enabled, n2) o2 in i3 || (i3[o2] = n2[o2]);
            var a2 = { options: i3, methods: r2, name: e2, enable: function() {
              return i3.enabled = true, a2;
            }, disable: function() {
              return i3.enabled = false, a2;
            } };
            return a2;
          };
          return e2 && "string" == typeof e2 && (i2._defaults = n2, i2._methods = r2), i2;
        }
        function xe(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction.modification.result;
          n2 && (e2.modifiers = n2.eventProps);
        }
        var we = { id: "modifiers/base", before: ["actions"], install: function(t2) {
          t2.defaults.perAction.modifiers = [];
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.modification = new me(e2);
        }, "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction, n2 = t2.interaction.modification;
          n2.start(t2, e2.coords.start.page), e2.edges = n2.edges, n2.applyToInteraction(t2);
        }, "interactions:before-action-move": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.setAndApply(t2);
          return e2.edges = n2.edges, r2;
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.beforeEnd(t2);
          return e2.edges = n2.startEdges, r2;
        }, "interactions:action-start": xe, "interactions:action-move": xe, "interactions:action-end": xe, "interactions:after-action-start": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-move": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:stop": function(t2) {
          return t2.interaction.modification.stop(t2);
        } } }, Ee = we, Te = { base: { preventDefault: "auto", deltaSource: "page" }, perAction: { enabled: false, origin: { x: 0, y: 0 } }, actions: {} }, Se = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2, l2) {
            var p2;
            r(this, n2), (p2 = e2.call(this, t3)).relatedTarget = null, p2.screenX = void 0, p2.screenY = void 0, p2.button = void 0, p2.buttons = void 0, p2.ctrlKey = void 0, p2.shiftKey = void 0, p2.altKey = void 0, p2.metaKey = void 0, p2.page = void 0, p2.client = void 0, p2.delta = void 0, p2.rect = void 0, p2.x0 = void 0, p2.y0 = void 0, p2.t0 = void 0, p2.dt = void 0, p2.duration = void 0, p2.clientX0 = void 0, p2.clientY0 = void 0, p2.velocity = void 0, p2.speed = void 0, p2.swipe = void 0, p2.axes = void 0, p2.preEnd = void 0, s2 = s2 || t3.element;
            var f2 = t3.interactable, d2 = (f2 && f2.options || Te).deltaSource, h2 = K(f2, s2, o2), v2 = "start" === a2, g2 = "end" === a2, m2 = v2 ? u(p2) : t3.prevEvent, y2 = v2 ? t3.coords.start : g2 ? { page: m2.page, client: m2.client, timeStamp: t3.coords.cur.timeStamp } : t3.coords.cur;
            return p2.page = V({}, y2.page), p2.client = V({}, y2.client), p2.rect = V({}, t3.rect), p2.timeStamp = y2.timeStamp, g2 || (p2.page.x -= h2.x, p2.page.y -= h2.y, p2.client.x -= h2.x, p2.client.y -= h2.y), p2.ctrlKey = i2.ctrlKey, p2.altKey = i2.altKey, p2.shiftKey = i2.shiftKey, p2.metaKey = i2.metaKey, p2.button = i2.button, p2.buttons = i2.buttons, p2.target = s2, p2.currentTarget = s2, p2.preEnd = c2, p2.type = l2 || o2 + (a2 || ""), p2.interactable = f2, p2.t0 = v2 ? t3.pointers[t3.pointers.length - 1].downTime : m2.t0, p2.x0 = t3.coords.start.page.x - h2.x, p2.y0 = t3.coords.start.page.y - h2.y, p2.clientX0 = t3.coords.start.client.x - h2.x, p2.clientY0 = t3.coords.start.client.y - h2.y, p2.delta = v2 || g2 ? { x: 0, y: 0 } : { x: p2[d2].x - m2[d2].x, y: p2[d2].y - m2[d2].y }, p2.dt = t3.coords.delta.timeStamp, p2.duration = p2.timeStamp - p2.t0, p2.velocity = V({}, t3.coords.velocity[d2]), p2.speed = Q(p2.velocity.x, p2.velocity.y), p2.swipe = g2 || "inertiastart" === a2 ? p2.getSwipe() : null, p2;
          }
          return o(n2, [{ key: "getSwipe", value: function() {
            var t3 = this._interaction;
            if (t3.prevEvent.speed < 600 || this.timeStamp - t3.prevEvent.timeStamp > 150) return null;
            var e3 = 180 * Math.atan2(t3.prevEvent.velocityY, t3.prevEvent.velocityX) / Math.PI;
            e3 < 0 && (e3 += 360);
            var n3 = 112.5 <= e3 && e3 < 247.5, r2 = 202.5 <= e3 && e3 < 337.5;
            return { up: r2, down: !r2 && 22.5 <= e3 && e3 < 157.5, left: n3, right: !n3 && (292.5 <= e3 || e3 < 67.5), angle: e3, speed: t3.prevEvent.speed, velocity: { x: t3.prevEvent.velocityX, y: t3.prevEvent.velocityY } };
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }]), n2;
        }(vt);
        Object.defineProperties(Se.prototype, { pageX: { get: function() {
          return this.page.x;
        }, set: function(t2) {
          this.page.x = t2;
        } }, pageY: { get: function() {
          return this.page.y;
        }, set: function(t2) {
          this.page.y = t2;
        } }, clientX: { get: function() {
          return this.client.x;
        }, set: function(t2) {
          this.client.x = t2;
        } }, clientY: { get: function() {
          return this.client.y;
        }, set: function(t2) {
          this.client.y = t2;
        } }, dx: { get: function() {
          return this.delta.x;
        }, set: function(t2) {
          this.delta.x = t2;
        } }, dy: { get: function() {
          return this.delta.y;
        }, set: function(t2) {
          this.delta.y = t2;
        } }, velocityX: { get: function() {
          return this.velocity.x;
        }, set: function(t2) {
          this.velocity.x = t2;
        } }, velocityY: { get: function() {
          return this.velocity.y;
        }, set: function(t2) {
          this.velocity.y = t2;
        } } });
        var _e = o(function t2(e2, n2, i2, o2, a2) {
          r(this, t2), this.id = void 0, this.pointer = void 0, this.event = void 0, this.downTime = void 0, this.downTarget = void 0, this.id = e2, this.pointer = n2, this.event = i2, this.downTime = o2, this.downTarget = a2;
        }), Pe = function(t2) {
          return t2.interactable = "", t2.element = "", t2.prepared = "", t2.pointerIsDown = "", t2.pointerWasMoved = "", t2._proxy = "", t2;
        }({}), Oe = function(t2) {
          return t2.start = "", t2.move = "", t2.end = "", t2.stop = "", t2.interacting = "", t2;
        }({}), ke = 0, De = function() {
          function t2(e2) {
            var n2 = this, i2 = e2.pointerType, o2 = e2.scopeFire;
            r(this, t2), this.interactable = null, this.element = null, this.rect = null, this._rects = void 0, this.edges = null, this._scopeFire = void 0, this.prepared = { name: null, axis: null, edges: null }, this.pointerType = void 0, this.pointers = [], this.downEvent = null, this.downPointer = {}, this._latestPointer = { pointer: null, event: null, eventTarget: null }, this.prevEvent = null, this.pointerIsDown = false, this.pointerWasMoved = false, this._interacting = false, this._ending = false, this._stopped = true, this._proxy = void 0, this.simulation = null, this.doMove = Nt(function(t3) {
              this.move(t3);
            }, "The interaction.doMove() method has been renamed to interaction.move()"), this.coords = { start: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, prev: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, cur: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, delta: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, velocity: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 } }, this._id = ke++, this._scopeFire = o2, this.pointerType = i2;
            var a2 = this;
            this._proxy = {};
            var s2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { get: function() {
                return a2[t3];
              } });
            };
            for (var c2 in Pe) s2(c2);
            var l2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { value: function() {
                return a2[t3].apply(a2, arguments);
              } });
            };
            for (var u2 in Oe) l2(u2);
            this._scopeFire("interactions:new", { interaction: this });
          }
          return o(t2, [{ key: "pointerMoveTolerance", get: function() {
            return 1;
          } }, { key: "pointerDown", value: function(t3, e2, n2) {
            var r2 = this.updatePointer(t3, e2, n2, true), i2 = this.pointers[r2];
            this._scopeFire("interactions:down", { pointer: t3, event: e2, eventTarget: n2, pointerIndex: r2, pointerInfo: i2, type: "down", interaction: this });
          } }, { key: "start", value: function(t3, e2, n2) {
            return !(this.interacting() || !this.pointerIsDown || this.pointers.length < ("gesture" === t3.name ? 2 : 1) || !e2.options[t3.name].enabled) && (Ut(this.prepared, t3), this.interactable = e2, this.element = n2, this.rect = e2.getRect(n2), this.edges = this.prepared.edges ? V({}, this.prepared.edges) : { left: true, right: true, top: true, bottom: true }, this._stopped = false, this._interacting = this._doPhase({ interaction: this, event: this.downEvent, phase: "start" }) && !this._stopped, this._interacting);
          } }, { key: "pointerMove", value: function(t3, e2, n2) {
            this.simulation || this.modification && this.modification.endResult || this.updatePointer(t3, e2, n2, false);
            var r2, i2, o2 = this.coords.cur.page.x === this.coords.prev.page.x && this.coords.cur.page.y === this.coords.prev.page.y && this.coords.cur.client.x === this.coords.prev.client.x && this.coords.cur.client.y === this.coords.prev.client.y;
            this.pointerIsDown && !this.pointerWasMoved && (r2 = this.coords.cur.client.x - this.coords.start.client.x, i2 = this.coords.cur.client.y - this.coords.start.client.y, this.pointerWasMoved = Q(r2, i2) > this.pointerMoveTolerance);
            var a2, s2, c2, l2 = this.getPointerIndex(t3), u2 = { pointer: t3, pointerIndex: l2, pointerInfo: this.pointers[l2], event: e2, type: "move", eventTarget: n2, dx: r2, dy: i2, duplicate: o2, interaction: this };
            o2 || (a2 = this.coords.velocity, s2 = this.coords.delta, c2 = Math.max(s2.timeStamp / 1e3, 1e-3), a2.page.x = s2.page.x / c2, a2.page.y = s2.page.y / c2, a2.client.x = s2.client.x / c2, a2.client.y = s2.client.y / c2, a2.timeStamp = c2), this._scopeFire("interactions:move", u2), o2 || this.simulation || (this.interacting() && (u2.type = null, this.move(u2)), this.pointerWasMoved && et(this.coords.prev, this.coords.cur));
          } }, { key: "move", value: function(t3) {
            t3 && t3.event || nt(this.coords.delta), (t3 = V({ pointer: this._latestPointer.pointer, event: this._latestPointer.event, eventTarget: this._latestPointer.eventTarget, interaction: this }, t3 || {})).phase = "move", this._doPhase(t3);
          } }, { key: "pointerUp", value: function(t3, e2, n2, r2) {
            var i2 = this.getPointerIndex(t3);
            -1 === i2 && (i2 = this.updatePointer(t3, e2, n2, false));
            var o2 = /cancel$/i.test(e2.type) ? "cancel" : "up";
            this._scopeFire("interactions:".concat(o2), { pointer: t3, pointerIndex: i2, pointerInfo: this.pointers[i2], event: e2, eventTarget: n2, type: o2, curEventTarget: r2, interaction: this }), this.simulation || this.end(e2), this.removePointer(t3, e2);
          } }, { key: "documentBlur", value: function(t3) {
            this.end(t3), this._scopeFire("interactions:blur", { event: t3, type: "blur", interaction: this });
          } }, { key: "end", value: function(t3) {
            var e2;
            this._ending = true, t3 = t3 || this._latestPointer.event, this.interacting() && (e2 = this._doPhase({ event: t3, interaction: this, phase: "end" })), this._ending = false, true === e2 && this.stop();
          } }, { key: "currentAction", value: function() {
            return this._interacting ? this.prepared.name : null;
          } }, { key: "interacting", value: function() {
            return this._interacting;
          } }, { key: "stop", value: function() {
            this._scopeFire("interactions:stop", { interaction: this }), this.interactable = this.element = null, this._interacting = false, this._stopped = true, this.prepared.name = this.prevEvent = null;
          } }, { key: "getPointerIndex", value: function(t3) {
            var e2 = at(t3);
            return "mouse" === this.pointerType || "pen" === this.pointerType ? this.pointers.length - 1 : yt(this.pointers, function(t4) {
              return t4.id === e2;
            });
          } }, { key: "getPointerInfo", value: function(t3) {
            return this.pointers[this.getPointerIndex(t3)];
          } }, { key: "updatePointer", value: function(t3, e2, n2, r2) {
            var i2, o2, a2, s2 = at(t3), c2 = this.getPointerIndex(t3), l2 = this.pointers[c2];
            return r2 = false !== r2 && (r2 || /(down|start)$/i.test(e2.type)), l2 ? l2.pointer = t3 : (l2 = new _e(s2, t3, e2, null, null), c2 = this.pointers.length, this.pointers.push(l2)), st(this.coords.cur, this.pointers.map(function(t4) {
              return t4.pointer;
            }), this._now()), i2 = this.coords.delta, o2 = this.coords.prev, a2 = this.coords.cur, i2.page.x = a2.page.x - o2.page.x, i2.page.y = a2.page.y - o2.page.y, i2.client.x = a2.client.x - o2.client.x, i2.client.y = a2.client.y - o2.client.y, i2.timeStamp = a2.timeStamp - o2.timeStamp, r2 && (this.pointerIsDown = true, l2.downTime = this.coords.cur.timeStamp, l2.downTarget = n2, tt(this.downPointer, t3), this.interacting() || (et(this.coords.start, this.coords.cur), et(this.coords.prev, this.coords.cur), this.downEvent = e2, this.pointerWasMoved = false)), this._updateLatestPointer(t3, e2, n2), this._scopeFire("interactions:update-pointer", { pointer: t3, event: e2, eventTarget: n2, down: r2, pointerInfo: l2, pointerIndex: c2, interaction: this }), c2;
          } }, { key: "removePointer", value: function(t3, e2) {
            var n2 = this.getPointerIndex(t3);
            if (-1 !== n2) {
              var r2 = this.pointers[n2];
              this._scopeFire("interactions:remove-pointer", { pointer: t3, event: e2, eventTarget: null, pointerIndex: n2, pointerInfo: r2, interaction: this }), this.pointers.splice(n2, 1), this.pointerIsDown = false;
            }
          } }, { key: "_updateLatestPointer", value: function(t3, e2, n2) {
            this._latestPointer.pointer = t3, this._latestPointer.event = e2, this._latestPointer.eventTarget = n2;
          } }, { key: "destroy", value: function() {
            this._latestPointer.pointer = null, this._latestPointer.event = null, this._latestPointer.eventTarget = null;
          } }, { key: "_createPreparedEvent", value: function(t3, e2, n2, r2) {
            return new Se(this, t3, this.prepared.name, e2, this.element, n2, r2);
          } }, { key: "_fireEvent", value: function(t3) {
            var e2;
            null == (e2 = this.interactable) || e2.fire(t3), (!this.prevEvent || t3.timeStamp >= this.prevEvent.timeStamp) && (this.prevEvent = t3);
          } }, { key: "_doPhase", value: function(t3) {
            var e2 = t3.event, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.type, o2 = this.rect;
            if (o2 && "move" === n2 && (H(this.edges, o2, this.coords.delta[this.interactable.options.deltaSource]), o2.width = o2.right - o2.left, o2.height = o2.bottom - o2.top), false === this._scopeFire("interactions:before-action-".concat(n2), t3)) return false;
            var a2 = t3.iEvent = this._createPreparedEvent(e2, n2, r2, i2);
            return this._scopeFire("interactions:action-".concat(n2), t3), "start" === n2 && (this.prevEvent = a2), this._fireEvent(a2), this._scopeFire("interactions:after-action-".concat(n2), t3), true;
          } }, { key: "_now", value: function() {
            return Date.now();
          } }]), t2;
        }();
        function Ie(t2) {
          Me(t2.interaction);
        }
        function Me(t2) {
          if (!function(t3) {
            return !(!t3.offset.pending.x && !t3.offset.pending.y);
          }(t2)) return false;
          var e2 = t2.offset.pending;
          return Ae(t2.coords.cur, e2), Ae(t2.coords.delta, e2), H(t2.edges, t2.rect, e2), e2.x = 0, e2.y = 0, true;
        }
        function ze(t2) {
          var e2 = t2.x, n2 = t2.y;
          this.offset.pending.x += e2, this.offset.pending.y += n2, this.offset.total.x += e2, this.offset.total.y += n2;
        }
        function Ae(t2, e2) {
          var n2 = t2.page, r2 = t2.client, i2 = e2.x, o2 = e2.y;
          n2.x += i2, n2.y += o2, r2.x += i2, r2.y += o2;
        }
        Oe.offsetBy = "";
        var Re = { id: "offset", before: ["modifiers", "pointer-events", "actions", "inertia"], install: function(t2) {
          t2.Interaction.prototype.offsetBy = ze;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.offset = { total: { x: 0, y: 0 }, pending: { x: 0, y: 0 } };
        }, "interactions:update-pointer": function(t2) {
          return function(t3) {
            t3.pointerIsDown && (Ae(t3.coords.cur, t3.offset.total), t3.offset.pending.x = 0, t3.offset.pending.y = 0);
          }(t2.interaction);
        }, "interactions:before-action-start": Ie, "interactions:before-action-move": Ie, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction;
          if (Me(e2)) return e2.move({ offset: true }), e2.end(), false;
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          e2.offset.total.x = 0, e2.offset.total.y = 0, e2.offset.pending.x = 0, e2.offset.pending.y = 0;
        } } }, Ce = Re;
        var je = function() {
          function t2(e2) {
            r(this, t2), this.active = false, this.isModified = false, this.smoothEnd = false, this.allowResume = false, this.modification = void 0, this.modifierCount = 0, this.modifierArg = void 0, this.startCoords = void 0, this.t0 = 0, this.v0 = 0, this.te = 0, this.targetOffset = void 0, this.modifiedOffset = void 0, this.currentOffset = void 0, this.lambda_v0 = 0, this.one_ve_v0 = 0, this.timeout = void 0, this.interaction = void 0, this.interaction = e2;
          }
          return o(t2, [{ key: "start", value: function(t3) {
            var e2 = this.interaction, n2 = Fe(e2);
            if (!n2 || !n2.enabled) return false;
            var r2 = e2.coords.velocity.client, i2 = Q(r2.x, r2.y), o2 = this.modification || (this.modification = new me(e2));
            if (o2.copyFrom(e2.modification), this.t0 = e2._now(), this.allowResume = n2.allowResume, this.v0 = i2, this.currentOffset = { x: 0, y: 0 }, this.startCoords = e2.coords.cur.page, this.modifierArg = o2.fillArg({ pageCoords: this.startCoords, preEnd: true, phase: "inertiastart" }), this.t0 - e2.coords.cur.timeStamp < 50 && i2 > n2.minSpeed && i2 > n2.endSpeed) this.startInertia();
            else {
              if (o2.result = o2.setAll(this.modifierArg), !o2.result.changed) return false;
              this.startSmoothEnd();
            }
            return e2.modification.result.rect = null, e2.offsetBy(this.targetOffset), e2._doPhase({ interaction: e2, event: t3, phase: "inertiastart" }), e2.offsetBy({ x: -this.targetOffset.x, y: -this.targetOffset.y }), e2.modification.result.rect = null, this.active = true, e2.simulation = this, true;
          } }, { key: "startInertia", value: function() {
            var t3 = this, e2 = this.interaction.coords.velocity.client, n2 = Fe(this.interaction), r2 = n2.resistance, i2 = -Math.log(n2.endSpeed / this.v0) / r2;
            this.targetOffset = { x: (e2.x - i2) / r2, y: (e2.y - i2) / r2 }, this.te = i2, this.lambda_v0 = r2 / this.v0, this.one_ve_v0 = 1 - n2.endSpeed / this.v0;
            var o2 = this.modification, a2 = this.modifierArg;
            a2.pageCoords = { x: this.startCoords.x + this.targetOffset.x, y: this.startCoords.y + this.targetOffset.y }, o2.result = o2.setAll(a2), o2.result.changed && (this.isModified = true, this.modifiedOffset = { x: this.targetOffset.x + o2.result.delta.x, y: this.targetOffset.y + o2.result.delta.y }), this.onNextFrame(function() {
              return t3.inertiaTick();
            });
          } }, { key: "startSmoothEnd", value: function() {
            var t3 = this;
            this.smoothEnd = true, this.isModified = true, this.targetOffset = { x: this.modification.result.delta.x, y: this.modification.result.delta.y }, this.onNextFrame(function() {
              return t3.smoothEndTick();
            });
          } }, { key: "onNextFrame", value: function(t3) {
            var e2 = this;
            this.timeout = Lt.request(function() {
              e2.active && t3();
            });
          } }, { key: "inertiaTick", value: function() {
            var t3, e2, n2, r2, i2, o2, a2, s2 = this, c2 = this.interaction, l2 = Fe(c2).resistance, u2 = (c2._now() - this.t0) / 1e3;
            if (u2 < this.te) {
              var p2, f2 = 1 - (Math.exp(-l2 * u2) - this.lambda_v0) / this.one_ve_v0;
              this.isModified ? (t3 = 0, e2 = 0, n2 = this.targetOffset.x, r2 = this.targetOffset.y, i2 = this.modifiedOffset.x, o2 = this.modifiedOffset.y, p2 = { x: Ye(a2 = f2, t3, n2, i2), y: Ye(a2, e2, r2, o2) }) : p2 = { x: this.targetOffset.x * f2, y: this.targetOffset.y * f2 };
              var d2 = { x: p2.x - this.currentOffset.x, y: p2.y - this.currentOffset.y };
              this.currentOffset.x += d2.x, this.currentOffset.y += d2.y, c2.offsetBy(d2), c2.move(), this.onNextFrame(function() {
                return s2.inertiaTick();
              });
            } else c2.offsetBy({ x: this.modifiedOffset.x - this.currentOffset.x, y: this.modifiedOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "smoothEndTick", value: function() {
            var t3 = this, e2 = this.interaction, n2 = e2._now() - this.t0, r2 = Fe(e2).smoothEndDuration;
            if (n2 < r2) {
              var i2 = { x: Le(n2, 0, this.targetOffset.x, r2), y: Le(n2, 0, this.targetOffset.y, r2) }, o2 = { x: i2.x - this.currentOffset.x, y: i2.y - this.currentOffset.y };
              this.currentOffset.x += o2.x, this.currentOffset.y += o2.y, e2.offsetBy(o2), e2.move({ skipModifiers: this.modifierCount }), this.onNextFrame(function() {
                return t3.smoothEndTick();
              });
            } else e2.offsetBy({ x: this.targetOffset.x - this.currentOffset.x, y: this.targetOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "resume", value: function(t3) {
            var e2 = t3.pointer, n2 = t3.event, r2 = t3.eventTarget, i2 = this.interaction;
            i2.offsetBy({ x: -this.currentOffset.x, y: -this.currentOffset.y }), i2.updatePointer(e2, n2, r2, true), i2._doPhase({ interaction: i2, event: n2, phase: "resume" }), et(i2.coords.prev, i2.coords.cur), this.stop();
          } }, { key: "end", value: function() {
            this.interaction.move(), this.interaction.end(), this.stop();
          } }, { key: "stop", value: function() {
            this.active = this.smoothEnd = false, this.interaction.simulation = null, Lt.cancel(this.timeout);
          } }]), t2;
        }();
        function Fe(t2) {
          var e2 = t2.interactable, n2 = t2.prepared;
          return e2 && e2.options && n2.name && e2.options[n2.name].inertia;
        }
        var Xe = { id: "inertia", before: ["modifiers", "actions"], install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(Ce), t2.usePlugin(Ee), t2.actions.phases.inertiastart = true, t2.actions.phases.resume = true, e2.perAction.inertia = { enabled: false, resistance: 10, minSpeed: 100, endSpeed: 10, allowResume: true, smoothEndDuration: 300 };
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.inertia = new je(e2);
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          return (!e2._interacting || e2.simulation || !e2.inertia.start(n2)) && null;
        }, "interactions:down": function(t2) {
          var e2 = t2.interaction, n2 = t2.eventTarget, r2 = e2.inertia;
          if (r2.active) for (var i2 = n2; w.element(i2); ) {
            if (i2 === e2.element) {
              r2.resume(t2);
              break;
            }
            i2 = A(i2);
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction.inertia;
          e2.active && e2.stop();
        }, "interactions:before-action-resume": function(t2) {
          var e2 = t2.interaction.modification;
          e2.stop(t2), e2.start(t2, t2.interaction.coords.cur.page), e2.applyToInteraction(t2);
        }, "interactions:before-action-inertiastart": function(t2) {
          return t2.interaction.modification.setAndApply(t2);
        }, "interactions:action-resume": xe, "interactions:action-inertiastart": xe, "interactions:after-action-inertiastart": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-resume": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        } } };
        function Ye(t2, e2, n2, r2) {
          var i2 = 1 - t2;
          return i2 * i2 * e2 + 2 * i2 * t2 * n2 + t2 * t2 * r2;
        }
        function Le(t2, e2, n2, r2) {
          return -n2 * (t2 /= r2) * (t2 - 2) + e2;
        }
        var qe = Xe;
        function Be(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            if (t2.immediatePropagationStopped) break;
            r2(t2);
          }
        }
        var Ve = function() {
          function t2(e2) {
            r(this, t2), this.options = void 0, this.types = {}, this.propagationStopped = false, this.immediatePropagationStopped = false, this.global = void 0, this.options = V({}, e2 || {});
          }
          return o(t2, [{ key: "fire", value: function(t3) {
            var e2, n2 = this.global;
            (e2 = this.types[t3.type]) && Be(t3, e2), !t3.propagationStopped && n2 && (e2 = n2[t3.type]) && Be(t3, e2);
          } }, { key: "on", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) this.types[t3] = gt(this.types[t3] || [], n2[t3]);
          } }, { key: "off", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) {
              var r2 = this.types[t3];
              if (r2 && r2.length) for (var i2 = 0, o2 = n2[t3]; i2 < o2.length; i2++) {
                var a2 = o2[i2], s2 = r2.indexOf(a2);
                -1 !== s2 && r2.splice(s2, 1);
              }
            }
          } }, { key: "getRect", value: function(t3) {
            return null;
          } }]), t2;
        }();
        var We = function() {
          function t2(e2) {
            r(this, t2), this.currentTarget = void 0, this.originalEvent = void 0, this.type = void 0, this.originalEvent = e2, tt(this, e2);
          }
          return o(t2, [{ key: "preventOriginalDefault", value: function() {
            this.originalEvent.preventDefault();
          } }, { key: "stopPropagation", value: function() {
            this.originalEvent.stopPropagation();
          } }, { key: "stopImmediatePropagation", value: function() {
            this.originalEvent.stopImmediatePropagation();
          } }]), t2;
        }();
        function Ge(t2) {
          return w.object(t2) ? { capture: !!t2.capture, passive: !!t2.passive } : { capture: !!t2, passive: false };
        }
        function Ne(t2, e2) {
          return t2 === e2 || ("boolean" == typeof t2 ? !!e2.capture === t2 && false == !!e2.passive : !!t2.capture == !!e2.capture && !!t2.passive == !!e2.passive);
        }
        var Ue = { id: "events", install: function(t2) {
          var e2, n2 = [], r2 = {}, i2 = [], o2 = { add: a2, remove: s2, addDelegate: function(t3, e3, n3, o3, s3) {
            var u2 = Ge(s3);
            if (!r2[n3]) {
              r2[n3] = [];
              for (var p2 = 0; p2 < i2.length; p2++) {
                var f2 = i2[p2];
                a2(f2, n3, c2), a2(f2, n3, l2, true);
              }
            }
            var d2 = r2[n3], h2 = bt(d2, function(n4) {
              return n4.selector === t3 && n4.context === e3;
            });
            h2 || (h2 = { selector: t3, context: e3, listeners: [] }, d2.push(h2));
            h2.listeners.push({ func: o3, options: u2 });
          }, removeDelegate: function(t3, e3, n3, i3, o3) {
            var a3, u2 = Ge(o3), p2 = r2[n3], f2 = false;
            if (!p2) return;
            for (a3 = p2.length - 1; a3 >= 0; a3--) {
              var d2 = p2[a3];
              if (d2.selector === t3 && d2.context === e3) {
                for (var h2 = d2.listeners, v2 = h2.length - 1; v2 >= 0; v2--) {
                  var g2 = h2[v2];
                  if (g2.func === i3 && Ne(g2.options, u2)) {
                    h2.splice(v2, 1), h2.length || (p2.splice(a3, 1), s2(e3, n3, c2), s2(e3, n3, l2, true)), f2 = true;
                    break;
                  }
                }
                if (f2) break;
              }
            }
          }, delegateListener: c2, delegateUseCapture: l2, delegatedEvents: r2, documents: i2, targets: n2, supportsOptions: false, supportsPassive: false };
          function a2(t3, e3, r3, i3) {
            if (t3.addEventListener) {
              var a3 = Ge(i3), s3 = bt(n2, function(e4) {
                return e4.eventTarget === t3;
              });
              s3 || (s3 = { eventTarget: t3, events: {} }, n2.push(s3)), s3.events[e3] || (s3.events[e3] = []), bt(s3.events[e3], function(t4) {
                return t4.func === r3 && Ne(t4.options, a3);
              }) || (t3.addEventListener(e3, r3, o2.supportsOptions ? a3 : a3.capture), s3.events[e3].push({ func: r3, options: a3 }));
            }
          }
          function s2(t3, e3, r3, i3) {
            if (t3.addEventListener && t3.removeEventListener) {
              var a3 = yt(n2, function(e4) {
                return e4.eventTarget === t3;
              }), c3 = n2[a3];
              if (c3 && c3.events) if ("all" !== e3) {
                var l3 = false, u2 = c3.events[e3];
                if (u2) {
                  if ("all" === r3) {
                    for (var p2 = u2.length - 1; p2 >= 0; p2--) {
                      var f2 = u2[p2];
                      s2(t3, e3, f2.func, f2.options);
                    }
                    return;
                  }
                  for (var d2 = Ge(i3), h2 = 0; h2 < u2.length; h2++) {
                    var v2 = u2[h2];
                    if (v2.func === r3 && Ne(v2.options, d2)) {
                      t3.removeEventListener(e3, r3, o2.supportsOptions ? d2 : d2.capture), u2.splice(h2, 1), 0 === u2.length && (delete c3.events[e3], l3 = true);
                      break;
                    }
                  }
                }
                l3 && !Object.keys(c3.events).length && n2.splice(a3, 1);
              } else for (e3 in c3.events) c3.events.hasOwnProperty(e3) && s2(t3, e3, "all");
            }
          }
          function c2(t3, e3) {
            for (var n3 = Ge(e3), i3 = new We(t3), o3 = r2[t3.type], a3 = ht(t3)[0], s3 = a3; w.element(s3); ) {
              for (var c3 = 0; c3 < o3.length; c3++) {
                var l3 = o3[c3], u2 = l3.selector, p2 = l3.context;
                if (R(s3, u2) && M(p2, a3) && M(p2, s3)) {
                  var f2 = l3.listeners;
                  i3.currentTarget = s3;
                  for (var d2 = 0; d2 < f2.length; d2++) {
                    var h2 = f2[d2];
                    Ne(h2.options, n3) && h2.func(i3);
                  }
                }
              }
              s3 = A(s3);
            }
          }
          function l2(t3) {
            return c2(t3, true);
          }
          return null == (e2 = t2.document) || e2.createElement("div").addEventListener("test", null, { get capture() {
            return o2.supportsOptions = true;
          }, get passive() {
            return o2.supportsPassive = true;
          } }), t2.events = o2, o2;
        } }, He = { methodOrder: ["simulationResume", "mouseOrPen", "hasPointer", "idle"], search: function(t2) {
          for (var e2 = 0, n2 = He.methodOrder; e2 < n2.length; e2++) {
            var r2 = n2[e2], i2 = He[r2](t2);
            if (i2) return i2;
          }
          return null;
        }, simulationResume: function(t2) {
          var e2 = t2.pointerType, n2 = t2.eventType, r2 = t2.eventTarget, i2 = t2.scope;
          if (!/down|start/i.test(n2)) return null;
          for (var o2 = 0, a2 = i2.interactions.list; o2 < a2.length; o2++) {
            var s2 = a2[o2], c2 = r2;
            if (s2.simulation && s2.simulation.allowResume && s2.pointerType === e2) for (; c2; ) {
              if (c2 === s2.element) return s2;
              c2 = A(c2);
            }
          }
          return null;
        }, mouseOrPen: function(t2) {
          var e2, n2 = t2.pointerId, r2 = t2.pointerType, i2 = t2.eventType, o2 = t2.scope;
          if ("mouse" !== r2 && "pen" !== r2) return null;
          for (var a2 = 0, s2 = o2.interactions.list; a2 < s2.length; a2++) {
            var c2 = s2[a2];
            if (c2.pointerType === r2) {
              if (c2.simulation && !Ke(c2, n2)) continue;
              if (c2.interacting()) return c2;
              e2 || (e2 = c2);
            }
          }
          if (e2) return e2;
          for (var l2 = 0, u2 = o2.interactions.list; l2 < u2.length; l2++) {
            var p2 = u2[l2];
            if (!(p2.pointerType !== r2 || /down/i.test(i2) && p2.simulation)) return p2;
          }
          return null;
        }, hasPointer: function(t2) {
          for (var e2 = t2.pointerId, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (Ke(i2, e2)) return i2;
          }
          return null;
        }, idle: function(t2) {
          for (var e2 = t2.pointerType, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (1 === i2.pointers.length) {
              var o2 = i2.interactable;
              if (o2 && (!o2.options.gesture || !o2.options.gesture.enabled)) continue;
            } else if (i2.pointers.length >= 2) continue;
            if (!i2.interacting() && e2 === i2.pointerType) return i2;
          }
          return null;
        } };
        function Ke(t2, e2) {
          return t2.pointers.some(function(t3) {
            return t3.id === e2;
          });
        }
        var $e = He, Je = ["pointerDown", "pointerMove", "pointerUp", "updatePointer", "removePointer", "windowBlur"];
        function Qe(t2, e2) {
          return function(n2) {
            var r2 = e2.interactions.list, i2 = dt(n2), o2 = ht(n2), a2 = o2[0], s2 = o2[1], c2 = [];
            if (/^touch/.test(n2.type)) {
              e2.prevTouchTime = e2.now();
              for (var l2 = 0, u2 = n2.changedTouches; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = { pointer: p2, pointerId: at(p2), pointerType: i2, eventType: n2.type, eventTarget: a2, curEventTarget: s2, scope: e2 }, d2 = Ze(f2);
                c2.push([f2.pointer, f2.eventTarget, f2.curEventTarget, d2]);
              }
            } else {
              var h2 = false;
              if (!I.supportsPointerEvent && /mouse/.test(n2.type)) {
                for (var v2 = 0; v2 < r2.length && !h2; v2++) h2 = "mouse" !== r2[v2].pointerType && r2[v2].pointerIsDown;
                h2 = h2 || e2.now() - e2.prevTouchTime < 500 || 0 === n2.timeStamp;
              }
              if (!h2) {
                var g2 = { pointer: n2, pointerId: at(n2), pointerType: i2, eventType: n2.type, curEventTarget: s2, eventTarget: a2, scope: e2 }, m2 = Ze(g2);
                c2.push([g2.pointer, g2.eventTarget, g2.curEventTarget, m2]);
              }
            }
            for (var y2 = 0; y2 < c2.length; y2++) {
              var b2 = c2[y2], x2 = b2[0], w2 = b2[1], E2 = b2[2];
              b2[3][t2](x2, n2, w2, E2);
            }
          };
        }
        function Ze(t2) {
          var e2 = t2.pointerType, n2 = t2.scope, r2 = { interaction: $e.search(t2), searchDetails: t2 };
          return n2.fire("interactions:find", r2), r2.interaction || n2.interactions.new({ pointerType: e2 });
        }
        function tn(t2, e2) {
          var n2 = t2.doc, r2 = t2.scope, i2 = t2.options, o2 = r2.interactions.docEvents, a2 = r2.events, s2 = a2[e2];
          for (var c2 in r2.browser.isIOS && !i2.events && (i2.events = { passive: false }), a2.delegatedEvents) s2(n2, c2, a2.delegateListener), s2(n2, c2, a2.delegateUseCapture, true);
          for (var l2 = i2 && i2.events, u2 = 0; u2 < o2.length; u2++) {
            var p2 = o2[u2];
            s2(n2, p2.type, p2.listener, l2);
          }
        }
        var en = { id: "core/interactions", install: function(t2) {
          for (var e2 = {}, n2 = 0; n2 < Je.length; n2++) {
            var i2 = Je[n2];
            e2[i2] = Qe(i2, t2);
          }
          var a2, c2 = I.pEventTypes;
          function l2() {
            for (var e3 = 0, n3 = t2.interactions.list; e3 < n3.length; e3++) {
              var r2 = n3[e3];
              if (r2.pointerIsDown && "touch" === r2.pointerType && !r2._interacting) for (var i3 = function() {
                var e4 = a3[o2];
                t2.documents.some(function(t3) {
                  return M(t3.doc, e4.downTarget);
                }) || r2.removePointer(e4.pointer, e4.event);
              }, o2 = 0, a3 = r2.pointers; o2 < a3.length; o2++) i3();
            }
          }
          (a2 = k.PointerEvent ? [{ type: c2.down, listener: l2 }, { type: c2.down, listener: e2.pointerDown }, { type: c2.move, listener: e2.pointerMove }, { type: c2.up, listener: e2.pointerUp }, { type: c2.cancel, listener: e2.pointerUp }] : [{ type: "mousedown", listener: e2.pointerDown }, { type: "mousemove", listener: e2.pointerMove }, { type: "mouseup", listener: e2.pointerUp }, { type: "touchstart", listener: l2 }, { type: "touchstart", listener: e2.pointerDown }, { type: "touchmove", listener: e2.pointerMove }, { type: "touchend", listener: e2.pointerUp }, { type: "touchcancel", listener: e2.pointerUp }]).push({ type: "blur", listener: function(e3) {
            for (var n3 = 0, r2 = t2.interactions.list; n3 < r2.length; n3++) {
              r2[n3].documentBlur(e3);
            }
          } }), t2.prevTouchTime = 0, t2.Interaction = function(e3) {
            s(i3, e3);
            var n3 = p(i3);
            function i3() {
              return r(this, i3), n3.apply(this, arguments);
            }
            return o(i3, [{ key: "pointerMoveTolerance", get: function() {
              return t2.interactions.pointerMoveTolerance;
            }, set: function(e4) {
              t2.interactions.pointerMoveTolerance = e4;
            } }, { key: "_now", value: function() {
              return t2.now();
            } }]), i3;
          }(De), t2.interactions = { list: [], new: function(e3) {
            e3.scopeFire = function(e4, n4) {
              return t2.fire(e4, n4);
            };
            var n3 = new t2.Interaction(e3);
            return t2.interactions.list.push(n3), n3;
          }, listeners: e2, docEvents: a2, pointerMoveTolerance: 1 }, t2.usePlugin(he);
        }, listeners: { "scope:add-document": function(t2) {
          return tn(t2, "add");
        }, "scope:remove-document": function(t2) {
          return tn(t2, "remove");
        }, "interactable:unset": function(t2, e2) {
          for (var n2 = t2.interactable, r2 = e2.interactions.list.length - 1; r2 >= 0; r2--) {
            var i2 = e2.interactions.list[r2];
            i2.interactable === n2 && (i2.stop(), e2.fire("interactions:destroy", { interaction: i2 }), i2.destroy(), e2.interactions.list.length > 2 && e2.interactions.list.splice(r2, 1));
          }
        } }, onDocSignal: tn, doOnInteractions: Qe, methodNames: Je }, nn = en, rn = function(t2) {
          return t2[t2.On = 0] = "On", t2[t2.Off = 1] = "Off", t2;
        }(rn || {}), on = function() {
          function t2(e2, n2, i2, o2) {
            r(this, t2), this.target = void 0, this.options = void 0, this._actions = void 0, this.events = new Ve(), this._context = void 0, this._win = void 0, this._doc = void 0, this._scopeEvents = void 0, this._actions = n2.actions, this.target = e2, this._context = n2.context || i2, this._win = y(B(e2) ? this._context : e2), this._doc = this._win.document, this._scopeEvents = o2, this.set(n2);
          }
          return o(t2, [{ key: "_defaults", get: function() {
            return { base: {}, perAction: {}, actions: {} };
          } }, { key: "setOnEvents", value: function(t3, e2) {
            return w.func(e2.onstart) && this.on("".concat(t3, "start"), e2.onstart), w.func(e2.onmove) && this.on("".concat(t3, "move"), e2.onmove), w.func(e2.onend) && this.on("".concat(t3, "end"), e2.onend), w.func(e2.oninertiastart) && this.on("".concat(t3, "inertiastart"), e2.oninertiastart), this;
          } }, { key: "updatePerActionListeners", value: function(t3, e2, n2) {
            var r2, i2 = this, o2 = null == (r2 = this._actions.map[t3]) ? void 0 : r2.filterEventType, a2 = function(t4) {
              return (null == o2 || o2(t4)) && ve(t4, i2._actions);
            };
            (w.array(e2) || w.object(e2)) && this._onOff(rn.Off, t3, e2, void 0, a2), (w.array(n2) || w.object(n2)) && this._onOff(rn.On, t3, n2, void 0, a2);
          } }, { key: "setPerAction", value: function(t3, e2) {
            var n2 = this._defaults;
            for (var r2 in e2) {
              var i2 = r2, o2 = this.options[t3], a2 = e2[i2];
              "listeners" === i2 && this.updatePerActionListeners(t3, o2.listeners, a2), w.array(a2) ? o2[i2] = mt(a2) : w.plainObject(a2) ? (o2[i2] = V(o2[i2] || {}, ge(a2)), w.object(n2.perAction[i2]) && "enabled" in n2.perAction[i2] && (o2[i2].enabled = false !== a2.enabled)) : w.bool(a2) && w.object(n2.perAction[i2]) ? o2[i2].enabled = a2 : o2[i2] = a2;
            }
          } }, { key: "getRect", value: function(t3) {
            return t3 = t3 || (w.element(this.target) ? this.target : null), w.string(this.target) && (t3 = t3 || this._context.querySelector(this.target)), L(t3);
          } }, { key: "rectChecker", value: function(t3) {
            var e2 = this;
            return w.func(t3) ? (this.getRect = function(n2) {
              var r2 = V({}, t3.apply(e2, n2));
              return "width" in r2 || (r2.width = r2.right - r2.left, r2.height = r2.bottom - r2.top), r2;
            }, this) : null === t3 ? (delete this.getRect, this) : this.getRect;
          } }, { key: "_backCompatOption", value: function(t3, e2) {
            if (B(e2) || w.object(e2)) {
              for (var n2 in this.options[t3] = e2, this._actions.map) this.options[n2][t3] = e2;
              return this;
            }
            return this.options[t3];
          } }, { key: "origin", value: function(t3) {
            return this._backCompatOption("origin", t3);
          } }, { key: "deltaSource", value: function(t3) {
            return "page" === t3 || "client" === t3 ? (this.options.deltaSource = t3, this) : this.options.deltaSource;
          } }, { key: "getAllElements", value: function() {
            var t3 = this.target;
            return w.string(t3) ? Array.from(this._context.querySelectorAll(t3)) : w.func(t3) && t3.getAllElements ? t3.getAllElements() : w.element(t3) ? [t3] : [];
          } }, { key: "context", value: function() {
            return this._context;
          } }, { key: "inContext", value: function(t3) {
            return this._context === t3.ownerDocument || M(this._context, t3);
          } }, { key: "testIgnoreAllow", value: function(t3, e2, n2) {
            return !this.testIgnore(t3.ignoreFrom, e2, n2) && this.testAllow(t3.allowFrom, e2, n2);
          } }, { key: "testAllow", value: function(t3, e2, n2) {
            return !t3 || !!w.element(n2) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "testIgnore", value: function(t3, e2, n2) {
            return !(!t3 || !w.element(n2)) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "fire", value: function(t3) {
            return this.events.fire(t3), this;
          } }, { key: "_onOff", value: function(t3, e2, n2, r2, i2) {
            w.object(e2) && !w.array(e2) && (r2 = n2, n2 = null);
            var o2 = $(e2, n2, i2);
            for (var a2 in o2) {
              "wheel" === a2 && (a2 = I.wheelEvent);
              for (var s2 = 0, c2 = o2[a2]; s2 < c2.length; s2++) {
                var l2 = c2[s2];
                ve(a2, this._actions) ? this.events[t3 === rn.On ? "on" : "off"](a2, l2) : w.string(this.target) ? this._scopeEvents[t3 === rn.On ? "addDelegate" : "removeDelegate"](this.target, this._context, a2, l2, r2) : this._scopeEvents[t3 === rn.On ? "add" : "remove"](this.target, a2, l2, r2);
              }
            }
            return this;
          } }, { key: "on", value: function(t3, e2, n2) {
            return this._onOff(rn.On, t3, e2, n2);
          } }, { key: "off", value: function(t3, e2, n2) {
            return this._onOff(rn.Off, t3, e2, n2);
          } }, { key: "set", value: function(t3) {
            var e2 = this._defaults;
            for (var n2 in w.object(t3) || (t3 = {}), this.options = ge(e2.base), this._actions.methodDict) {
              var r2 = n2, i2 = this._actions.methodDict[r2];
              this.options[r2] = {}, this.setPerAction(r2, V(V({}, e2.perAction), e2.actions[r2])), this[i2](t3[r2]);
            }
            for (var o2 in t3) "getRect" !== o2 ? w.func(this[o2]) && this[o2](t3[o2]) : this.rectChecker(t3.getRect);
            return this;
          } }, { key: "unset", value: function() {
            if (w.string(this.target)) for (var t3 in this._scopeEvents.delegatedEvents) for (var e2 = this._scopeEvents.delegatedEvents[t3], n2 = e2.length - 1; n2 >= 0; n2--) {
              var r2 = e2[n2], i2 = r2.selector, o2 = r2.context, a2 = r2.listeners;
              i2 === this.target && o2 === this._context && e2.splice(n2, 1);
              for (var s2 = a2.length - 1; s2 >= 0; s2--) this._scopeEvents.removeDelegate(this.target, this._context, t3, a2[s2][0], a2[s2][1]);
            }
            else this._scopeEvents.remove(this.target, "all");
          } }]), t2;
        }(), an = function() {
          function t2(e2) {
            var n2 = this;
            r(this, t2), this.list = [], this.selectorMap = {}, this.scope = void 0, this.scope = e2, e2.addListeners({ "interactable:unset": function(t3) {
              var e3 = t3.interactable, r2 = e3.target, i2 = w.string(r2) ? n2.selectorMap[r2] : r2[n2.scope.id], o2 = yt(i2, function(t4) {
                return t4 === e3;
              });
              i2.splice(o2, 1);
            } });
          }
          return o(t2, [{ key: "new", value: function(t3, e2) {
            e2 = V(e2 || {}, { actions: this.scope.actions });
            var n2 = new this.scope.Interactable(t3, e2, this.scope.document, this.scope.events);
            return this.scope.addDocument(n2._doc), this.list.push(n2), w.string(t3) ? (this.selectorMap[t3] || (this.selectorMap[t3] = []), this.selectorMap[t3].push(n2)) : (n2.target[this.scope.id] || Object.defineProperty(t3, this.scope.id, { value: [], configurable: true }), t3[this.scope.id].push(n2)), this.scope.fire("interactable:new", { target: t3, options: e2, interactable: n2, win: this.scope._win }), n2;
          } }, { key: "getExisting", value: function(t3, e2) {
            var n2 = e2 && e2.context || this.scope.document, r2 = w.string(t3), i2 = r2 ? this.selectorMap[t3] : t3[this.scope.id];
            if (i2) return bt(i2, function(e3) {
              return e3._context === n2 && (r2 || e3.inContext(t3));
            });
          } }, { key: "forEachMatch", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.list; n2 < r2.length; n2++) {
              var i2 = r2[n2], o2 = void 0;
              if ((w.string(i2.target) ? w.element(t3) && R(t3, i2.target) : t3 === i2.target) && i2.inContext(t3) && (o2 = e2(i2)), void 0 !== o2) return o2;
            }
          } }]), t2;
        }();
        var sn = function() {
          function t2() {
            var e2 = this;
            r(this, t2), this.id = "__interact_scope_".concat(Math.floor(100 * Math.random())), this.isInitialized = false, this.listenerMaps = [], this.browser = I, this.defaults = ge(Te), this.Eventable = Ve, this.actions = { map: {}, phases: { start: true, move: true, end: true }, methodDict: {}, phaselessTypes: {} }, this.interactStatic = function(t3) {
              var e3 = function e4(n3, r2) {
                var i2 = t3.interactables.getExisting(n3, r2);
                return i2 || ((i2 = t3.interactables.new(n3, r2)).events.global = e4.globalEvents), i2;
              };
              return e3.getPointerAverage = lt, e3.getTouchBBox = ut, e3.getTouchDistance = pt, e3.getTouchAngle = ft, e3.getElementRect = L, e3.getElementClientRect = Y, e3.matchesSelector = R, e3.closest = z, e3.globalEvents = {}, e3.version = "1.10.27", e3.scope = t3, e3.use = function(t4, e4) {
                return this.scope.usePlugin(t4, e4), this;
              }, e3.isSet = function(t4, e4) {
                return !!this.scope.interactables.get(t4, e4 && e4.context);
              }, e3.on = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.on(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.on(a2, t4[a2], e4);
                  return this;
                }
                return ve(t4, this.scope.actions) ? this.globalEvents[t4] ? this.globalEvents[t4].push(e4) : this.globalEvents[t4] = [e4] : this.scope.events.add(this.scope.document, t4, e4, { options: n3 }), this;
              }, "The interact.on() method is being deprecated"), e3.off = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.off(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.off(a2, t4[a2], e4);
                  return this;
                }
                var s2;
                return ve(t4, this.scope.actions) ? t4 in this.globalEvents && -1 !== (s2 = this.globalEvents[t4].indexOf(e4)) && this.globalEvents[t4].splice(s2, 1) : this.scope.events.remove(this.scope.document, t4, e4, n3), this;
              }, "The interact.off() method is being deprecated"), e3.debug = function() {
                return this.scope;
              }, e3.supportsTouch = function() {
                return I.supportsTouch;
              }, e3.supportsPointerEvent = function() {
                return I.supportsPointerEvent;
              }, e3.stop = function() {
                for (var t4 = 0, e4 = this.scope.interactions.list; t4 < e4.length; t4++) e4[t4].stop();
                return this;
              }, e3.pointerMoveTolerance = function(t4) {
                return w.number(t4) ? (this.scope.interactions.pointerMoveTolerance = t4, this) : this.scope.interactions.pointerMoveTolerance;
              }, e3.addDocument = function(t4, e4) {
                this.scope.addDocument(t4, e4);
              }, e3.removeDocument = function(t4) {
                this.scope.removeDocument(t4);
              }, e3;
            }(this), this.InteractEvent = Se, this.Interactable = void 0, this.interactables = new an(this), this._win = void 0, this.document = void 0, this.window = void 0, this.documents = [], this._plugins = { list: [], map: {} }, this.onWindowUnload = function(t3) {
              return e2.removeDocument(t3.target);
            };
            var n2 = this;
            this.Interactable = function(t3) {
              s(i2, t3);
              var e3 = p(i2);
              function i2() {
                return r(this, i2), e3.apply(this, arguments);
              }
              return o(i2, [{ key: "_defaults", get: function() {
                return n2.defaults;
              } }, { key: "set", value: function(t4) {
                return f(c(i2.prototype), "set", this).call(this, t4), n2.fire("interactable:set", { options: t4, interactable: this }), this;
              } }, { key: "unset", value: function() {
                f(c(i2.prototype), "unset", this).call(this);
                var t4 = n2.interactables.list.indexOf(this);
                t4 < 0 || (n2.interactables.list.splice(t4, 1), n2.fire("interactable:unset", { interactable: this }));
              } }]), i2;
            }(on);
          }
          return o(t2, [{ key: "addListeners", value: function(t3, e2) {
            this.listenerMaps.push({ id: e2, map: t3 });
          } }, { key: "fire", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.listenerMaps; n2 < r2.length; n2++) {
              var i2 = r2[n2].map[t3];
              if (i2 && false === i2(e2, this, t3)) return false;
            }
          } }, { key: "init", value: function(t3) {
            return this.isInitialized ? this : function(t4, e2) {
              t4.isInitialized = true, w.window(e2) && m(e2);
              return k.init(e2), I.init(e2), Lt.init(e2), t4.window = e2, t4.document = e2.document, t4.usePlugin(nn), t4.usePlugin(Ue), t4;
            }(this, t3);
          } }, { key: "pluginIsInstalled", value: function(t3) {
            var e2 = t3.id;
            return e2 ? !!this._plugins.map[e2] : -1 !== this._plugins.list.indexOf(t3);
          } }, { key: "usePlugin", value: function(t3, e2) {
            if (!this.isInitialized) return this;
            if (this.pluginIsInstalled(t3)) return this;
            if (t3.id && (this._plugins.map[t3.id] = t3), this._plugins.list.push(t3), t3.install && t3.install(this, e2), t3.listeners && t3.before) {
              for (var n2 = 0, r2 = this.listenerMaps.length, i2 = t3.before.reduce(function(t4, e3) {
                return t4[e3] = true, t4[cn(e3)] = true, t4;
              }, {}); n2 < r2; n2++) {
                var o2 = this.listenerMaps[n2].id;
                if (o2 && (i2[o2] || i2[cn(o2)])) break;
              }
              this.listenerMaps.splice(n2, 0, { id: t3.id, map: t3.listeners });
            } else t3.listeners && this.listenerMaps.push({ id: t3.id, map: t3.listeners });
            return this;
          } }, { key: "addDocument", value: function(t3, e2) {
            if (-1 !== this.getDocIndex(t3)) return false;
            var n2 = y(t3);
            e2 = e2 ? V({}, e2) : {}, this.documents.push({ doc: t3, options: e2 }), this.events.documents.push(t3), t3 !== this.document && this.events.add(n2, "unload", this.onWindowUnload), this.fire("scope:add-document", { doc: t3, window: n2, scope: this, options: e2 });
          } }, { key: "removeDocument", value: function(t3) {
            var e2 = this.getDocIndex(t3), n2 = y(t3), r2 = this.documents[e2].options;
            this.events.remove(n2, "unload", this.onWindowUnload), this.documents.splice(e2, 1), this.events.documents.splice(e2, 1), this.fire("scope:remove-document", { doc: t3, window: n2, scope: this, options: r2 });
          } }, { key: "getDocIndex", value: function(t3) {
            for (var e2 = 0; e2 < this.documents.length; e2++) if (this.documents[e2].doc === t3) return e2;
            return -1;
          } }, { key: "getDocOptions", value: function(t3) {
            var e2 = this.getDocIndex(t3);
            return -1 === e2 ? null : this.documents[e2].options;
          } }, { key: "now", value: function() {
            return (this.window.Date || Date).now();
          } }]), t2;
        }();
        function cn(t2) {
          return t2 && t2.replace(/\/.*$/, "");
        }
        var ln = new sn(), un = ln.interactStatic, pn = "undefined" != typeof globalThis ? globalThis : window;
        ln.init(pn);
        var fn = Object.freeze({ __proto__: null, edgeTarget: function() {
        }, elements: function() {
        }, grid: function(t2) {
          var e2 = [["x", "y"], ["left", "top"], ["right", "bottom"], ["width", "height"]].filter(function(e3) {
            var n3 = e3[0], r2 = e3[1];
            return n3 in t2 || r2 in t2;
          }), n2 = function(n3, r2) {
            for (var i2 = t2.range, o2 = t2.limits, a2 = void 0 === o2 ? { left: -1 / 0, right: 1 / 0, top: -1 / 0, bottom: 1 / 0 } : o2, s2 = t2.offset, c2 = void 0 === s2 ? { x: 0, y: 0 } : s2, l2 = { range: i2, grid: t2, x: null, y: null }, u2 = 0; u2 < e2.length; u2++) {
              var p2 = e2[u2], f2 = p2[0], d2 = p2[1], h2 = Math.round((n3 - c2.x) / t2[f2]), v2 = Math.round((r2 - c2.y) / t2[d2]);
              l2[f2] = Math.max(a2.left, Math.min(a2.right, h2 * t2[f2] + c2.x)), l2[d2] = Math.max(a2.top, Math.min(a2.bottom, v2 * t2[d2] + c2.y));
            }
            return l2;
          };
          return n2.grid = t2, n2.coordFields = e2, n2;
        } }), dn = { id: "snappers", install: function(t2) {
          var e2 = t2.interactStatic;
          e2.snappers = V(e2.snappers || {}, fn), e2.createSnapGrid = e2.snappers.grid;
        } }, hn = dn, vn = { start: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = t2.pageCoords, a2 = n2.options, s2 = a2.ratio, c2 = a2.enabled, l2 = n2.options, u2 = l2.equalDelta, p2 = l2.modifiers;
          "preserve" === s2 && (s2 = r2.width / r2.height), n2.startCoords = V({}, o2), n2.startRect = V({}, r2), n2.ratio = s2, n2.equalDelta = u2;
          var f2 = n2.linkedEdges = { top: i2.top || i2.left && !i2.bottom, left: i2.left || i2.top && !i2.right, bottom: i2.bottom || i2.right && !i2.top, right: i2.right || i2.bottom && !i2.left };
          if (n2.xIsPrimaryAxis = !(!i2.left && !i2.right), n2.equalDelta) {
            var d2 = (f2.left ? 1 : -1) * (f2.top ? 1 : -1);
            n2.edgeSign = { x: d2, y: d2 };
          } else n2.edgeSign = { x: f2.left ? -1 : 1, y: f2.top ? -1 : 1 };
          if (false !== c2 && V(i2, f2), null != p2 && p2.length) {
            var h2 = new me(t2.interaction);
            h2.copyFrom(t2.interaction.modification), h2.prepareStates(p2), n2.subModification = h2, h2.startAll(e({}, t2));
          }
        }, set: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.coords, o2 = n2.linkedEdges, a2 = V({}, i2), s2 = n2.equalDelta ? gn : mn;
          if (V(t2.edges, o2), s2(n2, n2.xIsPrimaryAxis, i2, r2), !n2.subModification) return null;
          var c2 = V({}, r2);
          H(o2, c2, { x: i2.x - a2.x, y: i2.y - a2.y });
          var l2 = n2.subModification.setAll(e(e({}, t2), {}, { rect: c2, edges: o2, pageCoords: i2, prevCoords: i2, prevRect: c2 })), u2 = l2.delta;
          l2.changed && (s2(n2, Math.abs(u2.x) > Math.abs(u2.y), l2.coords, l2.rect), V(i2, l2.coords));
          return l2.eventProps;
        }, defaults: { ratio: "preserve", equalDelta: false, modifiers: [], enabled: false } };
        function gn(t2, e2, n2) {
          var r2 = t2.startCoords, i2 = t2.edgeSign;
          e2 ? n2.y = r2.y + (n2.x - r2.x) * i2.y : n2.x = r2.x + (n2.y - r2.y) * i2.x;
        }
        function mn(t2, e2, n2, r2) {
          var i2 = t2.startRect, o2 = t2.startCoords, a2 = t2.ratio, s2 = t2.edgeSign;
          if (e2) {
            var c2 = r2.width / a2;
            n2.y = o2.y + (c2 - i2.height) * s2.y;
          } else {
            var l2 = r2.height * a2;
            n2.x = o2.x + (l2 - i2.width) * s2.x;
          }
        }
        var yn = be(vn, "aspectRatio"), bn = function() {
        };
        bn._defaults = {};
        var xn = bn;
        function wn(t2, e2, n2) {
          return w.func(t2) ? G(t2, e2.interactable, e2.element, [n2.x, n2.y, e2]) : G(t2, e2.interactable, e2.element);
        }
        var En = { start: function(t2) {
          var e2 = t2.rect, n2 = t2.startOffset, r2 = t2.state, i2 = t2.interaction, o2 = t2.pageCoords, a2 = r2.options, s2 = a2.elementRect, c2 = V({ left: 0, top: 0, right: 0, bottom: 0 }, a2.offset || {});
          if (e2 && s2) {
            var l2 = wn(a2.restriction, i2, o2);
            if (l2) {
              var u2 = l2.right - l2.left - e2.width, p2 = l2.bottom - l2.top - e2.height;
              u2 < 0 && (c2.left += u2, c2.right += u2), p2 < 0 && (c2.top += p2, c2.bottom += p2);
            }
            c2.left += n2.left - e2.width * s2.left, c2.top += n2.top - e2.height * s2.top, c2.right += n2.right - e2.width * (1 - s2.right), c2.bottom += n2.bottom - e2.height * (1 - s2.bottom);
          }
          r2.offset = c2;
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.interaction, r2 = t2.state, i2 = r2.options, o2 = r2.offset, a2 = wn(i2.restriction, n2, e2);
          if (a2) {
            var s2 = function(t3) {
              return !t3 || "left" in t3 && "top" in t3 || ((t3 = V({}, t3)).left = t3.x || 0, t3.top = t3.y || 0, t3.right = t3.right || t3.left + t3.width, t3.bottom = t3.bottom || t3.top + t3.height), t3;
            }(a2);
            e2.x = Math.max(Math.min(s2.right - o2.right, e2.x), s2.left + o2.left), e2.y = Math.max(Math.min(s2.bottom - o2.bottom, e2.y), s2.top + o2.top);
          }
        }, defaults: { restriction: null, elementRect: null, offset: null, endOnly: false, enabled: false } }, Tn = be(En, "restrict"), Sn = { top: 1 / 0, left: 1 / 0, bottom: -1 / 0, right: -1 / 0 }, _n = { top: -1 / 0, left: -1 / 0, bottom: 1 / 0, right: 1 / 0 };
        function Pn(t2, e2) {
          for (var n2 = 0, r2 = ["top", "left", "bottom", "right"]; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            i2 in t2 || (t2[i2] = e2[i2]);
          }
          return t2;
        }
        var On = { noInner: Sn, noOuter: _n, start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.startOffset, i2 = t2.state, o2 = i2.options;
          o2 && (e2 = N(wn(o2.offset, n2, n2.coords.start.page))), e2 = e2 || { x: 0, y: 0 }, i2.offset = { top: e2.y + r2.top, left: e2.x + r2.left, bottom: e2.y - r2.bottom, right: e2.x - r2.right };
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.edges, r2 = t2.interaction, i2 = t2.state, o2 = i2.offset, a2 = i2.options;
          if (n2) {
            var s2 = V({}, e2), c2 = wn(a2.inner, r2, s2) || {}, l2 = wn(a2.outer, r2, s2) || {};
            Pn(c2, Sn), Pn(l2, _n), n2.top ? e2.y = Math.min(Math.max(l2.top + o2.top, s2.y), c2.top + o2.top) : n2.bottom && (e2.y = Math.max(Math.min(l2.bottom + o2.bottom, s2.y), c2.bottom + o2.bottom)), n2.left ? e2.x = Math.min(Math.max(l2.left + o2.left, s2.x), c2.left + o2.left) : n2.right && (e2.x = Math.max(Math.min(l2.right + o2.right, s2.x), c2.right + o2.right));
          }
        }, defaults: { inner: null, outer: null, offset: null, endOnly: false, enabled: false } }, kn = be(On, "restrictEdges"), Dn = V({ get elementRect() {
          return { top: 0, left: 0, bottom: 1, right: 1 };
        }, set elementRect(t2) {
        } }, En.defaults), In = be({ start: En.start, set: En.set, defaults: Dn }, "restrictRect"), Mn = { width: -1 / 0, height: -1 / 0 }, zn = { width: 1 / 0, height: 1 / 0 };
        var An = be({ start: function(t2) {
          return On.start(t2);
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = n2.options;
          if (i2) {
            var a2 = U(wn(o2.min, e2, t2.coords)) || Mn, s2 = U(wn(o2.max, e2, t2.coords)) || zn;
            n2.options = { endOnly: o2.endOnly, inner: V({}, On.noInner), outer: V({}, On.noOuter) }, i2.top ? (n2.options.inner.top = r2.bottom - a2.height, n2.options.outer.top = r2.bottom - s2.height) : i2.bottom && (n2.options.inner.bottom = r2.top + a2.height, n2.options.outer.bottom = r2.top + s2.height), i2.left ? (n2.options.inner.left = r2.right - a2.width, n2.options.outer.left = r2.right - s2.width) : i2.right && (n2.options.inner.right = r2.left + a2.width, n2.options.outer.right = r2.left + s2.width), On.set(t2), n2.options = o2;
          }
        }, defaults: { min: null, max: null, endOnly: false, enabled: false } }, "restrictSize");
        var Rn = { start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.interactable, i2 = t2.element, o2 = t2.rect, a2 = t2.state, s2 = t2.startOffset, c2 = a2.options, l2 = c2.offsetWithOrigin ? function(t3) {
            var e3 = t3.interaction.element, n3 = N(G(t3.state.options.origin, null, null, [e3])), r3 = n3 || K(t3.interactable, e3, t3.interaction.prepared.name);
            return r3;
          }(t2) : { x: 0, y: 0 };
          if ("startCoords" === c2.offset) e2 = { x: n2.coords.start.page.x, y: n2.coords.start.page.y };
          else {
            var u2 = G(c2.offset, r2, i2, [n2]);
            (e2 = N(u2) || { x: 0, y: 0 }).x += l2.x, e2.y += l2.y;
          }
          var p2 = c2.relativePoints;
          a2.offsets = o2 && p2 && p2.length ? p2.map(function(t3, n3) {
            return { index: n3, relativePoint: t3, x: s2.left - o2.width * t3.x + e2.x, y: s2.top - o2.height * t3.y + e2.y };
          }) : [{ index: 0, relativePoint: null, x: e2.x, y: e2.y }];
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.coords, r2 = t2.state, i2 = r2.options, o2 = r2.offsets, a2 = K(e2.interactable, e2.element, e2.prepared.name), s2 = V({}, n2), c2 = [];
          i2.offsetWithOrigin || (s2.x -= a2.x, s2.y -= a2.y);
          for (var l2 = 0, u2 = o2; l2 < u2.length; l2++) for (var p2 = u2[l2], f2 = s2.x - p2.x, d2 = s2.y - p2.y, h2 = 0, v2 = i2.targets.length; h2 < v2; h2++) {
            var g2 = i2.targets[h2], m2 = void 0;
            (m2 = w.func(g2) ? g2(f2, d2, e2._proxy, p2, h2) : g2) && c2.push({ x: (w.number(m2.x) ? m2.x : f2) + p2.x, y: (w.number(m2.y) ? m2.y : d2) + p2.y, range: w.number(m2.range) ? m2.range : i2.range, source: g2, index: h2, offset: p2 });
          }
          for (var y2 = { target: null, inRange: false, distance: 0, range: 0, delta: { x: 0, y: 0 } }, b2 = 0; b2 < c2.length; b2++) {
            var x2 = c2[b2], E2 = x2.range, T2 = x2.x - s2.x, S2 = x2.y - s2.y, _2 = Q(T2, S2), P2 = _2 <= E2;
            E2 === 1 / 0 && y2.inRange && y2.range !== 1 / 0 && (P2 = false), y2.target && !(P2 ? y2.inRange && E2 !== 1 / 0 ? _2 / E2 < y2.distance / y2.range : E2 === 1 / 0 && y2.range !== 1 / 0 || _2 < y2.distance : !y2.inRange && _2 < y2.distance) || (y2.target = x2, y2.distance = _2, y2.range = E2, y2.inRange = P2, y2.delta.x = T2, y2.delta.y = S2);
          }
          return y2.inRange && (n2.x = y2.target.x, n2.y = y2.target.y), r2.closest = y2, y2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, offsetWithOrigin: true, origin: null, relativePoints: null, endOnly: false, enabled: false } }, Cn = be(Rn, "snap");
        var jn = { start: function(t2) {
          var e2 = t2.state, n2 = t2.edges, r2 = e2.options;
          if (!n2) return null;
          t2.state = { options: { targets: null, relativePoints: [{ x: n2.left ? 0 : 1, y: n2.top ? 0 : 1 }], offset: r2.offset || "self", origin: { x: 0, y: 0 }, range: r2.range } }, e2.targetFields = e2.targetFields || [["width", "height"], ["x", "y"]], Rn.start(t2), e2.offsets = t2.state.offsets, t2.state = e2;
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.coords, i2 = n2.options, o2 = n2.offsets, a2 = { x: r2.x - o2[0].x, y: r2.y - o2[0].y };
          n2.options = V({}, i2), n2.options.targets = [];
          for (var s2 = 0, c2 = i2.targets || []; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = void 0;
            if (u2 = w.func(l2) ? l2(a2.x, a2.y, e2) : l2) {
              for (var p2 = 0, f2 = n2.targetFields; p2 < f2.length; p2++) {
                var d2 = f2[p2], h2 = d2[0], v2 = d2[1];
                if (h2 in u2 || v2 in u2) {
                  u2.x = u2[h2], u2.y = u2[v2];
                  break;
                }
              }
              n2.options.targets.push(u2);
            }
          }
          var g2 = Rn.set(t2);
          return n2.options = i2, g2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, endOnly: false, enabled: false } }, Fn = be(jn, "snapSize");
        var Xn = { aspectRatio: yn, restrictEdges: kn, restrict: Tn, restrictRect: In, restrictSize: An, snapEdges: be({ start: function(t2) {
          var e2 = t2.edges;
          return e2 ? (t2.state.targetFields = t2.state.targetFields || [[e2.left ? "left" : "right", e2.top ? "top" : "bottom"]], jn.start(t2)) : null;
        }, set: jn.set, defaults: V(ge(jn.defaults), { targets: void 0, range: void 0, offset: { x: 0, y: 0 } }) }, "snapEdges"), snap: Cn, snapSize: Fn, spring: xn, avoid: xn, transform: xn, rubberband: xn }, Yn = { id: "modifiers", install: function(t2) {
          var e2 = t2.interactStatic;
          for (var n2 in t2.usePlugin(Ee), t2.usePlugin(hn), e2.modifiers = Xn, Xn) {
            var r2 = Xn[n2], i2 = r2._defaults, o2 = r2._methods;
            i2._methods = o2, t2.defaults.perAction[n2] = i2;
          }
        } }, Ln = Yn, qn = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2) {
            var l2;
            if (r(this, n2), tt(u(l2 = e2.call(this, s2)), o2), o2 !== i2 && tt(u(l2), i2), l2.timeStamp = c2, l2.originalEvent = o2, l2.type = t3, l2.pointerId = at(i2), l2.pointerType = dt(i2), l2.target = a2, l2.currentTarget = null, "tap" === t3) {
              var p2 = s2.getPointerIndex(i2);
              l2.dt = l2.timeStamp - s2.pointers[p2].downTime;
              var f2 = l2.timeStamp - s2.tapTime;
              l2.double = !!s2.prevTap && "doubletap" !== s2.prevTap.type && s2.prevTap.target === l2.target && f2 < 500;
            } else "doubletap" === t3 && (l2.dt = i2.timeStamp - s2.tapTime, l2.double = true);
            return l2;
          }
          return o(n2, [{ key: "_subtractOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX -= e3, this.pageY -= n3, this.clientX -= e3, this.clientY -= n3, this;
          } }, { key: "_addOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX += e3, this.pageY += n3, this.clientX += e3, this.clientY += n3, this;
          } }, { key: "preventDefault", value: function() {
            this.originalEvent.preventDefault();
          } }]), n2;
        }(vt), Bn = { id: "pointer-events/base", before: ["inertia", "modifiers", "auto-start", "actions"], install: function(t2) {
          t2.pointerEvents = Bn, t2.defaults.actions.pointerEvents = Bn.defaults, V(t2.actions.phaselessTypes, Bn.types);
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.prevTap = null, e2.tapTime = 0;
        }, "interactions:update-pointer": function(t2) {
          var e2 = t2.down, n2 = t2.pointerInfo;
          if (!e2 && n2.hold) return;
          n2.hold = { duration: 1 / 0, timeout: null };
        }, "interactions:move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          t2.duplicate || n2.pointerIsDown && !n2.pointerWasMoved || (n2.pointerIsDown && Gn(t2), Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "move" }, e2));
        }, "interactions:down": function(t2, e2) {
          !function(t3, e3) {
            for (var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget, a2 = t3.pointerIndex, s2 = n2.pointers[a2].hold, c2 = q(o2), l2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "hold", targets: [], path: c2, node: null }, u2 = 0; u2 < c2.length; u2++) {
              var p2 = c2[u2];
              l2.node = p2, e3.fire("pointerEvents:collect-targets", l2);
            }
            if (!l2.targets.length) return;
            for (var f2 = 1 / 0, d2 = 0, h2 = l2.targets; d2 < h2.length; d2++) {
              var v2 = h2[d2].eventable.options.holdDuration;
              v2 < f2 && (f2 = v2);
            }
            s2.duration = f2, s2.timeout = setTimeout(function() {
              Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "hold" }, e3);
            }, f2);
          }(t2, e2), Vn(t2, e2);
        }, "interactions:up": function(t2, e2) {
          Gn(t2), Vn(t2, e2), function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            n2.pointerWasMoved || Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "tap" }, e3);
          }(t2, e2);
        }, "interactions:cancel": function(t2, e2) {
          Gn(t2), Vn(t2, e2);
        } }, PointerEvent: qn, fire: Vn, collectEventTargets: Wn, defaults: { holdDuration: 600, ignoreFrom: null, allowFrom: null, origin: { x: 0, y: 0 } }, types: { down: true, move: true, up: true, cancel: true, tap: true, doubletap: true, hold: true } };
        function Vn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = t2.targets, c2 = void 0 === s2 ? Wn(t2, e2) : s2, l2 = new qn(a2, r2, i2, o2, n2, e2.now());
          e2.fire("pointerEvents:new", { pointerEvent: l2 });
          for (var u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, targets: c2, type: a2, pointerEvent: l2 }, p2 = 0; p2 < c2.length; p2++) {
            var f2 = c2[p2];
            for (var d2 in f2.props || {}) l2[d2] = f2.props[d2];
            var h2 = K(f2.eventable, f2.node);
            if (l2._subtractOrigin(h2), l2.eventable = f2.eventable, l2.currentTarget = f2.node, f2.eventable.fire(l2), l2._addOrigin(h2), l2.immediatePropagationStopped || l2.propagationStopped && p2 + 1 < c2.length && c2[p2 + 1].node !== l2.currentTarget) break;
          }
          if (e2.fire("pointerEvents:fired", u2), "tap" === a2) {
            var v2 = l2.double ? Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "doubletap" }, e2) : l2;
            n2.prevTap = v2, n2.tapTime = v2.timeStamp;
          }
          return l2;
        }
        function Wn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = n2.getPointerIndex(r2), c2 = n2.pointers[s2];
          if ("tap" === a2 && (n2.pointerWasMoved || !c2 || c2.downTarget !== o2)) return [];
          for (var l2 = q(o2), u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: a2, path: l2, targets: [], node: null }, p2 = 0; p2 < l2.length; p2++) {
            var f2 = l2[p2];
            u2.node = f2, e2.fire("pointerEvents:collect-targets", u2);
          }
          return "hold" === a2 && (u2.targets = u2.targets.filter(function(t3) {
            var e3, r3;
            return t3.eventable.options.holdDuration === (null == (e3 = n2.pointers[s2]) || null == (r3 = e3.hold) ? void 0 : r3.duration);
          })), u2.targets;
        }
        function Gn(t2) {
          var e2 = t2.interaction, n2 = t2.pointerIndex, r2 = e2.pointers[n2].hold;
          r2 && r2.timeout && (clearTimeout(r2.timeout), r2.timeout = null);
        }
        var Nn = Object.freeze({ __proto__: null, default: Bn });
        function Un(t2) {
          var e2 = t2.interaction;
          e2.holdIntervalHandle && (clearInterval(e2.holdIntervalHandle), e2.holdIntervalHandle = null);
        }
        var Hn = { id: "pointer-events/holdRepeat", install: function(t2) {
          t2.usePlugin(Bn);
          var e2 = t2.pointerEvents;
          e2.defaults.holdRepeatInterval = 0, e2.types.holdrepeat = t2.actions.phaselessTypes.holdrepeat = true;
        }, listeners: ["move", "up", "cancel", "endall"].reduce(function(t2, e2) {
          return t2["pointerEvents:".concat(e2)] = Un, t2;
        }, { "pointerEvents:new": function(t2) {
          var e2 = t2.pointerEvent;
          "hold" === e2.type && (e2.count = (e2.count || 0) + 1);
        }, "pointerEvents:fired": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointerEvent, i2 = t2.eventTarget, o2 = t2.targets;
          if ("hold" === r2.type && o2.length) {
            var a2 = o2[0].eventable.options.holdRepeatInterval;
            a2 <= 0 || (n2.holdIntervalHandle = setTimeout(function() {
              e2.pointerEvents.fire({ interaction: n2, eventTarget: i2, type: "hold", pointer: r2, event: r2 }, e2);
            }, a2));
          }
        } }) }, Kn = Hn;
        var $n = { id: "pointer-events/interactableTargets", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.pointerEvents = function(t3) {
            return V(this.events.options, t3), this;
          };
          var n2 = e2.prototype._backCompatOption;
          e2.prototype._backCompatOption = function(t3, e3) {
            var r2 = n2.call(this, t3, e3);
            return r2 === this && (this.events.options[t3] = e3), r2;
          };
        }, listeners: { "pointerEvents:collect-targets": function(t2, e2) {
          var n2 = t2.targets, r2 = t2.node, i2 = t2.type, o2 = t2.eventTarget;
          e2.interactables.forEachMatch(r2, function(t3) {
            var e3 = t3.events, a2 = e3.options;
            e3.types[i2] && e3.types[i2].length && t3.testIgnoreAllow(a2, r2, o2) && n2.push({ node: r2, eventable: e3, props: { interactable: t3 } });
          });
        }, "interactable:new": function(t2) {
          var e2 = t2.interactable;
          e2.events.getRect = function(t3) {
            return e2.getRect(t3);
          };
        }, "interactable:set": function(t2, e2) {
          var n2 = t2.interactable, r2 = t2.options;
          V(n2.events.options, e2.pointerEvents.defaults), V(n2.events.options, r2.pointerEvents || {});
        } } }, Jn = $n, Qn = { id: "pointer-events", install: function(t2) {
          t2.usePlugin(Nn), t2.usePlugin(Kn), t2.usePlugin(Jn);
        } }, Zn = Qn;
        var tr = { id: "reflow", install: function(t2) {
          var e2 = t2.Interactable;
          t2.actions.phases.reflow = true, e2.prototype.reflow = function(e3) {
            return function(t3, e4, n2) {
              for (var r2 = t3.getAllElements(), i2 = n2.window.Promise, o2 = i2 ? [] : null, a2 = function() {
                var a3 = r2[s2], c2 = t3.getRect(a3);
                if (!c2) return 1;
                var l2, u2 = bt(n2.interactions.list, function(n3) {
                  return n3.interacting() && n3.interactable === t3 && n3.element === a3 && n3.prepared.name === e4.name;
                });
                if (u2) u2.move(), o2 && (l2 = u2._reflowPromise || new i2(function(t4) {
                  u2._reflowResolve = t4;
                }));
                else {
                  var p2 = U(c2), f2 = /* @__PURE__ */ function(t4) {
                    return { coords: t4, get page() {
                      return this.coords.page;
                    }, get client() {
                      return this.coords.client;
                    }, get timeStamp() {
                      return this.coords.timeStamp;
                    }, get pageX() {
                      return this.coords.page.x;
                    }, get pageY() {
                      return this.coords.page.y;
                    }, get clientX() {
                      return this.coords.client.x;
                    }, get clientY() {
                      return this.coords.client.y;
                    }, get pointerId() {
                      return this.coords.pointerId;
                    }, get target() {
                      return this.coords.target;
                    }, get type() {
                      return this.coords.type;
                    }, get pointerType() {
                      return this.coords.pointerType;
                    }, get buttons() {
                      return this.coords.buttons;
                    }, preventDefault: function() {
                    } };
                  }({ page: { x: p2.x, y: p2.y }, client: { x: p2.x, y: p2.y }, timeStamp: n2.now() });
                  l2 = function(t4, e5, n3, r3, i3) {
                    var o3 = t4.interactions.new({ pointerType: "reflow" }), a4 = { interaction: o3, event: i3, pointer: i3, eventTarget: n3, phase: "reflow" };
                    o3.interactable = e5, o3.element = n3, o3.prevEvent = i3, o3.updatePointer(i3, i3, n3, true), nt(o3.coords.delta), Ut(o3.prepared, r3), o3._doPhase(a4);
                    var s3 = t4.window, c3 = s3.Promise, l3 = c3 ? new c3(function(t5) {
                      o3._reflowResolve = t5;
                    }) : void 0;
                    o3._reflowPromise = l3, o3.start(r3, e5, n3), o3._interacting ? (o3.move(a4), o3.end(i3)) : (o3.stop(), o3._reflowResolve());
                    return o3.removePointer(i3, i3), l3;
                  }(n2, t3, a3, e4, f2);
                }
                o2 && o2.push(l2);
              }, s2 = 0; s2 < r2.length && !a2(); s2++) ;
              return o2 && i2.all(o2).then(function() {
                return t3;
              });
            }(this, e3, t2);
          };
        }, listeners: { "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction;
          "reflow" === n2.pointerType && (n2._reflowResolve && n2._reflowResolve(), function(t3, e3) {
            t3.splice(t3.indexOf(e3), 1);
          }(e2.interactions.list, n2));
        } } }, er = tr;
        if (un.use(he), un.use(Ce), un.use(Zn), un.use(qe), un.use(Ln), un.use(pe), un.use(Xt), un.use(Gt), un.use(er), un.default = un, "object" === ("undefined" == typeof module ? "undefined" : n(module)) && module) try {
          module.exports = un;
        } catch (t2) {
        }
        return un.default = un, un;
      });
    }
  });

  // node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js
  var turbo_es2017_esm_exports = {};
  __export(turbo_es2017_esm_exports, {
    FetchEnctype: () => FetchEnctype,
    FetchMethod: () => FetchMethod,
    FetchRequest: () => FetchRequest,
    FetchResponse: () => FetchResponse,
    FrameElement: () => FrameElement,
    FrameLoadingStyle: () => FrameLoadingStyle,
    FrameRenderer: () => FrameRenderer,
    PageRenderer: () => PageRenderer,
    PageSnapshot: () => PageSnapshot,
    StreamActions: () => StreamActions,
    StreamElement: () => StreamElement,
    StreamSourceElement: () => StreamSourceElement,
    cache: () => cache,
    clearCache: () => clearCache,
    connectStreamSource: () => connectStreamSource,
    disconnectStreamSource: () => disconnectStreamSource,
    fetch: () => fetchWithTurboHeaders,
    fetchEnctypeFromString: () => fetchEnctypeFromString,
    fetchMethodFromString: () => fetchMethodFromString,
    isSafe: () => isSafe,
    navigator: () => navigator$1,
    registerAdapter: () => registerAdapter,
    renderStreamMessage: () => renderStreamMessage,
    session: () => session,
    setConfirmMethod: () => setConfirmMethod,
    setFormMode: () => setFormMode,
    setProgressBarDelay: () => setProgressBarDelay,
    start: () => start,
    visit: () => visit
  });
  (function(prototype) {
    if (typeof prototype.requestSubmit == "function") return;
    prototype.requestSubmit = function(submitter) {
      if (submitter) {
        validateSubmitter(submitter, this);
        submitter.click();
      } else {
        submitter = document.createElement("input");
        submitter.type = "submit";
        submitter.hidden = true;
        this.appendChild(submitter);
        submitter.click();
        this.removeChild(submitter);
      }
    };
    function validateSubmitter(submitter, form) {
      submitter instanceof HTMLElement || raise(TypeError, "parameter 1 is not of type 'HTMLElement'");
      submitter.type == "submit" || raise(TypeError, "The specified element is not a submit button");
      submitter.form == form || raise(DOMException, "The specified element is not owned by this form element", "NotFoundError");
    }
    function raise(errorConstructor, message2, name) {
      throw new errorConstructor("Failed to execute 'requestSubmit' on 'HTMLFormElement': " + message2 + ".", name);
    }
  })(HTMLFormElement.prototype);
  var submittersByForm = /* @__PURE__ */ new WeakMap();
  function findSubmitterFromClickTarget(target) {
    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;
    const candidate = element ? element.closest("input, button") : null;
    return candidate?.type == "submit" ? candidate : null;
  }
  function clickCaptured(event) {
    const submitter = findSubmitterFromClickTarget(event.target);
    if (submitter && submitter.form) {
      submittersByForm.set(submitter.form, submitter);
    }
  }
  (function() {
    if ("submitter" in Event.prototype) return;
    let prototype = window.Event.prototype;
    if ("SubmitEvent" in window) {
      const prototypeOfSubmitEvent = window.SubmitEvent.prototype;
      if (/Apple Computer/.test(navigator.vendor) && !("submitter" in prototypeOfSubmitEvent)) {
        prototype = prototypeOfSubmitEvent;
      } else {
        return;
      }
    }
    addEventListener("click", clickCaptured, true);
    Object.defineProperty(prototype, "submitter", {
      get() {
        if (this.type == "submit" && this.target instanceof HTMLFormElement) {
          return submittersByForm.get(this.target);
        }
      }
    });
  })();
  var FrameLoadingStyle = {
    eager: "eager",
    lazy: "lazy"
  };
  var _FrameElement = class _FrameElement extends HTMLElement {
    constructor() {
      super();
      __publicField(this, "loaded", Promise.resolve());
      this.delegate = new _FrameElement.delegateConstructor(this);
    }
    static get observedAttributes() {
      return ["disabled", "loading", "src"];
    }
    connectedCallback() {
      this.delegate.connect();
    }
    disconnectedCallback() {
      this.delegate.disconnect();
    }
    reload() {
      return this.delegate.sourceURLReloaded();
    }
    attributeChangedCallback(name) {
      if (name == "loading") {
        this.delegate.loadingStyleChanged();
      } else if (name == "src") {
        this.delegate.sourceURLChanged();
      } else if (name == "disabled") {
        this.delegate.disabledChanged();
      }
    }
    /**
     * Gets the URL to lazily load source HTML from
     */
    get src() {
      return this.getAttribute("src");
    }
    /**
     * Sets the URL to lazily load source HTML from
     */
    set src(value) {
      if (value) {
        this.setAttribute("src", value);
      } else {
        this.removeAttribute("src");
      }
    }
    /**
     * Gets the refresh mode for the frame.
     */
    get refresh() {
      return this.getAttribute("refresh");
    }
    /**
     * Sets the refresh mode for the frame.
     */
    set refresh(value) {
      if (value) {
        this.setAttribute("refresh", value);
      } else {
        this.removeAttribute("refresh");
      }
    }
    /**
     * Determines if the element is loading
     */
    get loading() {
      return frameLoadingStyleFromString(this.getAttribute("loading") || "");
    }
    /**
     * Sets the value of if the element is loading
     */
    set loading(value) {
      if (value) {
        this.setAttribute("loading", value);
      } else {
        this.removeAttribute("loading");
      }
    }
    /**
     * Gets the disabled state of the frame.
     *
     * If disabled, no requests will be intercepted by the frame.
     */
    get disabled() {
      return this.hasAttribute("disabled");
    }
    /**
     * Sets the disabled state of the frame.
     *
     * If disabled, no requests will be intercepted by the frame.
     */
    set disabled(value) {
      if (value) {
        this.setAttribute("disabled", "");
      } else {
        this.removeAttribute("disabled");
      }
    }
    /**
     * Gets the autoscroll state of the frame.
     *
     * If true, the frame will be scrolled into view automatically on update.
     */
    get autoscroll() {
      return this.hasAttribute("autoscroll");
    }
    /**
     * Sets the autoscroll state of the frame.
     *
     * If true, the frame will be scrolled into view automatically on update.
     */
    set autoscroll(value) {
      if (value) {
        this.setAttribute("autoscroll", "");
      } else {
        this.removeAttribute("autoscroll");
      }
    }
    /**
     * Determines if the element has finished loading
     */
    get complete() {
      return !this.delegate.isLoading;
    }
    /**
     * Gets the active state of the frame.
     *
     * If inactive, source changes will not be observed.
     */
    get isActive() {
      return this.ownerDocument === document && !this.isPreview;
    }
    /**
     * Sets the active state of the frame.
     *
     * If inactive, source changes will not be observed.
     */
    get isPreview() {
      return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview");
    }
  };
  __publicField(_FrameElement, "delegateConstructor");
  var FrameElement = _FrameElement;
  function frameLoadingStyleFromString(style) {
    switch (style.toLowerCase()) {
      case "lazy":
        return FrameLoadingStyle.lazy;
      default:
        return FrameLoadingStyle.eager;
    }
  }
  function expandURL(locatable) {
    return new URL(locatable.toString(), document.baseURI);
  }
  function getAnchor(url) {
    let anchorMatch;
    if (url.hash) {
      return url.hash.slice(1);
    } else if (anchorMatch = url.href.match(/#(.*)$/)) {
      return anchorMatch[1];
    }
  }
  function getAction$1(form, submitter) {
    const action = submitter?.getAttribute("formaction") || form.getAttribute("action") || form.action;
    return expandURL(action);
  }
  function getExtension(url) {
    return (getLastPathComponent(url).match(/\.[^.]*$/) || [])[0] || "";
  }
  function isHTML(url) {
    return !!getExtension(url).match(/^(?:|\.(?:htm|html|xhtml|php))$/);
  }
  function isPrefixedBy(baseURL, url) {
    const prefix = getPrefix(url);
    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);
  }
  function locationIsVisitable(location2, rootLocation) {
    return isPrefixedBy(location2, rootLocation) && isHTML(location2);
  }
  function getRequestURL(url) {
    const anchor = getAnchor(url);
    return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href;
  }
  function toCacheKey(url) {
    return getRequestURL(url);
  }
  function urlsAreEqual(left, right) {
    return expandURL(left).href == expandURL(right).href;
  }
  function getPathComponents(url) {
    return url.pathname.split("/").slice(1);
  }
  function getLastPathComponent(url) {
    return getPathComponents(url).slice(-1)[0];
  }
  function getPrefix(url) {
    return addTrailingSlash(url.origin + url.pathname);
  }
  function addTrailingSlash(value) {
    return value.endsWith("/") ? value : value + "/";
  }
  var FetchResponse = class {
    constructor(response) {
      this.response = response;
    }
    get succeeded() {
      return this.response.ok;
    }
    get failed() {
      return !this.succeeded;
    }
    get clientError() {
      return this.statusCode >= 400 && this.statusCode <= 499;
    }
    get serverError() {
      return this.statusCode >= 500 && this.statusCode <= 599;
    }
    get redirected() {
      return this.response.redirected;
    }
    get location() {
      return expandURL(this.response.url);
    }
    get isHTML() {
      return this.contentType && this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/);
    }
    get statusCode() {
      return this.response.status;
    }
    get contentType() {
      return this.header("Content-Type");
    }
    get responseText() {
      return this.response.clone().text();
    }
    get responseHTML() {
      if (this.isHTML) {
        return this.response.clone().text();
      } else {
        return Promise.resolve(void 0);
      }
    }
    header(name) {
      return this.response.headers.get(name);
    }
  };
  function activateScriptElement(element) {
    if (element.getAttribute("data-turbo-eval") == "false") {
      return element;
    } else {
      const createdScriptElement = document.createElement("script");
      const cspNonce = getMetaContent("csp-nonce");
      if (cspNonce) {
        createdScriptElement.nonce = cspNonce;
      }
      createdScriptElement.textContent = element.textContent;
      createdScriptElement.async = false;
      copyElementAttributes(createdScriptElement, element);
      return createdScriptElement;
    }
  }
  function copyElementAttributes(destinationElement, sourceElement) {
    for (const { name, value } of sourceElement.attributes) {
      destinationElement.setAttribute(name, value);
    }
  }
  function createDocumentFragment(html) {
    const template = document.createElement("template");
    template.innerHTML = html;
    return template.content;
  }
  function dispatch(eventName, { target, cancelable, detail } = {}) {
    const event = new CustomEvent(eventName, {
      cancelable,
      bubbles: true,
      composed: true,
      detail
    });
    if (target && target.isConnected) {
      target.dispatchEvent(event);
    } else {
      document.documentElement.dispatchEvent(event);
    }
    return event;
  }
  function nextRepaint() {
    if (document.visibilityState === "hidden") {
      return nextEventLoopTick();
    } else {
      return nextAnimationFrame();
    }
  }
  function nextAnimationFrame() {
    return new Promise((resolve) => requestAnimationFrame(() => resolve()));
  }
  function nextEventLoopTick() {
    return new Promise((resolve) => setTimeout(() => resolve(), 0));
  }
  function nextMicrotask() {
    return Promise.resolve();
  }
  function parseHTMLDocument(html = "") {
    return new DOMParser().parseFromString(html, "text/html");
  }
  function unindent(strings, ...values) {
    const lines = interpolate(strings, values).replace(/^\n/, "").split("\n");
    const match2 = lines[0].match(/^\s+/);
    const indent = match2 ? match2[0].length : 0;
    return lines.map((line) => line.slice(indent)).join("\n");
  }
  function interpolate(strings, values) {
    return strings.reduce((result, string, i) => {
      const value = values[i] == void 0 ? "" : values[i];
      return result + string + value;
    }, "");
  }
  function uuid() {
    return Array.from({ length: 36 }).map((_, i) => {
      if (i == 8 || i == 13 || i == 18 || i == 23) {
        return "-";
      } else if (i == 14) {
        return "4";
      } else if (i == 19) {
        return (Math.floor(Math.random() * 4) + 8).toString(16);
      } else {
        return Math.floor(Math.random() * 15).toString(16);
      }
    }).join("");
  }
  function getAttribute(attributeName, ...elements) {
    for (const value of elements.map((element) => element?.getAttribute(attributeName))) {
      if (typeof value == "string") return value;
    }
    return null;
  }
  function hasAttribute(attributeName, ...elements) {
    return elements.some((element) => element && element.hasAttribute(attributeName));
  }
  function markAsBusy(...elements) {
    for (const element of elements) {
      if (element.localName == "turbo-frame") {
        element.setAttribute("busy", "");
      }
      element.setAttribute("aria-busy", "true");
    }
  }
  function clearBusyState(...elements) {
    for (const element of elements) {
      if (element.localName == "turbo-frame") {
        element.removeAttribute("busy");
      }
      element.removeAttribute("aria-busy");
    }
  }
  function waitForLoad(element, timeoutInMilliseconds = 2e3) {
    return new Promise((resolve) => {
      const onComplete = () => {
        element.removeEventListener("error", onComplete);
        element.removeEventListener("load", onComplete);
        resolve();
      };
      element.addEventListener("load", onComplete, { once: true });
      element.addEventListener("error", onComplete, { once: true });
      setTimeout(resolve, timeoutInMilliseconds);
    });
  }
  function getHistoryMethodForAction(action) {
    switch (action) {
      case "replace":
        return history.replaceState;
      case "advance":
      case "restore":
        return history.pushState;
    }
  }
  function isAction(action) {
    return action == "advance" || action == "replace" || action == "restore";
  }
  function getVisitAction(...elements) {
    const action = getAttribute("data-turbo-action", ...elements);
    return isAction(action) ? action : null;
  }
  function getMetaElement(name) {
    return document.querySelector(`meta[name="${name}"]`);
  }
  function getMetaContent(name) {
    const element = getMetaElement(name);
    return element && element.content;
  }
  function setMetaContent(name, content) {
    let element = getMetaElement(name);
    if (!element) {
      element = document.createElement("meta");
      element.setAttribute("name", name);
      document.head.appendChild(element);
    }
    element.setAttribute("content", content);
    return element;
  }
  function findClosestRecursively(element, selector) {
    if (element instanceof Element) {
      return element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector);
    }
  }
  function elementIsFocusable(element) {
    const inertDisabledOrHidden = "[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";
    return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == "function";
  }
  function queryAutofocusableElement(elementOrDocumentFragment) {
    return Array.from(elementOrDocumentFragment.querySelectorAll("[autofocus]")).find(elementIsFocusable);
  }
  async function around(callback, reader) {
    const before = reader();
    callback();
    await nextAnimationFrame();
    const after = reader();
    return [before, after];
  }
  function doesNotTargetIFrame(anchor) {
    if (anchor.hasAttribute("target")) {
      for (const element of document.getElementsByName(anchor.target)) {
        if (element instanceof HTMLIFrameElement) return false;
      }
    }
    return true;
  }
  function findLinkFromClickTarget(target) {
    return findClosestRecursively(target, "a[href]:not([target^=_]):not([download])");
  }
  function getLocationForLink(link) {
    return expandURL(link.getAttribute("href") || "");
  }
  function debounce(fn, delay) {
    let timeoutId = null;
    return (...args) => {
      const callback = () => fn.apply(this, args);
      clearTimeout(timeoutId);
      timeoutId = setTimeout(callback, delay);
    };
  }
  var LimitedSet = class extends Set {
    constructor(maxSize) {
      super();
      this.maxSize = maxSize;
    }
    add(value) {
      if (this.size >= this.maxSize) {
        const iterator = this.values();
        const oldestValue = iterator.next().value;
        this.delete(oldestValue);
      }
      super.add(value);
    }
  };
  var recentRequests = new LimitedSet(20);
  var nativeFetch = window.fetch;
  function fetchWithTurboHeaders(url, options = {}) {
    const modifiedHeaders = new Headers(options.headers || {});
    const requestUID = uuid();
    recentRequests.add(requestUID);
    modifiedHeaders.append("X-Turbo-Request-Id", requestUID);
    return nativeFetch(url, {
      ...options,
      headers: modifiedHeaders
    });
  }
  function fetchMethodFromString(method) {
    switch (method.toLowerCase()) {
      case "get":
        return FetchMethod.get;
      case "post":
        return FetchMethod.post;
      case "put":
        return FetchMethod.put;
      case "patch":
        return FetchMethod.patch;
      case "delete":
        return FetchMethod.delete;
    }
  }
  var FetchMethod = {
    get: "get",
    post: "post",
    put: "put",
    patch: "patch",
    delete: "delete"
  };
  function fetchEnctypeFromString(encoding) {
    switch (encoding.toLowerCase()) {
      case FetchEnctype.multipart:
        return FetchEnctype.multipart;
      case FetchEnctype.plain:
        return FetchEnctype.plain;
      default:
        return FetchEnctype.urlEncoded;
    }
  }
  var FetchEnctype = {
    urlEncoded: "application/x-www-form-urlencoded",
    multipart: "multipart/form-data",
    plain: "text/plain"
  };
  var _resolveRequestPromise, _FetchRequest_instances, allowRequestToBeIntercepted_fn, willDelegateErrorHandling_fn;
  var FetchRequest = class {
    constructor(delegate, method, location2, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {
      __privateAdd(this, _FetchRequest_instances);
      __publicField(this, "abortController", new AbortController());
      __privateAdd(this, _resolveRequestPromise, (_value) => {
      });
      const [url, body] = buildResourceAndBody(expandURL(location2), method, requestBody, enctype);
      this.delegate = delegate;
      this.url = url;
      this.target = target;
      this.fetchOptions = {
        credentials: "same-origin",
        redirect: "follow",
        method,
        headers: { ...this.defaultHeaders },
        body,
        signal: this.abortSignal,
        referrer: this.delegate.referrer?.href
      };
      this.enctype = enctype;
    }
    get method() {
      return this.fetchOptions.method;
    }
    set method(value) {
      const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();
      const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;
      this.url.search = "";
      const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);
      this.url = url;
      this.fetchOptions.body = body;
      this.fetchOptions.method = fetchMethod;
    }
    get headers() {
      return this.fetchOptions.headers;
    }
    set headers(value) {
      this.fetchOptions.headers = value;
    }
    get body() {
      if (this.isSafe) {
        return this.url.searchParams;
      } else {
        return this.fetchOptions.body;
      }
    }
    set body(value) {
      this.fetchOptions.body = value;
    }
    get location() {
      return this.url;
    }
    get params() {
      return this.url.searchParams;
    }
    get entries() {
      return this.body ? Array.from(this.body.entries()) : [];
    }
    cancel() {
      this.abortController.abort();
    }
    async perform() {
      const { fetchOptions } = this;
      this.delegate.prepareRequest(this);
      const event = await __privateMethod(this, _FetchRequest_instances, allowRequestToBeIntercepted_fn).call(this, fetchOptions);
      try {
        this.delegate.requestStarted(this);
        if (event.detail.fetchRequest) {
          this.response = event.detail.fetchRequest.response;
        } else {
          this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);
        }
        const response = await this.response;
        return await this.receive(response);
      } catch (error2) {
        if (error2.name !== "AbortError") {
          if (__privateMethod(this, _FetchRequest_instances, willDelegateErrorHandling_fn).call(this, error2)) {
            this.delegate.requestErrored(this, error2);
          }
          throw error2;
        }
      } finally {
        this.delegate.requestFinished(this);
      }
    }
    async receive(response) {
      const fetchResponse = new FetchResponse(response);
      const event = dispatch("turbo:before-fetch-response", {
        cancelable: true,
        detail: { fetchResponse },
        target: this.target
      });
      if (event.defaultPrevented) {
        this.delegate.requestPreventedHandlingResponse(this, fetchResponse);
      } else if (fetchResponse.succeeded) {
        this.delegate.requestSucceededWithResponse(this, fetchResponse);
      } else {
        this.delegate.requestFailedWithResponse(this, fetchResponse);
      }
      return fetchResponse;
    }
    get defaultHeaders() {
      return {
        Accept: "text/html, application/xhtml+xml"
      };
    }
    get isSafe() {
      return isSafe(this.method);
    }
    get abortSignal() {
      return this.abortController.signal;
    }
    acceptResponseType(mimeType) {
      this.headers["Accept"] = [mimeType, this.headers["Accept"]].join(", ");
    }
  };
  _resolveRequestPromise = new WeakMap();
  _FetchRequest_instances = new WeakSet();
  allowRequestToBeIntercepted_fn = async function(fetchOptions) {
    const requestInterception = new Promise((resolve) => __privateSet(this, _resolveRequestPromise, resolve));
    const event = dispatch("turbo:before-fetch-request", {
      cancelable: true,
      detail: {
        fetchOptions,
        url: this.url,
        resume: __privateGet(this, _resolveRequestPromise)
      },
      target: this.target
    });
    this.url = event.detail.url;
    if (event.defaultPrevented) await requestInterception;
    return event;
  };
  willDelegateErrorHandling_fn = function(error2) {
    const event = dispatch("turbo:fetch-request-error", {
      target: this.target,
      cancelable: true,
      detail: { request: this, error: error2 }
    });
    return !event.defaultPrevented;
  };
  function isSafe(fetchMethod) {
    return fetchMethodFromString(fetchMethod) == FetchMethod.get;
  }
  function buildResourceAndBody(resource, method, requestBody, enctype) {
    const searchParams = Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;
    if (isSafe(method)) {
      return [mergeIntoURLSearchParams(resource, searchParams), null];
    } else if (enctype == FetchEnctype.urlEncoded) {
      return [resource, searchParams];
    } else {
      return [resource, requestBody];
    }
  }
  function entriesExcludingFiles(requestBody) {
    const entries = [];
    for (const [name, value] of requestBody) {
      if (value instanceof File) continue;
      else entries.push([name, value]);
    }
    return entries;
  }
  function mergeIntoURLSearchParams(url, requestBody) {
    const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));
    url.search = searchParams.toString();
    return url;
  }
  var AppearanceObserver = class {
    constructor(delegate, element) {
      __publicField(this, "started", false);
      __publicField(this, "intersect", (entries) => {
        const lastEntry = entries.slice(-1)[0];
        if (lastEntry?.isIntersecting) {
          this.delegate.elementAppearedInViewport(this.element);
        }
      });
      this.delegate = delegate;
      this.element = element;
      this.intersectionObserver = new IntersectionObserver(this.intersect);
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.intersectionObserver.observe(this.element);
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.intersectionObserver.unobserve(this.element);
      }
    }
  };
  var StreamMessage = class {
    static wrap(message2) {
      if (typeof message2 == "string") {
        return new this(createDocumentFragment(message2));
      } else {
        return message2;
      }
    }
    constructor(fragment) {
      this.fragment = importStreamElements(fragment);
    }
  };
  __publicField(StreamMessage, "contentType", "text/vnd.turbo-stream.html");
  function importStreamElements(fragment) {
    for (const element of fragment.querySelectorAll("turbo-stream")) {
      const streamElement = document.importNode(element, true);
      for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll("script")) {
        inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));
      }
      element.replaceWith(streamElement);
    }
    return fragment;
  }
  var PREFETCH_DELAY = 100;
  var _prefetchTimeout, _prefetched;
  var PrefetchCache = class {
    constructor() {
      __privateAdd(this, _prefetchTimeout, null);
      __privateAdd(this, _prefetched, null);
    }
    get(url) {
      if (__privateGet(this, _prefetched) && __privateGet(this, _prefetched).url === url && __privateGet(this, _prefetched).expire > Date.now()) {
        return __privateGet(this, _prefetched).request;
      }
    }
    setLater(url, request, ttl) {
      this.clear();
      __privateSet(this, _prefetchTimeout, setTimeout(() => {
        request.perform();
        this.set(url, request, ttl);
        __privateSet(this, _prefetchTimeout, null);
      }, PREFETCH_DELAY));
    }
    set(url, request, ttl) {
      __privateSet(this, _prefetched, { url, request, expire: new Date((/* @__PURE__ */ new Date()).getTime() + ttl) });
    }
    clear() {
      if (__privateGet(this, _prefetchTimeout)) clearTimeout(__privateGet(this, _prefetchTimeout));
      __privateSet(this, _prefetched, null);
    }
  };
  _prefetchTimeout = new WeakMap();
  _prefetched = new WeakMap();
  var cacheTtl = 10 * 1e3;
  var prefetchCache = new PrefetchCache();
  var FormSubmissionState = {
    initialized: "initialized",
    requesting: "requesting",
    waiting: "waiting",
    receiving: "receiving",
    stopping: "stopping",
    stopped: "stopped"
  };
  var FormSubmission = class _FormSubmission {
    constructor(delegate, formElement, submitter, mustRedirect = false) {
      __publicField(this, "state", FormSubmissionState.initialized);
      const method = getMethod(formElement, submitter);
      const action = getAction(getFormAction(formElement, submitter), method);
      const body = buildFormData(formElement, submitter);
      const enctype = getEnctype(formElement, submitter);
      this.delegate = delegate;
      this.formElement = formElement;
      this.submitter = submitter;
      this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);
      this.mustRedirect = mustRedirect;
    }
    static confirmMethod(message2, _element, _submitter) {
      return Promise.resolve(confirm(message2));
    }
    get method() {
      return this.fetchRequest.method;
    }
    set method(value) {
      this.fetchRequest.method = value;
    }
    get action() {
      return this.fetchRequest.url.toString();
    }
    set action(value) {
      this.fetchRequest.url = expandURL(value);
    }
    get body() {
      return this.fetchRequest.body;
    }
    get enctype() {
      return this.fetchRequest.enctype;
    }
    get isSafe() {
      return this.fetchRequest.isSafe;
    }
    get location() {
      return this.fetchRequest.url;
    }
    // The submission process
    async start() {
      const { initialized, requesting } = FormSubmissionState;
      const confirmationMessage = getAttribute("data-turbo-confirm", this.submitter, this.formElement);
      if (typeof confirmationMessage === "string") {
        const answer = await _FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);
        if (!answer) {
          return;
        }
      }
      if (this.state == initialized) {
        this.state = requesting;
        return this.fetchRequest.perform();
      }
    }
    stop() {
      const { stopping, stopped } = FormSubmissionState;
      if (this.state != stopping && this.state != stopped) {
        this.state = stopping;
        this.fetchRequest.cancel();
        return true;
      }
    }
    // Fetch request delegate
    prepareRequest(request) {
      if (!request.isSafe) {
        const token = getCookieValue(getMetaContent("csrf-param")) || getMetaContent("csrf-token");
        if (token) {
          request.headers["X-CSRF-Token"] = token;
        }
      }
      if (this.requestAcceptsTurboStreamResponse(request)) {
        request.acceptResponseType(StreamMessage.contentType);
      }
    }
    requestStarted(_request) {
      this.state = FormSubmissionState.waiting;
      this.submitter?.setAttribute("disabled", "");
      this.setSubmitsWith();
      markAsBusy(this.formElement);
      dispatch("turbo:submit-start", {
        target: this.formElement,
        detail: { formSubmission: this }
      });
      this.delegate.formSubmissionStarted(this);
    }
    requestPreventedHandlingResponse(request, response) {
      prefetchCache.clear();
      this.result = { success: response.succeeded, fetchResponse: response };
    }
    requestSucceededWithResponse(request, response) {
      if (response.clientError || response.serverError) {
        this.delegate.formSubmissionFailedWithResponse(this, response);
        return;
      }
      prefetchCache.clear();
      if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {
        const error2 = new Error("Form responses must redirect to another location");
        this.delegate.formSubmissionErrored(this, error2);
      } else {
        this.state = FormSubmissionState.receiving;
        this.result = { success: true, fetchResponse: response };
        this.delegate.formSubmissionSucceededWithResponse(this, response);
      }
    }
    requestFailedWithResponse(request, response) {
      this.result = { success: false, fetchResponse: response };
      this.delegate.formSubmissionFailedWithResponse(this, response);
    }
    requestErrored(request, error2) {
      this.result = { success: false, error: error2 };
      this.delegate.formSubmissionErrored(this, error2);
    }
    requestFinished(_request) {
      this.state = FormSubmissionState.stopped;
      this.submitter?.removeAttribute("disabled");
      this.resetSubmitterText();
      clearBusyState(this.formElement);
      dispatch("turbo:submit-end", {
        target: this.formElement,
        detail: { formSubmission: this, ...this.result }
      });
      this.delegate.formSubmissionFinished(this);
    }
    // Private
    setSubmitsWith() {
      if (!this.submitter || !this.submitsWith) return;
      if (this.submitter.matches("button")) {
        this.originalSubmitText = this.submitter.innerHTML;
        this.submitter.innerHTML = this.submitsWith;
      } else if (this.submitter.matches("input")) {
        const input = this.submitter;
        this.originalSubmitText = input.value;
        input.value = this.submitsWith;
      }
    }
    resetSubmitterText() {
      if (!this.submitter || !this.originalSubmitText) return;
      if (this.submitter.matches("button")) {
        this.submitter.innerHTML = this.originalSubmitText;
      } else if (this.submitter.matches("input")) {
        const input = this.submitter;
        input.value = this.originalSubmitText;
      }
    }
    requestMustRedirect(request) {
      return !request.isSafe && this.mustRedirect;
    }
    requestAcceptsTurboStreamResponse(request) {
      return !request.isSafe || hasAttribute("data-turbo-stream", this.submitter, this.formElement);
    }
    get submitsWith() {
      return this.submitter?.getAttribute("data-turbo-submits-with");
    }
  };
  function buildFormData(formElement, submitter) {
    const formData = new FormData(formElement);
    const name = submitter?.getAttribute("name");
    const value = submitter?.getAttribute("value");
    if (name) {
      formData.append(name, value || "");
    }
    return formData;
  }
  function getCookieValue(cookieName) {
    if (cookieName != null) {
      const cookies = document.cookie ? document.cookie.split("; ") : [];
      const cookie = cookies.find((cookie2) => cookie2.startsWith(cookieName));
      if (cookie) {
        const value = cookie.split("=").slice(1).join("=");
        return value ? decodeURIComponent(value) : void 0;
      }
    }
  }
  function responseSucceededWithoutRedirect(response) {
    return response.statusCode == 200 && !response.redirected;
  }
  function getFormAction(formElement, submitter) {
    const formElementAction = typeof formElement.action === "string" ? formElement.action : null;
    if (submitter?.hasAttribute("formaction")) {
      return submitter.getAttribute("formaction") || "";
    } else {
      return formElement.getAttribute("action") || formElementAction || "";
    }
  }
  function getAction(formAction, fetchMethod) {
    const action = expandURL(formAction);
    if (isSafe(fetchMethod)) {
      action.search = "";
    }
    return action;
  }
  function getMethod(formElement, submitter) {
    const method = submitter?.getAttribute("formmethod") || formElement.getAttribute("method") || "";
    return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;
  }
  function getEnctype(formElement, submitter) {
    return fetchEnctypeFromString(submitter?.getAttribute("formenctype") || formElement.enctype);
  }
  var Snapshot = class {
    constructor(element) {
      this.element = element;
    }
    get activeElement() {
      return this.element.ownerDocument.activeElement;
    }
    get children() {
      return [...this.element.children];
    }
    hasAnchor(anchor) {
      return this.getElementForAnchor(anchor) != null;
    }
    getElementForAnchor(anchor) {
      return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null;
    }
    get isConnected() {
      return this.element.isConnected;
    }
    get firstAutofocusableElement() {
      return queryAutofocusableElement(this.element);
    }
    get permanentElements() {
      return queryPermanentElementsAll(this.element);
    }
    getPermanentElementById(id) {
      return getPermanentElementById(this.element, id);
    }
    getPermanentElementMapForSnapshot(snapshot) {
      const permanentElementMap = {};
      for (const currentPermanentElement of this.permanentElements) {
        const { id } = currentPermanentElement;
        const newPermanentElement = snapshot.getPermanentElementById(id);
        if (newPermanentElement) {
          permanentElementMap[id] = [currentPermanentElement, newPermanentElement];
        }
      }
      return permanentElementMap;
    }
  };
  function getPermanentElementById(node, id) {
    return node.querySelector(`#${id}[data-turbo-permanent]`);
  }
  function queryPermanentElementsAll(node) {
    return node.querySelectorAll("[id][data-turbo-permanent]");
  }
  var FormSubmitObserver = class {
    constructor(delegate, eventTarget) {
      __publicField(this, "started", false);
      __publicField(this, "submitCaptured", () => {
        this.eventTarget.removeEventListener("submit", this.submitBubbled, false);
        this.eventTarget.addEventListener("submit", this.submitBubbled, false);
      });
      __publicField(this, "submitBubbled", (event) => {
        if (!event.defaultPrevented) {
          const form = event.target instanceof HTMLFormElement ? event.target : void 0;
          const submitter = event.submitter || void 0;
          if (form && submissionDoesNotDismissDialog(form, submitter) && submissionDoesNotTargetIFrame(form, submitter) && this.delegate.willSubmitForm(form, submitter)) {
            event.preventDefault();
            event.stopImmediatePropagation();
            this.delegate.formSubmitted(form, submitter);
          }
        }
      });
      this.delegate = delegate;
      this.eventTarget = eventTarget;
    }
    start() {
      if (!this.started) {
        this.eventTarget.addEventListener("submit", this.submitCaptured, true);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.eventTarget.removeEventListener("submit", this.submitCaptured, true);
        this.started = false;
      }
    }
  };
  function submissionDoesNotDismissDialog(form, submitter) {
    const method = submitter?.getAttribute("formmethod") || form.getAttribute("method");
    return method != "dialog";
  }
  function submissionDoesNotTargetIFrame(form, submitter) {
    if (submitter?.hasAttribute("formtarget") || form.hasAttribute("target")) {
      const target = submitter?.getAttribute("formtarget") || form.target;
      for (const element of document.getElementsByName(target)) {
        if (element instanceof HTMLIFrameElement) return false;
      }
      return true;
    } else {
      return true;
    }
  }
  var _resolveRenderPromise, _resolveInterceptionPromise;
  var View = class {
    constructor(delegate, element) {
      __privateAdd(this, _resolveRenderPromise, (_value) => {
      });
      __privateAdd(this, _resolveInterceptionPromise, (_value) => {
      });
      this.delegate = delegate;
      this.element = element;
    }
    // Scrolling
    scrollToAnchor(anchor) {
      const element = this.snapshot.getElementForAnchor(anchor);
      if (element) {
        this.scrollToElement(element);
        this.focusElement(element);
      } else {
        this.scrollToPosition({ x: 0, y: 0 });
      }
    }
    scrollToAnchorFromLocation(location2) {
      this.scrollToAnchor(getAnchor(location2));
    }
    scrollToElement(element) {
      element.scrollIntoView();
    }
    focusElement(element) {
      if (element instanceof HTMLElement) {
        if (element.hasAttribute("tabindex")) {
          element.focus();
        } else {
          element.setAttribute("tabindex", "-1");
          element.focus();
          element.removeAttribute("tabindex");
        }
      }
    }
    scrollToPosition({ x, y }) {
      this.scrollRoot.scrollTo(x, y);
    }
    scrollToTop() {
      this.scrollToPosition({ x: 0, y: 0 });
    }
    get scrollRoot() {
      return window;
    }
    // Rendering
    async render(renderer) {
      const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;
      const shouldInvalidate = willRender;
      if (shouldRender) {
        try {
          this.renderPromise = new Promise((resolve) => __privateSet(this, _resolveRenderPromise, resolve));
          this.renderer = renderer;
          await this.prepareToRenderSnapshot(renderer);
          const renderInterception = new Promise((resolve) => __privateSet(this, _resolveInterceptionPromise, resolve));
          const options = { resume: __privateGet(this, _resolveInterceptionPromise), render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };
          const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);
          if (!immediateRender) await renderInterception;
          await this.renderSnapshot(renderer);
          this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);
          this.delegate.preloadOnLoadLinksForView(this.element);
          this.finishRenderingSnapshot(renderer);
        } finally {
          delete this.renderer;
          __privateGet(this, _resolveRenderPromise).call(this, void 0);
          delete this.renderPromise;
        }
      } else if (shouldInvalidate) {
        this.invalidate(renderer.reloadReason);
      }
    }
    invalidate(reason) {
      this.delegate.viewInvalidated(reason);
    }
    async prepareToRenderSnapshot(renderer) {
      this.markAsPreview(renderer.isPreview);
      await renderer.prepareToRender();
    }
    markAsPreview(isPreview) {
      if (isPreview) {
        this.element.setAttribute("data-turbo-preview", "");
      } else {
        this.element.removeAttribute("data-turbo-preview");
      }
    }
    markVisitDirection(direction) {
      this.element.setAttribute("data-turbo-visit-direction", direction);
    }
    unmarkVisitDirection() {
      this.element.removeAttribute("data-turbo-visit-direction");
    }
    async renderSnapshot(renderer) {
      await renderer.render();
    }
    finishRenderingSnapshot(renderer) {
      renderer.finishRendering();
    }
  };
  _resolveRenderPromise = new WeakMap();
  _resolveInterceptionPromise = new WeakMap();
  var FrameView = class extends View {
    missing() {
      this.element.innerHTML = `<strong class="turbo-frame-error">Content missing</strong>`;
    }
    get snapshot() {
      return new Snapshot(this.element);
    }
  };
  var LinkInterceptor = class {
    constructor(delegate, element) {
      __publicField(this, "clickBubbled", (event) => {
        if (this.respondsToEventTarget(event.target)) {
          this.clickEvent = event;
        } else {
          delete this.clickEvent;
        }
      });
      __publicField(this, "linkClicked", (event) => {
        if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {
          if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {
            this.clickEvent.preventDefault();
            event.preventDefault();
            this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);
          }
        }
        delete this.clickEvent;
      });
      __publicField(this, "willVisit", (_event) => {
        delete this.clickEvent;
      });
      this.delegate = delegate;
      this.element = element;
    }
    start() {
      this.element.addEventListener("click", this.clickBubbled);
      document.addEventListener("turbo:click", this.linkClicked);
      document.addEventListener("turbo:before-visit", this.willVisit);
    }
    stop() {
      this.element.removeEventListener("click", this.clickBubbled);
      document.removeEventListener("turbo:click", this.linkClicked);
      document.removeEventListener("turbo:before-visit", this.willVisit);
    }
    respondsToEventTarget(target) {
      const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;
      return element && element.closest("turbo-frame, html") == this.element;
    }
  };
  var LinkClickObserver = class {
    constructor(delegate, eventTarget) {
      __publicField(this, "started", false);
      __publicField(this, "clickCaptured", () => {
        this.eventTarget.removeEventListener("click", this.clickBubbled, false);
        this.eventTarget.addEventListener("click", this.clickBubbled, false);
      });
      __publicField(this, "clickBubbled", (event) => {
        if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {
          const target = event.composedPath && event.composedPath()[0] || event.target;
          const link = findLinkFromClickTarget(target);
          if (link && doesNotTargetIFrame(link)) {
            const location2 = getLocationForLink(link);
            if (this.delegate.willFollowLinkToLocation(link, location2, event)) {
              event.preventDefault();
              this.delegate.followedLinkToLocation(link, location2);
            }
          }
        }
      });
      this.delegate = delegate;
      this.eventTarget = eventTarget;
    }
    start() {
      if (!this.started) {
        this.eventTarget.addEventListener("click", this.clickCaptured, true);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.eventTarget.removeEventListener("click", this.clickCaptured, true);
        this.started = false;
      }
    }
    clickEventIsSignificant(event) {
      return !(event.target && event.target.isContentEditable || event.defaultPrevented || event.which > 1 || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey);
    }
  };
  var FormLinkClickObserver = class {
    constructor(delegate, element) {
      this.delegate = delegate;
      this.linkInterceptor = new LinkClickObserver(this, element);
    }
    start() {
      this.linkInterceptor.start();
    }
    stop() {
      this.linkInterceptor.stop();
    }
    // Link hover observer delegate
    canPrefetchRequestToLocation(link, location2) {
      return false;
    }
    prefetchAndCacheRequestToLocation(link, location2) {
      return;
    }
    // Link click observer delegate
    willFollowLinkToLocation(link, location2, originalEvent) {
      return this.delegate.willSubmitFormLinkToLocation(link, location2, originalEvent) && (link.hasAttribute("data-turbo-method") || link.hasAttribute("data-turbo-stream"));
    }
    followedLinkToLocation(link, location2) {
      const form = document.createElement("form");
      const type = "hidden";
      for (const [name, value] of location2.searchParams) {
        form.append(Object.assign(document.createElement("input"), { type, name, value }));
      }
      const action = Object.assign(location2, { search: "" });
      form.setAttribute("data-turbo", "true");
      form.setAttribute("action", action.href);
      form.setAttribute("hidden", "");
      const method = link.getAttribute("data-turbo-method");
      if (method) form.setAttribute("method", method);
      const turboFrame = link.getAttribute("data-turbo-frame");
      if (turboFrame) form.setAttribute("data-turbo-frame", turboFrame);
      const turboAction = getVisitAction(link);
      if (turboAction) form.setAttribute("data-turbo-action", turboAction);
      const turboConfirm = link.getAttribute("data-turbo-confirm");
      if (turboConfirm) form.setAttribute("data-turbo-confirm", turboConfirm);
      const turboStream = link.hasAttribute("data-turbo-stream");
      if (turboStream) form.setAttribute("data-turbo-stream", "");
      this.delegate.submittedFormLinkToLocation(link, location2, form);
      document.body.appendChild(form);
      form.addEventListener("turbo:submit-end", () => form.remove(), { once: true });
      requestAnimationFrame(() => form.requestSubmit());
    }
  };
  var Bardo = class {
    static async preservingPermanentElements(delegate, permanentElementMap, callback) {
      const bardo = new this(delegate, permanentElementMap);
      bardo.enter();
      await callback();
      bardo.leave();
    }
    constructor(delegate, permanentElementMap) {
      this.delegate = delegate;
      this.permanentElementMap = permanentElementMap;
    }
    enter() {
      for (const id in this.permanentElementMap) {
        const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];
        this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);
        this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);
      }
    }
    leave() {
      for (const id in this.permanentElementMap) {
        const [currentPermanentElement] = this.permanentElementMap[id];
        this.replaceCurrentPermanentElementWithClone(currentPermanentElement);
        this.replacePlaceholderWithPermanentElement(currentPermanentElement);
        this.delegate.leavingBardo(currentPermanentElement);
      }
    }
    replaceNewPermanentElementWithPlaceholder(permanentElement) {
      const placeholder = createPlaceholderForPermanentElement(permanentElement);
      permanentElement.replaceWith(placeholder);
    }
    replaceCurrentPermanentElementWithClone(permanentElement) {
      const clone = permanentElement.cloneNode(true);
      permanentElement.replaceWith(clone);
    }
    replacePlaceholderWithPermanentElement(permanentElement) {
      const placeholder = this.getPlaceholderById(permanentElement.id);
      placeholder?.replaceWith(permanentElement);
    }
    getPlaceholderById(id) {
      return this.placeholders.find((element) => element.content == id);
    }
    get placeholders() {
      return [...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")];
    }
  };
  function createPlaceholderForPermanentElement(permanentElement) {
    const element = document.createElement("meta");
    element.setAttribute("name", "turbo-permanent-placeholder");
    element.setAttribute("content", permanentElement.id);
    return element;
  }
  var _activeElement;
  var Renderer = class {
    constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {
      __privateAdd(this, _activeElement, null);
      this.currentSnapshot = currentSnapshot;
      this.newSnapshot = newSnapshot;
      this.isPreview = isPreview;
      this.willRender = willRender;
      this.renderElement = renderElement;
      this.promise = new Promise((resolve, reject) => this.resolvingFunctions = { resolve, reject });
    }
    get shouldRender() {
      return true;
    }
    get reloadReason() {
      return;
    }
    prepareToRender() {
      return;
    }
    render() {
    }
    finishRendering() {
      if (this.resolvingFunctions) {
        this.resolvingFunctions.resolve();
        delete this.resolvingFunctions;
      }
    }
    async preservingPermanentElements(callback) {
      await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);
    }
    focusFirstAutofocusableElement() {
      const element = this.connectedSnapshot.firstAutofocusableElement;
      if (element) {
        element.focus();
      }
    }
    // Bardo delegate
    enteringBardo(currentPermanentElement) {
      if (__privateGet(this, _activeElement)) return;
      if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {
        __privateSet(this, _activeElement, this.currentSnapshot.activeElement);
      }
    }
    leavingBardo(currentPermanentElement) {
      if (currentPermanentElement.contains(__privateGet(this, _activeElement)) && __privateGet(this, _activeElement) instanceof HTMLElement) {
        __privateGet(this, _activeElement).focus();
        __privateSet(this, _activeElement, null);
      }
    }
    get connectedSnapshot() {
      return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot;
    }
    get currentElement() {
      return this.currentSnapshot.element;
    }
    get newElement() {
      return this.newSnapshot.element;
    }
    get permanentElementMap() {
      return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot);
    }
    get renderMethod() {
      return "replace";
    }
  };
  _activeElement = new WeakMap();
  var FrameRenderer = class extends Renderer {
    static renderElement(currentElement, newElement) {
      const destinationRange = document.createRange();
      destinationRange.selectNodeContents(currentElement);
      destinationRange.deleteContents();
      const frameElement = newElement;
      const sourceRange = frameElement.ownerDocument?.createRange();
      if (sourceRange) {
        sourceRange.selectNodeContents(frameElement);
        currentElement.appendChild(sourceRange.extractContents());
      }
    }
    constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {
      super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);
      this.delegate = delegate;
    }
    get shouldRender() {
      return true;
    }
    async render() {
      await nextRepaint();
      this.preservingPermanentElements(() => {
        this.loadFrameElement();
      });
      this.scrollFrameIntoView();
      await nextRepaint();
      this.focusFirstAutofocusableElement();
      await nextRepaint();
      this.activateScriptElements();
    }
    loadFrameElement() {
      this.delegate.willRenderFrame(this.currentElement, this.newElement);
      this.renderElement(this.currentElement, this.newElement);
    }
    scrollFrameIntoView() {
      if (this.currentElement.autoscroll || this.newElement.autoscroll) {
        const element = this.currentElement.firstElementChild;
        const block = readScrollLogicalPosition(this.currentElement.getAttribute("data-autoscroll-block"), "end");
        const behavior = readScrollBehavior(this.currentElement.getAttribute("data-autoscroll-behavior"), "auto");
        if (element) {
          element.scrollIntoView({ block, behavior });
          return true;
        }
      }
      return false;
    }
    activateScriptElements() {
      for (const inertScriptElement of this.newScriptElements) {
        const activatedScriptElement = activateScriptElement(inertScriptElement);
        inertScriptElement.replaceWith(activatedScriptElement);
      }
    }
    get newScriptElements() {
      return this.currentElement.querySelectorAll("script");
    }
  };
  function readScrollLogicalPosition(value, defaultValue) {
    if (value == "end" || value == "start" || value == "center" || value == "nearest") {
      return value;
    } else {
      return defaultValue;
    }
  }
  function readScrollBehavior(value, defaultValue) {
    if (value == "auto" || value == "smooth") {
      return value;
    } else {
      return defaultValue;
    }
  }
  var _ProgressBar = class _ProgressBar {
    constructor() {
      __publicField(this, "hiding", false);
      __publicField(this, "value", 0);
      __publicField(this, "visible", false);
      __publicField(this, "trickle", () => {
        this.setValue(this.value + Math.random() / 100);
      });
      this.stylesheetElement = this.createStylesheetElement();
      this.progressElement = this.createProgressElement();
      this.installStylesheetElement();
      this.setValue(0);
    }
    /*ms*/
    static get defaultCSS() {
      return unindent`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${_ProgressBar.animationDuration}ms ease-out,
          opacity ${_ProgressBar.animationDuration / 2}ms ${_ProgressBar.animationDuration / 2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `;
    }
    show() {
      if (!this.visible) {
        this.visible = true;
        this.installProgressElement();
        this.startTrickling();
      }
    }
    hide() {
      if (this.visible && !this.hiding) {
        this.hiding = true;
        this.fadeProgressElement(() => {
          this.uninstallProgressElement();
          this.stopTrickling();
          this.visible = false;
          this.hiding = false;
        });
      }
    }
    setValue(value) {
      this.value = value;
      this.refresh();
    }
    // Private
    installStylesheetElement() {
      document.head.insertBefore(this.stylesheetElement, document.head.firstChild);
    }
    installProgressElement() {
      this.progressElement.style.width = "0";
      this.progressElement.style.opacity = "1";
      document.documentElement.insertBefore(this.progressElement, document.body);
      this.refresh();
    }
    fadeProgressElement(callback) {
      this.progressElement.style.opacity = "0";
      setTimeout(callback, _ProgressBar.animationDuration * 1.5);
    }
    uninstallProgressElement() {
      if (this.progressElement.parentNode) {
        document.documentElement.removeChild(this.progressElement);
      }
    }
    startTrickling() {
      if (!this.trickleInterval) {
        this.trickleInterval = window.setInterval(this.trickle, _ProgressBar.animationDuration);
      }
    }
    stopTrickling() {
      window.clearInterval(this.trickleInterval);
      delete this.trickleInterval;
    }
    refresh() {
      requestAnimationFrame(() => {
        this.progressElement.style.width = `${10 + this.value * 90}%`;
      });
    }
    createStylesheetElement() {
      const element = document.createElement("style");
      element.type = "text/css";
      element.textContent = _ProgressBar.defaultCSS;
      if (this.cspNonce) {
        element.nonce = this.cspNonce;
      }
      return element;
    }
    createProgressElement() {
      const element = document.createElement("div");
      element.className = "turbo-progress-bar";
      return element;
    }
    get cspNonce() {
      return getMetaContent("csp-nonce");
    }
  };
  __publicField(_ProgressBar, "animationDuration", 300);
  var ProgressBar = _ProgressBar;
  var HeadSnapshot = class extends Snapshot {
    constructor() {
      super(...arguments);
      __publicField(this, "detailsByOuterHTML", this.children.filter((element) => !elementIsNoscript(element)).map((element) => elementWithoutNonce(element)).reduce((result, element) => {
        const { outerHTML } = element;
        const details = outerHTML in result ? result[outerHTML] : {
          type: elementType(element),
          tracked: elementIsTracked(element),
          elements: []
        };
        return {
          ...result,
          [outerHTML]: {
            ...details,
            elements: [...details.elements, element]
          }
        };
      }, {}));
    }
    get trackedElementSignature() {
      return Object.keys(this.detailsByOuterHTML).filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked).join("");
    }
    getScriptElementsNotInSnapshot(snapshot) {
      return this.getElementsMatchingTypeNotInSnapshot("script", snapshot);
    }
    getStylesheetElementsNotInSnapshot(snapshot) {
      return this.getElementsMatchingTypeNotInSnapshot("stylesheet", snapshot);
    }
    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {
      return Object.keys(this.detailsByOuterHTML).filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML)).map((outerHTML) => this.detailsByOuterHTML[outerHTML]).filter(({ type }) => type == matchedType).map(({ elements: [element] }) => element);
    }
    get provisionalElements() {
      return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {
        const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];
        if (type == null && !tracked) {
          return [...result, ...elements];
        } else if (elements.length > 1) {
          return [...result, ...elements.slice(1)];
        } else {
          return result;
        }
      }, []);
    }
    getMetaValue(name) {
      const element = this.findMetaElementByName(name);
      return element ? element.getAttribute("content") : null;
    }
    findMetaElementByName(name) {
      return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {
        const {
          elements: [element]
        } = this.detailsByOuterHTML[outerHTML];
        return elementIsMetaElementWithName(element, name) ? element : result;
      }, void 0 | void 0);
    }
  };
  function elementType(element) {
    if (elementIsScript(element)) {
      return "script";
    } else if (elementIsStylesheet(element)) {
      return "stylesheet";
    }
  }
  function elementIsTracked(element) {
    return element.getAttribute("data-turbo-track") == "reload";
  }
  function elementIsScript(element) {
    const tagName = element.localName;
    return tagName == "script";
  }
  function elementIsNoscript(element) {
    const tagName = element.localName;
    return tagName == "noscript";
  }
  function elementIsStylesheet(element) {
    const tagName = element.localName;
    return tagName == "style" || tagName == "link" && element.getAttribute("rel") == "stylesheet";
  }
  function elementIsMetaElementWithName(element, name) {
    const tagName = element.localName;
    return tagName == "meta" && element.getAttribute("name") == name;
  }
  function elementWithoutNonce(element) {
    if (element.hasAttribute("nonce")) {
      element.setAttribute("nonce", "");
    }
    return element;
  }
  var PageSnapshot = class _PageSnapshot extends Snapshot {
    static fromHTMLString(html = "") {
      return this.fromDocument(parseHTMLDocument(html));
    }
    static fromElement(element) {
      return this.fromDocument(element.ownerDocument);
    }
    static fromDocument({ documentElement, body, head }) {
      return new this(documentElement, body, new HeadSnapshot(head));
    }
    constructor(documentElement, body, headSnapshot) {
      super(body);
      this.documentElement = documentElement;
      this.headSnapshot = headSnapshot;
    }
    clone() {
      const clonedElement = this.element.cloneNode(true);
      const selectElements = this.element.querySelectorAll("select");
      const clonedSelectElements = clonedElement.querySelectorAll("select");
      for (const [index, source] of selectElements.entries()) {
        const clone = clonedSelectElements[index];
        for (const option of clone.selectedOptions) option.selected = false;
        for (const option of source.selectedOptions) clone.options[option.index].selected = true;
      }
      for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type="password"]')) {
        clonedPasswordInput.value = "";
      }
      return new _PageSnapshot(this.documentElement, clonedElement, this.headSnapshot);
    }
    get lang() {
      return this.documentElement.getAttribute("lang");
    }
    get headElement() {
      return this.headSnapshot.element;
    }
    get rootLocation() {
      const root = this.getSetting("root") ?? "/";
      return expandURL(root);
    }
    get cacheControlValue() {
      return this.getSetting("cache-control");
    }
    get isPreviewable() {
      return this.cacheControlValue != "no-preview";
    }
    get isCacheable() {
      return this.cacheControlValue != "no-cache";
    }
    get isVisitable() {
      return this.getSetting("visit-control") != "reload";
    }
    get prefersViewTransitions() {
      return this.headSnapshot.getMetaValue("view-transition") === "same-origin";
    }
    get shouldMorphPage() {
      return this.getSetting("refresh-method") === "morph";
    }
    get shouldPreserveScrollPosition() {
      return this.getSetting("refresh-scroll") === "preserve";
    }
    // Private
    getSetting(name) {
      return this.headSnapshot.getMetaValue(`turbo-${name}`);
    }
  };
  var _viewTransitionStarted, _lastOperation;
  var ViewTransitioner = class {
    constructor() {
      __privateAdd(this, _viewTransitionStarted, false);
      __privateAdd(this, _lastOperation, Promise.resolve());
    }
    renderChange(useViewTransition, render) {
      if (useViewTransition && this.viewTransitionsAvailable && !__privateGet(this, _viewTransitionStarted)) {
        __privateSet(this, _viewTransitionStarted, true);
        __privateSet(this, _lastOperation, __privateGet(this, _lastOperation).then(async () => {
          await document.startViewTransition(render).finished;
        }));
      } else {
        __privateSet(this, _lastOperation, __privateGet(this, _lastOperation).then(render));
      }
      return __privateGet(this, _lastOperation);
    }
    get viewTransitionsAvailable() {
      return document.startViewTransition;
    }
  };
  _viewTransitionStarted = new WeakMap();
  _lastOperation = new WeakMap();
  var defaultOptions = {
    action: "advance",
    historyChanged: false,
    visitCachedSnapshot: () => {
    },
    willRender: true,
    updateHistory: true,
    shouldCacheSnapshot: true,
    acceptsStreamResponse: false
  };
  var TimingMetric = {
    visitStart: "visitStart",
    requestStart: "requestStart",
    requestEnd: "requestEnd",
    visitEnd: "visitEnd"
  };
  var VisitState = {
    initialized: "initialized",
    started: "started",
    canceled: "canceled",
    failed: "failed",
    completed: "completed"
  };
  var SystemStatusCode = {
    networkFailure: 0,
    timeoutFailure: -1,
    contentTypeMismatch: -2
  };
  var Direction = {
    advance: "forward",
    restore: "back",
    replace: "none"
  };
  var Visit = class {
    constructor(delegate, location2, restorationIdentifier, options = {}) {
      __publicField(this, "identifier", uuid());
      // Required by turbo-ios
      __publicField(this, "timingMetrics", {});
      __publicField(this, "followedRedirect", false);
      __publicField(this, "historyChanged", false);
      __publicField(this, "scrolled", false);
      __publicField(this, "shouldCacheSnapshot", true);
      __publicField(this, "acceptsStreamResponse", false);
      __publicField(this, "snapshotCached", false);
      __publicField(this, "state", VisitState.initialized);
      __publicField(this, "viewTransitioner", new ViewTransitioner());
      this.delegate = delegate;
      this.location = location2;
      this.restorationIdentifier = restorationIdentifier || uuid();
      const {
        action,
        historyChanged,
        referrer,
        snapshot,
        snapshotHTML,
        response,
        visitCachedSnapshot,
        willRender,
        updateHistory,
        shouldCacheSnapshot,
        acceptsStreamResponse,
        direction
      } = {
        ...defaultOptions,
        ...options
      };
      this.action = action;
      this.historyChanged = historyChanged;
      this.referrer = referrer;
      this.snapshot = snapshot;
      this.snapshotHTML = snapshotHTML;
      this.response = response;
      this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);
      this.isPageRefresh = this.view.isPageRefresh(this);
      this.visitCachedSnapshot = visitCachedSnapshot;
      this.willRender = willRender;
      this.updateHistory = updateHistory;
      this.scrolled = !willRender;
      this.shouldCacheSnapshot = shouldCacheSnapshot;
      this.acceptsStreamResponse = acceptsStreamResponse;
      this.direction = direction || Direction[action];
    }
    get adapter() {
      return this.delegate.adapter;
    }
    get view() {
      return this.delegate.view;
    }
    get history() {
      return this.delegate.history;
    }
    get restorationData() {
      return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);
    }
    get silent() {
      return this.isSamePage;
    }
    start() {
      if (this.state == VisitState.initialized) {
        this.recordTimingMetric(TimingMetric.visitStart);
        this.state = VisitState.started;
        this.adapter.visitStarted(this);
        this.delegate.visitStarted(this);
      }
    }
    cancel() {
      if (this.state == VisitState.started) {
        if (this.request) {
          this.request.cancel();
        }
        this.cancelRender();
        this.state = VisitState.canceled;
      }
    }
    complete() {
      if (this.state == VisitState.started) {
        this.recordTimingMetric(TimingMetric.visitEnd);
        this.adapter.visitCompleted(this);
        this.state = VisitState.completed;
        this.followRedirect();
        if (!this.followedRedirect) {
          this.delegate.visitCompleted(this);
        }
      }
    }
    fail() {
      if (this.state == VisitState.started) {
        this.state = VisitState.failed;
        this.adapter.visitFailed(this);
        this.delegate.visitCompleted(this);
      }
    }
    changeHistory() {
      if (!this.historyChanged && this.updateHistory) {
        const actionForHistory = this.location.href === this.referrer?.href ? "replace" : this.action;
        const method = getHistoryMethodForAction(actionForHistory);
        this.history.update(method, this.location, this.restorationIdentifier);
        this.historyChanged = true;
      }
    }
    issueRequest() {
      if (this.hasPreloadedResponse()) {
        this.simulateRequest();
      } else if (this.shouldIssueRequest() && !this.request) {
        this.request = new FetchRequest(this, FetchMethod.get, this.location);
        this.request.perform();
      }
    }
    simulateRequest() {
      if (this.response) {
        this.startRequest();
        this.recordResponse();
        this.finishRequest();
      }
    }
    startRequest() {
      this.recordTimingMetric(TimingMetric.requestStart);
      this.adapter.visitRequestStarted(this);
    }
    recordResponse(response = this.response) {
      this.response = response;
      if (response) {
        const { statusCode } = response;
        if (isSuccessful(statusCode)) {
          this.adapter.visitRequestCompleted(this);
        } else {
          this.adapter.visitRequestFailedWithStatusCode(this, statusCode);
        }
      }
    }
    finishRequest() {
      this.recordTimingMetric(TimingMetric.requestEnd);
      this.adapter.visitRequestFinished(this);
    }
    loadResponse() {
      if (this.response) {
        const { statusCode, responseHTML } = this.response;
        this.render(async () => {
          if (this.shouldCacheSnapshot) this.cacheSnapshot();
          if (this.view.renderPromise) await this.view.renderPromise;
          if (isSuccessful(statusCode) && responseHTML != null) {
            const snapshot = PageSnapshot.fromHTMLString(responseHTML);
            await this.renderPageSnapshot(snapshot, false);
            this.adapter.visitRendered(this);
            this.complete();
          } else {
            await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);
            this.adapter.visitRendered(this);
            this.fail();
          }
        });
      }
    }
    getCachedSnapshot() {
      const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();
      if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {
        if (this.action == "restore" || snapshot.isPreviewable) {
          return snapshot;
        }
      }
    }
    getPreloadedSnapshot() {
      if (this.snapshotHTML) {
        return PageSnapshot.fromHTMLString(this.snapshotHTML);
      }
    }
    hasCachedSnapshot() {
      return this.getCachedSnapshot() != null;
    }
    loadCachedSnapshot() {
      const snapshot = this.getCachedSnapshot();
      if (snapshot) {
        const isPreview = this.shouldIssueRequest();
        this.render(async () => {
          this.cacheSnapshot();
          if (this.isSamePage || this.isPageRefresh) {
            this.adapter.visitRendered(this);
          } else {
            if (this.view.renderPromise) await this.view.renderPromise;
            await this.renderPageSnapshot(snapshot, isPreview);
            this.adapter.visitRendered(this);
            if (!isPreview) {
              this.complete();
            }
          }
        });
      }
    }
    followRedirect() {
      if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {
        this.adapter.visitProposedToLocation(this.redirectedToLocation, {
          action: "replace",
          response: this.response,
          shouldCacheSnapshot: false,
          willRender: false
        });
        this.followedRedirect = true;
      }
    }
    goToSamePageAnchor() {
      if (this.isSamePage) {
        this.render(async () => {
          this.cacheSnapshot();
          this.performScroll();
          this.changeHistory();
          this.adapter.visitRendered(this);
        });
      }
    }
    // Fetch request delegate
    prepareRequest(request) {
      if (this.acceptsStreamResponse) {
        request.acceptResponseType(StreamMessage.contentType);
      }
    }
    requestStarted() {
      this.startRequest();
    }
    requestPreventedHandlingResponse(_request, _response) {
    }
    async requestSucceededWithResponse(request, response) {
      const responseHTML = await response.responseHTML;
      const { redirected, statusCode } = response;
      if (responseHTML == void 0) {
        this.recordResponse({
          statusCode: SystemStatusCode.contentTypeMismatch,
          redirected
        });
      } else {
        this.redirectedToLocation = response.redirected ? response.location : void 0;
        this.recordResponse({ statusCode, responseHTML, redirected });
      }
    }
    async requestFailedWithResponse(request, response) {
      const responseHTML = await response.responseHTML;
      const { redirected, statusCode } = response;
      if (responseHTML == void 0) {
        this.recordResponse({
          statusCode: SystemStatusCode.contentTypeMismatch,
          redirected
        });
      } else {
        this.recordResponse({ statusCode, responseHTML, redirected });
      }
    }
    requestErrored(_request, _error) {
      this.recordResponse({
        statusCode: SystemStatusCode.networkFailure,
        redirected: false
      });
    }
    requestFinished() {
      this.finishRequest();
    }
    // Scrolling
    performScroll() {
      if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {
        if (this.action == "restore") {
          this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();
        } else {
          this.scrollToAnchor() || this.view.scrollToTop();
        }
        if (this.isSamePage) {
          this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);
        }
        this.scrolled = true;
      }
    }
    scrollToRestoredPosition() {
      const { scrollPosition } = this.restorationData;
      if (scrollPosition) {
        this.view.scrollToPosition(scrollPosition);
        return true;
      }
    }
    scrollToAnchor() {
      const anchor = getAnchor(this.location);
      if (anchor != null) {
        this.view.scrollToAnchor(anchor);
        return true;
      }
    }
    // Instrumentation
    recordTimingMetric(metric) {
      this.timingMetrics[metric] = (/* @__PURE__ */ new Date()).getTime();
    }
    getTimingMetrics() {
      return { ...this.timingMetrics };
    }
    // Private
    getHistoryMethodForAction(action) {
      switch (action) {
        case "replace":
          return history.replaceState;
        case "advance":
        case "restore":
          return history.pushState;
      }
    }
    hasPreloadedResponse() {
      return typeof this.response == "object";
    }
    shouldIssueRequest() {
      if (this.isSamePage) {
        return false;
      } else if (this.action == "restore") {
        return !this.hasCachedSnapshot();
      } else {
        return this.willRender;
      }
    }
    cacheSnapshot() {
      if (!this.snapshotCached) {
        this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));
        this.snapshotCached = true;
      }
    }
    async render(callback) {
      this.cancelRender();
      this.frame = await nextRepaint();
      await callback();
      delete this.frame;
    }
    async renderPageSnapshot(snapshot, isPreview) {
      await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {
        await this.view.renderPage(snapshot, isPreview, this.willRender, this);
        this.performScroll();
      });
    }
    cancelRender() {
      if (this.frame) {
        cancelAnimationFrame(this.frame);
        delete this.frame;
      }
    }
  };
  function isSuccessful(statusCode) {
    return statusCode >= 200 && statusCode < 300;
  }
  var BrowserAdapter = class {
    constructor(session2) {
      __publicField(this, "progressBar", new ProgressBar());
      __publicField(this, "showProgressBar", () => {
        this.progressBar.show();
      });
      this.session = session2;
    }
    visitProposedToLocation(location2, options) {
      if (locationIsVisitable(location2, this.navigator.rootLocation)) {
        this.navigator.startVisit(location2, options?.restorationIdentifier || uuid(), options);
      } else {
        window.location.href = location2.toString();
      }
    }
    visitStarted(visit2) {
      this.location = visit2.location;
      visit2.loadCachedSnapshot();
      visit2.issueRequest();
      visit2.goToSamePageAnchor();
    }
    visitRequestStarted(visit2) {
      this.progressBar.setValue(0);
      if (visit2.hasCachedSnapshot() || visit2.action != "restore") {
        this.showVisitProgressBarAfterDelay();
      } else {
        this.showProgressBar();
      }
    }
    visitRequestCompleted(visit2) {
      visit2.loadResponse();
    }
    visitRequestFailedWithStatusCode(visit2, statusCode) {
      switch (statusCode) {
        case SystemStatusCode.networkFailure:
        case SystemStatusCode.timeoutFailure:
        case SystemStatusCode.contentTypeMismatch:
          return this.reload({
            reason: "request_failed",
            context: {
              statusCode
            }
          });
        default:
          return visit2.loadResponse();
      }
    }
    visitRequestFinished(_visit) {
    }
    visitCompleted(_visit) {
      this.progressBar.setValue(1);
      this.hideVisitProgressBar();
    }
    pageInvalidated(reason) {
      this.reload(reason);
    }
    visitFailed(_visit) {
      this.progressBar.setValue(1);
      this.hideVisitProgressBar();
    }
    visitRendered(_visit) {
    }
    // Form Submission Delegate
    formSubmissionStarted(_formSubmission) {
      this.progressBar.setValue(0);
      this.showFormProgressBarAfterDelay();
    }
    formSubmissionFinished(_formSubmission) {
      this.progressBar.setValue(1);
      this.hideFormProgressBar();
    }
    // Private
    showVisitProgressBarAfterDelay() {
      this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);
    }
    hideVisitProgressBar() {
      this.progressBar.hide();
      if (this.visitProgressBarTimeout != null) {
        window.clearTimeout(this.visitProgressBarTimeout);
        delete this.visitProgressBarTimeout;
      }
    }
    showFormProgressBarAfterDelay() {
      if (this.formProgressBarTimeout == null) {
        this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);
      }
    }
    hideFormProgressBar() {
      this.progressBar.hide();
      if (this.formProgressBarTimeout != null) {
        window.clearTimeout(this.formProgressBarTimeout);
        delete this.formProgressBarTimeout;
      }
    }
    reload(reason) {
      dispatch("turbo:reload", { detail: reason });
      window.location.href = this.location?.toString() || window.location.href;
    }
    get navigator() {
      return this.session.navigator;
    }
  };
  var CacheObserver = class {
    constructor() {
      __publicField(this, "selector", "[data-turbo-temporary]");
      __publicField(this, "deprecatedSelector", "[data-turbo-cache=false]");
      __publicField(this, "started", false);
      __publicField(this, "removeTemporaryElements", (_event) => {
        for (const element of this.temporaryElements) {
          element.remove();
        }
      });
    }
    start() {
      if (!this.started) {
        this.started = true;
        addEventListener("turbo:before-cache", this.removeTemporaryElements, false);
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        removeEventListener("turbo:before-cache", this.removeTemporaryElements, false);
      }
    }
    get temporaryElements() {
      return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation];
    }
    get temporaryElementsWithDeprecation() {
      const elements = document.querySelectorAll(this.deprecatedSelector);
      if (elements.length) {
        console.warn(
          `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`
        );
      }
      return [...elements];
    }
  };
  var _FrameRedirector_instances, shouldSubmit_fn, shouldRedirect_fn, findFrameElement_fn;
  var FrameRedirector = class {
    constructor(session2, element) {
      __privateAdd(this, _FrameRedirector_instances);
      this.session = session2;
      this.element = element;
      this.linkInterceptor = new LinkInterceptor(this, element);
      this.formSubmitObserver = new FormSubmitObserver(this, element);
    }
    start() {
      this.linkInterceptor.start();
      this.formSubmitObserver.start();
    }
    stop() {
      this.linkInterceptor.stop();
      this.formSubmitObserver.stop();
    }
    // Link interceptor delegate
    shouldInterceptLinkClick(element, _location, _event) {
      return __privateMethod(this, _FrameRedirector_instances, shouldRedirect_fn).call(this, element);
    }
    linkClickIntercepted(element, url, event) {
      const frame = __privateMethod(this, _FrameRedirector_instances, findFrameElement_fn).call(this, element);
      if (frame) {
        frame.delegate.linkClickIntercepted(element, url, event);
      }
    }
    // Form submit observer delegate
    willSubmitForm(element, submitter) {
      return element.closest("turbo-frame") == null && __privateMethod(this, _FrameRedirector_instances, shouldSubmit_fn).call(this, element, submitter) && __privateMethod(this, _FrameRedirector_instances, shouldRedirect_fn).call(this, element, submitter);
    }
    formSubmitted(element, submitter) {
      const frame = __privateMethod(this, _FrameRedirector_instances, findFrameElement_fn).call(this, element, submitter);
      if (frame) {
        frame.delegate.formSubmitted(element, submitter);
      }
    }
  };
  _FrameRedirector_instances = new WeakSet();
  shouldSubmit_fn = function(form, submitter) {
    const action = getAction$1(form, submitter);
    const meta = this.element.ownerDocument.querySelector(`meta[name="turbo-root"]`);
    const rootLocation = expandURL(meta?.content ?? "/");
    return __privateMethod(this, _FrameRedirector_instances, shouldRedirect_fn).call(this, form, submitter) && locationIsVisitable(action, rootLocation);
  };
  shouldRedirect_fn = function(element, submitter) {
    const isNavigatable = element instanceof HTMLFormElement ? this.session.submissionIsNavigatable(element, submitter) : this.session.elementIsNavigatable(element);
    if (isNavigatable) {
      const frame = __privateMethod(this, _FrameRedirector_instances, findFrameElement_fn).call(this, element, submitter);
      return frame ? frame != element.closest("turbo-frame") : false;
    } else {
      return false;
    }
  };
  findFrameElement_fn = function(element, submitter) {
    const id = submitter?.getAttribute("data-turbo-frame") || element.getAttribute("data-turbo-frame");
    if (id && id != "_top") {
      const frame = this.element.querySelector(`#${id}:not([disabled])`);
      if (frame instanceof FrameElement) {
        return frame;
      }
    }
  };
  var History = class {
    constructor(delegate) {
      __publicField(this, "location");
      __publicField(this, "restorationIdentifier", uuid());
      __publicField(this, "restorationData", {});
      __publicField(this, "started", false);
      __publicField(this, "pageLoaded", false);
      __publicField(this, "currentIndex", 0);
      // Event handlers
      __publicField(this, "onPopState", (event) => {
        if (this.shouldHandlePopState()) {
          const { turbo } = event.state || {};
          if (turbo) {
            this.location = new URL(window.location.href);
            const { restorationIdentifier, restorationIndex } = turbo;
            this.restorationIdentifier = restorationIdentifier;
            const direction = restorationIndex > this.currentIndex ? "forward" : "back";
            this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);
            this.currentIndex = restorationIndex;
          }
        }
      });
      __publicField(this, "onPageLoad", async (_event) => {
        await nextMicrotask();
        this.pageLoaded = true;
      });
      this.delegate = delegate;
    }
    start() {
      if (!this.started) {
        addEventListener("popstate", this.onPopState, false);
        addEventListener("load", this.onPageLoad, false);
        this.currentIndex = history.state?.turbo?.restorationIndex || 0;
        this.started = true;
        this.replace(new URL(window.location.href));
      }
    }
    stop() {
      if (this.started) {
        removeEventListener("popstate", this.onPopState, false);
        removeEventListener("load", this.onPageLoad, false);
        this.started = false;
      }
    }
    push(location2, restorationIdentifier) {
      this.update(history.pushState, location2, restorationIdentifier);
    }
    replace(location2, restorationIdentifier) {
      this.update(history.replaceState, location2, restorationIdentifier);
    }
    update(method, location2, restorationIdentifier = uuid()) {
      if (method === history.pushState) ++this.currentIndex;
      const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };
      method.call(history, state, "", location2.href);
      this.location = location2;
      this.restorationIdentifier = restorationIdentifier;
    }
    // Restoration data
    getRestorationDataForIdentifier(restorationIdentifier) {
      return this.restorationData[restorationIdentifier] || {};
    }
    updateRestorationData(additionalData) {
      const { restorationIdentifier } = this;
      const restorationData = this.restorationData[restorationIdentifier];
      this.restorationData[restorationIdentifier] = {
        ...restorationData,
        ...additionalData
      };
    }
    // Scroll restoration
    assumeControlOfScrollRestoration() {
      if (!this.previousScrollRestoration) {
        this.previousScrollRestoration = history.scrollRestoration ?? "auto";
        history.scrollRestoration = "manual";
      }
    }
    relinquishControlOfScrollRestoration() {
      if (this.previousScrollRestoration) {
        history.scrollRestoration = this.previousScrollRestoration;
        delete this.previousScrollRestoration;
      }
    }
    // Private
    shouldHandlePopState() {
      return this.pageIsLoaded();
    }
    pageIsLoaded() {
      return this.pageLoaded || document.readyState == "complete";
    }
  };
  var _prefetchedLink, _enable, _tryToPrefetchRequest, _cancelRequestIfObsolete, _cancelPrefetchRequest, _tryToUsePrefetchedRequest, _LinkPrefetchObserver_instances, cacheTtl_get, isPrefetchable_fn;
  var LinkPrefetchObserver = class {
    constructor(delegate, eventTarget) {
      __privateAdd(this, _LinkPrefetchObserver_instances);
      __publicField(this, "started", false);
      __privateAdd(this, _prefetchedLink, null);
      __privateAdd(this, _enable, () => {
        this.eventTarget.addEventListener("mouseenter", __privateGet(this, _tryToPrefetchRequest), {
          capture: true,
          passive: true
        });
        this.eventTarget.addEventListener("mouseleave", __privateGet(this, _cancelRequestIfObsolete), {
          capture: true,
          passive: true
        });
        this.eventTarget.addEventListener("turbo:before-fetch-request", __privateGet(this, _tryToUsePrefetchedRequest), true);
        this.started = true;
      });
      __privateAdd(this, _tryToPrefetchRequest, (event) => {
        if (getMetaContent("turbo-prefetch") === "false") return;
        const target = event.target;
        const isLink = target.matches && target.matches("a[href]:not([target^=_]):not([download])");
        if (isLink && __privateMethod(this, _LinkPrefetchObserver_instances, isPrefetchable_fn).call(this, target)) {
          const link = target;
          const location2 = getLocationForLink(link);
          if (this.delegate.canPrefetchRequestToLocation(link, location2)) {
            __privateSet(this, _prefetchedLink, link);
            const fetchRequest = new FetchRequest(
              this,
              FetchMethod.get,
              location2,
              new URLSearchParams(),
              target
            );
            prefetchCache.setLater(location2.toString(), fetchRequest, __privateGet(this, _LinkPrefetchObserver_instances, cacheTtl_get));
          }
        }
      });
      __privateAdd(this, _cancelRequestIfObsolete, (event) => {
        if (event.target === __privateGet(this, _prefetchedLink)) __privateGet(this, _cancelPrefetchRequest).call(this);
      });
      __privateAdd(this, _cancelPrefetchRequest, () => {
        prefetchCache.clear();
        __privateSet(this, _prefetchedLink, null);
      });
      __privateAdd(this, _tryToUsePrefetchedRequest, (event) => {
        if (event.target.tagName !== "FORM" && event.detail.fetchOptions.method === "get") {
          const cached = prefetchCache.get(event.detail.url.toString());
          if (cached) {
            event.detail.fetchRequest = cached;
          }
          prefetchCache.clear();
        }
      });
      this.delegate = delegate;
      this.eventTarget = eventTarget;
    }
    start() {
      if (this.started) return;
      if (this.eventTarget.readyState === "loading") {
        this.eventTarget.addEventListener("DOMContentLoaded", __privateGet(this, _enable), { once: true });
      } else {
        __privateGet(this, _enable).call(this);
      }
    }
    stop() {
      if (!this.started) return;
      this.eventTarget.removeEventListener("mouseenter", __privateGet(this, _tryToPrefetchRequest), {
        capture: true,
        passive: true
      });
      this.eventTarget.removeEventListener("mouseleave", __privateGet(this, _cancelRequestIfObsolete), {
        capture: true,
        passive: true
      });
      this.eventTarget.removeEventListener("turbo:before-fetch-request", __privateGet(this, _tryToUsePrefetchedRequest), true);
      this.started = false;
    }
    prepareRequest(request) {
      const link = request.target;
      request.headers["X-Sec-Purpose"] = "prefetch";
      const turboFrame = link.closest("turbo-frame");
      const turboFrameTarget = link.getAttribute("data-turbo-frame") || turboFrame?.getAttribute("target") || turboFrame?.id;
      if (turboFrameTarget && turboFrameTarget !== "_top") {
        request.headers["Turbo-Frame"] = turboFrameTarget;
      }
    }
    // Fetch request interface
    requestSucceededWithResponse() {
    }
    requestStarted(fetchRequest) {
    }
    requestErrored(fetchRequest) {
    }
    requestFinished(fetchRequest) {
    }
    requestPreventedHandlingResponse(fetchRequest, fetchResponse) {
    }
    requestFailedWithResponse(fetchRequest, fetchResponse) {
    }
  };
  _prefetchedLink = new WeakMap();
  _enable = new WeakMap();
  _tryToPrefetchRequest = new WeakMap();
  _cancelRequestIfObsolete = new WeakMap();
  _cancelPrefetchRequest = new WeakMap();
  _tryToUsePrefetchedRequest = new WeakMap();
  _LinkPrefetchObserver_instances = new WeakSet();
  cacheTtl_get = function() {
    return Number(getMetaContent("turbo-prefetch-cache-time")) || cacheTtl;
  };
  isPrefetchable_fn = function(link) {
    const href = link.getAttribute("href");
    if (!href) return false;
    if (unfetchableLink(link)) return false;
    if (linkToTheSamePage(link)) return false;
    if (linkOptsOut(link)) return false;
    if (nonSafeLink(link)) return false;
    if (eventPrevented(link)) return false;
    return true;
  };
  var unfetchableLink = (link) => {
    return link.origin !== document.location.origin || !["http:", "https:"].includes(link.protocol) || link.hasAttribute("target");
  };
  var linkToTheSamePage = (link) => {
    return link.pathname + link.search === document.location.pathname + document.location.search || link.href.startsWith("#");
  };
  var linkOptsOut = (link) => {
    if (link.getAttribute("data-turbo-prefetch") === "false") return true;
    if (link.getAttribute("data-turbo") === "false") return true;
    const turboPrefetchParent = findClosestRecursively(link, "[data-turbo-prefetch]");
    if (turboPrefetchParent && turboPrefetchParent.getAttribute("data-turbo-prefetch") === "false") return true;
    return false;
  };
  var nonSafeLink = (link) => {
    const turboMethod = link.getAttribute("data-turbo-method");
    if (turboMethod && turboMethod.toLowerCase() !== "get") return true;
    if (isUJS(link)) return true;
    if (link.hasAttribute("data-turbo-confirm")) return true;
    if (link.hasAttribute("data-turbo-stream")) return true;
    return false;
  };
  var isUJS = (link) => {
    return link.hasAttribute("data-remote") || link.hasAttribute("data-behavior") || link.hasAttribute("data-confirm") || link.hasAttribute("data-method");
  };
  var eventPrevented = (link) => {
    const event = dispatch("turbo:before-prefetch", { target: link, cancelable: true });
    return event.defaultPrevented;
  };
  var _Navigator_instances, getActionForFormSubmission_fn, getDefaultAction_fn;
  var Navigator = class {
    constructor(delegate) {
      __privateAdd(this, _Navigator_instances);
      this.delegate = delegate;
    }
    proposeVisit(location2, options = {}) {
      if (this.delegate.allowsVisitingLocationWithAction(location2, options.action)) {
        this.delegate.visitProposedToLocation(location2, options);
      }
    }
    startVisit(locatable, restorationIdentifier, options = {}) {
      this.stop();
      this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {
        referrer: this.location,
        ...options
      });
      this.currentVisit.start();
    }
    submitForm(form, submitter) {
      this.stop();
      this.formSubmission = new FormSubmission(this, form, submitter, true);
      this.formSubmission.start();
    }
    stop() {
      if (this.formSubmission) {
        this.formSubmission.stop();
        delete this.formSubmission;
      }
      if (this.currentVisit) {
        this.currentVisit.cancel();
        delete this.currentVisit;
      }
    }
    get adapter() {
      return this.delegate.adapter;
    }
    get view() {
      return this.delegate.view;
    }
    get rootLocation() {
      return this.view.snapshot.rootLocation;
    }
    get history() {
      return this.delegate.history;
    }
    // Form submission delegate
    formSubmissionStarted(formSubmission) {
      if (typeof this.adapter.formSubmissionStarted === "function") {
        this.adapter.formSubmissionStarted(formSubmission);
      }
    }
    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {
      if (formSubmission == this.formSubmission) {
        const responseHTML = await fetchResponse.responseHTML;
        if (responseHTML) {
          const shouldCacheSnapshot = formSubmission.isSafe;
          if (!shouldCacheSnapshot) {
            this.view.clearSnapshotCache();
          }
          const { statusCode, redirected } = fetchResponse;
          const action = __privateMethod(this, _Navigator_instances, getActionForFormSubmission_fn).call(this, formSubmission, fetchResponse);
          const visitOptions = {
            action,
            shouldCacheSnapshot,
            response: { statusCode, responseHTML, redirected }
          };
          this.proposeVisit(fetchResponse.location, visitOptions);
        }
      }
    }
    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {
      const responseHTML = await fetchResponse.responseHTML;
      if (responseHTML) {
        const snapshot = PageSnapshot.fromHTMLString(responseHTML);
        if (fetchResponse.serverError) {
          await this.view.renderError(snapshot, this.currentVisit);
        } else {
          await this.view.renderPage(snapshot, false, true, this.currentVisit);
        }
        if (!snapshot.shouldPreserveScrollPosition) {
          this.view.scrollToTop();
        }
        this.view.clearSnapshotCache();
      }
    }
    formSubmissionErrored(formSubmission, error2) {
      console.error(error2);
    }
    formSubmissionFinished(formSubmission) {
      if (typeof this.adapter.formSubmissionFinished === "function") {
        this.adapter.formSubmissionFinished(formSubmission);
      }
    }
    // Visit delegate
    visitStarted(visit2) {
      this.delegate.visitStarted(visit2);
    }
    visitCompleted(visit2) {
      this.delegate.visitCompleted(visit2);
    }
    locationWithActionIsSamePage(location2, action) {
      const anchor = getAnchor(location2);
      const currentAnchor = getAnchor(this.view.lastRenderedLocation);
      const isRestorationToTop = action === "restore" && typeof anchor === "undefined";
      return action !== "replace" && getRequestURL(location2) === getRequestURL(this.view.lastRenderedLocation) && (isRestorationToTop || anchor != null && anchor !== currentAnchor);
    }
    visitScrolledToSamePageLocation(oldURL, newURL) {
      this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);
    }
    // Visits
    get location() {
      return this.history.location;
    }
    get restorationIdentifier() {
      return this.history.restorationIdentifier;
    }
  };
  _Navigator_instances = new WeakSet();
  getActionForFormSubmission_fn = function(formSubmission, fetchResponse) {
    const { submitter, formElement } = formSubmission;
    return getVisitAction(submitter, formElement) || __privateMethod(this, _Navigator_instances, getDefaultAction_fn).call(this, fetchResponse);
  };
  getDefaultAction_fn = function(fetchResponse) {
    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;
    return sameLocationRedirect ? "replace" : "advance";
  };
  var PageStage = {
    initial: 0,
    loading: 1,
    interactive: 2,
    complete: 3
  };
  var PageObserver = class {
    constructor(delegate) {
      __publicField(this, "stage", PageStage.initial);
      __publicField(this, "started", false);
      __publicField(this, "interpretReadyState", () => {
        const { readyState } = this;
        if (readyState == "interactive") {
          this.pageIsInteractive();
        } else if (readyState == "complete") {
          this.pageIsComplete();
        }
      });
      __publicField(this, "pageWillUnload", () => {
        this.delegate.pageWillUnload();
      });
      this.delegate = delegate;
    }
    start() {
      if (!this.started) {
        if (this.stage == PageStage.initial) {
          this.stage = PageStage.loading;
        }
        document.addEventListener("readystatechange", this.interpretReadyState, false);
        addEventListener("pagehide", this.pageWillUnload, false);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        document.removeEventListener("readystatechange", this.interpretReadyState, false);
        removeEventListener("pagehide", this.pageWillUnload, false);
        this.started = false;
      }
    }
    pageIsInteractive() {
      if (this.stage == PageStage.loading) {
        this.stage = PageStage.interactive;
        this.delegate.pageBecameInteractive();
      }
    }
    pageIsComplete() {
      this.pageIsInteractive();
      if (this.stage == PageStage.interactive) {
        this.stage = PageStage.complete;
        this.delegate.pageLoaded();
      }
    }
    get readyState() {
      return document.readyState;
    }
  };
  var ScrollObserver = class {
    constructor(delegate) {
      __publicField(this, "started", false);
      __publicField(this, "onScroll", () => {
        this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });
      });
      this.delegate = delegate;
    }
    start() {
      if (!this.started) {
        addEventListener("scroll", this.onScroll, false);
        this.onScroll();
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        removeEventListener("scroll", this.onScroll, false);
        this.started = false;
      }
    }
    // Private
    updatePosition(position) {
      this.delegate.scrollPositionChanged(position);
    }
  };
  var StreamMessageRenderer = class {
    render({ fragment }) {
      Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {
        withAutofocusFromFragment(fragment, () => {
          withPreservedFocus(() => {
            document.documentElement.appendChild(fragment);
          });
        });
      });
    }
    // Bardo delegate
    enteringBardo(currentPermanentElement, newPermanentElement) {
      newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));
    }
    leavingBardo() {
    }
  };
  function getPermanentElementMapForFragment(fragment) {
    const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);
    const permanentElementMap = {};
    for (const permanentElementInDocument of permanentElementsInDocument) {
      const { id } = permanentElementInDocument;
      for (const streamElement of fragment.querySelectorAll("turbo-stream")) {
        const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);
        if (elementInStream) {
          permanentElementMap[id] = [permanentElementInDocument, elementInStream];
        }
      }
    }
    return permanentElementMap;
  }
  async function withAutofocusFromFragment(fragment, callback) {
    const generatedID = `turbo-stream-autofocus-${uuid()}`;
    const turboStreams = fragment.querySelectorAll("turbo-stream");
    const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);
    let willAutofocusId = null;
    if (elementWithAutofocus) {
      if (elementWithAutofocus.id) {
        willAutofocusId = elementWithAutofocus.id;
      } else {
        willAutofocusId = generatedID;
      }
      elementWithAutofocus.id = willAutofocusId;
    }
    callback();
    await nextRepaint();
    const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;
    if (hasNoActiveElement && willAutofocusId) {
      const elementToAutofocus = document.getElementById(willAutofocusId);
      if (elementIsFocusable(elementToAutofocus)) {
        elementToAutofocus.focus();
      }
      if (elementToAutofocus && elementToAutofocus.id == generatedID) {
        elementToAutofocus.removeAttribute("id");
      }
    }
  }
  async function withPreservedFocus(callback) {
    const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);
    const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;
    if (restoreFocusTo) {
      const elementToFocus = document.getElementById(restoreFocusTo);
      if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {
        elementToFocus.focus();
      }
    }
  }
  function firstAutofocusableElementInStreams(nodeListOfStreamElements) {
    for (const streamElement of nodeListOfStreamElements) {
      const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);
      if (elementWithAutofocus) return elementWithAutofocus;
    }
    return null;
  }
  var _started;
  var StreamObserver = class {
    constructor(delegate) {
      __publicField(this, "sources", /* @__PURE__ */ new Set());
      __privateAdd(this, _started, false);
      __publicField(this, "inspectFetchResponse", (event) => {
        const response = fetchResponseFromEvent(event);
        if (response && fetchResponseIsStream(response)) {
          event.preventDefault();
          this.receiveMessageResponse(response);
        }
      });
      __publicField(this, "receiveMessageEvent", (event) => {
        if (__privateGet(this, _started) && typeof event.data == "string") {
          this.receiveMessageHTML(event.data);
        }
      });
      this.delegate = delegate;
    }
    start() {
      if (!__privateGet(this, _started)) {
        __privateSet(this, _started, true);
        addEventListener("turbo:before-fetch-response", this.inspectFetchResponse, false);
      }
    }
    stop() {
      if (__privateGet(this, _started)) {
        __privateSet(this, _started, false);
        removeEventListener("turbo:before-fetch-response", this.inspectFetchResponse, false);
      }
    }
    connectStreamSource(source) {
      if (!this.streamSourceIsConnected(source)) {
        this.sources.add(source);
        source.addEventListener("message", this.receiveMessageEvent, false);
      }
    }
    disconnectStreamSource(source) {
      if (this.streamSourceIsConnected(source)) {
        this.sources.delete(source);
        source.removeEventListener("message", this.receiveMessageEvent, false);
      }
    }
    streamSourceIsConnected(source) {
      return this.sources.has(source);
    }
    async receiveMessageResponse(response) {
      const html = await response.responseHTML;
      if (html) {
        this.receiveMessageHTML(html);
      }
    }
    receiveMessageHTML(html) {
      this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));
    }
  };
  _started = new WeakMap();
  function fetchResponseFromEvent(event) {
    const fetchResponse = event.detail?.fetchResponse;
    if (fetchResponse instanceof FetchResponse) {
      return fetchResponse;
    }
  }
  function fetchResponseIsStream(response) {
    const contentType = response.contentType ?? "";
    return contentType.startsWith(StreamMessage.contentType);
  }
  var ErrorRenderer = class extends Renderer {
    static renderElement(currentElement, newElement) {
      const { documentElement, body } = document;
      documentElement.replaceChild(newElement, body);
    }
    async render() {
      this.replaceHeadAndBody();
      this.activateScriptElements();
    }
    replaceHeadAndBody() {
      const { documentElement, head } = document;
      documentElement.replaceChild(this.newHead, head);
      this.renderElement(this.currentElement, this.newElement);
    }
    activateScriptElements() {
      for (const replaceableElement of this.scriptElements) {
        const parentNode = replaceableElement.parentNode;
        if (parentNode) {
          const element = activateScriptElement(replaceableElement);
          parentNode.replaceChild(element, replaceableElement);
        }
      }
    }
    get newHead() {
      return this.newSnapshot.headSnapshot.element;
    }
    get scriptElements() {
      return document.documentElement.querySelectorAll("script");
    }
  };
  var Idiomorph = /* @__PURE__ */ function() {
    let EMPTY_SET = /* @__PURE__ */ new Set();
    let defaults = {
      morphStyle: "outerHTML",
      callbacks: {
        beforeNodeAdded: noOp,
        afterNodeAdded: noOp,
        beforeNodeMorphed: noOp,
        afterNodeMorphed: noOp,
        beforeNodeRemoved: noOp,
        afterNodeRemoved: noOp,
        beforeAttributeUpdated: noOp
      },
      head: {
        style: "merge",
        shouldPreserve: function(elt) {
          return elt.getAttribute("im-preserve") === "true";
        },
        shouldReAppend: function(elt) {
          return elt.getAttribute("im-re-append") === "true";
        },
        shouldRemove: noOp,
        afterHeadMorphed: noOp
      }
    };
    function morph(oldNode, newContent, config = {}) {
      if (oldNode instanceof Document) {
        oldNode = oldNode.documentElement;
      }
      if (typeof newContent === "string") {
        newContent = parseContent(newContent);
      }
      let normalizedContent = normalizeContent(newContent);
      let ctx = createMorphContext(oldNode, normalizedContent, config);
      return morphNormalizedContent(oldNode, normalizedContent, ctx);
    }
    function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {
      if (ctx.head.block) {
        let oldHead = oldNode.querySelector("head");
        let newHead = normalizedNewContent.querySelector("head");
        if (oldHead && newHead) {
          let promises = handleHeadElement(newHead, oldHead, ctx);
          Promise.all(promises).then(function() {
            morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {
              head: {
                block: false,
                ignore: true
              }
            }));
          });
          return;
        }
      }
      if (ctx.morphStyle === "innerHTML") {
        morphChildren(normalizedNewContent, oldNode, ctx);
        return oldNode.children;
      } else if (ctx.morphStyle === "outerHTML" || ctx.morphStyle == null) {
        let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);
        let previousSibling = bestMatch?.previousSibling;
        let nextSibling = bestMatch?.nextSibling;
        let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);
        if (bestMatch) {
          return insertSiblings(previousSibling, morphedNode, nextSibling);
        } else {
          return [];
        }
      } else {
        throw "Do not understand how to morph style " + ctx.morphStyle;
      }
    }
    function ignoreValueOfActiveElement(possibleActiveElement, ctx) {
      return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;
    }
    function morphOldNodeTo(oldNode, newContent, ctx) {
      if (ctx.ignoreActive && oldNode === document.activeElement) ;
      else if (newContent == null) {
        if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;
        oldNode.remove();
        ctx.callbacks.afterNodeRemoved(oldNode);
        return null;
      } else if (!isSoftMatch(oldNode, newContent)) {
        if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;
        if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;
        oldNode.parentElement.replaceChild(newContent, oldNode);
        ctx.callbacks.afterNodeAdded(newContent);
        ctx.callbacks.afterNodeRemoved(oldNode);
        return newContent;
      } else {
        if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;
        if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ;
        else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== "morph") {
          handleHeadElement(newContent, oldNode, ctx);
        } else {
          syncNodeFrom(newContent, oldNode, ctx);
          if (!ignoreValueOfActiveElement(oldNode, ctx)) {
            morphChildren(newContent, oldNode, ctx);
          }
        }
        ctx.callbacks.afterNodeMorphed(oldNode, newContent);
        return oldNode;
      }
    }
    function morphChildren(newParent, oldParent, ctx) {
      let nextNewChild = newParent.firstChild;
      let insertionPoint = oldParent.firstChild;
      let newChild;
      while (nextNewChild) {
        newChild = nextNewChild;
        nextNewChild = newChild.nextSibling;
        if (insertionPoint == null) {
          if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;
          oldParent.appendChild(newChild);
          ctx.callbacks.afterNodeAdded(newChild);
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        if (isIdSetMatch(newChild, insertionPoint, ctx)) {
          morphOldNodeTo(insertionPoint, newChild, ctx);
          insertionPoint = insertionPoint.nextSibling;
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);
        if (idSetMatch) {
          insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);
          morphOldNodeTo(idSetMatch, newChild, ctx);
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);
        if (softMatch) {
          insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);
          morphOldNodeTo(softMatch, newChild, ctx);
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;
        oldParent.insertBefore(newChild, insertionPoint);
        ctx.callbacks.afterNodeAdded(newChild);
        removeIdsFromConsideration(ctx, newChild);
      }
      while (insertionPoint !== null) {
        let tempNode = insertionPoint;
        insertionPoint = insertionPoint.nextSibling;
        removeNode(tempNode, ctx);
      }
    }
    function ignoreAttribute(attr, to, updateType, ctx) {
      if (attr === "value" && ctx.ignoreActiveValue && to === document.activeElement) {
        return true;
      }
      return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;
    }
    function syncNodeFrom(from, to, ctx) {
      let type = from.nodeType;
      if (type === 1) {
        const fromAttributes = from.attributes;
        const toAttributes = to.attributes;
        for (const fromAttribute of fromAttributes) {
          if (ignoreAttribute(fromAttribute.name, to, "update", ctx)) {
            continue;
          }
          if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {
            to.setAttribute(fromAttribute.name, fromAttribute.value);
          }
        }
        for (let i = toAttributes.length - 1; 0 <= i; i--) {
          const toAttribute = toAttributes[i];
          if (ignoreAttribute(toAttribute.name, to, "remove", ctx)) {
            continue;
          }
          if (!from.hasAttribute(toAttribute.name)) {
            to.removeAttribute(toAttribute.name);
          }
        }
      }
      if (type === 8 || type === 3) {
        if (to.nodeValue !== from.nodeValue) {
          to.nodeValue = from.nodeValue;
        }
      }
      if (!ignoreValueOfActiveElement(to, ctx)) {
        syncInputValue(from, to, ctx);
      }
    }
    function syncBooleanAttribute(from, to, attributeName, ctx) {
      if (from[attributeName] !== to[attributeName]) {
        let ignoreUpdate = ignoreAttribute(attributeName, to, "update", ctx);
        if (!ignoreUpdate) {
          to[attributeName] = from[attributeName];
        }
        if (from[attributeName]) {
          if (!ignoreUpdate) {
            to.setAttribute(attributeName, from[attributeName]);
          }
        } else {
          if (!ignoreAttribute(attributeName, to, "remove", ctx)) {
            to.removeAttribute(attributeName);
          }
        }
      }
    }
    function syncInputValue(from, to, ctx) {
      if (from instanceof HTMLInputElement && to instanceof HTMLInputElement && from.type !== "file") {
        let fromValue = from.value;
        let toValue = to.value;
        syncBooleanAttribute(from, to, "checked", ctx);
        syncBooleanAttribute(from, to, "disabled", ctx);
        if (!from.hasAttribute("value")) {
          if (!ignoreAttribute("value", to, "remove", ctx)) {
            to.value = "";
            to.removeAttribute("value");
          }
        } else if (fromValue !== toValue) {
          if (!ignoreAttribute("value", to, "update", ctx)) {
            to.setAttribute("value", fromValue);
            to.value = fromValue;
          }
        }
      } else if (from instanceof HTMLOptionElement) {
        syncBooleanAttribute(from, to, "selected", ctx);
      } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {
        let fromValue = from.value;
        let toValue = to.value;
        if (ignoreAttribute("value", to, "update", ctx)) {
          return;
        }
        if (fromValue !== toValue) {
          to.value = fromValue;
        }
        if (to.firstChild && to.firstChild.nodeValue !== fromValue) {
          to.firstChild.nodeValue = fromValue;
        }
      }
    }
    function handleHeadElement(newHeadTag, currentHead, ctx) {
      let added = [];
      let removed = [];
      let preserved = [];
      let nodesToAppend = [];
      let headMergeStyle = ctx.head.style;
      let srcToNewHeadNodes = /* @__PURE__ */ new Map();
      for (const newHeadChild of newHeadTag.children) {
        srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);
      }
      for (const currentHeadElt of currentHead.children) {
        let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);
        let isReAppended = ctx.head.shouldReAppend(currentHeadElt);
        let isPreserved = ctx.head.shouldPreserve(currentHeadElt);
        if (inNewContent || isPreserved) {
          if (isReAppended) {
            removed.push(currentHeadElt);
          } else {
            srcToNewHeadNodes.delete(currentHeadElt.outerHTML);
            preserved.push(currentHeadElt);
          }
        } else {
          if (headMergeStyle === "append") {
            if (isReAppended) {
              removed.push(currentHeadElt);
              nodesToAppend.push(currentHeadElt);
            }
          } else {
            if (ctx.head.shouldRemove(currentHeadElt) !== false) {
              removed.push(currentHeadElt);
            }
          }
        }
      }
      nodesToAppend.push(...srcToNewHeadNodes.values());
      let promises = [];
      for (const newNode of nodesToAppend) {
        let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;
        if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {
          if (newElt.href || newElt.src) {
            let resolve = null;
            let promise = new Promise(function(_resolve) {
              resolve = _resolve;
            });
            newElt.addEventListener("load", function() {
              resolve();
            });
            promises.push(promise);
          }
          currentHead.appendChild(newElt);
          ctx.callbacks.afterNodeAdded(newElt);
          added.push(newElt);
        }
      }
      for (const removedElement of removed) {
        if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {
          currentHead.removeChild(removedElement);
          ctx.callbacks.afterNodeRemoved(removedElement);
        }
      }
      ctx.head.afterHeadMorphed(currentHead, { added, kept: preserved, removed });
      return promises;
    }
    function noOp() {
    }
    function mergeDefaults(config) {
      let finalConfig = {};
      Object.assign(finalConfig, defaults);
      Object.assign(finalConfig, config);
      finalConfig.callbacks = {};
      Object.assign(finalConfig.callbacks, defaults.callbacks);
      Object.assign(finalConfig.callbacks, config.callbacks);
      finalConfig.head = {};
      Object.assign(finalConfig.head, defaults.head);
      Object.assign(finalConfig.head, config.head);
      return finalConfig;
    }
    function createMorphContext(oldNode, newContent, config) {
      config = mergeDefaults(config);
      return {
        target: oldNode,
        newContent,
        config,
        morphStyle: config.morphStyle,
        ignoreActive: config.ignoreActive,
        ignoreActiveValue: config.ignoreActiveValue,
        idMap: createIdMap(oldNode, newContent),
        deadIds: /* @__PURE__ */ new Set(),
        callbacks: config.callbacks,
        head: config.head
      };
    }
    function isIdSetMatch(node1, node2, ctx) {
      if (node1 == null || node2 == null) {
        return false;
      }
      if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {
        if (node1.id !== "" && node1.id === node2.id) {
          return true;
        } else {
          return getIdIntersectionCount(ctx, node1, node2) > 0;
        }
      }
      return false;
    }
    function isSoftMatch(node1, node2) {
      if (node1 == null || node2 == null) {
        return false;
      }
      return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName;
    }
    function removeNodesBetween(startInclusive, endExclusive, ctx) {
      while (startInclusive !== endExclusive) {
        let tempNode = startInclusive;
        startInclusive = startInclusive.nextSibling;
        removeNode(tempNode, ctx);
      }
      removeIdsFromConsideration(ctx, endExclusive);
      return endExclusive.nextSibling;
    }
    function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {
      let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);
      let potentialMatch = null;
      if (newChildPotentialIdCount > 0) {
        let potentialMatch2 = insertionPoint;
        let otherMatchCount = 0;
        while (potentialMatch2 != null) {
          if (isIdSetMatch(newChild, potentialMatch2, ctx)) {
            return potentialMatch2;
          }
          otherMatchCount += getIdIntersectionCount(ctx, potentialMatch2, newContent);
          if (otherMatchCount > newChildPotentialIdCount) {
            return null;
          }
          potentialMatch2 = potentialMatch2.nextSibling;
        }
      }
      return potentialMatch;
    }
    function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {
      let potentialSoftMatch = insertionPoint;
      let nextSibling = newChild.nextSibling;
      let siblingSoftMatchCount = 0;
      while (potentialSoftMatch != null) {
        if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {
          return null;
        }
        if (isSoftMatch(newChild, potentialSoftMatch)) {
          return potentialSoftMatch;
        }
        if (isSoftMatch(nextSibling, potentialSoftMatch)) {
          siblingSoftMatchCount++;
          nextSibling = nextSibling.nextSibling;
          if (siblingSoftMatchCount >= 2) {
            return null;
          }
        }
        potentialSoftMatch = potentialSoftMatch.nextSibling;
      }
      return potentialSoftMatch;
    }
    function parseContent(newContent) {
      let parser = new DOMParser();
      let contentWithSvgsRemoved = newContent.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim, "");
      if (contentWithSvgsRemoved.match(/<\/html>/) || contentWithSvgsRemoved.match(/<\/head>/) || contentWithSvgsRemoved.match(/<\/body>/)) {
        let content = parser.parseFromString(newContent, "text/html");
        if (contentWithSvgsRemoved.match(/<\/html>/)) {
          content.generatedByIdiomorph = true;
          return content;
        } else {
          let htmlElement = content.firstChild;
          if (htmlElement) {
            htmlElement.generatedByIdiomorph = true;
            return htmlElement;
          } else {
            return null;
          }
        }
      } else {
        let responseDoc = parser.parseFromString("<body><template>" + newContent + "</template></body>", "text/html");
        let content = responseDoc.body.querySelector("template").content;
        content.generatedByIdiomorph = true;
        return content;
      }
    }
    function normalizeContent(newContent) {
      if (newContent == null) {
        const dummyParent = document.createElement("div");
        return dummyParent;
      } else if (newContent.generatedByIdiomorph) {
        return newContent;
      } else if (newContent instanceof Node) {
        const dummyParent = document.createElement("div");
        dummyParent.append(newContent);
        return dummyParent;
      } else {
        const dummyParent = document.createElement("div");
        for (const elt of [...newContent]) {
          dummyParent.append(elt);
        }
        return dummyParent;
      }
    }
    function insertSiblings(previousSibling, morphedNode, nextSibling) {
      let stack = [];
      let added = [];
      while (previousSibling != null) {
        stack.push(previousSibling);
        previousSibling = previousSibling.previousSibling;
      }
      while (stack.length > 0) {
        let node = stack.pop();
        added.push(node);
        morphedNode.parentElement.insertBefore(node, morphedNode);
      }
      added.push(morphedNode);
      while (nextSibling != null) {
        stack.push(nextSibling);
        added.push(nextSibling);
        nextSibling = nextSibling.nextSibling;
      }
      while (stack.length > 0) {
        morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);
      }
      return added;
    }
    function findBestNodeMatch(newContent, oldNode, ctx) {
      let currentElement;
      currentElement = newContent.firstChild;
      let bestElement = currentElement;
      let score = 0;
      while (currentElement) {
        let newScore = scoreElement(currentElement, oldNode, ctx);
        if (newScore > score) {
          bestElement = currentElement;
          score = newScore;
        }
        currentElement = currentElement.nextSibling;
      }
      return bestElement;
    }
    function scoreElement(node1, node2, ctx) {
      if (isSoftMatch(node1, node2)) {
        return 0.5 + getIdIntersectionCount(ctx, node1, node2);
      }
      return 0;
    }
    function removeNode(tempNode, ctx) {
      removeIdsFromConsideration(ctx, tempNode);
      if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;
      tempNode.remove();
      ctx.callbacks.afterNodeRemoved(tempNode);
    }
    function isIdInConsideration(ctx, id) {
      return !ctx.deadIds.has(id);
    }
    function idIsWithinNode(ctx, id, targetNode) {
      let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;
      return idSet.has(id);
    }
    function removeIdsFromConsideration(ctx, node) {
      let idSet = ctx.idMap.get(node) || EMPTY_SET;
      for (const id of idSet) {
        ctx.deadIds.add(id);
      }
    }
    function getIdIntersectionCount(ctx, node1, node2) {
      let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;
      let matchCount = 0;
      for (const id of sourceSet) {
        if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {
          ++matchCount;
        }
      }
      return matchCount;
    }
    function populateIdMapForNode(node, idMap) {
      let nodeParent = node.parentElement;
      let idElements = node.querySelectorAll("[id]");
      for (const elt of idElements) {
        let current = elt;
        while (current !== nodeParent && current != null) {
          let idSet = idMap.get(current);
          if (idSet == null) {
            idSet = /* @__PURE__ */ new Set();
            idMap.set(current, idSet);
          }
          idSet.add(elt.id);
          current = current.parentElement;
        }
      }
    }
    function createIdMap(oldContent, newContent) {
      let idMap = /* @__PURE__ */ new Map();
      populateIdMapForNode(oldContent, idMap);
      populateIdMapForNode(newContent, idMap);
      return idMap;
    }
    return {
      morph,
      defaults
    };
  }();
  var _PageRenderer_instances, setLanguage_fn;
  var PageRenderer = class extends Renderer {
    constructor() {
      super(...arguments);
      __privateAdd(this, _PageRenderer_instances);
    }
    static renderElement(currentElement, newElement) {
      if (document.body && newElement instanceof HTMLBodyElement) {
        document.body.replaceWith(newElement);
      } else {
        document.documentElement.appendChild(newElement);
      }
    }
    get shouldRender() {
      return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;
    }
    get reloadReason() {
      if (!this.newSnapshot.isVisitable) {
        return {
          reason: "turbo_visit_control_is_reload"
        };
      }
      if (!this.trackedElementsAreIdentical) {
        return {
          reason: "tracked_element_mismatch"
        };
      }
    }
    async prepareToRender() {
      __privateMethod(this, _PageRenderer_instances, setLanguage_fn).call(this);
      await this.mergeHead();
    }
    async render() {
      if (this.willRender) {
        await this.replaceBody();
      }
    }
    finishRendering() {
      super.finishRendering();
      if (!this.isPreview) {
        this.focusFirstAutofocusableElement();
      }
    }
    get currentHeadSnapshot() {
      return this.currentSnapshot.headSnapshot;
    }
    get newHeadSnapshot() {
      return this.newSnapshot.headSnapshot;
    }
    get newElement() {
      return this.newSnapshot.element;
    }
    async mergeHead() {
      const mergedHeadElements = this.mergeProvisionalElements();
      const newStylesheetElements = this.copyNewHeadStylesheetElements();
      this.copyNewHeadScriptElements();
      await mergedHeadElements;
      await newStylesheetElements;
      if (this.willRender) {
        this.removeUnusedDynamicStylesheetElements();
      }
    }
    async replaceBody() {
      await this.preservingPermanentElements(async () => {
        this.activateNewBody();
        await this.assignNewBody();
      });
    }
    get trackedElementsAreIdentical() {
      return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;
    }
    async copyNewHeadStylesheetElements() {
      const loadingElements = [];
      for (const element of this.newHeadStylesheetElements) {
        loadingElements.push(waitForLoad(element));
        document.head.appendChild(element);
      }
      await Promise.all(loadingElements);
    }
    copyNewHeadScriptElements() {
      for (const element of this.newHeadScriptElements) {
        document.head.appendChild(activateScriptElement(element));
      }
    }
    removeUnusedDynamicStylesheetElements() {
      for (const element of this.unusedDynamicStylesheetElements) {
        document.head.removeChild(element);
      }
    }
    async mergeProvisionalElements() {
      const newHeadElements = [...this.newHeadProvisionalElements];
      for (const element of this.currentHeadProvisionalElements) {
        if (!this.isCurrentElementInElementList(element, newHeadElements)) {
          document.head.removeChild(element);
        }
      }
      for (const element of newHeadElements) {
        document.head.appendChild(element);
      }
    }
    isCurrentElementInElementList(element, elementList) {
      for (const [index, newElement] of elementList.entries()) {
        if (element.tagName == "TITLE") {
          if (newElement.tagName != "TITLE") {
            continue;
          }
          if (element.innerHTML == newElement.innerHTML) {
            elementList.splice(index, 1);
            return true;
          }
        }
        if (newElement.isEqualNode(element)) {
          elementList.splice(index, 1);
          return true;
        }
      }
      return false;
    }
    removeCurrentHeadProvisionalElements() {
      for (const element of this.currentHeadProvisionalElements) {
        document.head.removeChild(element);
      }
    }
    copyNewHeadProvisionalElements() {
      for (const element of this.newHeadProvisionalElements) {
        document.head.appendChild(element);
      }
    }
    activateNewBody() {
      document.adoptNode(this.newElement);
      this.activateNewBodyScriptElements();
    }
    activateNewBodyScriptElements() {
      for (const inertScriptElement of this.newBodyScriptElements) {
        const activatedScriptElement = activateScriptElement(inertScriptElement);
        inertScriptElement.replaceWith(activatedScriptElement);
      }
    }
    async assignNewBody() {
      await this.renderElement(this.currentElement, this.newElement);
    }
    get unusedDynamicStylesheetElements() {
      return this.oldHeadStylesheetElements.filter((element) => {
        return element.getAttribute("data-turbo-track") === "dynamic";
      });
    }
    get oldHeadStylesheetElements() {
      return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot);
    }
    get newHeadStylesheetElements() {
      return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);
    }
    get newHeadScriptElements() {
      return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);
    }
    get currentHeadProvisionalElements() {
      return this.currentHeadSnapshot.provisionalElements;
    }
    get newHeadProvisionalElements() {
      return this.newHeadSnapshot.provisionalElements;
    }
    get newBodyScriptElements() {
      return this.newElement.querySelectorAll("script");
    }
  };
  _PageRenderer_instances = new WeakSet();
  setLanguage_fn = function() {
    const { documentElement } = this.currentSnapshot;
    const { lang } = this.newSnapshot;
    if (lang) {
      documentElement.setAttribute("lang", lang);
    } else {
      documentElement.removeAttribute("lang");
    }
  };
  var _MorphRenderer_instances, morphBody_fn, morphElements_fn, _shouldAddElement, _shouldMorphElement, _shouldUpdateAttribute, _didMorphElement, _shouldRemoveElement, reloadRemoteFrames_fn, renderFrameWithMorph_fn, _morphFrameUpdate, isFrameReloadedWithMorph_fn, remoteFrames_fn;
  var MorphRenderer = class extends PageRenderer {
    constructor() {
      super(...arguments);
      __privateAdd(this, _MorphRenderer_instances);
      __privateAdd(this, _shouldAddElement, (node) => {
        return !(node.id && node.hasAttribute("data-turbo-permanent") && document.getElementById(node.id));
      });
      __privateAdd(this, _shouldMorphElement, (oldNode, newNode) => {
        if (oldNode instanceof HTMLElement) {
          if (!oldNode.hasAttribute("data-turbo-permanent") && (this.isMorphingTurboFrame || !__privateMethod(this, _MorphRenderer_instances, isFrameReloadedWithMorph_fn).call(this, oldNode))) {
            const event = dispatch("turbo:before-morph-element", {
              cancelable: true,
              target: oldNode,
              detail: {
                newElement: newNode
              }
            });
            return !event.defaultPrevented;
          } else {
            return false;
          }
        }
      });
      __privateAdd(this, _shouldUpdateAttribute, (attributeName, target, mutationType) => {
        const event = dispatch("turbo:before-morph-attribute", { cancelable: true, target, detail: { attributeName, mutationType } });
        return !event.defaultPrevented;
      });
      __privateAdd(this, _didMorphElement, (oldNode, newNode) => {
        if (newNode instanceof HTMLElement) {
          dispatch("turbo:morph-element", {
            target: oldNode,
            detail: {
              newElement: newNode
            }
          });
        }
      });
      __privateAdd(this, _shouldRemoveElement, (node) => {
        return __privateGet(this, _shouldMorphElement).call(this, node);
      });
      __privateAdd(this, _morphFrameUpdate, (currentElement, newElement) => {
        dispatch("turbo:before-frame-morph", {
          target: currentElement,
          detail: { currentElement, newElement }
        });
        __privateMethod(this, _MorphRenderer_instances, morphElements_fn).call(this, currentElement, newElement.children, "innerHTML");
      });
    }
    async render() {
      if (this.willRender) await __privateMethod(this, _MorphRenderer_instances, morphBody_fn).call(this);
    }
    get renderMethod() {
      return "morph";
    }
  };
  _MorphRenderer_instances = new WeakSet();
  morphBody_fn = async function() {
    __privateMethod(this, _MorphRenderer_instances, morphElements_fn).call(this, this.currentElement, this.newElement);
    __privateMethod(this, _MorphRenderer_instances, reloadRemoteFrames_fn).call(this);
    dispatch("turbo:morph", {
      detail: {
        currentElement: this.currentElement,
        newElement: this.newElement
      }
    });
  };
  morphElements_fn = function(currentElement, newElement, morphStyle = "outerHTML") {
    this.isMorphingTurboFrame = __privateMethod(this, _MorphRenderer_instances, isFrameReloadedWithMorph_fn).call(this, currentElement);
    Idiomorph.morph(currentElement, newElement, {
      morphStyle,
      callbacks: {
        beforeNodeAdded: __privateGet(this, _shouldAddElement),
        beforeNodeMorphed: __privateGet(this, _shouldMorphElement),
        beforeAttributeUpdated: __privateGet(this, _shouldUpdateAttribute),
        beforeNodeRemoved: __privateGet(this, _shouldRemoveElement),
        afterNodeMorphed: __privateGet(this, _didMorphElement)
      }
    });
  };
  _shouldAddElement = new WeakMap();
  _shouldMorphElement = new WeakMap();
  _shouldUpdateAttribute = new WeakMap();
  _didMorphElement = new WeakMap();
  _shouldRemoveElement = new WeakMap();
  reloadRemoteFrames_fn = function() {
    __privateMethod(this, _MorphRenderer_instances, remoteFrames_fn).call(this).forEach((frame) => {
      if (__privateMethod(this, _MorphRenderer_instances, isFrameReloadedWithMorph_fn).call(this, frame)) {
        __privateMethod(this, _MorphRenderer_instances, renderFrameWithMorph_fn).call(this, frame);
        frame.reload();
      }
    });
  };
  renderFrameWithMorph_fn = function(frame) {
    frame.addEventListener("turbo:before-frame-render", (event) => {
      event.detail.render = __privateGet(this, _morphFrameUpdate);
    }, { once: true });
  };
  _morphFrameUpdate = new WeakMap();
  isFrameReloadedWithMorph_fn = function(element) {
    return element.src && element.refresh === "morph";
  };
  remoteFrames_fn = function() {
    return Array.from(document.querySelectorAll("turbo-frame[src]")).filter((frame) => {
      return !frame.closest("[data-turbo-permanent]");
    });
  };
  var SnapshotCache = class {
    constructor(size2) {
      __publicField(this, "keys", []);
      __publicField(this, "snapshots", {});
      this.size = size2;
    }
    has(location2) {
      return toCacheKey(location2) in this.snapshots;
    }
    get(location2) {
      if (this.has(location2)) {
        const snapshot = this.read(location2);
        this.touch(location2);
        return snapshot;
      }
    }
    put(location2, snapshot) {
      this.write(location2, snapshot);
      this.touch(location2);
      return snapshot;
    }
    clear() {
      this.snapshots = {};
    }
    // Private
    read(location2) {
      return this.snapshots[toCacheKey(location2)];
    }
    write(location2, snapshot) {
      this.snapshots[toCacheKey(location2)] = snapshot;
    }
    touch(location2) {
      const key = toCacheKey(location2);
      const index = this.keys.indexOf(key);
      if (index > -1) this.keys.splice(index, 1);
      this.keys.unshift(key);
      this.trim();
    }
    trim() {
      for (const key of this.keys.splice(this.size)) {
        delete this.snapshots[key];
      }
    }
  };
  var PageView = class extends View {
    constructor() {
      super(...arguments);
      __publicField(this, "snapshotCache", new SnapshotCache(10));
      __publicField(this, "lastRenderedLocation", new URL(location.href));
      __publicField(this, "forceReloaded", false);
    }
    shouldTransitionTo(newSnapshot) {
      return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions;
    }
    renderPage(snapshot, isPreview = false, willRender = true, visit2) {
      const shouldMorphPage = this.isPageRefresh(visit2) && this.snapshot.shouldMorphPage;
      const rendererClass = shouldMorphPage ? MorphRenderer : PageRenderer;
      const renderer = new rendererClass(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);
      if (!renderer.shouldRender) {
        this.forceReloaded = true;
      } else {
        visit2?.changeHistory();
      }
      return this.render(renderer);
    }
    renderError(snapshot, visit2) {
      visit2?.changeHistory();
      const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);
      return this.render(renderer);
    }
    clearSnapshotCache() {
      this.snapshotCache.clear();
    }
    async cacheSnapshot(snapshot = this.snapshot) {
      if (snapshot.isCacheable) {
        this.delegate.viewWillCacheSnapshot();
        const { lastRenderedLocation: location2 } = this;
        await nextEventLoopTick();
        const cachedSnapshot = snapshot.clone();
        this.snapshotCache.put(location2, cachedSnapshot);
        return cachedSnapshot;
      }
    }
    getCachedSnapshotForLocation(location2) {
      return this.snapshotCache.get(location2);
    }
    isPageRefresh(visit2) {
      return !visit2 || this.lastRenderedLocation.pathname === visit2.location.pathname && visit2.action === "replace";
    }
    shouldPreserveScrollPosition(visit2) {
      return this.isPageRefresh(visit2) && this.snapshot.shouldPreserveScrollPosition;
    }
    get snapshot() {
      return PageSnapshot.fromElement(this.element);
    }
  };
  var _preloadAll;
  var Preloader = class {
    constructor(delegate, snapshotCache) {
      __publicField(this, "selector", "a[data-turbo-preload]");
      __privateAdd(this, _preloadAll, () => {
        this.preloadOnLoadLinksForView(document.body);
      });
      this.delegate = delegate;
      this.snapshotCache = snapshotCache;
    }
    start() {
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", __privateGet(this, _preloadAll));
      } else {
        this.preloadOnLoadLinksForView(document.body);
      }
    }
    stop() {
      document.removeEventListener("DOMContentLoaded", __privateGet(this, _preloadAll));
    }
    preloadOnLoadLinksForView(element) {
      for (const link of element.querySelectorAll(this.selector)) {
        if (this.delegate.shouldPreloadLink(link)) {
          this.preloadURL(link);
        }
      }
    }
    async preloadURL(link) {
      const location2 = new URL(link.href);
      if (this.snapshotCache.has(location2)) {
        return;
      }
      const fetchRequest = new FetchRequest(this, FetchMethod.get, location2, new URLSearchParams(), link);
      await fetchRequest.perform();
    }
    // Fetch request delegate
    prepareRequest(fetchRequest) {
      fetchRequest.headers["X-Sec-Purpose"] = "prefetch";
    }
    async requestSucceededWithResponse(fetchRequest, fetchResponse) {
      try {
        const responseHTML = await fetchResponse.responseHTML;
        const snapshot = PageSnapshot.fromHTMLString(responseHTML);
        this.snapshotCache.put(fetchRequest.url, snapshot);
      } catch (_) {
      }
    }
    requestStarted(fetchRequest) {
    }
    requestErrored(fetchRequest) {
    }
    requestFinished(fetchRequest) {
    }
    requestPreventedHandlingResponse(fetchRequest, fetchResponse) {
    }
    requestFailedWithResponse(fetchRequest, fetchResponse) {
    }
  };
  _preloadAll = new WeakMap();
  var _Cache_instances, setCacheControl_fn;
  var Cache = class {
    constructor(session2) {
      __privateAdd(this, _Cache_instances);
      this.session = session2;
    }
    clear() {
      this.session.clearCache();
    }
    resetCacheControl() {
      __privateMethod(this, _Cache_instances, setCacheControl_fn).call(this, "");
    }
    exemptPageFromCache() {
      __privateMethod(this, _Cache_instances, setCacheControl_fn).call(this, "no-cache");
    }
    exemptPageFromPreview() {
      __privateMethod(this, _Cache_instances, setCacheControl_fn).call(this, "no-preview");
    }
  };
  _Cache_instances = new WeakSet();
  setCacheControl_fn = function(value) {
    setMetaContent("turbo-cache-control", value);
  };
  var _pageRefreshDebouncePeriod;
  var Session = class {
    constructor(recentRequests2) {
      __publicField(this, "navigator", new Navigator(this));
      __publicField(this, "history", new History(this));
      __publicField(this, "view", new PageView(this, document.documentElement));
      __publicField(this, "adapter", new BrowserAdapter(this));
      __publicField(this, "pageObserver", new PageObserver(this));
      __publicField(this, "cacheObserver", new CacheObserver());
      __publicField(this, "linkPrefetchObserver", new LinkPrefetchObserver(this, document));
      __publicField(this, "linkClickObserver", new LinkClickObserver(this, window));
      __publicField(this, "formSubmitObserver", new FormSubmitObserver(this, document));
      __publicField(this, "scrollObserver", new ScrollObserver(this));
      __publicField(this, "streamObserver", new StreamObserver(this));
      __publicField(this, "formLinkClickObserver", new FormLinkClickObserver(this, document.documentElement));
      __publicField(this, "frameRedirector", new FrameRedirector(this, document.documentElement));
      __publicField(this, "streamMessageRenderer", new StreamMessageRenderer());
      __publicField(this, "cache", new Cache(this));
      __publicField(this, "drive", true);
      __publicField(this, "enabled", true);
      __publicField(this, "progressBarDelay", 500);
      __publicField(this, "started", false);
      __publicField(this, "formMode", "on");
      __privateAdd(this, _pageRefreshDebouncePeriod, 150);
      this.recentRequests = recentRequests2;
      this.preloader = new Preloader(this, this.view.snapshotCache);
      this.debouncedRefresh = this.refresh;
      this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;
    }
    start() {
      if (!this.started) {
        this.pageObserver.start();
        this.cacheObserver.start();
        this.linkPrefetchObserver.start();
        this.formLinkClickObserver.start();
        this.linkClickObserver.start();
        this.formSubmitObserver.start();
        this.scrollObserver.start();
        this.streamObserver.start();
        this.frameRedirector.start();
        this.history.start();
        this.preloader.start();
        this.started = true;
        this.enabled = true;
      }
    }
    disable() {
      this.enabled = false;
    }
    stop() {
      if (this.started) {
        this.pageObserver.stop();
        this.cacheObserver.stop();
        this.linkPrefetchObserver.stop();
        this.formLinkClickObserver.stop();
        this.linkClickObserver.stop();
        this.formSubmitObserver.stop();
        this.scrollObserver.stop();
        this.streamObserver.stop();
        this.frameRedirector.stop();
        this.history.stop();
        this.preloader.stop();
        this.started = false;
      }
    }
    registerAdapter(adapter) {
      this.adapter = adapter;
    }
    visit(location2, options = {}) {
      const frameElement = options.frame ? document.getElementById(options.frame) : null;
      if (frameElement instanceof FrameElement) {
        const action = options.action || getVisitAction(frameElement);
        frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);
        frameElement.src = location2.toString();
      } else {
        this.navigator.proposeVisit(expandURL(location2), options);
      }
    }
    refresh(url, requestId) {
      const isRecentRequest = requestId && this.recentRequests.has(requestId);
      if (!isRecentRequest) {
        this.visit(url, { action: "replace", shouldCacheSnapshot: false });
      }
    }
    connectStreamSource(source) {
      this.streamObserver.connectStreamSource(source);
    }
    disconnectStreamSource(source) {
      this.streamObserver.disconnectStreamSource(source);
    }
    renderStreamMessage(message2) {
      this.streamMessageRenderer.render(StreamMessage.wrap(message2));
    }
    clearCache() {
      this.view.clearSnapshotCache();
    }
    setProgressBarDelay(delay) {
      this.progressBarDelay = delay;
    }
    setFormMode(mode) {
      this.formMode = mode;
    }
    get location() {
      return this.history.location;
    }
    get restorationIdentifier() {
      return this.history.restorationIdentifier;
    }
    get pageRefreshDebouncePeriod() {
      return __privateGet(this, _pageRefreshDebouncePeriod);
    }
    set pageRefreshDebouncePeriod(value) {
      this.refresh = debounce(this.debouncedRefresh.bind(this), value);
      __privateSet(this, _pageRefreshDebouncePeriod, value);
    }
    // Preloader delegate
    shouldPreloadLink(element) {
      const isUnsafe = element.hasAttribute("data-turbo-method");
      const isStream = element.hasAttribute("data-turbo-stream");
      const frameTarget = element.getAttribute("data-turbo-frame");
      const frame = frameTarget == "_top" ? null : document.getElementById(frameTarget) || findClosestRecursively(element, "turbo-frame:not([disabled])");
      if (isUnsafe || isStream || frame instanceof FrameElement) {
        return false;
      } else {
        const location2 = new URL(element.href);
        return this.elementIsNavigatable(element) && locationIsVisitable(location2, this.snapshot.rootLocation);
      }
    }
    // History delegate
    historyPoppedToLocationWithRestorationIdentifierAndDirection(location2, restorationIdentifier, direction) {
      if (this.enabled) {
        this.navigator.startVisit(location2, restorationIdentifier, {
          action: "restore",
          historyChanged: true,
          direction
        });
      } else {
        this.adapter.pageInvalidated({
          reason: "turbo_disabled"
        });
      }
    }
    // Scroll observer delegate
    scrollPositionChanged(position) {
      this.history.updateRestorationData({ scrollPosition: position });
    }
    // Form click observer delegate
    willSubmitFormLinkToLocation(link, location2) {
      return this.elementIsNavigatable(link) && locationIsVisitable(location2, this.snapshot.rootLocation);
    }
    submittedFormLinkToLocation() {
    }
    // Link hover observer delegate
    canPrefetchRequestToLocation(link, location2) {
      return this.elementIsNavigatable(link) && locationIsVisitable(location2, this.snapshot.rootLocation);
    }
    // Link click observer delegate
    willFollowLinkToLocation(link, location2, event) {
      return this.elementIsNavigatable(link) && locationIsVisitable(location2, this.snapshot.rootLocation) && this.applicationAllowsFollowingLinkToLocation(link, location2, event);
    }
    followedLinkToLocation(link, location2) {
      const action = this.getActionForLink(link);
      const acceptsStreamResponse = link.hasAttribute("data-turbo-stream");
      this.visit(location2.href, { action, acceptsStreamResponse });
    }
    // Navigator delegate
    allowsVisitingLocationWithAction(location2, action) {
      return this.locationWithActionIsSamePage(location2, action) || this.applicationAllowsVisitingLocation(location2);
    }
    visitProposedToLocation(location2, options) {
      extendURLWithDeprecatedProperties(location2);
      this.adapter.visitProposedToLocation(location2, options);
    }
    // Visit delegate
    visitStarted(visit2) {
      if (!visit2.acceptsStreamResponse) {
        markAsBusy(document.documentElement);
        this.view.markVisitDirection(visit2.direction);
      }
      extendURLWithDeprecatedProperties(visit2.location);
      if (!visit2.silent) {
        this.notifyApplicationAfterVisitingLocation(visit2.location, visit2.action);
      }
    }
    visitCompleted(visit2) {
      this.view.unmarkVisitDirection();
      clearBusyState(document.documentElement);
      this.notifyApplicationAfterPageLoad(visit2.getTimingMetrics());
    }
    locationWithActionIsSamePage(location2, action) {
      return this.navigator.locationWithActionIsSamePage(location2, action);
    }
    visitScrolledToSamePageLocation(oldURL, newURL) {
      this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);
    }
    // Form submit observer delegate
    willSubmitForm(form, submitter) {
      const action = getAction$1(form, submitter);
      return this.submissionIsNavigatable(form, submitter) && locationIsVisitable(expandURL(action), this.snapshot.rootLocation);
    }
    formSubmitted(form, submitter) {
      this.navigator.submitForm(form, submitter);
    }
    // Page observer delegate
    pageBecameInteractive() {
      this.view.lastRenderedLocation = this.location;
      this.notifyApplicationAfterPageLoad();
    }
    pageLoaded() {
      this.history.assumeControlOfScrollRestoration();
    }
    pageWillUnload() {
      this.history.relinquishControlOfScrollRestoration();
    }
    // Stream observer delegate
    receivedMessageFromStream(message2) {
      this.renderStreamMessage(message2);
    }
    // Page view delegate
    viewWillCacheSnapshot() {
      if (!this.navigator.currentVisit?.silent) {
        this.notifyApplicationBeforeCachingSnapshot();
      }
    }
    allowsImmediateRender({ element }, options) {
      const event = this.notifyApplicationBeforeRender(element, options);
      const {
        defaultPrevented,
        detail: { render }
      } = event;
      if (this.view.renderer && render) {
        this.view.renderer.renderElement = render;
      }
      return !defaultPrevented;
    }
    viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {
      this.view.lastRenderedLocation = this.history.location;
      this.notifyApplicationAfterRender(renderMethod);
    }
    preloadOnLoadLinksForView(element) {
      this.preloader.preloadOnLoadLinksForView(element);
    }
    viewInvalidated(reason) {
      this.adapter.pageInvalidated(reason);
    }
    // Frame element
    frameLoaded(frame) {
      this.notifyApplicationAfterFrameLoad(frame);
    }
    frameRendered(fetchResponse, frame) {
      this.notifyApplicationAfterFrameRender(fetchResponse, frame);
    }
    // Application events
    applicationAllowsFollowingLinkToLocation(link, location2, ev) {
      const event = this.notifyApplicationAfterClickingLinkToLocation(link, location2, ev);
      return !event.defaultPrevented;
    }
    applicationAllowsVisitingLocation(location2) {
      const event = this.notifyApplicationBeforeVisitingLocation(location2);
      return !event.defaultPrevented;
    }
    notifyApplicationAfterClickingLinkToLocation(link, location2, event) {
      return dispatch("turbo:click", {
        target: link,
        detail: { url: location2.href, originalEvent: event },
        cancelable: true
      });
    }
    notifyApplicationBeforeVisitingLocation(location2) {
      return dispatch("turbo:before-visit", {
        detail: { url: location2.href },
        cancelable: true
      });
    }
    notifyApplicationAfterVisitingLocation(location2, action) {
      return dispatch("turbo:visit", { detail: { url: location2.href, action } });
    }
    notifyApplicationBeforeCachingSnapshot() {
      return dispatch("turbo:before-cache");
    }
    notifyApplicationBeforeRender(newBody, options) {
      return dispatch("turbo:before-render", {
        detail: { newBody, ...options },
        cancelable: true
      });
    }
    notifyApplicationAfterRender(renderMethod) {
      return dispatch("turbo:render", { detail: { renderMethod } });
    }
    notifyApplicationAfterPageLoad(timing = {}) {
      return dispatch("turbo:load", {
        detail: { url: this.location.href, timing }
      });
    }
    notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {
      dispatchEvent(
        new HashChangeEvent("hashchange", {
          oldURL: oldURL.toString(),
          newURL: newURL.toString()
        })
      );
    }
    notifyApplicationAfterFrameLoad(frame) {
      return dispatch("turbo:frame-load", { target: frame });
    }
    notifyApplicationAfterFrameRender(fetchResponse, frame) {
      return dispatch("turbo:frame-render", {
        detail: { fetchResponse },
        target: frame,
        cancelable: true
      });
    }
    // Helpers
    submissionIsNavigatable(form, submitter) {
      if (this.formMode == "off") {
        return false;
      } else {
        const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;
        if (this.formMode == "optin") {
          return submitterIsNavigatable && form.closest('[data-turbo="true"]') != null;
        } else {
          return submitterIsNavigatable && this.elementIsNavigatable(form);
        }
      }
    }
    elementIsNavigatable(element) {
      const container = findClosestRecursively(element, "[data-turbo]");
      const withinFrame = findClosestRecursively(element, "turbo-frame");
      if (this.drive || withinFrame) {
        if (container) {
          return container.getAttribute("data-turbo") != "false";
        } else {
          return true;
        }
      } else {
        if (container) {
          return container.getAttribute("data-turbo") == "true";
        } else {
          return false;
        }
      }
    }
    // Private
    getActionForLink(link) {
      return getVisitAction(link) || "advance";
    }
    get snapshot() {
      return this.view.snapshot;
    }
  };
  _pageRefreshDebouncePeriod = new WeakMap();
  function extendURLWithDeprecatedProperties(url) {
    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);
  }
  var deprecatedLocationPropertyDescriptors = {
    absoluteURL: {
      get() {
        return this.toString();
      }
    }
  };
  var session = new Session(recentRequests);
  var { cache, navigator: navigator$1 } = session;
  function start() {
    session.start();
  }
  function registerAdapter(adapter) {
    session.registerAdapter(adapter);
  }
  function visit(location2, options) {
    session.visit(location2, options);
  }
  function connectStreamSource(source) {
    session.connectStreamSource(source);
  }
  function disconnectStreamSource(source) {
    session.disconnectStreamSource(source);
  }
  function renderStreamMessage(message2) {
    session.renderStreamMessage(message2);
  }
  function clearCache() {
    console.warn(
      "Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"
    );
    session.clearCache();
  }
  function setProgressBarDelay(delay) {
    session.setProgressBarDelay(delay);
  }
  function setConfirmMethod(confirmMethod) {
    FormSubmission.confirmMethod = confirmMethod;
  }
  function setFormMode(mode) {
    session.setFormMode(mode);
  }
  var Turbo = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    navigator: navigator$1,
    session,
    cache,
    PageRenderer,
    PageSnapshot,
    FrameRenderer,
    fetch: fetchWithTurboHeaders,
    start,
    registerAdapter,
    visit,
    connectStreamSource,
    disconnectStreamSource,
    renderStreamMessage,
    clearCache,
    setProgressBarDelay,
    setConfirmMethod,
    setFormMode
  });
  var TurboFrameMissingError = class extends Error {
  };
  var _currentFetchRequest, _resolveVisitPromise, _connected, _hasBeenLoaded, _ignoredAttributes, _FrameController_instances, loadSourceURL_fn, loadFrameResponse_fn, visit_fn, navigateFrame_fn, handleUnvisitableFrameResponse_fn, willHandleFrameMissingFromResponse_fn, handleFrameMissingFromResponse_fn, throwFrameMissingError_fn, visitResponse_fn, findFrameElement_fn2, formActionIsVisitable_fn, shouldInterceptNavigation_fn, isIgnoringChangesTo_fn, ignoringChangesToAttribute_fn, withCurrentNavigationElement_fn;
  var FrameController = class {
    constructor(element) {
      __privateAdd(this, _FrameController_instances);
      __publicField(this, "fetchResponseLoaded", (_fetchResponse) => Promise.resolve());
      __privateAdd(this, _currentFetchRequest, null);
      __privateAdd(this, _resolveVisitPromise, () => {
      });
      __privateAdd(this, _connected, false);
      __privateAdd(this, _hasBeenLoaded, false);
      __privateAdd(this, _ignoredAttributes, /* @__PURE__ */ new Set());
      __publicField(this, "action", null);
      __publicField(this, "visitCachedSnapshot", ({ element }) => {
        const frame = element.querySelector("#" + this.element.id);
        if (frame && this.previousFrameElement) {
          frame.replaceChildren(...this.previousFrameElement.children);
        }
        delete this.previousFrameElement;
      });
      this.element = element;
      this.view = new FrameView(this, this.element);
      this.appearanceObserver = new AppearanceObserver(this, this.element);
      this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);
      this.linkInterceptor = new LinkInterceptor(this, this.element);
      this.restorationIdentifier = uuid();
      this.formSubmitObserver = new FormSubmitObserver(this, this.element);
    }
    // Frame delegate
    connect() {
      if (!__privateGet(this, _connected)) {
        __privateSet(this, _connected, true);
        if (this.loadingStyle == FrameLoadingStyle.lazy) {
          this.appearanceObserver.start();
        } else {
          __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
        }
        this.formLinkClickObserver.start();
        this.linkInterceptor.start();
        this.formSubmitObserver.start();
      }
    }
    disconnect() {
      if (__privateGet(this, _connected)) {
        __privateSet(this, _connected, false);
        this.appearanceObserver.stop();
        this.formLinkClickObserver.stop();
        this.linkInterceptor.stop();
        this.formSubmitObserver.stop();
      }
    }
    disabledChanged() {
      if (this.loadingStyle == FrameLoadingStyle.eager) {
        __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
      }
    }
    sourceURLChanged() {
      if (__privateMethod(this, _FrameController_instances, isIgnoringChangesTo_fn).call(this, "src")) return;
      if (this.element.isConnected) {
        this.complete = false;
      }
      if (this.loadingStyle == FrameLoadingStyle.eager || __privateGet(this, _hasBeenLoaded)) {
        __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
      }
    }
    sourceURLReloaded() {
      const { src } = this.element;
      this.element.removeAttribute("complete");
      this.element.src = null;
      this.element.src = src;
      return this.element.loaded;
    }
    loadingStyleChanged() {
      if (this.loadingStyle == FrameLoadingStyle.lazy) {
        this.appearanceObserver.start();
      } else {
        this.appearanceObserver.stop();
        __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
      }
    }
    async loadResponse(fetchResponse) {
      if (fetchResponse.redirected || fetchResponse.succeeded && fetchResponse.isHTML) {
        this.sourceURL = fetchResponse.response.url;
      }
      try {
        const html = await fetchResponse.responseHTML;
        if (html) {
          const document2 = parseHTMLDocument(html);
          const pageSnapshot = PageSnapshot.fromDocument(document2);
          if (pageSnapshot.isVisitable) {
            await __privateMethod(this, _FrameController_instances, loadFrameResponse_fn).call(this, fetchResponse, document2);
          } else {
            await __privateMethod(this, _FrameController_instances, handleUnvisitableFrameResponse_fn).call(this, fetchResponse);
          }
        }
      } finally {
        this.fetchResponseLoaded = () => Promise.resolve();
      }
    }
    // Appearance observer delegate
    elementAppearedInViewport(element) {
      this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));
      __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
    }
    // Form link click observer delegate
    willSubmitFormLinkToLocation(link) {
      return __privateMethod(this, _FrameController_instances, shouldInterceptNavigation_fn).call(this, link);
    }
    submittedFormLinkToLocation(link, _location, form) {
      const frame = __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, link);
      if (frame) form.setAttribute("data-turbo-frame", frame.id);
    }
    // Link interceptor delegate
    shouldInterceptLinkClick(element, _location, _event) {
      return __privateMethod(this, _FrameController_instances, shouldInterceptNavigation_fn).call(this, element);
    }
    linkClickIntercepted(element, location2) {
      __privateMethod(this, _FrameController_instances, navigateFrame_fn).call(this, element, location2);
    }
    // Form submit observer delegate
    willSubmitForm(element, submitter) {
      return element.closest("turbo-frame") == this.element && __privateMethod(this, _FrameController_instances, shouldInterceptNavigation_fn).call(this, element, submitter);
    }
    formSubmitted(element, submitter) {
      if (this.formSubmission) {
        this.formSubmission.stop();
      }
      this.formSubmission = new FormSubmission(this, element, submitter);
      const { fetchRequest } = this.formSubmission;
      this.prepareRequest(fetchRequest);
      this.formSubmission.start();
    }
    // Fetch request delegate
    prepareRequest(request) {
      request.headers["Turbo-Frame"] = this.id;
      if (this.currentNavigationElement?.hasAttribute("data-turbo-stream")) {
        request.acceptResponseType(StreamMessage.contentType);
      }
    }
    requestStarted(_request) {
      markAsBusy(this.element);
    }
    requestPreventedHandlingResponse(_request, _response) {
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    async requestSucceededWithResponse(request, response) {
      await this.loadResponse(response);
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    async requestFailedWithResponse(request, response) {
      await this.loadResponse(response);
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    requestErrored(request, error2) {
      console.error(error2);
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    requestFinished(_request) {
      clearBusyState(this.element);
    }
    // Form submission delegate
    formSubmissionStarted({ formElement }) {
      markAsBusy(formElement, __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, formElement));
    }
    formSubmissionSucceededWithResponse(formSubmission, response) {
      const frame = __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, formSubmission.formElement, formSubmission.submitter);
      frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));
      frame.delegate.loadResponse(response);
      if (!formSubmission.isSafe) {
        session.clearCache();
      }
    }
    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {
      this.element.delegate.loadResponse(fetchResponse);
      session.clearCache();
    }
    formSubmissionErrored(formSubmission, error2) {
      console.error(error2);
    }
    formSubmissionFinished({ formElement }) {
      clearBusyState(formElement, __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, formElement));
    }
    // View delegate
    allowsImmediateRender({ element: newFrame }, options) {
      const event = dispatch("turbo:before-frame-render", {
        target: this.element,
        detail: { newFrame, ...options },
        cancelable: true
      });
      const {
        defaultPrevented,
        detail: { render }
      } = event;
      if (this.view.renderer && render) {
        this.view.renderer.renderElement = render;
      }
      return !defaultPrevented;
    }
    viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {
    }
    preloadOnLoadLinksForView(element) {
      session.preloadOnLoadLinksForView(element);
    }
    viewInvalidated() {
    }
    // Frame renderer delegate
    willRenderFrame(currentElement, _newElement) {
      this.previousFrameElement = currentElement.cloneNode(true);
    }
    proposeVisitIfNavigatedWithAction(frame, action = null) {
      this.action = action;
      if (this.action) {
        const pageSnapshot = PageSnapshot.fromElement(frame).clone();
        const { visitCachedSnapshot } = frame.delegate;
        frame.delegate.fetchResponseLoaded = async (fetchResponse) => {
          if (frame.src) {
            const { statusCode, redirected } = fetchResponse;
            const responseHTML = await fetchResponse.responseHTML;
            const response = { statusCode, redirected, responseHTML };
            const options = {
              response,
              visitCachedSnapshot,
              willRender: false,
              updateHistory: false,
              restorationIdentifier: this.restorationIdentifier,
              snapshot: pageSnapshot
            };
            if (this.action) options.action = this.action;
            session.visit(frame.src, options);
          }
        };
      }
    }
    changeHistory() {
      if (this.action) {
        const method = getHistoryMethodForAction(this.action);
        session.history.update(method, expandURL(this.element.src || ""), this.restorationIdentifier);
      }
    }
    async extractForeignFrameElement(container) {
      let element;
      const id = CSS.escape(this.id);
      try {
        element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);
        if (element) {
          return element;
        }
        element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);
        if (element) {
          await element.loaded;
          return await this.extractForeignFrameElement(element);
        }
      } catch (error2) {
        console.error(error2);
        return new FrameElement();
      }
      return null;
    }
    // Computed properties
    get id() {
      return this.element.id;
    }
    get enabled() {
      return !this.element.disabled;
    }
    get sourceURL() {
      if (this.element.src) {
        return this.element.src;
      }
    }
    set sourceURL(sourceURL) {
      __privateMethod(this, _FrameController_instances, ignoringChangesToAttribute_fn).call(this, "src", () => {
        this.element.src = sourceURL ?? null;
      });
    }
    get loadingStyle() {
      return this.element.loading;
    }
    get isLoading() {
      return this.formSubmission !== void 0 || __privateGet(this, _resolveVisitPromise).call(this) !== void 0;
    }
    get complete() {
      return this.element.hasAttribute("complete");
    }
    set complete(value) {
      if (value) {
        this.element.setAttribute("complete", "");
      } else {
        this.element.removeAttribute("complete");
      }
    }
    get isActive() {
      return this.element.isActive && __privateGet(this, _connected);
    }
    get rootLocation() {
      const meta = this.element.ownerDocument.querySelector(`meta[name="turbo-root"]`);
      const root = meta?.content ?? "/";
      return expandURL(root);
    }
  };
  _currentFetchRequest = new WeakMap();
  _resolveVisitPromise = new WeakMap();
  _connected = new WeakMap();
  _hasBeenLoaded = new WeakMap();
  _ignoredAttributes = new WeakMap();
  _FrameController_instances = new WeakSet();
  loadSourceURL_fn = async function() {
    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {
      this.element.loaded = __privateMethod(this, _FrameController_instances, visit_fn).call(this, expandURL(this.sourceURL));
      this.appearanceObserver.stop();
      await this.element.loaded;
      __privateSet(this, _hasBeenLoaded, true);
    }
  };
  loadFrameResponse_fn = async function(fetchResponse, document2) {
    const newFrameElement = await this.extractForeignFrameElement(document2.body);
    if (newFrameElement) {
      const snapshot = new Snapshot(newFrameElement);
      const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);
      if (this.view.renderPromise) await this.view.renderPromise;
      this.changeHistory();
      await this.view.render(renderer);
      this.complete = true;
      session.frameRendered(fetchResponse, this.element);
      session.frameLoaded(this.element);
      await this.fetchResponseLoaded(fetchResponse);
    } else if (__privateMethod(this, _FrameController_instances, willHandleFrameMissingFromResponse_fn).call(this, fetchResponse)) {
      __privateMethod(this, _FrameController_instances, handleFrameMissingFromResponse_fn).call(this, fetchResponse);
    }
  };
  visit_fn = async function(url) {
    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);
    __privateGet(this, _currentFetchRequest)?.cancel();
    __privateSet(this, _currentFetchRequest, request);
    return new Promise((resolve) => {
      __privateSet(this, _resolveVisitPromise, () => {
        __privateSet(this, _resolveVisitPromise, () => {
        });
        __privateSet(this, _currentFetchRequest, null);
        resolve();
      });
      request.perform();
    });
  };
  navigateFrame_fn = function(element, url, submitter) {
    const frame = __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, element, submitter);
    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));
    __privateMethod(this, _FrameController_instances, withCurrentNavigationElement_fn).call(this, element, () => {
      frame.src = url;
    });
  };
  handleUnvisitableFrameResponse_fn = async function(fetchResponse) {
    console.warn(
      `The response (${fetchResponse.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`
    );
    await __privateMethod(this, _FrameController_instances, visitResponse_fn).call(this, fetchResponse.response);
  };
  willHandleFrameMissingFromResponse_fn = function(fetchResponse) {
    this.element.setAttribute("complete", "");
    const response = fetchResponse.response;
    const visit2 = async (url, options) => {
      if (url instanceof Response) {
        __privateMethod(this, _FrameController_instances, visitResponse_fn).call(this, url);
      } else {
        session.visit(url, options);
      }
    };
    const event = dispatch("turbo:frame-missing", {
      target: this.element,
      detail: { response, visit: visit2 },
      cancelable: true
    });
    return !event.defaultPrevented;
  };
  handleFrameMissingFromResponse_fn = function(fetchResponse) {
    this.view.missing();
    __privateMethod(this, _FrameController_instances, throwFrameMissingError_fn).call(this, fetchResponse);
  };
  throwFrameMissingError_fn = function(fetchResponse) {
    const message2 = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;
    throw new TurboFrameMissingError(message2);
  };
  visitResponse_fn = async function(response) {
    const wrapped = new FetchResponse(response);
    const responseHTML = await wrapped.responseHTML;
    const { location: location2, redirected, statusCode } = wrapped;
    return session.visit(location2, { response: { redirected, statusCode, responseHTML } });
  };
  findFrameElement_fn2 = function(element, submitter) {
    const id = getAttribute("data-turbo-frame", submitter, element) || this.element.getAttribute("target");
    return getFrameElementById(id) ?? this.element;
  };
  formActionIsVisitable_fn = function(form, submitter) {
    const action = getAction$1(form, submitter);
    return locationIsVisitable(expandURL(action), this.rootLocation);
  };
  shouldInterceptNavigation_fn = function(element, submitter) {
    const id = getAttribute("data-turbo-frame", submitter, element) || this.element.getAttribute("target");
    if (element instanceof HTMLFormElement && !__privateMethod(this, _FrameController_instances, formActionIsVisitable_fn).call(this, element, submitter)) {
      return false;
    }
    if (!this.enabled || id == "_top") {
      return false;
    }
    if (id) {
      const frameElement = getFrameElementById(id);
      if (frameElement) {
        return !frameElement.disabled;
      }
    }
    if (!session.elementIsNavigatable(element)) {
      return false;
    }
    if (submitter && !session.elementIsNavigatable(submitter)) {
      return false;
    }
    return true;
  };
  isIgnoringChangesTo_fn = function(attributeName) {
    return __privateGet(this, _ignoredAttributes).has(attributeName);
  };
  ignoringChangesToAttribute_fn = function(attributeName, callback) {
    __privateGet(this, _ignoredAttributes).add(attributeName);
    callback();
    __privateGet(this, _ignoredAttributes).delete(attributeName);
  };
  withCurrentNavigationElement_fn = function(element, callback) {
    this.currentNavigationElement = element;
    callback();
    delete this.currentNavigationElement;
  };
  function getFrameElementById(id) {
    if (id != null) {
      const element = document.getElementById(id);
      if (element instanceof FrameElement) {
        return element;
      }
    }
  }
  function activateElement(element, currentURL) {
    if (element) {
      const src = element.getAttribute("src");
      if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {
        throw new Error(`Matching <turbo-frame id="${element.id}"> element has a source URL which references itself`);
      }
      if (element.ownerDocument !== document) {
        element = document.importNode(element, true);
      }
      if (element instanceof FrameElement) {
        element.connectedCallback();
        element.disconnectedCallback();
        return element;
      }
    }
  }
  var StreamActions = {
    after() {
      this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));
    },
    append() {
      this.removeDuplicateTargetChildren();
      this.targetElements.forEach((e) => e.append(this.templateContent));
    },
    before() {
      this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));
    },
    prepend() {
      this.removeDuplicateTargetChildren();
      this.targetElements.forEach((e) => e.prepend(this.templateContent));
    },
    remove() {
      this.targetElements.forEach((e) => e.remove());
    },
    replace() {
      this.targetElements.forEach((e) => e.replaceWith(this.templateContent));
    },
    update() {
      this.targetElements.forEach((targetElement) => {
        targetElement.innerHTML = "";
        targetElement.append(this.templateContent);
      });
    },
    refresh() {
      session.refresh(this.baseURI, this.requestId);
    }
  };
  var _StreamElement_instances, raise_fn;
  var _StreamElement = class _StreamElement extends HTMLElement {
    constructor() {
      super(...arguments);
      __privateAdd(this, _StreamElement_instances);
    }
    static async renderElement(newElement) {
      await newElement.performAction();
    }
    async connectedCallback() {
      try {
        await this.render();
      } catch (error2) {
        console.error(error2);
      } finally {
        this.disconnect();
      }
    }
    async render() {
      return this.renderPromise ?? (this.renderPromise = (async () => {
        const event = this.beforeRenderEvent;
        if (this.dispatchEvent(event)) {
          await nextRepaint();
          await event.detail.render(this);
        }
      })());
    }
    disconnect() {
      try {
        this.remove();
      } catch {
      }
    }
    /**
     * Removes duplicate children (by ID)
     */
    removeDuplicateTargetChildren() {
      this.duplicateChildren.forEach((c) => c.remove());
    }
    /**
     * Gets the list of duplicate children (i.e. those with the same ID)
     */
    get duplicateChildren() {
      const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);
      const newChildrenIds = [...this.templateContent?.children || []].filter((c) => !!c.id).map((c) => c.id);
      return existingChildren.filter((c) => newChildrenIds.includes(c.id));
    }
    /**
     * Gets the action function to be performed.
     */
    get performAction() {
      if (this.action) {
        const actionFunction = StreamActions[this.action];
        if (actionFunction) {
          return actionFunction;
        }
        __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "unknown action");
      }
      __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "action attribute is missing");
    }
    /**
     * Gets the target elements which the template will be rendered to.
     */
    get targetElements() {
      if (this.target) {
        return this.targetElementsById;
      } else if (this.targets) {
        return this.targetElementsByQuery;
      } else {
        __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "target or targets attribute is missing");
      }
    }
    /**
     * Gets the contents of the main `<template>`.
     */
    get templateContent() {
      return this.templateElement.content.cloneNode(true);
    }
    /**
     * Gets the main `<template>` used for rendering
     */
    get templateElement() {
      if (this.firstElementChild === null) {
        const template = this.ownerDocument.createElement("template");
        this.appendChild(template);
        return template;
      } else if (this.firstElementChild instanceof HTMLTemplateElement) {
        return this.firstElementChild;
      }
      __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "first child element must be a <template> element");
    }
    /**
     * Gets the current action.
     */
    get action() {
      return this.getAttribute("action");
    }
    /**
     * Gets the current target (an element ID) to which the result will
     * be rendered.
     */
    get target() {
      return this.getAttribute("target");
    }
    /**
     * Gets the current "targets" selector (a CSS selector)
     */
    get targets() {
      return this.getAttribute("targets");
    }
    /**
     * Reads the request-id attribute
     */
    get requestId() {
      return this.getAttribute("request-id");
    }
    get description() {
      return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? "<turbo-stream>";
    }
    get beforeRenderEvent() {
      return new CustomEvent("turbo:before-stream-render", {
        bubbles: true,
        cancelable: true,
        detail: { newStream: this, render: _StreamElement.renderElement }
      });
    }
    get targetElementsById() {
      const element = this.ownerDocument?.getElementById(this.target);
      if (element !== null) {
        return [element];
      } else {
        return [];
      }
    }
    get targetElementsByQuery() {
      const elements = this.ownerDocument?.querySelectorAll(this.targets);
      if (elements.length !== 0) {
        return Array.prototype.slice.call(elements);
      } else {
        return [];
      }
    }
  };
  _StreamElement_instances = new WeakSet();
  raise_fn = function(message2) {
    throw new Error(`${this.description}: ${message2}`);
  };
  var StreamElement = _StreamElement;
  var StreamSourceElement = class extends HTMLElement {
    constructor() {
      super(...arguments);
      __publicField(this, "streamSource", null);
    }
    connectedCallback() {
      this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);
      connectStreamSource(this.streamSource);
    }
    disconnectedCallback() {
      if (this.streamSource) {
        this.streamSource.close();
        disconnectStreamSource(this.streamSource);
      }
    }
    get src() {
      return this.getAttribute("src") || "";
    }
  };
  FrameElement.delegateConstructor = FrameController;
  if (customElements.get("turbo-frame") === void 0) {
    customElements.define("turbo-frame", FrameElement);
  }
  if (customElements.get("turbo-stream") === void 0) {
    customElements.define("turbo-stream", StreamElement);
  }
  if (customElements.get("turbo-stream-source") === void 0) {
    customElements.define("turbo-stream-source", StreamSourceElement);
  }
  (() => {
    let element = document.currentScript;
    if (!element) return;
    if (element.hasAttribute("data-turbo-suppress-warning")) return;
    element = element.parentElement;
    while (element) {
      if (element == document.body) {
        return console.warn(
          unindent`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,
          element.outerHTML
        );
      }
      element = element.parentElement;
    }
  })();
  window.Turbo = { ...Turbo, StreamActions };
  start();

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js
  var consumer;
  async function getConsumer() {
    return consumer || setConsumer(createConsumer2().then(setConsumer));
  }
  function setConsumer(newConsumer) {
    return consumer = newConsumer;
  }
  async function createConsumer2() {
    const { createConsumer: createConsumer3 } = await Promise.resolve().then(() => (init_src(), src_exports));
    return createConsumer3();
  }
  async function subscribeTo(channel, mixin) {
    const { subscriptions } = await getConsumer();
    return subscriptions.create(channel, mixin);
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js
  function walk(obj) {
    if (!obj || typeof obj !== "object") return obj;
    if (obj instanceof Date || obj instanceof RegExp) return obj;
    if (Array.isArray(obj)) return obj.map(walk);
    return Object.keys(obj).reduce(function(acc, key) {
      var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function(m, x) {
        return "_" + x.toLowerCase();
      });
      acc[camel] = walk(obj[key]);
      return acc;
    }, {});
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js
  var TurboCableStreamSourceElement = class extends HTMLElement {
    async connectedCallback() {
      connectStreamSource(this);
      this.subscription = await subscribeTo(this.channel, {
        received: this.dispatchMessageEvent.bind(this),
        connected: this.subscriptionConnected.bind(this),
        disconnected: this.subscriptionDisconnected.bind(this)
      });
    }
    disconnectedCallback() {
      disconnectStreamSource(this);
      if (this.subscription) this.subscription.unsubscribe();
    }
    dispatchMessageEvent(data) {
      const event = new MessageEvent("message", { data });
      return this.dispatchEvent(event);
    }
    subscriptionConnected() {
      this.setAttribute("connected", "");
    }
    subscriptionDisconnected() {
      this.removeAttribute("connected");
    }
    get channel() {
      const channel = this.getAttribute("channel");
      const signed_stream_name = this.getAttribute("signed-stream-name");
      return { channel, signed_stream_name, ...walk({ ...this.dataset }) };
    }
  };
  if (customElements.get("turbo-cable-stream-source") === void 0) {
    customElements.define("turbo-cable-stream-source", TurboCableStreamSourceElement);
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js
  function encodeMethodIntoRequestBody(event) {
    if (event.target instanceof HTMLFormElement) {
      const { target: form, detail: { fetchOptions } } = event;
      form.addEventListener("turbo:submit-start", ({ detail: { formSubmission: { submitter } } }) => {
        const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams();
        const method = determineFetchMethod(submitter, body, form);
        if (!/get/i.test(method)) {
          if (/post/i.test(method)) {
            body.delete("_method");
          } else {
            body.set("_method", method);
          }
          fetchOptions.method = "post";
        }
      }, { once: true });
    }
  }
  function determineFetchMethod(submitter, body, form) {
    const formMethod = determineFormMethod(submitter);
    const overrideMethod = body.get("_method");
    const method = form.getAttribute("method") || "get";
    if (typeof formMethod == "string") {
      return formMethod;
    } else if (typeof overrideMethod == "string") {
      return overrideMethod;
    } else {
      return method;
    }
  }
  function determineFormMethod(submitter) {
    if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {
      if (submitter.name === "_method") {
        return submitter.value;
      } else if (submitter.hasAttribute("formmethod")) {
        return submitter.formMethod;
      } else {
        return null;
      }
    } else {
      return null;
    }
  }
  function isBodyInit(body) {
    return body instanceof FormData || body instanceof URLSearchParams;
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js
  window.Turbo = turbo_es2017_esm_exports;
  addEventListener("turbo:before-fetch-request", encodeMethodIntoRequestBody);

  // node_modules/@hotwired/stimulus/dist/stimulus.js
  var EventListener = class {
    constructor(eventTarget, eventName, eventOptions) {
      this.eventTarget = eventTarget;
      this.eventName = eventName;
      this.eventOptions = eventOptions;
      this.unorderedBindings = /* @__PURE__ */ new Set();
    }
    connect() {
      this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);
    }
    disconnect() {
      this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);
    }
    bindingConnected(binding) {
      this.unorderedBindings.add(binding);
    }
    bindingDisconnected(binding) {
      this.unorderedBindings.delete(binding);
    }
    handleEvent(event) {
      const extendedEvent2 = extendEvent(event);
      for (const binding of this.bindings) {
        if (extendedEvent2.immediatePropagationStopped) {
          break;
        } else {
          binding.handleEvent(extendedEvent2);
        }
      }
    }
    hasBindings() {
      return this.unorderedBindings.size > 0;
    }
    get bindings() {
      return Array.from(this.unorderedBindings).sort((left, right) => {
        const leftIndex = left.index, rightIndex = right.index;
        return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;
      });
    }
  };
  function extendEvent(event) {
    if ("immediatePropagationStopped" in event) {
      return event;
    } else {
      const { stopImmediatePropagation } = event;
      return Object.assign(event, {
        immediatePropagationStopped: false,
        stopImmediatePropagation() {
          this.immediatePropagationStopped = true;
          stopImmediatePropagation.call(this);
        }
      });
    }
  }
  var Dispatcher = class {
    constructor(application2) {
      this.application = application2;
      this.eventListenerMaps = /* @__PURE__ */ new Map();
      this.started = false;
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.eventListeners.forEach((eventListener) => eventListener.connect());
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.eventListeners.forEach((eventListener) => eventListener.disconnect());
      }
    }
    get eventListeners() {
      return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);
    }
    bindingConnected(binding) {
      this.fetchEventListenerForBinding(binding).bindingConnected(binding);
    }
    bindingDisconnected(binding, clearEventListeners = false) {
      this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);
      if (clearEventListeners)
        this.clearEventListenersForBinding(binding);
    }
    handleError(error2, message2, detail = {}) {
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    clearEventListenersForBinding(binding) {
      const eventListener = this.fetchEventListenerForBinding(binding);
      if (!eventListener.hasBindings()) {
        eventListener.disconnect();
        this.removeMappedEventListenerFor(binding);
      }
    }
    removeMappedEventListenerFor(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      eventListenerMap.delete(cacheKey);
      if (eventListenerMap.size == 0)
        this.eventListenerMaps.delete(eventTarget);
    }
    fetchEventListenerForBinding(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      return this.fetchEventListener(eventTarget, eventName, eventOptions);
    }
    fetchEventListener(eventTarget, eventName, eventOptions) {
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      let eventListener = eventListenerMap.get(cacheKey);
      if (!eventListener) {
        eventListener = this.createEventListener(eventTarget, eventName, eventOptions);
        eventListenerMap.set(cacheKey, eventListener);
      }
      return eventListener;
    }
    createEventListener(eventTarget, eventName, eventOptions) {
      const eventListener = new EventListener(eventTarget, eventName, eventOptions);
      if (this.started) {
        eventListener.connect();
      }
      return eventListener;
    }
    fetchEventListenerMapForEventTarget(eventTarget) {
      let eventListenerMap = this.eventListenerMaps.get(eventTarget);
      if (!eventListenerMap) {
        eventListenerMap = /* @__PURE__ */ new Map();
        this.eventListenerMaps.set(eventTarget, eventListenerMap);
      }
      return eventListenerMap;
    }
    cacheKey(eventName, eventOptions) {
      const parts = [eventName];
      Object.keys(eventOptions).sort().forEach((key) => {
        parts.push(`${eventOptions[key] ? "" : "!"}${key}`);
      });
      return parts.join(":");
    }
  };
  var defaultActionDescriptorFilters = {
    stop({ event, value }) {
      if (value)
        event.stopPropagation();
      return true;
    },
    prevent({ event, value }) {
      if (value)
        event.preventDefault();
      return true;
    },
    self({ event, value, element }) {
      if (value) {
        return element === event.target;
      } else {
        return true;
      }
    }
  };
  var descriptorPattern = /^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;
  function parseActionDescriptorString(descriptorString) {
    const source = descriptorString.trim();
    const matches = source.match(descriptorPattern) || [];
    let eventName = matches[2];
    let keyFilter = matches[3];
    if (keyFilter && !["keydown", "keyup", "keypress"].includes(eventName)) {
      eventName += `.${keyFilter}`;
      keyFilter = "";
    }
    return {
      eventTarget: parseEventTarget(matches[4]),
      eventName,
      eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},
      identifier: matches[5],
      methodName: matches[6],
      keyFilter: matches[1] || keyFilter
    };
  }
  function parseEventTarget(eventTargetName) {
    if (eventTargetName == "window") {
      return window;
    } else if (eventTargetName == "document") {
      return document;
    }
  }
  function parseEventOptions(eventOptions) {
    return eventOptions.split(":").reduce((options, token) => Object.assign(options, { [token.replace(/^!/, "")]: !/^!/.test(token) }), {});
  }
  function stringifyEventTarget(eventTarget) {
    if (eventTarget == window) {
      return "window";
    } else if (eventTarget == document) {
      return "document";
    }
  }
  function camelize(value) {
    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());
  }
  function namespaceCamelize(value) {
    return camelize(value.replace(/--/g, "-").replace(/__/g, "_"));
  }
  function capitalize(value) {
    return value.charAt(0).toUpperCase() + value.slice(1);
  }
  function dasherize(value) {
    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);
  }
  function tokenize(value) {
    return value.match(/[^\s]+/g) || [];
  }
  function isSomething(object) {
    return object !== null && object !== void 0;
  }
  function hasProperty(object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  }
  var allModifiers = ["meta", "ctrl", "alt", "shift"];
  var Action = class {
    constructor(element, index, descriptor, schema) {
      this.element = element;
      this.index = index;
      this.eventTarget = descriptor.eventTarget || element;
      this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error("missing event name");
      this.eventOptions = descriptor.eventOptions || {};
      this.identifier = descriptor.identifier || error("missing identifier");
      this.methodName = descriptor.methodName || error("missing method name");
      this.keyFilter = descriptor.keyFilter || "";
      this.schema = schema;
    }
    static forToken(token, schema) {
      return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);
    }
    toString() {
      const eventFilter = this.keyFilter ? `.${this.keyFilter}` : "";
      const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : "";
      return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;
    }
    shouldIgnoreKeyboardEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = this.keyFilter.split("+");
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];
      if (!standardFilter) {
        return false;
      }
      if (!hasProperty(this.keyMappings, standardFilter)) {
        error(`contains unknown key filter: ${this.keyFilter}`);
      }
      return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();
    }
    shouldIgnoreMouseEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = [this.keyFilter];
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      return false;
    }
    get params() {
      const params = {};
      const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, "i");
      for (const { name, value } of Array.from(this.element.attributes)) {
        const match2 = name.match(pattern);
        const key = match2 && match2[1];
        if (key) {
          params[camelize(key)] = typecast(value);
        }
      }
      return params;
    }
    get eventTargetName() {
      return stringifyEventTarget(this.eventTarget);
    }
    get keyMappings() {
      return this.schema.keyMappings;
    }
    keyFilterDissatisfied(event, filters) {
      const [meta, ctrl, alt, shift3] = allModifiers.map((modifier) => filters.includes(modifier));
      return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift3;
    }
  };
  var defaultEventNames = {
    a: () => "click",
    button: () => "click",
    form: () => "submit",
    details: () => "toggle",
    input: (e) => e.getAttribute("type") == "submit" ? "click" : "input",
    select: () => "change",
    textarea: () => "input"
  };
  function getDefaultEventNameForElement(element) {
    const tagName = element.tagName.toLowerCase();
    if (tagName in defaultEventNames) {
      return defaultEventNames[tagName](element);
    }
  }
  function error(message2) {
    throw new Error(message2);
  }
  function typecast(value) {
    try {
      return JSON.parse(value);
    } catch (o_O) {
      return value;
    }
  }
  var Binding = class {
    constructor(context, action) {
      this.context = context;
      this.action = action;
    }
    get index() {
      return this.action.index;
    }
    get eventTarget() {
      return this.action.eventTarget;
    }
    get eventOptions() {
      return this.action.eventOptions;
    }
    get identifier() {
      return this.context.identifier;
    }
    handleEvent(event) {
      const actionEvent = this.prepareActionEvent(event);
      if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {
        this.invokeWithEvent(actionEvent);
      }
    }
    get eventName() {
      return this.action.eventName;
    }
    get method() {
      const method = this.controller[this.methodName];
      if (typeof method == "function") {
        return method;
      }
      throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`);
    }
    applyEventModifiers(event) {
      const { element } = this.action;
      const { actionDescriptorFilters } = this.context.application;
      const { controller } = this.context;
      let passes = true;
      for (const [name, value] of Object.entries(this.eventOptions)) {
        if (name in actionDescriptorFilters) {
          const filter2 = actionDescriptorFilters[name];
          passes = passes && filter2({ name, value, event, element, controller });
        } else {
          continue;
        }
      }
      return passes;
    }
    prepareActionEvent(event) {
      return Object.assign(event, { params: this.action.params });
    }
    invokeWithEvent(event) {
      const { target, currentTarget } = event;
      try {
        this.method.call(this.controller, event);
        this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });
      } catch (error2) {
        const { identifier, controller, element, index } = this;
        const detail = { identifier, controller, element, index, event };
        this.context.handleError(error2, `invoking action "${this.action}"`, detail);
      }
    }
    willBeInvokedByEvent(event) {
      const eventTarget = event.target;
      if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {
        return false;
      }
      if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {
        return false;
      }
      if (this.element === eventTarget) {
        return true;
      } else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {
        return this.scope.containsElement(eventTarget);
      } else {
        return this.scope.containsElement(this.action.element);
      }
    }
    get controller() {
      return this.context.controller;
    }
    get methodName() {
      return this.action.methodName;
    }
    get element() {
      return this.scope.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  var ElementObserver = class {
    constructor(element, delegate) {
      this.mutationObserverInit = { attributes: true, childList: true, subtree: true };
      this.element = element;
      this.started = false;
      this.delegate = delegate;
      this.elements = /* @__PURE__ */ new Set();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.refresh();
      }
    }
    pause(callback) {
      if (this.started) {
        this.mutationObserver.disconnect();
        this.started = false;
      }
      callback();
      if (!this.started) {
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        const matches = new Set(this.matchElementsInTree());
        for (const element of Array.from(this.elements)) {
          if (!matches.has(element)) {
            this.removeElement(element);
          }
        }
        for (const element of Array.from(matches)) {
          this.addElement(element);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      if (mutation.type == "attributes") {
        this.processAttributeChange(mutation.target, mutation.attributeName);
      } else if (mutation.type == "childList") {
        this.processRemovedNodes(mutation.removedNodes);
        this.processAddedNodes(mutation.addedNodes);
      }
    }
    processAttributeChange(element, attributeName) {
      if (this.elements.has(element)) {
        if (this.delegate.elementAttributeChanged && this.matchElement(element)) {
          this.delegate.elementAttributeChanged(element, attributeName);
        } else {
          this.removeElement(element);
        }
      } else if (this.matchElement(element)) {
        this.addElement(element);
      }
    }
    processRemovedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element) {
          this.processTree(element, this.removeElement);
        }
      }
    }
    processAddedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element && this.elementIsActive(element)) {
          this.processTree(element, this.addElement);
        }
      }
    }
    matchElement(element) {
      return this.delegate.matchElement(element);
    }
    matchElementsInTree(tree = this.element) {
      return this.delegate.matchElementsInTree(tree);
    }
    processTree(tree, processor) {
      for (const element of this.matchElementsInTree(tree)) {
        processor.call(this, element);
      }
    }
    elementFromNode(node) {
      if (node.nodeType == Node.ELEMENT_NODE) {
        return node;
      }
    }
    elementIsActive(element) {
      if (element.isConnected != this.element.isConnected) {
        return false;
      } else {
        return this.element.contains(element);
      }
    }
    addElement(element) {
      if (!this.elements.has(element)) {
        if (this.elementIsActive(element)) {
          this.elements.add(element);
          if (this.delegate.elementMatched) {
            this.delegate.elementMatched(element);
          }
        }
      }
    }
    removeElement(element) {
      if (this.elements.has(element)) {
        this.elements.delete(element);
        if (this.delegate.elementUnmatched) {
          this.delegate.elementUnmatched(element);
        }
      }
    }
  };
  var AttributeObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeName = attributeName;
      this.delegate = delegate;
      this.elementObserver = new ElementObserver(element, this);
    }
    get element() {
      return this.elementObserver.element;
    }
    get selector() {
      return `[${this.attributeName}]`;
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get started() {
      return this.elementObserver.started;
    }
    matchElement(element) {
      return element.hasAttribute(this.attributeName);
    }
    matchElementsInTree(tree) {
      const match2 = this.matchElement(tree) ? [tree] : [];
      const matches = Array.from(tree.querySelectorAll(this.selector));
      return match2.concat(matches);
    }
    elementMatched(element) {
      if (this.delegate.elementMatchedAttribute) {
        this.delegate.elementMatchedAttribute(element, this.attributeName);
      }
    }
    elementUnmatched(element) {
      if (this.delegate.elementUnmatchedAttribute) {
        this.delegate.elementUnmatchedAttribute(element, this.attributeName);
      }
    }
    elementAttributeChanged(element, attributeName) {
      if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {
        this.delegate.elementAttributeValueChanged(element, attributeName);
      }
    }
  };
  function add(map, key, value) {
    fetch(map, key).add(value);
  }
  function del(map, key, value) {
    fetch(map, key).delete(value);
    prune(map, key);
  }
  function fetch(map, key) {
    let values = map.get(key);
    if (!values) {
      values = /* @__PURE__ */ new Set();
      map.set(key, values);
    }
    return values;
  }
  function prune(map, key) {
    const values = map.get(key);
    if (values != null && values.size == 0) {
      map.delete(key);
    }
  }
  var Multimap = class {
    constructor() {
      this.valuesByKey = /* @__PURE__ */ new Map();
    }
    get keys() {
      return Array.from(this.valuesByKey.keys());
    }
    get values() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((values, set) => values.concat(Array.from(set)), []);
    }
    get size() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((size2, set) => size2 + set.size, 0);
    }
    add(key, value) {
      add(this.valuesByKey, key, value);
    }
    delete(key, value) {
      del(this.valuesByKey, key, value);
    }
    has(key, value) {
      const values = this.valuesByKey.get(key);
      return values != null && values.has(value);
    }
    hasKey(key) {
      return this.valuesByKey.has(key);
    }
    hasValue(value) {
      const sets = Array.from(this.valuesByKey.values());
      return sets.some((set) => set.has(value));
    }
    getValuesForKey(key) {
      const values = this.valuesByKey.get(key);
      return values ? Array.from(values) : [];
    }
    getKeysForValue(value) {
      return Array.from(this.valuesByKey).filter(([_key, values]) => values.has(value)).map(([key, _values]) => key);
    }
  };
  var SelectorObserver = class {
    constructor(element, selector, delegate, details) {
      this._selector = selector;
      this.details = details;
      this.elementObserver = new ElementObserver(element, this);
      this.delegate = delegate;
      this.matchesByElement = new Multimap();
    }
    get started() {
      return this.elementObserver.started;
    }
    get selector() {
      return this._selector;
    }
    set selector(selector) {
      this._selector = selector;
      this.refresh();
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get element() {
      return this.elementObserver.element;
    }
    matchElement(element) {
      const { selector } = this;
      if (selector) {
        const matches = element.matches(selector);
        if (this.delegate.selectorMatchElement) {
          return matches && this.delegate.selectorMatchElement(element, this.details);
        }
        return matches;
      } else {
        return false;
      }
    }
    matchElementsInTree(tree) {
      const { selector } = this;
      if (selector) {
        const match2 = this.matchElement(tree) ? [tree] : [];
        const matches = Array.from(tree.querySelectorAll(selector)).filter((match3) => this.matchElement(match3));
        return match2.concat(matches);
      } else {
        return [];
      }
    }
    elementMatched(element) {
      const { selector } = this;
      if (selector) {
        this.selectorMatched(element, selector);
      }
    }
    elementUnmatched(element) {
      const selectors = this.matchesByElement.getKeysForValue(element);
      for (const selector of selectors) {
        this.selectorUnmatched(element, selector);
      }
    }
    elementAttributeChanged(element, _attributeName) {
      const { selector } = this;
      if (selector) {
        const matches = this.matchElement(element);
        const matchedBefore = this.matchesByElement.has(selector, element);
        if (matches && !matchedBefore) {
          this.selectorMatched(element, selector);
        } else if (!matches && matchedBefore) {
          this.selectorUnmatched(element, selector);
        }
      }
    }
    selectorMatched(element, selector) {
      this.delegate.selectorMatched(element, selector, this.details);
      this.matchesByElement.add(selector, element);
    }
    selectorUnmatched(element, selector) {
      this.delegate.selectorUnmatched(element, selector, this.details);
      this.matchesByElement.delete(selector, element);
    }
  };
  var StringMapObserver = class {
    constructor(element, delegate) {
      this.element = element;
      this.delegate = delegate;
      this.started = false;
      this.stringMap = /* @__PURE__ */ new Map();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });
        this.refresh();
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        for (const attributeName of this.knownAttributeNames) {
          this.refreshAttribute(attributeName, null);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      const attributeName = mutation.attributeName;
      if (attributeName) {
        this.refreshAttribute(attributeName, mutation.oldValue);
      }
    }
    refreshAttribute(attributeName, oldValue) {
      const key = this.delegate.getStringMapKeyForAttribute(attributeName);
      if (key != null) {
        if (!this.stringMap.has(attributeName)) {
          this.stringMapKeyAdded(key, attributeName);
        }
        const value = this.element.getAttribute(attributeName);
        if (this.stringMap.get(attributeName) != value) {
          this.stringMapValueChanged(value, key, oldValue);
        }
        if (value == null) {
          const oldValue2 = this.stringMap.get(attributeName);
          this.stringMap.delete(attributeName);
          if (oldValue2)
            this.stringMapKeyRemoved(key, attributeName, oldValue2);
        } else {
          this.stringMap.set(attributeName, value);
        }
      }
    }
    stringMapKeyAdded(key, attributeName) {
      if (this.delegate.stringMapKeyAdded) {
        this.delegate.stringMapKeyAdded(key, attributeName);
      }
    }
    stringMapValueChanged(value, key, oldValue) {
      if (this.delegate.stringMapValueChanged) {
        this.delegate.stringMapValueChanged(value, key, oldValue);
      }
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      if (this.delegate.stringMapKeyRemoved) {
        this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);
      }
    }
    get knownAttributeNames() {
      return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));
    }
    get currentAttributeNames() {
      return Array.from(this.element.attributes).map((attribute) => attribute.name);
    }
    get recordedAttributeNames() {
      return Array.from(this.stringMap.keys());
    }
  };
  var TokenListObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeObserver = new AttributeObserver(element, attributeName, this);
      this.delegate = delegate;
      this.tokensByElement = new Multimap();
    }
    get started() {
      return this.attributeObserver.started;
    }
    start() {
      this.attributeObserver.start();
    }
    pause(callback) {
      this.attributeObserver.pause(callback);
    }
    stop() {
      this.attributeObserver.stop();
    }
    refresh() {
      this.attributeObserver.refresh();
    }
    get element() {
      return this.attributeObserver.element;
    }
    get attributeName() {
      return this.attributeObserver.attributeName;
    }
    elementMatchedAttribute(element) {
      this.tokensMatched(this.readTokensForElement(element));
    }
    elementAttributeValueChanged(element) {
      const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);
      this.tokensUnmatched(unmatchedTokens);
      this.tokensMatched(matchedTokens);
    }
    elementUnmatchedAttribute(element) {
      this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));
    }
    tokensMatched(tokens) {
      tokens.forEach((token) => this.tokenMatched(token));
    }
    tokensUnmatched(tokens) {
      tokens.forEach((token) => this.tokenUnmatched(token));
    }
    tokenMatched(token) {
      this.delegate.tokenMatched(token);
      this.tokensByElement.add(token.element, token);
    }
    tokenUnmatched(token) {
      this.delegate.tokenUnmatched(token);
      this.tokensByElement.delete(token.element, token);
    }
    refreshTokensForElement(element) {
      const previousTokens = this.tokensByElement.getValuesForKey(element);
      const currentTokens = this.readTokensForElement(element);
      const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));
      if (firstDifferingIndex == -1) {
        return [[], []];
      } else {
        return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];
      }
    }
    readTokensForElement(element) {
      const attributeName = this.attributeName;
      const tokenString = element.getAttribute(attributeName) || "";
      return parseTokenString(tokenString, element, attributeName);
    }
  };
  function parseTokenString(tokenString, element, attributeName) {
    return tokenString.trim().split(/\s+/).filter((content) => content.length).map((content, index) => ({ element, attributeName, content, index }));
  }
  function zip(left, right) {
    const length = Math.max(left.length, right.length);
    return Array.from({ length }, (_, index) => [left[index], right[index]]);
  }
  function tokensAreEqual(left, right) {
    return left && right && left.index == right.index && left.content == right.content;
  }
  var ValueListObserver = class {
    constructor(element, attributeName, delegate) {
      this.tokenListObserver = new TokenListObserver(element, attributeName, this);
      this.delegate = delegate;
      this.parseResultsByToken = /* @__PURE__ */ new WeakMap();
      this.valuesByTokenByElement = /* @__PURE__ */ new WeakMap();
    }
    get started() {
      return this.tokenListObserver.started;
    }
    start() {
      this.tokenListObserver.start();
    }
    stop() {
      this.tokenListObserver.stop();
    }
    refresh() {
      this.tokenListObserver.refresh();
    }
    get element() {
      return this.tokenListObserver.element;
    }
    get attributeName() {
      return this.tokenListObserver.attributeName;
    }
    tokenMatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).set(token, value);
        this.delegate.elementMatchedValue(element, value);
      }
    }
    tokenUnmatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).delete(token);
        this.delegate.elementUnmatchedValue(element, value);
      }
    }
    fetchParseResultForToken(token) {
      let parseResult = this.parseResultsByToken.get(token);
      if (!parseResult) {
        parseResult = this.parseToken(token);
        this.parseResultsByToken.set(token, parseResult);
      }
      return parseResult;
    }
    fetchValuesByTokenForElement(element) {
      let valuesByToken = this.valuesByTokenByElement.get(element);
      if (!valuesByToken) {
        valuesByToken = /* @__PURE__ */ new Map();
        this.valuesByTokenByElement.set(element, valuesByToken);
      }
      return valuesByToken;
    }
    parseToken(token) {
      try {
        const value = this.delegate.parseValueForToken(token);
        return { value };
      } catch (error2) {
        return { error: error2 };
      }
    }
  };
  var BindingObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.bindingsByAction = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.valueListObserver) {
        this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);
        this.valueListObserver.start();
      }
    }
    stop() {
      if (this.valueListObserver) {
        this.valueListObserver.stop();
        delete this.valueListObserver;
        this.disconnectAllActions();
      }
    }
    get element() {
      return this.context.element;
    }
    get identifier() {
      return this.context.identifier;
    }
    get actionAttribute() {
      return this.schema.actionAttribute;
    }
    get schema() {
      return this.context.schema;
    }
    get bindings() {
      return Array.from(this.bindingsByAction.values());
    }
    connectAction(action) {
      const binding = new Binding(this.context, action);
      this.bindingsByAction.set(action, binding);
      this.delegate.bindingConnected(binding);
    }
    disconnectAction(action) {
      const binding = this.bindingsByAction.get(action);
      if (binding) {
        this.bindingsByAction.delete(action);
        this.delegate.bindingDisconnected(binding);
      }
    }
    disconnectAllActions() {
      this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));
      this.bindingsByAction.clear();
    }
    parseValueForToken(token) {
      const action = Action.forToken(token, this.schema);
      if (action.identifier == this.identifier) {
        return action;
      }
    }
    elementMatchedValue(element, action) {
      this.connectAction(action);
    }
    elementUnmatchedValue(element, action) {
      this.disconnectAction(action);
    }
  };
  var ValueObserver = class {
    constructor(context, receiver) {
      this.context = context;
      this.receiver = receiver;
      this.stringMapObserver = new StringMapObserver(this.element, this);
      this.valueDescriptorMap = this.controller.valueDescriptorMap;
    }
    start() {
      this.stringMapObserver.start();
      this.invokeChangedCallbacksForDefaultValues();
    }
    stop() {
      this.stringMapObserver.stop();
    }
    get element() {
      return this.context.element;
    }
    get controller() {
      return this.context.controller;
    }
    getStringMapKeyForAttribute(attributeName) {
      if (attributeName in this.valueDescriptorMap) {
        return this.valueDescriptorMap[attributeName].name;
      }
    }
    stringMapKeyAdded(key, attributeName) {
      const descriptor = this.valueDescriptorMap[attributeName];
      if (!this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));
      }
    }
    stringMapValueChanged(value, name, oldValue) {
      const descriptor = this.valueDescriptorNameMap[name];
      if (value === null)
        return;
      if (oldValue === null) {
        oldValue = descriptor.writer(descriptor.defaultValue);
      }
      this.invokeChangedCallback(name, value, oldValue);
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      const descriptor = this.valueDescriptorNameMap[key];
      if (this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);
      } else {
        this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);
      }
    }
    invokeChangedCallbacksForDefaultValues() {
      for (const { key, name, defaultValue, writer } of this.valueDescriptors) {
        if (defaultValue != void 0 && !this.controller.data.has(key)) {
          this.invokeChangedCallback(name, writer(defaultValue), void 0);
        }
      }
    }
    invokeChangedCallback(name, rawValue, rawOldValue) {
      const changedMethodName = `${name}Changed`;
      const changedMethod = this.receiver[changedMethodName];
      if (typeof changedMethod == "function") {
        const descriptor = this.valueDescriptorNameMap[name];
        try {
          const value = descriptor.reader(rawValue);
          let oldValue = rawOldValue;
          if (rawOldValue) {
            oldValue = descriptor.reader(rawOldValue);
          }
          changedMethod.call(this.receiver, value, oldValue);
        } catch (error2) {
          if (error2 instanceof TypeError) {
            error2.message = `Stimulus Value "${this.context.identifier}.${descriptor.name}" - ${error2.message}`;
          }
          throw error2;
        }
      }
    }
    get valueDescriptors() {
      const { valueDescriptorMap } = this;
      return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);
    }
    get valueDescriptorNameMap() {
      const descriptors = {};
      Object.keys(this.valueDescriptorMap).forEach((key) => {
        const descriptor = this.valueDescriptorMap[key];
        descriptors[descriptor.name] = descriptor;
      });
      return descriptors;
    }
    hasValue(attributeName) {
      const descriptor = this.valueDescriptorNameMap[attributeName];
      const hasMethodName = `has${capitalize(descriptor.name)}`;
      return this.receiver[hasMethodName];
    }
  };
  var TargetObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.targetsByName = new Multimap();
    }
    start() {
      if (!this.tokenListObserver) {
        this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);
        this.tokenListObserver.start();
      }
    }
    stop() {
      if (this.tokenListObserver) {
        this.disconnectAllTargets();
        this.tokenListObserver.stop();
        delete this.tokenListObserver;
      }
    }
    tokenMatched({ element, content: name }) {
      if (this.scope.containsElement(element)) {
        this.connectTarget(element, name);
      }
    }
    tokenUnmatched({ element, content: name }) {
      this.disconnectTarget(element, name);
    }
    connectTarget(element, name) {
      var _a;
      if (!this.targetsByName.has(name, element)) {
        this.targetsByName.add(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));
      }
    }
    disconnectTarget(element, name) {
      var _a;
      if (this.targetsByName.has(name, element)) {
        this.targetsByName.delete(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));
      }
    }
    disconnectAllTargets() {
      for (const name of this.targetsByName.keys) {
        for (const element of this.targetsByName.getValuesForKey(name)) {
          this.disconnectTarget(element, name);
        }
      }
    }
    get attributeName() {
      return `data-${this.context.identifier}-target`;
    }
    get element() {
      return this.context.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  function readInheritableStaticArrayValues(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return Array.from(ancestors.reduce((values, constructor2) => {
      getOwnStaticArrayValues(constructor2, propertyName).forEach((name) => values.add(name));
      return values;
    }, /* @__PURE__ */ new Set()));
  }
  function readInheritableStaticObjectPairs(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return ancestors.reduce((pairs, constructor2) => {
      pairs.push(...getOwnStaticObjectPairs(constructor2, propertyName));
      return pairs;
    }, []);
  }
  function getAncestorsForConstructor(constructor) {
    const ancestors = [];
    while (constructor) {
      ancestors.push(constructor);
      constructor = Object.getPrototypeOf(constructor);
    }
    return ancestors.reverse();
  }
  function getOwnStaticArrayValues(constructor, propertyName) {
    const definition = constructor[propertyName];
    return Array.isArray(definition) ? definition : [];
  }
  function getOwnStaticObjectPairs(constructor, propertyName) {
    const definition = constructor[propertyName];
    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];
  }
  var OutletObserver = class {
    constructor(context, delegate) {
      this.started = false;
      this.context = context;
      this.delegate = delegate;
      this.outletsByName = new Multimap();
      this.outletElementsByName = new Multimap();
      this.selectorObserverMap = /* @__PURE__ */ new Map();
      this.attributeObserverMap = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.started) {
        this.outletDefinitions.forEach((outletName) => {
          this.setupSelectorObserverForOutlet(outletName);
          this.setupAttributeObserverForOutlet(outletName);
        });
        this.started = true;
        this.dependentContexts.forEach((context) => context.refresh());
      }
    }
    refresh() {
      this.selectorObserverMap.forEach((observer) => observer.refresh());
      this.attributeObserverMap.forEach((observer) => observer.refresh());
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.disconnectAllOutlets();
        this.stopSelectorObservers();
        this.stopAttributeObservers();
      }
    }
    stopSelectorObservers() {
      if (this.selectorObserverMap.size > 0) {
        this.selectorObserverMap.forEach((observer) => observer.stop());
        this.selectorObserverMap.clear();
      }
    }
    stopAttributeObservers() {
      if (this.attributeObserverMap.size > 0) {
        this.attributeObserverMap.forEach((observer) => observer.stop());
        this.attributeObserverMap.clear();
      }
    }
    selectorMatched(element, _selector, { outletName }) {
      const outlet = this.getOutlet(element, outletName);
      if (outlet) {
        this.connectOutlet(outlet, element, outletName);
      }
    }
    selectorUnmatched(element, _selector, { outletName }) {
      const outlet = this.getOutletFromMap(element, outletName);
      if (outlet) {
        this.disconnectOutlet(outlet, element, outletName);
      }
    }
    selectorMatchElement(element, { outletName }) {
      const selector = this.selector(outletName);
      const hasOutlet = this.hasOutlet(element, outletName);
      const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);
      if (selector) {
        return hasOutlet && hasOutletController && element.matches(selector);
      } else {
        return false;
      }
    }
    elementMatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementAttributeValueChanged(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementUnmatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    connectOutlet(outlet, element, outletName) {
      var _a;
      if (!this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.add(outletName, outlet);
        this.outletElementsByName.add(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));
      }
    }
    disconnectOutlet(outlet, element, outletName) {
      var _a;
      if (this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.delete(outletName, outlet);
        this.outletElementsByName.delete(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));
      }
    }
    disconnectAllOutlets() {
      for (const outletName of this.outletElementsByName.keys) {
        for (const element of this.outletElementsByName.getValuesForKey(outletName)) {
          for (const outlet of this.outletsByName.getValuesForKey(outletName)) {
            this.disconnectOutlet(outlet, element, outletName);
          }
        }
      }
    }
    updateSelectorObserverForOutlet(outletName) {
      const observer = this.selectorObserverMap.get(outletName);
      if (observer) {
        observer.selector = this.selector(outletName);
      }
    }
    setupSelectorObserverForOutlet(outletName) {
      const selector = this.selector(outletName);
      const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });
      this.selectorObserverMap.set(outletName, selectorObserver);
      selectorObserver.start();
    }
    setupAttributeObserverForOutlet(outletName) {
      const attributeName = this.attributeNameForOutletName(outletName);
      const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);
      this.attributeObserverMap.set(outletName, attributeObserver);
      attributeObserver.start();
    }
    selector(outletName) {
      return this.scope.outlets.getSelectorForOutletName(outletName);
    }
    attributeNameForOutletName(outletName) {
      return this.scope.schema.outletAttributeForScope(this.identifier, outletName);
    }
    getOutletNameFromOutletAttributeName(attributeName) {
      return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);
    }
    get outletDependencies() {
      const dependencies = new Multimap();
      this.router.modules.forEach((module) => {
        const constructor = module.definition.controllerConstructor;
        const outlets = readInheritableStaticArrayValues(constructor, "outlets");
        outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));
      });
      return dependencies;
    }
    get outletDefinitions() {
      return this.outletDependencies.getKeysForValue(this.identifier);
    }
    get dependentControllerIdentifiers() {
      return this.outletDependencies.getValuesForKey(this.identifier);
    }
    get dependentContexts() {
      const identifiers = this.dependentControllerIdentifiers;
      return this.router.contexts.filter((context) => identifiers.includes(context.identifier));
    }
    hasOutlet(element, outletName) {
      return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);
    }
    getOutlet(element, outletName) {
      return this.application.getControllerForElementAndIdentifier(element, outletName);
    }
    getOutletFromMap(element, outletName) {
      return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);
    }
    get scope() {
      return this.context.scope;
    }
    get schema() {
      return this.context.schema;
    }
    get identifier() {
      return this.context.identifier;
    }
    get application() {
      return this.context.application;
    }
    get router() {
      return this.application.router;
    }
  };
  var Context = class {
    constructor(module, scope) {
      this.logDebugActivity = (functionName, detail = {}) => {
        const { identifier, controller, element } = this;
        detail = Object.assign({ identifier, controller, element }, detail);
        this.application.logDebugActivity(this.identifier, functionName, detail);
      };
      this.module = module;
      this.scope = scope;
      this.controller = new module.controllerConstructor(this);
      this.bindingObserver = new BindingObserver(this, this.dispatcher);
      this.valueObserver = new ValueObserver(this, this.controller);
      this.targetObserver = new TargetObserver(this, this);
      this.outletObserver = new OutletObserver(this, this);
      try {
        this.controller.initialize();
        this.logDebugActivity("initialize");
      } catch (error2) {
        this.handleError(error2, "initializing controller");
      }
    }
    connect() {
      this.bindingObserver.start();
      this.valueObserver.start();
      this.targetObserver.start();
      this.outletObserver.start();
      try {
        this.controller.connect();
        this.logDebugActivity("connect");
      } catch (error2) {
        this.handleError(error2, "connecting controller");
      }
    }
    refresh() {
      this.outletObserver.refresh();
    }
    disconnect() {
      try {
        this.controller.disconnect();
        this.logDebugActivity("disconnect");
      } catch (error2) {
        this.handleError(error2, "disconnecting controller");
      }
      this.outletObserver.stop();
      this.targetObserver.stop();
      this.valueObserver.stop();
      this.bindingObserver.stop();
    }
    get application() {
      return this.module.application;
    }
    get identifier() {
      return this.module.identifier;
    }
    get schema() {
      return this.application.schema;
    }
    get dispatcher() {
      return this.application.dispatcher;
    }
    get element() {
      return this.scope.element;
    }
    get parentElement() {
      return this.element.parentElement;
    }
    handleError(error2, message2, detail = {}) {
      const { identifier, controller, element } = this;
      detail = Object.assign({ identifier, controller, element }, detail);
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    targetConnected(element, name) {
      this.invokeControllerMethod(`${name}TargetConnected`, element);
    }
    targetDisconnected(element, name) {
      this.invokeControllerMethod(`${name}TargetDisconnected`, element);
    }
    outletConnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);
    }
    outletDisconnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);
    }
    invokeControllerMethod(methodName, ...args) {
      const controller = this.controller;
      if (typeof controller[methodName] == "function") {
        controller[methodName](...args);
      }
    }
  };
  function bless(constructor) {
    return shadow(constructor, getBlessedProperties(constructor));
  }
  function shadow(constructor, properties) {
    const shadowConstructor = extend2(constructor);
    const shadowProperties = getShadowProperties(constructor.prototype, properties);
    Object.defineProperties(shadowConstructor.prototype, shadowProperties);
    return shadowConstructor;
  }
  function getBlessedProperties(constructor) {
    const blessings = readInheritableStaticArrayValues(constructor, "blessings");
    return blessings.reduce((blessedProperties, blessing) => {
      const properties = blessing(constructor);
      for (const key in properties) {
        const descriptor = blessedProperties[key] || {};
        blessedProperties[key] = Object.assign(descriptor, properties[key]);
      }
      return blessedProperties;
    }, {});
  }
  function getShadowProperties(prototype, properties) {
    return getOwnKeys(properties).reduce((shadowProperties, key) => {
      const descriptor = getShadowedDescriptor(prototype, properties, key);
      if (descriptor) {
        Object.assign(shadowProperties, { [key]: descriptor });
      }
      return shadowProperties;
    }, {});
  }
  function getShadowedDescriptor(prototype, properties, key) {
    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);
    const shadowedByValue = shadowingDescriptor && "value" in shadowingDescriptor;
    if (!shadowedByValue) {
      const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;
      if (shadowingDescriptor) {
        descriptor.get = shadowingDescriptor.get || descriptor.get;
        descriptor.set = shadowingDescriptor.set || descriptor.set;
      }
      return descriptor;
    }
  }
  var getOwnKeys = (() => {
    if (typeof Object.getOwnPropertySymbols == "function") {
      return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];
    } else {
      return Object.getOwnPropertyNames;
    }
  })();
  var extend2 = (() => {
    function extendWithReflect(constructor) {
      function extended() {
        return Reflect.construct(constructor, arguments, new.target);
      }
      extended.prototype = Object.create(constructor.prototype, {
        constructor: { value: extended }
      });
      Reflect.setPrototypeOf(extended, constructor);
      return extended;
    }
    function testReflectExtension() {
      const a = function() {
        this.a.call(this);
      };
      const b = extendWithReflect(a);
      b.prototype.a = function() {
      };
      return new b();
    }
    try {
      testReflectExtension();
      return extendWithReflect;
    } catch (error2) {
      return (constructor) => class extended extends constructor {
      };
    }
  })();
  function blessDefinition(definition) {
    return {
      identifier: definition.identifier,
      controllerConstructor: bless(definition.controllerConstructor)
    };
  }
  var Module = class {
    constructor(application2, definition) {
      this.application = application2;
      this.definition = blessDefinition(definition);
      this.contextsByScope = /* @__PURE__ */ new WeakMap();
      this.connectedContexts = /* @__PURE__ */ new Set();
    }
    get identifier() {
      return this.definition.identifier;
    }
    get controllerConstructor() {
      return this.definition.controllerConstructor;
    }
    get contexts() {
      return Array.from(this.connectedContexts);
    }
    connectContextForScope(scope) {
      const context = this.fetchContextForScope(scope);
      this.connectedContexts.add(context);
      context.connect();
    }
    disconnectContextForScope(scope) {
      const context = this.contextsByScope.get(scope);
      if (context) {
        this.connectedContexts.delete(context);
        context.disconnect();
      }
    }
    fetchContextForScope(scope) {
      let context = this.contextsByScope.get(scope);
      if (!context) {
        context = new Context(this, scope);
        this.contextsByScope.set(scope, context);
      }
      return context;
    }
  };
  var ClassMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    has(name) {
      return this.data.has(this.getDataKey(name));
    }
    get(name) {
      return this.getAll(name)[0];
    }
    getAll(name) {
      const tokenString = this.data.get(this.getDataKey(name)) || "";
      return tokenize(tokenString);
    }
    getAttributeName(name) {
      return this.data.getAttributeNameForKey(this.getDataKey(name));
    }
    getDataKey(name) {
      return `${name}-class`;
    }
    get data() {
      return this.scope.data;
    }
  };
  var DataMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.getAttribute(name);
    }
    set(key, value) {
      const name = this.getAttributeNameForKey(key);
      this.element.setAttribute(name, value);
      return this.get(key);
    }
    has(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.hasAttribute(name);
    }
    delete(key) {
      if (this.has(key)) {
        const name = this.getAttributeNameForKey(key);
        this.element.removeAttribute(name);
        return true;
      } else {
        return false;
      }
    }
    getAttributeNameForKey(key) {
      return `data-${this.identifier}-${dasherize(key)}`;
    }
  };
  var Guide = class {
    constructor(logger) {
      this.warnedKeysByObject = /* @__PURE__ */ new WeakMap();
      this.logger = logger;
    }
    warn(object, key, message2) {
      let warnedKeys = this.warnedKeysByObject.get(object);
      if (!warnedKeys) {
        warnedKeys = /* @__PURE__ */ new Set();
        this.warnedKeysByObject.set(object, warnedKeys);
      }
      if (!warnedKeys.has(key)) {
        warnedKeys.add(key);
        this.logger.warn(message2, object);
      }
    }
  };
  function attributeValueContainsToken(attributeName, token) {
    return `[${attributeName}~="${token}"]`;
  }
  var TargetSet = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(targetName) {
      return this.find(targetName) != null;
    }
    find(...targetNames) {
      return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), void 0);
    }
    findAll(...targetNames) {
      return targetNames.reduce((targets, targetName) => [
        ...targets,
        ...this.findAllTargets(targetName),
        ...this.findAllLegacyTargets(targetName)
      ], []);
    }
    findTarget(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findElement(selector);
    }
    findAllTargets(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findAllElements(selector);
    }
    getSelectorForTargetName(targetName) {
      const attributeName = this.schema.targetAttributeForScope(this.identifier);
      return attributeValueContainsToken(attributeName, targetName);
    }
    findLegacyTarget(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.deprecate(this.scope.findElement(selector), targetName);
    }
    findAllLegacyTargets(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));
    }
    getLegacySelectorForTargetName(targetName) {
      const targetDescriptor = `${this.identifier}.${targetName}`;
      return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);
    }
    deprecate(element, targetName) {
      if (element) {
        const { identifier } = this;
        const attributeName = this.schema.targetAttribute;
        const revisedAttributeName = this.schema.targetAttributeForScope(identifier);
        this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}="${identifier}.${targetName}" with ${revisedAttributeName}="${targetName}". The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);
      }
      return element;
    }
    get guide() {
      return this.scope.guide;
    }
  };
  var OutletSet = class {
    constructor(scope, controllerElement) {
      this.scope = scope;
      this.controllerElement = controllerElement;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(outletName) {
      return this.find(outletName) != null;
    }
    find(...outletNames) {
      return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), void 0);
    }
    findAll(...outletNames) {
      return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);
    }
    getSelectorForOutletName(outletName) {
      const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);
      return this.controllerElement.getAttribute(attributeName);
    }
    findOutlet(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      if (selector)
        return this.findElement(selector, outletName);
    }
    findAllOutlets(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      return selector ? this.findAllElements(selector, outletName) : [];
    }
    findElement(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];
    }
    findAllElements(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName));
    }
    matchesElement(element, selector, outletName) {
      const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || "";
      return element.matches(selector) && controllerAttribute.split(" ").includes(outletName);
    }
  };
  var Scope = class _Scope {
    constructor(schema, element, identifier, logger) {
      this.targets = new TargetSet(this);
      this.classes = new ClassMap(this);
      this.data = new DataMap(this);
      this.containsElement = (element2) => {
        return element2.closest(this.controllerSelector) === this.element;
      };
      this.schema = schema;
      this.element = element;
      this.identifier = identifier;
      this.guide = new Guide(logger);
      this.outlets = new OutletSet(this.documentScope, element);
    }
    findElement(selector) {
      return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);
    }
    findAllElements(selector) {
      return [
        ...this.element.matches(selector) ? [this.element] : [],
        ...this.queryElements(selector).filter(this.containsElement)
      ];
    }
    queryElements(selector) {
      return Array.from(this.element.querySelectorAll(selector));
    }
    get controllerSelector() {
      return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);
    }
    get isDocumentScope() {
      return this.element === document.documentElement;
    }
    get documentScope() {
      return this.isDocumentScope ? this : new _Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);
    }
  };
  var ScopeObserver = class {
    constructor(element, schema, delegate) {
      this.element = element;
      this.schema = schema;
      this.delegate = delegate;
      this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);
      this.scopesByIdentifierByElement = /* @__PURE__ */ new WeakMap();
      this.scopeReferenceCounts = /* @__PURE__ */ new WeakMap();
    }
    start() {
      this.valueListObserver.start();
    }
    stop() {
      this.valueListObserver.stop();
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    parseValueForToken(token) {
      const { element, content: identifier } = token;
      return this.parseValueForElementAndIdentifier(element, identifier);
    }
    parseValueForElementAndIdentifier(element, identifier) {
      const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);
      let scope = scopesByIdentifier.get(identifier);
      if (!scope) {
        scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);
        scopesByIdentifier.set(identifier, scope);
      }
      return scope;
    }
    elementMatchedValue(element, value) {
      const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;
      this.scopeReferenceCounts.set(value, referenceCount);
      if (referenceCount == 1) {
        this.delegate.scopeConnected(value);
      }
    }
    elementUnmatchedValue(element, value) {
      const referenceCount = this.scopeReferenceCounts.get(value);
      if (referenceCount) {
        this.scopeReferenceCounts.set(value, referenceCount - 1);
        if (referenceCount == 1) {
          this.delegate.scopeDisconnected(value);
        }
      }
    }
    fetchScopesByIdentifierForElement(element) {
      let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);
      if (!scopesByIdentifier) {
        scopesByIdentifier = /* @__PURE__ */ new Map();
        this.scopesByIdentifierByElement.set(element, scopesByIdentifier);
      }
      return scopesByIdentifier;
    }
  };
  var Router = class {
    constructor(application2) {
      this.application = application2;
      this.scopeObserver = new ScopeObserver(this.element, this.schema, this);
      this.scopesByIdentifier = new Multimap();
      this.modulesByIdentifier = /* @__PURE__ */ new Map();
    }
    get element() {
      return this.application.element;
    }
    get schema() {
      return this.application.schema;
    }
    get logger() {
      return this.application.logger;
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    get modules() {
      return Array.from(this.modulesByIdentifier.values());
    }
    get contexts() {
      return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);
    }
    start() {
      this.scopeObserver.start();
    }
    stop() {
      this.scopeObserver.stop();
    }
    loadDefinition(definition) {
      this.unloadIdentifier(definition.identifier);
      const module = new Module(this.application, definition);
      this.connectModule(module);
      const afterLoad = definition.controllerConstructor.afterLoad;
      if (afterLoad) {
        afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);
      }
    }
    unloadIdentifier(identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        this.disconnectModule(module);
      }
    }
    getContextForElementAndIdentifier(element, identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        return module.contexts.find((context) => context.element == element);
      }
    }
    proposeToConnectScopeForElementAndIdentifier(element, identifier) {
      const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);
      if (scope) {
        this.scopeObserver.elementMatchedValue(scope.element, scope);
      } else {
        console.error(`Couldn't find or create scope for identifier: "${identifier}" and element:`, element);
      }
    }
    handleError(error2, message2, detail) {
      this.application.handleError(error2, message2, detail);
    }
    createScopeForElementAndIdentifier(element, identifier) {
      return new Scope(this.schema, element, identifier, this.logger);
    }
    scopeConnected(scope) {
      this.scopesByIdentifier.add(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.connectContextForScope(scope);
      }
    }
    scopeDisconnected(scope) {
      this.scopesByIdentifier.delete(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.disconnectContextForScope(scope);
      }
    }
    connectModule(module) {
      this.modulesByIdentifier.set(module.identifier, module);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.connectContextForScope(scope));
    }
    disconnectModule(module) {
      this.modulesByIdentifier.delete(module.identifier);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.disconnectContextForScope(scope));
    }
  };
  var defaultSchema = {
    controllerAttribute: "data-controller",
    actionAttribute: "data-action",
    targetAttribute: "data-target",
    targetAttributeForScope: (identifier) => `data-${identifier}-target`,
    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,
    keyMappings: Object.assign(Object.assign({ enter: "Enter", tab: "Tab", esc: "Escape", space: " ", up: "ArrowUp", down: "ArrowDown", left: "ArrowLeft", right: "ArrowRight", home: "Home", end: "End", page_up: "PageUp", page_down: "PageDown" }, objectFromEntries("abcdefghijklmnopqrstuvwxyz".split("").map((c) => [c, c]))), objectFromEntries("0123456789".split("").map((n) => [n, n])))
  };
  function objectFromEntries(array) {
    return array.reduce((memo, [k, v]) => Object.assign(Object.assign({}, memo), { [k]: v }), {});
  }
  var Application = class {
    constructor(element = document.documentElement, schema = defaultSchema) {
      this.logger = console;
      this.debug = false;
      this.logDebugActivity = (identifier, functionName, detail = {}) => {
        if (this.debug) {
          this.logFormattedMessage(identifier, functionName, detail);
        }
      };
      this.element = element;
      this.schema = schema;
      this.dispatcher = new Dispatcher(this);
      this.router = new Router(this);
      this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);
    }
    static start(element, schema) {
      const application2 = new this(element, schema);
      application2.start();
      return application2;
    }
    async start() {
      await domReady();
      this.logDebugActivity("application", "starting");
      this.dispatcher.start();
      this.router.start();
      this.logDebugActivity("application", "start");
    }
    stop() {
      this.logDebugActivity("application", "stopping");
      this.dispatcher.stop();
      this.router.stop();
      this.logDebugActivity("application", "stop");
    }
    register(identifier, controllerConstructor) {
      this.load({ identifier, controllerConstructor });
    }
    registerActionOption(name, filter2) {
      this.actionDescriptorFilters[name] = filter2;
    }
    load(head, ...rest) {
      const definitions = Array.isArray(head) ? head : [head, ...rest];
      definitions.forEach((definition) => {
        if (definition.controllerConstructor.shouldLoad) {
          this.router.loadDefinition(definition);
        }
      });
    }
    unload(head, ...rest) {
      const identifiers = Array.isArray(head) ? head : [head, ...rest];
      identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));
    }
    get controllers() {
      return this.router.contexts.map((context) => context.controller);
    }
    getControllerForElementAndIdentifier(element, identifier) {
      const context = this.router.getContextForElementAndIdentifier(element, identifier);
      return context ? context.controller : null;
    }
    handleError(error2, message2, detail) {
      var _a;
      this.logger.error(`%s

%o

%o`, message2, error2, detail);
      (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message2, "", 0, 0, error2);
    }
    logFormattedMessage(identifier, functionName, detail = {}) {
      detail = Object.assign({ application: this }, detail);
      this.logger.groupCollapsed(`${identifier} #${functionName}`);
      this.logger.log("details:", Object.assign({}, detail));
      this.logger.groupEnd();
    }
  };
  function domReady() {
    return new Promise((resolve) => {
      if (document.readyState == "loading") {
        document.addEventListener("DOMContentLoaded", () => resolve());
      } else {
        resolve();
      }
    });
  }
  function ClassPropertiesBlessing(constructor) {
    const classes = readInheritableStaticArrayValues(constructor, "classes");
    return classes.reduce((properties, classDefinition) => {
      return Object.assign(properties, propertiesForClassDefinition(classDefinition));
    }, {});
  }
  function propertiesForClassDefinition(key) {
    return {
      [`${key}Class`]: {
        get() {
          const { classes } = this;
          if (classes.has(key)) {
            return classes.get(key);
          } else {
            const attribute = classes.getAttributeName(key);
            throw new Error(`Missing attribute "${attribute}"`);
          }
        }
      },
      [`${key}Classes`]: {
        get() {
          return this.classes.getAll(key);
        }
      },
      [`has${capitalize(key)}Class`]: {
        get() {
          return this.classes.has(key);
        }
      }
    };
  }
  function OutletPropertiesBlessing(constructor) {
    const outlets = readInheritableStaticArrayValues(constructor, "outlets");
    return outlets.reduce((properties, outletDefinition) => {
      return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));
    }, {});
  }
  function getOutletController(controller, element, identifier) {
    return controller.application.getControllerForElementAndIdentifier(element, identifier);
  }
  function getControllerAndEnsureConnectedScope(controller, element, outletName) {
    let outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);
    outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
  }
  function propertiesForOutletDefinition(name) {
    const camelizedName = namespaceCamelize(name);
    return {
      [`${camelizedName}Outlet`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
            if (outletController)
              return outletController;
            throw new Error(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`);
          }
          throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
        }
      },
      [`${camelizedName}Outlets`]: {
        get() {
          const outlets = this.outlets.findAll(name);
          if (outlets.length > 0) {
            return outlets.map((outletElement) => {
              const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
              if (outletController)
                return outletController;
              console.warn(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`, outletElement);
            }).filter((controller) => controller);
          }
          return [];
        }
      },
      [`${camelizedName}OutletElement`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            return outletElement;
          } else {
            throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
          }
        }
      },
      [`${camelizedName}OutletElements`]: {
        get() {
          return this.outlets.findAll(name);
        }
      },
      [`has${capitalize(camelizedName)}Outlet`]: {
        get() {
          return this.outlets.has(name);
        }
      }
    };
  }
  function TargetPropertiesBlessing(constructor) {
    const targets = readInheritableStaticArrayValues(constructor, "targets");
    return targets.reduce((properties, targetDefinition) => {
      return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));
    }, {});
  }
  function propertiesForTargetDefinition(name) {
    return {
      [`${name}Target`]: {
        get() {
          const target = this.targets.find(name);
          if (target) {
            return target;
          } else {
            throw new Error(`Missing target element "${name}" for "${this.identifier}" controller`);
          }
        }
      },
      [`${name}Targets`]: {
        get() {
          return this.targets.findAll(name);
        }
      },
      [`has${capitalize(name)}Target`]: {
        get() {
          return this.targets.has(name);
        }
      }
    };
  }
  function ValuePropertiesBlessing(constructor) {
    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, "values");
    const propertyDescriptorMap = {
      valueDescriptorMap: {
        get() {
          return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {
            const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);
            const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);
            return Object.assign(result, { [attributeName]: valueDescriptor });
          }, {});
        }
      }
    };
    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {
      return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));
    }, propertyDescriptorMap);
  }
  function propertiesForValueDefinitionPair(valueDefinitionPair, controller) {
    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);
    const { key, name, reader: read, writer: write } = definition;
    return {
      [name]: {
        get() {
          const value = this.data.get(key);
          if (value !== null) {
            return read(value);
          } else {
            return definition.defaultValue;
          }
        },
        set(value) {
          if (value === void 0) {
            this.data.delete(key);
          } else {
            this.data.set(key, write(value));
          }
        }
      },
      [`has${capitalize(name)}`]: {
        get() {
          return this.data.has(key) || definition.hasCustomDefaultValue;
        }
      }
    };
  }
  function parseValueDefinitionPair([token, typeDefinition], controller) {
    return valueDescriptorForTokenAndTypeDefinition({
      controller,
      token,
      typeDefinition
    });
  }
  function parseValueTypeConstant(constant) {
    switch (constant) {
      case Array:
        return "array";
      case Boolean:
        return "boolean";
      case Number:
        return "number";
      case Object:
        return "object";
      case String:
        return "string";
    }
  }
  function parseValueTypeDefault(defaultValue) {
    switch (typeof defaultValue) {
      case "boolean":
        return "boolean";
      case "number":
        return "number";
      case "string":
        return "string";
    }
    if (Array.isArray(defaultValue))
      return "array";
    if (Object.prototype.toString.call(defaultValue) === "[object Object]")
      return "object";
  }
  function parseValueTypeObject(payload) {
    const { controller, token, typeObject } = payload;
    const hasType = isSomething(typeObject.type);
    const hasDefault = isSomething(typeObject.default);
    const fullObject = hasType && hasDefault;
    const onlyType = hasType && !hasDefault;
    const onlyDefault = !hasType && hasDefault;
    const typeFromObject = parseValueTypeConstant(typeObject.type);
    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);
    if (onlyType)
      return typeFromObject;
    if (onlyDefault)
      return typeFromDefaultValue;
    if (typeFromObject !== typeFromDefaultValue) {
      const propertyPath = controller ? `${controller}.${token}` : token;
      throw new Error(`The specified default value for the Stimulus Value "${propertyPath}" must match the defined type "${typeFromObject}". The provided default value of "${typeObject.default}" is of type "${typeFromDefaultValue}".`);
    }
    if (fullObject)
      return typeFromObject;
  }
  function parseValueTypeDefinition(payload) {
    const { controller, token, typeDefinition } = payload;
    const typeObject = { controller, token, typeObject: typeDefinition };
    const typeFromObject = parseValueTypeObject(typeObject);
    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);
    const typeFromConstant = parseValueTypeConstant(typeDefinition);
    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;
    if (type)
      return type;
    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;
    throw new Error(`Unknown value type "${propertyPath}" for "${token}" value`);
  }
  function defaultValueForDefinition(typeDefinition) {
    const constant = parseValueTypeConstant(typeDefinition);
    if (constant)
      return defaultValuesByType[constant];
    const hasDefault = hasProperty(typeDefinition, "default");
    const hasType = hasProperty(typeDefinition, "type");
    const typeObject = typeDefinition;
    if (hasDefault)
      return typeObject.default;
    if (hasType) {
      const { type } = typeObject;
      const constantFromType = parseValueTypeConstant(type);
      if (constantFromType)
        return defaultValuesByType[constantFromType];
    }
    return typeDefinition;
  }
  function valueDescriptorForTokenAndTypeDefinition(payload) {
    const { token, typeDefinition } = payload;
    const key = `${dasherize(token)}-value`;
    const type = parseValueTypeDefinition(payload);
    return {
      type,
      key,
      name: camelize(key),
      get defaultValue() {
        return defaultValueForDefinition(typeDefinition);
      },
      get hasCustomDefaultValue() {
        return parseValueTypeDefault(typeDefinition) !== void 0;
      },
      reader: readers[type],
      writer: writers[type] || writers.default
    };
  }
  var defaultValuesByType = {
    get array() {
      return [];
    },
    boolean: false,
    number: 0,
    get object() {
      return {};
    },
    string: ""
  };
  var readers = {
    array(value) {
      const array = JSON.parse(value);
      if (!Array.isArray(array)) {
        throw new TypeError(`expected value of type "array" but instead got value "${value}" of type "${parseValueTypeDefault(array)}"`);
      }
      return array;
    },
    boolean(value) {
      return !(value == "0" || String(value).toLowerCase() == "false");
    },
    number(value) {
      return Number(value.replace(/_/g, ""));
    },
    object(value) {
      const object = JSON.parse(value);
      if (object === null || typeof object != "object" || Array.isArray(object)) {
        throw new TypeError(`expected value of type "object" but instead got value "${value}" of type "${parseValueTypeDefault(object)}"`);
      }
      return object;
    },
    string(value) {
      return value;
    }
  };
  var writers = {
    default: writeString,
    array: writeJSON,
    object: writeJSON
  };
  function writeJSON(value) {
    return JSON.stringify(value);
  }
  function writeString(value) {
    return `${value}`;
  }
  var Controller = class {
    constructor(context) {
      this.context = context;
    }
    static get shouldLoad() {
      return true;
    }
    static afterLoad(_identifier, _application) {
      return;
    }
    get application() {
      return this.context.application;
    }
    get scope() {
      return this.context.scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get targets() {
      return this.scope.targets;
    }
    get outlets() {
      return this.scope.outlets;
    }
    get classes() {
      return this.scope.classes;
    }
    get data() {
      return this.scope.data;
    }
    initialize() {
    }
    connect() {
    }
    disconnect() {
    }
    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {
      const type = prefix ? `${prefix}:${eventName}` : eventName;
      const event = new CustomEvent(type, { detail, bubbles, cancelable });
      target.dispatchEvent(event);
      return event;
    }
  };
  Controller.blessings = [
    ClassPropertiesBlessing,
    TargetPropertiesBlessing,
    ValuePropertiesBlessing,
    OutletPropertiesBlessing
  ];
  Controller.targets = [];
  Controller.outlets = [];
  Controller.values = {};

  // app/javascript/controllers/application.js
  var application = Application.start();
  application.debug = false;
  window.Stimulus = application;

  // app/javascript/controllers/dark_mode_controller.js
  var dark_mode_controller_exports = {};
  __export(dark_mode_controller_exports, {
    default: () => dark_mode_controller_default,
    getCookie: () => getCookie,
    getTheme: () => getTheme
  });
  var dark_mode_controller_default = class extends Controller {
    connect() {
      this.element.classList.add(getTheme());
    }
    toggle(e) {
      e.preventDefault();
      this.element.classList.remove("light");
      this.element.classList.remove("dark");
      const newTheme = getTheme() === "light" ? "dark" : "light";
      this.setCookie("darkmode", newTheme, 30);
      this.element.classList.add(newTheme);
      const themeChangedEvent = new CustomEvent("themeChanged", {
        detail: { theme: newTheme }
      });
      window.dispatchEvent(themeChangedEvent);
    }
    setCookie(cname, cvalue, exdays) {
      const d = /* @__PURE__ */ new Date();
      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1e3);
      const expires = "expires=" + d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
  };
  function getCookie(cname) {
    const name = cname + "=";
    const ca = document.cookie.split(";");
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) === " ") {
        c = c.substring(1);
      }
      if (c.indexOf(name) === 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }
  function getTheme() {
    const themeCookie = getCookie("darkmode");
    return themeCookie ? themeCookie : "light";
  }

  // app/javascript/controllers/hello_controller.js
  var hello_controller_exports = {};
  __export(hello_controller_exports, {
    default: () => hello_controller_default
  });
  var hello_controller_default = class extends Controller {
    connect() {
      this.element.textContent = "Hello World!";
    }
  };

  // rails:/Users/michelson/Documents/cience/rails_ui/test/dummy/app/javascript/controllers/**/*_controller.js
  var modules = [{ name: "dark-mode", module: dark_mode_controller_exports, filename: "dark_mode_controller.js" }, { name: "hello", module: hello_controller_exports, filename: "hello_controller.js" }];
  var controller_default = modules;

  // ../../app/ui/components/rails_ui/accordion/index.js
  var accordion_exports = {};
  __export(accordion_exports, {
    default: () => accordion_default
  });
  var accordion_default = class extends Controller {
    toggle(event) {
      const clickedItem = event.currentTarget.closest('[data-ui-accordion-target="item"]');
      const clickedIndex = this.itemTargets.indexOf(clickedItem);
      this.itemTargets.forEach((item, index) => {
        if (index === clickedIndex) {
          this.toggleItem(item);
        } else {
          this.closeItem(item);
        }
      });
    }
    toggleItem(item) {
      const isOpen = item.dataset.uiAccordionOpenValue === "true";
      if (isOpen) {
        this.closeItem(item);
      } else {
        this.openItem(item);
      }
    }
    openItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "true";
      content.dataset.uiAccordionOpenValue = "true";
      content.removeAttribute("hidden");
      button.setAttribute("aria-expanded", "true");
    }
    closeItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "false";
      content.dataset.uiAccordionOpenValue = "false";
      content.setAttribute("hidden", "");
      button.setAttribute("aria-expanded", "false");
    }
  };
  __publicField(accordion_default, "targets", ["item", "content"]);

  // ../../app/ui/components/rails_ui/accordion_item/index.js
  var accordion_item_exports = {};

  // ../../app/ui/components/rails_ui/alert/index.js
  var alert_exports = {};

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_exports = {};
  __export(alert_dialog_exports, {
    default: () => alert_dialog_default
  });

  // node_modules/stimulus-use/dist/index.js
  var composeEventName = (name, controller, eventPrefix) => {
    let composedName = name;
    if (eventPrefix === true) {
      composedName = `${controller.identifier}:${name}`;
    } else if (typeof eventPrefix === "string") {
      composedName = `${eventPrefix}:${name}`;
    }
    return composedName;
  };
  var extendedEvent = (type, event, detail) => {
    const { bubbles, cancelable, composed } = event || {
      bubbles: true,
      cancelable: true,
      composed: true
    };
    if (event) {
      Object.assign(detail, {
        originalEvent: event
      });
    }
    const customEvent = new CustomEvent(type, {
      bubbles,
      cancelable,
      composed,
      detail
    });
    return customEvent;
  };
  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    const windowWidth = window.innerWidth || document.documentElement.clientWidth;
    const vertInView = rect.top <= windowHeight && rect.top + rect.height > 0;
    const horInView = rect.left <= windowWidth && rect.left + rect.width > 0;
    return vertInView && horInView;
  }
  var defaultOptions$5 = {
    events: ["click", "touchend"],
    onlyVisible: true,
    dispatchEvent: true,
    eventPrefix: true
  };
  var useClickOutside = (composableController, options = {}) => {
    const controller = composableController;
    const { onlyVisible, dispatchEvent: dispatchEvent2, events, eventPrefix } = Object.assign({}, defaultOptions$5, options);
    const onEvent = (event) => {
      const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      if (targetElement.contains(event.target) || !isElementInViewport(targetElement) && onlyVisible) {
        return;
      }
      if (controller.clickOutside) {
        controller.clickOutside(event);
      }
      if (dispatchEvent2) {
        const eventName = composeEventName("click:outside", controller, eventPrefix);
        const clickOutsideEvent = extendedEvent(eventName, event, {
          controller
        });
        targetElement.dispatchEvent(clickOutsideEvent);
      }
    };
    const observe = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.addEventListener(event, onEvent, true);
      });
    };
    const unobserve = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.removeEventListener(event, onEvent, true);
      });
    };
    const controllerDisconnect = controller.disconnect.bind(controller);
    Object.assign(controller, {
      disconnect() {
        unobserve();
        controllerDisconnect();
      }
    });
    observe();
    return [observe, unobserve];
  };
  var DebounceController = class extends Controller {
  };
  DebounceController.debounces = [];
  var ThrottleController = class extends Controller {
  };
  ThrottleController.throttles = [];
  var alpineNames = {
    enterFromClass: "enter",
    enterActiveClass: "enterStart",
    enterToClass: "enterEnd",
    leaveFromClass: "leave",
    leaveActiveClass: "leaveStart",
    leaveToClass: "leaveEnd"
  };
  var defaultOptions2 = {
    transitioned: false,
    hiddenClass: "hidden",
    preserveOriginalClass: true,
    removeToClasses: true
  };
  var useTransition = (composableController, options = {}) => {
    var _a, _b, _c;
    const controller = composableController;
    const targetName = controller.element.dataset.transitionTarget;
    let targetFromAttribute;
    if (targetName) {
      targetFromAttribute = controller[`${targetName}Target`];
    }
    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || targetFromAttribute || controller.element;
    if (!(targetElement instanceof HTMLElement || targetElement instanceof SVGElement)) return;
    const dataset = targetElement.dataset;
    const leaveAfter = parseInt(dataset.leaveAfter || "") || options.leaveAfter || 0;
    const { transitioned, hiddenClass, preserveOriginalClass, removeToClasses } = Object.assign({}, defaultOptions2, options);
    const controllerEnter = (_a = controller.enter) === null || _a === void 0 ? void 0 : _a.bind(controller);
    const controllerLeave = (_b = controller.leave) === null || _b === void 0 ? void 0 : _b.bind(controller);
    const controllerToggleTransition = (_c = controller.toggleTransition) === null || _c === void 0 ? void 0 : _c.bind(controller);
    async function enter2(event) {
      if (controller.transitioned) return;
      controller.transitioned = true;
      controllerEnter && controllerEnter(event);
      const enterFromClasses = getAttribute2("enterFrom", options, dataset);
      const enterActiveClasses = getAttribute2("enterActive", options, dataset);
      const enterToClasses = getAttribute2("enterTo", options, dataset);
      const leaveToClasses = getAttribute2("leaveTo", options, dataset);
      if (!!hiddenClass) {
        targetElement.classList.remove(hiddenClass);
      }
      if (!removeToClasses) {
        removeClasses2(targetElement, leaveToClasses);
      }
      await transition2(targetElement, enterFromClasses, enterActiveClasses, enterToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (leaveAfter > 0) {
        setTimeout(() => {
          leave2(event);
        }, leaveAfter);
      }
    }
    async function leave2(event) {
      if (!controller.transitioned) return;
      controller.transitioned = false;
      controllerLeave && controllerLeave(event);
      const leaveFromClasses = getAttribute2("leaveFrom", options, dataset);
      const leaveActiveClasses = getAttribute2("leaveActive", options, dataset);
      const leaveToClasses = getAttribute2("leaveTo", options, dataset);
      const enterToClasses = getAttribute2("enterTo", options, dataset);
      if (!removeToClasses) {
        removeClasses2(targetElement, enterToClasses);
      }
      await transition2(targetElement, leaveFromClasses, leaveActiveClasses, leaveToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (!!hiddenClass) {
        targetElement.classList.add(hiddenClass);
      }
    }
    function toggleTransition(event) {
      controllerToggleTransition && controllerToggleTransition(event);
      if (controller.transitioned) {
        leave2();
      } else {
        enter2();
      }
    }
    async function transition2(element, initialClasses, activeClasses, endClasses, hiddenClass2, preserveOriginalClass2, removeEndClasses) {
      const stashedClasses = [];
      if (preserveOriginalClass2) {
        initialClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        activeClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        endClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
      }
      addClasses2(element, initialClasses);
      removeClasses2(element, stashedClasses);
      addClasses2(element, activeClasses);
      await nextAnimationFrame2();
      removeClasses2(element, initialClasses);
      addClasses2(element, endClasses);
      await afterTransition(element);
      removeClasses2(element, activeClasses);
      if (removeEndClasses) {
        removeClasses2(element, endClasses);
      }
      addClasses2(element, stashedClasses);
    }
    function initialState() {
      controller.transitioned = transitioned;
      if (transitioned) {
        if (!!hiddenClass) {
          targetElement.classList.remove(hiddenClass);
        }
        enter2();
      } else {
        if (!!hiddenClass) {
          targetElement.classList.add(hiddenClass);
        }
        leave2();
      }
    }
    function addClasses2(element, classes) {
      if (classes.length > 0) {
        element.classList.add(...classes);
      }
    }
    function removeClasses2(element, classes) {
      if (classes.length > 0) {
        element.classList.remove(...classes);
      }
    }
    initialState();
    Object.assign(controller, {
      enter: enter2,
      leave: leave2,
      toggleTransition
    });
    return [enter2, leave2, toggleTransition];
  };
  function getAttribute2(name, options, dataset) {
    const datasetName = `transition${name[0].toUpperCase()}${name.substr(1)}`;
    const datasetAlpineName = alpineNames[name];
    const classes = options[name] || dataset[datasetName] || dataset[datasetAlpineName] || " ";
    return isEmpty(classes) ? [] : classes.split(" ");
  }
  async function afterTransition(element) {
    return new Promise((resolve) => {
      const duration = Number(getComputedStyle(element).transitionDuration.split(",")[0].replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve(duration);
      }, duration);
    });
  }
  async function nextAnimationFrame2() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function isEmpty(str) {
    return str.length === 0 || !str.trim();
  }

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiAlertDialogState = "open";
        this.contentTarget.dataset.uiAlertDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiAlertDialogState = "closed";
      this.contentTarget.dataset.uiAlertDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(alert_dialog_default, "targets", ["overlay", "content"]);
  __publicField(alert_dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/aspect_ratio/index.js
  var aspect_ratio_exports = {};

  // ../../app/ui/components/rails_ui/avatar/index.js
  var avatar_exports = {};

  // ../../app/ui/components/rails_ui/badge/index.js
  var badge_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb/index.js
  var breadcrumb_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb_item/index.js
  var breadcrumb_item_exports = {};

  // ../../app/ui/components/rails_ui/button/index.js
  var button_exports = {};

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_exports = {};
  __export(calendar_exports, {
    default: () => calendar_default
  });

  // node_modules/date-fns/toDate.mjs
  function toDate(argument) {
    const argStr = Object.prototype.toString.call(argument);
    if (argument instanceof Date || typeof argument === "object" && argStr === "[object Date]") {
      return new argument.constructor(+argument);
    } else if (typeof argument === "number" || argStr === "[object Number]" || typeof argument === "string" || argStr === "[object String]") {
      return new Date(argument);
    } else {
      return /* @__PURE__ */ new Date(NaN);
    }
  }

  // node_modules/date-fns/constructFrom.mjs
  function constructFrom(date, value) {
    if (date instanceof Date) {
      return new date.constructor(value);
    } else {
      return new Date(value);
    }
  }

  // node_modules/date-fns/addMonths.mjs
  function addMonths(date, amount) {
    const _date = toDate(date);
    if (isNaN(amount)) return constructFrom(date, NaN);
    if (!amount) {
      return _date;
    }
    const dayOfMonth = _date.getDate();
    const endOfDesiredMonth = constructFrom(date, _date.getTime());
    endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);
    const daysInMonth = endOfDesiredMonth.getDate();
    if (dayOfMonth >= daysInMonth) {
      return endOfDesiredMonth;
    } else {
      _date.setFullYear(
        endOfDesiredMonth.getFullYear(),
        endOfDesiredMonth.getMonth(),
        dayOfMonth
      );
      return _date;
    }
  }

  // node_modules/date-fns/constants.mjs
  var daysInYear = 365.2425;
  var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;
  var minTime = -maxTime;
  var millisecondsInWeek = 6048e5;
  var millisecondsInDay = 864e5;
  var secondsInHour = 3600;
  var secondsInDay = secondsInHour * 24;
  var secondsInWeek = secondsInDay * 7;
  var secondsInYear = secondsInDay * daysInYear;
  var secondsInMonth = secondsInYear / 12;
  var secondsInQuarter = secondsInMonth * 3;

  // node_modules/date-fns/_lib/defaultOptions.mjs
  var defaultOptions3 = {};
  function getDefaultOptions() {
    return defaultOptions3;
  }

  // node_modules/date-fns/startOfWeek.mjs
  function startOfWeek(date, options) {
    const defaultOptions5 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions5.weekStartsOn ?? defaultOptions5.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
    _date.setDate(_date.getDate() - diff);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfISOWeek.mjs
  function startOfISOWeek(date) {
    return startOfWeek(date, { weekStartsOn: 1 });
  }

  // node_modules/date-fns/getISOWeekYear.mjs
  function getISOWeekYear(date) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const fourthOfJanuaryOfNextYear = constructFrom(date, 0);
    fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);
    fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);
    const fourthOfJanuaryOfThisYear = constructFrom(date, 0);
    fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);
    fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfDay.mjs
  function startOfDay(date) {
    const _date = toDate(date);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs
  function getTimezoneOffsetInMilliseconds(date) {
    const _date = toDate(date);
    const utcDate = new Date(
      Date.UTC(
        _date.getFullYear(),
        _date.getMonth(),
        _date.getDate(),
        _date.getHours(),
        _date.getMinutes(),
        _date.getSeconds(),
        _date.getMilliseconds()
      )
    );
    utcDate.setUTCFullYear(_date.getFullYear());
    return +date - +utcDate;
  }

  // node_modules/date-fns/differenceInCalendarDays.mjs
  function differenceInCalendarDays(dateLeft, dateRight) {
    const startOfDayLeft = startOfDay(dateLeft);
    const startOfDayRight = startOfDay(dateRight);
    const timestampLeft = +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);
    const timestampRight = +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);
    return Math.round((timestampLeft - timestampRight) / millisecondsInDay);
  }

  // node_modules/date-fns/startOfISOWeekYear.mjs
  function startOfISOWeekYear(date) {
    const year = getISOWeekYear(date);
    const fourthOfJanuary = constructFrom(date, 0);
    fourthOfJanuary.setFullYear(year, 0, 4);
    fourthOfJanuary.setHours(0, 0, 0, 0);
    return startOfISOWeek(fourthOfJanuary);
  }

  // node_modules/date-fns/constructNow.mjs
  function constructNow(date) {
    return constructFrom(date, Date.now());
  }

  // node_modules/date-fns/isSameDay.mjs
  function isSameDay(dateLeft, dateRight) {
    const dateLeftStartOfDay = startOfDay(dateLeft);
    const dateRightStartOfDay = startOfDay(dateRight);
    return +dateLeftStartOfDay === +dateRightStartOfDay;
  }

  // node_modules/date-fns/isDate.mjs
  function isDate(value) {
    return value instanceof Date || typeof value === "object" && Object.prototype.toString.call(value) === "[object Date]";
  }

  // node_modules/date-fns/isValid.mjs
  function isValid(date) {
    if (!isDate(date) && typeof date !== "number") {
      return false;
    }
    const _date = toDate(date);
    return !isNaN(Number(_date));
  }

  // node_modules/date-fns/endOfMonth.mjs
  function endOfMonth(date) {
    const _date = toDate(date);
    const month = _date.getMonth();
    _date.setFullYear(_date.getFullYear(), month + 1, 0);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/eachDayOfInterval.mjs
  function eachDayOfInterval(interval, options) {
    const startDate = toDate(interval.start);
    const endDate = toDate(interval.end);
    let reversed = +startDate > +endDate;
    const endTime = reversed ? +startDate : +endDate;
    const currentDate = reversed ? endDate : startDate;
    currentDate.setHours(0, 0, 0, 0);
    let step = options?.step ?? 1;
    if (!step) return [];
    if (step < 0) {
      step = -step;
      reversed = !reversed;
    }
    const dates = [];
    while (+currentDate <= endTime) {
      dates.push(toDate(currentDate));
      currentDate.setDate(currentDate.getDate() + step);
      currentDate.setHours(0, 0, 0, 0);
    }
    return reversed ? dates.reverse() : dates;
  }

  // node_modules/date-fns/startOfMonth.mjs
  function startOfMonth(date) {
    const _date = toDate(date);
    _date.setDate(1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfYear.mjs
  function startOfYear(date) {
    const cleanDate = toDate(date);
    const _date = constructFrom(date, 0);
    _date.setFullYear(cleanDate.getFullYear(), 0, 1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/endOfWeek.mjs
  function endOfWeek(date, options) {
    const defaultOptions5 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions5.weekStartsOn ?? defaultOptions5.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);
    _date.setDate(_date.getDate() + diff);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs
  var formatDistanceLocale = {
    lessThanXSeconds: {
      one: "less than a second",
      other: "less than {{count}} seconds"
    },
    xSeconds: {
      one: "1 second",
      other: "{{count}} seconds"
    },
    halfAMinute: "half a minute",
    lessThanXMinutes: {
      one: "less than a minute",
      other: "less than {{count}} minutes"
    },
    xMinutes: {
      one: "1 minute",
      other: "{{count}} minutes"
    },
    aboutXHours: {
      one: "about 1 hour",
      other: "about {{count}} hours"
    },
    xHours: {
      one: "1 hour",
      other: "{{count}} hours"
    },
    xDays: {
      one: "1 day",
      other: "{{count}} days"
    },
    aboutXWeeks: {
      one: "about 1 week",
      other: "about {{count}} weeks"
    },
    xWeeks: {
      one: "1 week",
      other: "{{count}} weeks"
    },
    aboutXMonths: {
      one: "about 1 month",
      other: "about {{count}} months"
    },
    xMonths: {
      one: "1 month",
      other: "{{count}} months"
    },
    aboutXYears: {
      one: "about 1 year",
      other: "about {{count}} years"
    },
    xYears: {
      one: "1 year",
      other: "{{count}} years"
    },
    overXYears: {
      one: "over 1 year",
      other: "over {{count}} years"
    },
    almostXYears: {
      one: "almost 1 year",
      other: "almost {{count}} years"
    }
  };
  var formatDistance = (token, count, options) => {
    let result;
    const tokenValue = formatDistanceLocale[token];
    if (typeof tokenValue === "string") {
      result = tokenValue;
    } else if (count === 1) {
      result = tokenValue.one;
    } else {
      result = tokenValue.other.replace("{{count}}", count.toString());
    }
    if (options?.addSuffix) {
      if (options.comparison && options.comparison > 0) {
        return "in " + result;
      } else {
        return result + " ago";
      }
    }
    return result;
  };

  // node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs
  function buildFormatLongFn(args) {
    return (options = {}) => {
      const width = options.width ? String(options.width) : args.defaultWidth;
      const format2 = args.formats[width] || args.formats[args.defaultWidth];
      return format2;
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/formatLong.mjs
  var dateFormats = {
    full: "EEEE, MMMM do, y",
    long: "MMMM do, y",
    medium: "MMM d, y",
    short: "MM/dd/yyyy"
  };
  var timeFormats = {
    full: "h:mm:ss a zzzz",
    long: "h:mm:ss a z",
    medium: "h:mm:ss a",
    short: "h:mm a"
  };
  var dateTimeFormats = {
    full: "{{date}} 'at' {{time}}",
    long: "{{date}} 'at' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
  };
  var formatLong = {
    date: buildFormatLongFn({
      formats: dateFormats,
      defaultWidth: "full"
    }),
    time: buildFormatLongFn({
      formats: timeFormats,
      defaultWidth: "full"
    }),
    dateTime: buildFormatLongFn({
      formats: dateTimeFormats,
      defaultWidth: "full"
    })
  };

  // node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs
  var formatRelativeLocale = {
    lastWeek: "'last' eeee 'at' p",
    yesterday: "'yesterday at' p",
    today: "'today at' p",
    tomorrow: "'tomorrow at' p",
    nextWeek: "eeee 'at' p",
    other: "P"
  };
  var formatRelative = (token, _date, _baseDate, _options) => formatRelativeLocale[token];

  // node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs
  function buildLocalizeFn(args) {
    return (value, options) => {
      const context = options?.context ? String(options.context) : "standalone";
      let valuesArray;
      if (context === "formatting" && args.formattingValues) {
        const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
        const width = options?.width ? String(options.width) : defaultWidth;
        valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
      } else {
        const defaultWidth = args.defaultWidth;
        const width = options?.width ? String(options.width) : args.defaultWidth;
        valuesArray = args.values[width] || args.values[defaultWidth];
      }
      const index = args.argumentCallback ? args.argumentCallback(value) : value;
      return valuesArray[index];
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/localize.mjs
  var eraValues = {
    narrow: ["B", "A"],
    abbreviated: ["BC", "AD"],
    wide: ["Before Christ", "Anno Domini"]
  };
  var quarterValues = {
    narrow: ["1", "2", "3", "4"],
    abbreviated: ["Q1", "Q2", "Q3", "Q4"],
    wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
  };
  var monthValues = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ],
    wide: [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December"
    ]
  };
  var dayValues = {
    narrow: ["S", "M", "T", "W", "T", "F", "S"],
    short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    wide: [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ]
  };
  var dayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    }
  };
  var formattingDayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    }
  };
  var ordinalNumber = (dirtyNumber, _options) => {
    const number = Number(dirtyNumber);
    const rem100 = number % 100;
    if (rem100 > 20 || rem100 < 10) {
      switch (rem100 % 10) {
        case 1:
          return number + "st";
        case 2:
          return number + "nd";
        case 3:
          return number + "rd";
      }
    }
    return number + "th";
  };
  var localize = {
    ordinalNumber,
    era: buildLocalizeFn({
      values: eraValues,
      defaultWidth: "wide"
    }),
    quarter: buildLocalizeFn({
      values: quarterValues,
      defaultWidth: "wide",
      argumentCallback: (quarter) => quarter - 1
    }),
    month: buildLocalizeFn({
      values: monthValues,
      defaultWidth: "wide"
    }),
    day: buildLocalizeFn({
      values: dayValues,
      defaultWidth: "wide"
    }),
    dayPeriod: buildLocalizeFn({
      values: dayPeriodValues,
      defaultWidth: "wide",
      formattingValues: formattingDayPeriodValues,
      defaultFormattingWidth: "wide"
    })
  };

  // node_modules/date-fns/locale/_lib/buildMatchFn.mjs
  function buildMatchFn(args) {
    return (string, options = {}) => {
      const width = options.width;
      const matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
      const matchResult = string.match(matchPattern);
      if (!matchResult) {
        return null;
      }
      const matchedString = matchResult[0];
      const parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
      const key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString)) : (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        findKey(parsePatterns, (pattern) => pattern.test(matchedString))
      );
      let value;
      value = args.valueCallback ? args.valueCallback(key) : key;
      value = options.valueCallback ? (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        options.valueCallback(value)
      ) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }
  function findKey(object, predicate) {
    for (const key in object) {
      if (Object.prototype.hasOwnProperty.call(object, key) && predicate(object[key])) {
        return key;
      }
    }
    return void 0;
  }
  function findIndex(array, predicate) {
    for (let key = 0; key < array.length; key++) {
      if (predicate(array[key])) {
        return key;
      }
    }
    return void 0;
  }

  // node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs
  function buildMatchPatternFn(args) {
    return (string, options = {}) => {
      const matchResult = string.match(args.matchPattern);
      if (!matchResult) return null;
      const matchedString = matchResult[0];
      const parseResult = string.match(args.parsePattern);
      if (!parseResult) return null;
      let value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
      value = options.valueCallback ? options.valueCallback(value) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/match.mjs
  var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
  var parseOrdinalNumberPattern = /\d+/i;
  var matchEraPatterns = {
    narrow: /^(b|a)/i,
    abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
    wide: /^(before christ|before common era|anno domini|common era)/i
  };
  var parseEraPatterns = {
    any: [/^b/i, /^(a|c)/i]
  };
  var matchQuarterPatterns = {
    narrow: /^[1234]/i,
    abbreviated: /^q[1234]/i,
    wide: /^[1234](th|st|nd|rd)? quarter/i
  };
  var parseQuarterPatterns = {
    any: [/1/i, /2/i, /3/i, /4/i]
  };
  var matchMonthPatterns = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
  };
  var parseMonthPatterns = {
    narrow: [
      /^j/i,
      /^f/i,
      /^m/i,
      /^a/i,
      /^m/i,
      /^j/i,
      /^j/i,
      /^a/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ],
    any: [
      /^ja/i,
      /^f/i,
      /^mar/i,
      /^ap/i,
      /^may/i,
      /^jun/i,
      /^jul/i,
      /^au/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ]
  };
  var matchDayPatterns = {
    narrow: /^[smtwf]/i,
    short: /^(su|mo|tu|we|th|fr|sa)/i,
    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
  };
  var parseDayPatterns = {
    narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
    any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
  };
  var matchDayPeriodPatterns = {
    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
    any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
  };
  var parseDayPeriodPatterns = {
    any: {
      am: /^a/i,
      pm: /^p/i,
      midnight: /^mi/i,
      noon: /^no/i,
      morning: /morning/i,
      afternoon: /afternoon/i,
      evening: /evening/i,
      night: /night/i
    }
  };
  var match = {
    ordinalNumber: buildMatchPatternFn({
      matchPattern: matchOrdinalNumberPattern,
      parsePattern: parseOrdinalNumberPattern,
      valueCallback: (value) => parseInt(value, 10)
    }),
    era: buildMatchFn({
      matchPatterns: matchEraPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseEraPatterns,
      defaultParseWidth: "any"
    }),
    quarter: buildMatchFn({
      matchPatterns: matchQuarterPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseQuarterPatterns,
      defaultParseWidth: "any",
      valueCallback: (index) => index + 1
    }),
    month: buildMatchFn({
      matchPatterns: matchMonthPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseMonthPatterns,
      defaultParseWidth: "any"
    }),
    day: buildMatchFn({
      matchPatterns: matchDayPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseDayPatterns,
      defaultParseWidth: "any"
    }),
    dayPeriod: buildMatchFn({
      matchPatterns: matchDayPeriodPatterns,
      defaultMatchWidth: "any",
      parsePatterns: parseDayPeriodPatterns,
      defaultParseWidth: "any"
    })
  };

  // node_modules/date-fns/locale/en-US.mjs
  var enUS = {
    code: "en-US",
    formatDistance,
    formatLong,
    formatRelative,
    localize,
    match,
    options: {
      weekStartsOn: 0,
      firstWeekContainsDate: 1
    }
  };

  // node_modules/date-fns/getDayOfYear.mjs
  function getDayOfYear(date) {
    const _date = toDate(date);
    const diff = differenceInCalendarDays(_date, startOfYear(_date));
    const dayOfYear = diff + 1;
    return dayOfYear;
  }

  // node_modules/date-fns/getISOWeek.mjs
  function getISOWeek(date) {
    const _date = toDate(date);
    const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/getWeekYear.mjs
  function getWeekYear(date, options) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const defaultOptions5 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions5.firstWeekContainsDate ?? defaultOptions5.locale?.options?.firstWeekContainsDate ?? 1;
    const firstWeekOfNextYear = constructFrom(date, 0);
    firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);
    firstWeekOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);
    const firstWeekOfThisYear = constructFrom(date, 0);
    firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);
    firstWeekOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfWeekYear.mjs
  function startOfWeekYear(date, options) {
    const defaultOptions5 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions5.firstWeekContainsDate ?? defaultOptions5.locale?.options?.firstWeekContainsDate ?? 1;
    const year = getWeekYear(date, options);
    const firstWeek = constructFrom(date, 0);
    firstWeek.setFullYear(year, 0, firstWeekContainsDate);
    firstWeek.setHours(0, 0, 0, 0);
    const _date = startOfWeek(firstWeek, options);
    return _date;
  }

  // node_modules/date-fns/getWeek.mjs
  function getWeek(date, options) {
    const _date = toDate(date);
    const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/_lib/addLeadingZeros.mjs
  function addLeadingZeros(number, targetLength) {
    const sign = number < 0 ? "-" : "";
    const output = Math.abs(number).toString().padStart(targetLength, "0");
    return sign + output;
  }

  // node_modules/date-fns/_lib/format/lightFormatters.mjs
  var lightFormatters = {
    // Year
    y(date, token) {
      const signedYear = date.getFullYear();
      const year = signedYear > 0 ? signedYear : 1 - signedYear;
      return addLeadingZeros(token === "yy" ? year % 100 : year, token.length);
    },
    // Month
    M(date, token) {
      const month = date.getMonth();
      return token === "M" ? String(month + 1) : addLeadingZeros(month + 1, 2);
    },
    // Day of the month
    d(date, token) {
      return addLeadingZeros(date.getDate(), token.length);
    },
    // AM or PM
    a(date, token) {
      const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return dayPeriodEnumValue.toUpperCase();
        case "aaa":
          return dayPeriodEnumValue;
        case "aaaaa":
          return dayPeriodEnumValue[0];
        case "aaaa":
        default:
          return dayPeriodEnumValue === "am" ? "a.m." : "p.m.";
      }
    },
    // Hour [1-12]
    h(date, token) {
      return addLeadingZeros(date.getHours() % 12 || 12, token.length);
    },
    // Hour [0-23]
    H(date, token) {
      return addLeadingZeros(date.getHours(), token.length);
    },
    // Minute
    m(date, token) {
      return addLeadingZeros(date.getMinutes(), token.length);
    },
    // Second
    s(date, token) {
      return addLeadingZeros(date.getSeconds(), token.length);
    },
    // Fraction of second
    S(date, token) {
      const numberOfDigits = token.length;
      const milliseconds = date.getMilliseconds();
      const fractionalSeconds = Math.trunc(
        milliseconds * Math.pow(10, numberOfDigits - 3)
      );
      return addLeadingZeros(fractionalSeconds, token.length);
    }
  };

  // node_modules/date-fns/_lib/format/formatters.mjs
  var dayPeriodEnum = {
    am: "am",
    pm: "pm",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  };
  var formatters = {
    // Era
    G: function(date, token, localize2) {
      const era = date.getFullYear() > 0 ? 1 : 0;
      switch (token) {
        case "G":
        case "GG":
        case "GGG":
          return localize2.era(era, { width: "abbreviated" });
        case "GGGGG":
          return localize2.era(era, { width: "narrow" });
        case "GGGG":
        default:
          return localize2.era(era, { width: "wide" });
      }
    },
    // Year
    y: function(date, token, localize2) {
      if (token === "yo") {
        const signedYear = date.getFullYear();
        const year = signedYear > 0 ? signedYear : 1 - signedYear;
        return localize2.ordinalNumber(year, { unit: "year" });
      }
      return lightFormatters.y(date, token);
    },
    // Local week-numbering year
    Y: function(date, token, localize2, options) {
      const signedWeekYear = getWeekYear(date, options);
      const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;
      if (token === "YY") {
        const twoDigitYear = weekYear % 100;
        return addLeadingZeros(twoDigitYear, 2);
      }
      if (token === "Yo") {
        return localize2.ordinalNumber(weekYear, { unit: "year" });
      }
      return addLeadingZeros(weekYear, token.length);
    },
    // ISO week-numbering year
    R: function(date, token) {
      const isoWeekYear = getISOWeekYear(date);
      return addLeadingZeros(isoWeekYear, token.length);
    },
    // Extended year. This is a single number designating the year of this calendar system.
    // The main difference between `y` and `u` localizers are B.C. years:
    // | Year | `y` | `u` |
    // |------|-----|-----|
    // | AC 1 |   1 |   1 |
    // | BC 1 |   1 |   0 |
    // | BC 2 |   2 |  -1 |
    // Also `yy` always returns the last two digits of a year,
    // while `uu` pads single digit years to 2 characters and returns other years unchanged.
    u: function(date, token) {
      const year = date.getFullYear();
      return addLeadingZeros(year, token.length);
    },
    // Quarter
    Q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "Q":
          return String(quarter);
        case "QQ":
          return addLeadingZeros(quarter, 2);
        case "Qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "QQQ":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "formatting"
          });
        case "QQQQQ":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "formatting"
          });
        case "QQQQ":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone quarter
    q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "q":
          return String(quarter);
        case "qq":
          return addLeadingZeros(quarter, 2);
        case "qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "qqq":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "standalone"
          });
        case "qqqqq":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "standalone"
          });
        case "qqqq":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // Month
    M: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "M":
        case "MM":
          return lightFormatters.M(date, token);
        case "Mo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "MMM":
          return localize2.month(month, {
            width: "abbreviated",
            context: "formatting"
          });
        case "MMMMM":
          return localize2.month(month, {
            width: "narrow",
            context: "formatting"
          });
        case "MMMM":
        default:
          return localize2.month(month, { width: "wide", context: "formatting" });
      }
    },
    // Stand-alone month
    L: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "L":
          return String(month + 1);
        case "LL":
          return addLeadingZeros(month + 1, 2);
        case "Lo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "LLL":
          return localize2.month(month, {
            width: "abbreviated",
            context: "standalone"
          });
        case "LLLLL":
          return localize2.month(month, {
            width: "narrow",
            context: "standalone"
          });
        case "LLLL":
        default:
          return localize2.month(month, { width: "wide", context: "standalone" });
      }
    },
    // Local week of year
    w: function(date, token, localize2, options) {
      const week = getWeek(date, options);
      if (token === "wo") {
        return localize2.ordinalNumber(week, { unit: "week" });
      }
      return addLeadingZeros(week, token.length);
    },
    // ISO week of year
    I: function(date, token, localize2) {
      const isoWeek = getISOWeek(date);
      if (token === "Io") {
        return localize2.ordinalNumber(isoWeek, { unit: "week" });
      }
      return addLeadingZeros(isoWeek, token.length);
    },
    // Day of the month
    d: function(date, token, localize2) {
      if (token === "do") {
        return localize2.ordinalNumber(date.getDate(), { unit: "date" });
      }
      return lightFormatters.d(date, token);
    },
    // Day of year
    D: function(date, token, localize2) {
      const dayOfYear = getDayOfYear(date);
      if (token === "Do") {
        return localize2.ordinalNumber(dayOfYear, { unit: "dayOfYear" });
      }
      return addLeadingZeros(dayOfYear, token.length);
    },
    // Day of week
    E: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      switch (token) {
        case "E":
        case "EE":
        case "EEE":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "EEEEE":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "EEEEEE":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "EEEE":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Local day of week
    e: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "e":
          return String(localDayOfWeek);
        case "ee":
          return addLeadingZeros(localDayOfWeek, 2);
        case "eo":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "eee":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "eeeee":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "eeeeee":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "eeee":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone local day of week
    c: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "c":
          return String(localDayOfWeek);
        case "cc":
          return addLeadingZeros(localDayOfWeek, token.length);
        case "co":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "ccc":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "standalone"
          });
        case "ccccc":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "standalone"
          });
        case "cccccc":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "standalone"
          });
        case "cccc":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // ISO day of week
    i: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
      switch (token) {
        case "i":
          return String(isoDayOfWeek);
        case "ii":
          return addLeadingZeros(isoDayOfWeek, token.length);
        case "io":
          return localize2.ordinalNumber(isoDayOfWeek, { unit: "day" });
        case "iii":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "iiiii":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "iiiiii":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "iiii":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM or PM
    a: function(date, token, localize2) {
      const hours = date.getHours();
      const dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "aaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "aaaaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "aaaa":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM, PM, midnight, noon
    b: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours === 12) {
        dayPeriodEnumValue = dayPeriodEnum.noon;
      } else if (hours === 0) {
        dayPeriodEnumValue = dayPeriodEnum.midnight;
      } else {
        dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      }
      switch (token) {
        case "b":
        case "bb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "bbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "bbbbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "bbbb":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // in the morning, in the afternoon, in the evening, at night
    B: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours >= 17) {
        dayPeriodEnumValue = dayPeriodEnum.evening;
      } else if (hours >= 12) {
        dayPeriodEnumValue = dayPeriodEnum.afternoon;
      } else if (hours >= 4) {
        dayPeriodEnumValue = dayPeriodEnum.morning;
      } else {
        dayPeriodEnumValue = dayPeriodEnum.night;
      }
      switch (token) {
        case "B":
        case "BB":
        case "BBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "BBBBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "BBBB":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Hour [1-12]
    h: function(date, token, localize2) {
      if (token === "ho") {
        let hours = date.getHours() % 12;
        if (hours === 0) hours = 12;
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return lightFormatters.h(date, token);
    },
    // Hour [0-23]
    H: function(date, token, localize2) {
      if (token === "Ho") {
        return localize2.ordinalNumber(date.getHours(), { unit: "hour" });
      }
      return lightFormatters.H(date, token);
    },
    // Hour [0-11]
    K: function(date, token, localize2) {
      const hours = date.getHours() % 12;
      if (token === "Ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Hour [1-24]
    k: function(date, token, localize2) {
      let hours = date.getHours();
      if (hours === 0) hours = 24;
      if (token === "ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Minute
    m: function(date, token, localize2) {
      if (token === "mo") {
        return localize2.ordinalNumber(date.getMinutes(), { unit: "minute" });
      }
      return lightFormatters.m(date, token);
    },
    // Second
    s: function(date, token, localize2) {
      if (token === "so") {
        return localize2.ordinalNumber(date.getSeconds(), { unit: "second" });
      }
      return lightFormatters.s(date, token);
    },
    // Fraction of second
    S: function(date, token) {
      return lightFormatters.S(date, token);
    },
    // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
    X: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      if (timezoneOffset === 0) {
        return "Z";
      }
      switch (token) {
        case "X":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "XXXX":
        case "XX":
          return formatTimezone(timezoneOffset);
        case "XXXXX":
        case "XXX":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
    x: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "x":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "xxxx":
        case "xx":
          return formatTimezone(timezoneOffset);
        case "xxxxx":
        case "xxx":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (GMT)
    O: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "O":
        case "OO":
        case "OOO":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "OOOO":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (specific non-location)
    z: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "z":
        case "zz":
        case "zzz":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "zzzz":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Seconds timestamp
    t: function(date, token, _localize) {
      const timestamp = Math.trunc(date.getTime() / 1e3);
      return addLeadingZeros(timestamp, token.length);
    },
    // Milliseconds timestamp
    T: function(date, token, _localize) {
      const timestamp = date.getTime();
      return addLeadingZeros(timestamp, token.length);
    }
  };
  function formatTimezoneShort(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = Math.trunc(absOffset / 60);
    const minutes = absOffset % 60;
    if (minutes === 0) {
      return sign + String(hours);
    }
    return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);
  }
  function formatTimezoneWithOptionalMinutes(offset3, delimiter) {
    if (offset3 % 60 === 0) {
      const sign = offset3 > 0 ? "-" : "+";
      return sign + addLeadingZeros(Math.abs(offset3) / 60, 2);
    }
    return formatTimezone(offset3, delimiter);
  }
  function formatTimezone(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);
    const minutes = addLeadingZeros(absOffset % 60, 2);
    return sign + hours + delimiter + minutes;
  }

  // node_modules/date-fns/_lib/format/longFormatters.mjs
  var dateLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "P":
        return formatLong2.date({ width: "short" });
      case "PP":
        return formatLong2.date({ width: "medium" });
      case "PPP":
        return formatLong2.date({ width: "long" });
      case "PPPP":
      default:
        return formatLong2.date({ width: "full" });
    }
  };
  var timeLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "p":
        return formatLong2.time({ width: "short" });
      case "pp":
        return formatLong2.time({ width: "medium" });
      case "ppp":
        return formatLong2.time({ width: "long" });
      case "pppp":
      default:
        return formatLong2.time({ width: "full" });
    }
  };
  var dateTimeLongFormatter = (pattern, formatLong2) => {
    const matchResult = pattern.match(/(P+)(p+)?/) || [];
    const datePattern = matchResult[1];
    const timePattern = matchResult[2];
    if (!timePattern) {
      return dateLongFormatter(pattern, formatLong2);
    }
    let dateTimeFormat;
    switch (datePattern) {
      case "P":
        dateTimeFormat = formatLong2.dateTime({ width: "short" });
        break;
      case "PP":
        dateTimeFormat = formatLong2.dateTime({ width: "medium" });
        break;
      case "PPP":
        dateTimeFormat = formatLong2.dateTime({ width: "long" });
        break;
      case "PPPP":
      default:
        dateTimeFormat = formatLong2.dateTime({ width: "full" });
        break;
    }
    return dateTimeFormat.replace("{{date}}", dateLongFormatter(datePattern, formatLong2)).replace("{{time}}", timeLongFormatter(timePattern, formatLong2));
  };
  var longFormatters = {
    p: timeLongFormatter,
    P: dateTimeLongFormatter
  };

  // node_modules/date-fns/_lib/protectedTokens.mjs
  var dayOfYearTokenRE = /^D+$/;
  var weekYearTokenRE = /^Y+$/;
  var throwTokens = ["D", "DD", "YY", "YYYY"];
  function isProtectedDayOfYearToken(token) {
    return dayOfYearTokenRE.test(token);
  }
  function isProtectedWeekYearToken(token) {
    return weekYearTokenRE.test(token);
  }
  function warnOrThrowProtectedError(token, format2, input) {
    const _message = message(token, format2, input);
    console.warn(_message);
    if (throwTokens.includes(token)) throw new RangeError(_message);
  }
  function message(token, format2, input) {
    const subject = token[0] === "Y" ? "years" : "days of the month";
    return `Use \`${token.toLowerCase()}\` instead of \`${token}\` (in \`${format2}\`) for formatting ${subject} to the input \`${input}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;
  }

  // node_modules/date-fns/format.mjs
  var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;
  var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
  var escapedStringRegExp = /^'([^]*?)'?$/;
  var doubleQuoteRegExp = /''/g;
  var unescapedLatinCharacterRegExp = /[a-zA-Z]/;
  function format(date, formatStr, options) {
    const defaultOptions5 = getDefaultOptions();
    const locale = options?.locale ?? defaultOptions5.locale ?? enUS;
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions5.firstWeekContainsDate ?? defaultOptions5.locale?.options?.firstWeekContainsDate ?? 1;
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions5.weekStartsOn ?? defaultOptions5.locale?.options?.weekStartsOn ?? 0;
    const originalDate = toDate(date);
    if (!isValid(originalDate)) {
      throw new RangeError("Invalid time value");
    }
    let parts = formatStr.match(longFormattingTokensRegExp).map((substring) => {
      const firstCharacter = substring[0];
      if (firstCharacter === "p" || firstCharacter === "P") {
        const longFormatter = longFormatters[firstCharacter];
        return longFormatter(substring, locale.formatLong);
      }
      return substring;
    }).join("").match(formattingTokensRegExp).map((substring) => {
      if (substring === "''") {
        return { isToken: false, value: "'" };
      }
      const firstCharacter = substring[0];
      if (firstCharacter === "'") {
        return { isToken: false, value: cleanEscapedString(substring) };
      }
      if (formatters[firstCharacter]) {
        return { isToken: true, value: substring };
      }
      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {
        throw new RangeError(
          "Format string contains an unescaped latin alphabet character `" + firstCharacter + "`"
        );
      }
      return { isToken: false, value: substring };
    });
    if (locale.localize.preprocessor) {
      parts = locale.localize.preprocessor(originalDate, parts);
    }
    const formatterOptions = {
      firstWeekContainsDate,
      weekStartsOn,
      locale
    };
    return parts.map((part) => {
      if (!part.isToken) return part.value;
      const token = part.value;
      if (!options?.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token) || !options?.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {
        warnOrThrowProtectedError(token, formatStr, String(date));
      }
      const formatter = formatters[token[0]];
      return formatter(originalDate, token, locale.localize, formatterOptions);
    }).join("");
  }
  function cleanEscapedString(input) {
    const matched = input.match(escapedStringRegExp);
    if (!matched) {
      return input;
    }
    return matched[1].replace(doubleQuoteRegExp, "'");
  }

  // node_modules/date-fns/isSameMonth.mjs
  function isSameMonth(dateLeft, dateRight) {
    const _dateLeft = toDate(dateLeft);
    const _dateRight = toDate(dateRight);
    return _dateLeft.getFullYear() === _dateRight.getFullYear() && _dateLeft.getMonth() === _dateRight.getMonth();
  }

  // node_modules/date-fns/isToday.mjs
  function isToday(date) {
    return isSameDay(date, constructNow(date));
  }

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_default = class extends Controller {
    connect() {
      this.viewDate = new Date(this.viewDateValue);
      this.selectedDate = this.selectedDateValue ? new Date(this.selectedDateValue) : null;
      this.renderCalendar();
    }
    renderCalendar() {
      this.titleTarget.textContent = format(this.viewDate, "MMMM yyyy");
      const start2 = startOfWeek(startOfMonth(this.viewDate));
      const end = endOfWeek(endOfMonth(this.viewDate));
      const days = eachDayOfInterval({ start: start2, end });
      const calendarContainer = this.calendarTarget;
      const weekdayHeaders = calendarContainer.querySelectorAll("div:nth-child(-n+7)");
      calendarContainer.innerHTML = "";
      weekdayHeaders.forEach((header) => calendarContainer.appendChild(header));
      days.forEach((day) => {
        const dayElement = this.createDayElement(day);
        calendarContainer.appendChild(dayElement);
      });
      this.updateInput();
    }
    createDayElement(day) {
      const template = this.dayTemplateTarget.content.cloneNode(true);
      const button = template.querySelector("button");
      button.textContent = format(day, "d");
      button.dataset.day = day.toISOString();
      let buttonClass = "hover:bg-accent hover:text-accent-foreground";
      if (!isSameMonth(day, this.viewDate)) {
        buttonClass += " text-muted-foreground";
      } else if (isToday(day)) {
        buttonClass += " bg-accent text-accent-foreground";
      }
      if (this.selectedDate && isSameDay(day, this.selectedDate)) {
        buttonClass += " bg-primary text-primary-foreground";
      }
      button.className = button.className.replace("{{buttonClass}}", buttonClass);
      return template;
    }
    prevMonth() {
      this.viewDate = addMonths(this.viewDate, -1);
      this.renderCalendar();
    }
    nextMonth() {
      this.viewDate = addMonths(this.viewDate, 1);
      this.renderCalendar();
    }
    selectDay(event) {
      const selectedDay = new Date(event.currentTarget.dataset.day);
      this.selectedDate = selectedDay;
      this.selectedDateValue = selectedDay.toISOString();
      this.renderCalendar();
    }
    updateInput() {
      const inputElement = document.getElementById(this.inputIdValue);
      if (inputElement && this.selectedDate) {
        inputElement.value = format(this.selectedDate, this.formatValue);
      }
    }
  };
  __publicField(calendar_default, "targets", ["title", "calendar", "dayTemplate", "input"]);
  __publicField(calendar_default, "values", {
    format: String,
    viewDate: String,
    selectedDate: { type: String, default: null },
    inputId: String
  });

  // ../../app/ui/components/rails_ui/card/index.js
  var card_exports = {};

  // ../../app/ui/components/rails_ui/carousel/index.js
  var carousel_exports = {};
  __export(carousel_exports, {
    default: () => carousel_default
  });
  var carousel_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: () => this.slideTargets[this.currentIndexValue],
        enterActive: "transition ease-out duration-300",
        enterFrom: "opacity-0",
        enterTo: "opacity-100",
        leaveActive: "transition ease-in duration-300",
        leaveFrom: "opacity-100",
        leaveTo: "opacity-0"
      });
      this.updateSlidePosition();
      this.updateButtonStates();
      if (this.autoPlayValue) {
        this.startAutoPlay();
      }
    }
    disconnect() {
      this.stopAutoPlay();
    }
    next() {
      this.currentIndexValue = (this.currentIndexValue + 1) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    previous() {
      this.currentIndexValue = (this.currentIndexValue - 1 + this.slideTargets.length) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    updateSlidePosition() {
      const offset3 = this.currentIndexValue * -100;
      this.element.querySelector(".flex").style.transform = `translate3d(${offset3}%, 0px, 0px)`;
    }
    updateButtonStates() {
      if (this.hasPreviousButtonTarget && this.hasNextButtonTarget) {
        this.previousButtonTarget.disabled = this.currentIndexValue === 0;
        this.nextButtonTarget.disabled = this.currentIndexValue === this.slideTargets.length - 1;
      }
    }
    startAutoPlay() {
      this.autoPlayInterval = setInterval(() => {
        this.next();
      }, this.intervalValue);
    }
    stopAutoPlay() {
      if (this.autoPlayInterval) {
        clearInterval(this.autoPlayInterval);
      }
    }
  };
  __publicField(carousel_default, "targets", ["slide", "previousButton", "nextButton"]);
  __publicField(carousel_default, "values", {
    currentIndex: { type: Number, default: 0 },
    autoPlay: { type: Boolean, default: false },
    interval: { type: Number, default: 5e3 }
    // 5 seconds
  });

  // ../../app/ui/components/rails_ui/collapsible/index.js
  var collapsible_exports = {};
  __export(collapsible_exports, {
    default: () => collapsible_default
  });
  var collapsible_default = class extends Controller {
    connect() {
      this.updateVisibility();
    }
    toggle() {
      this.openValue = !this.openValue;
    }
    openValueChanged() {
      this.updateVisibility();
    }
    updateVisibility() {
      if (this.openValue) {
        this.contentTarget.classList.remove("hidden");
      } else {
        this.contentTarget.classList.add("hidden");
      }
    }
  };
  __publicField(collapsible_default, "targets", ["content"]);
  __publicField(collapsible_default, "values", {
    open: Boolean
  });

  // ../../app/ui/components/rails_ui/command/index.js
  var command_exports = {};
  __export(command_exports, {
    default: () => command_default
  });

  // node_modules/hotkeys-js/dist/hotkeys.esm.js
  var isff = typeof navigator !== "undefined" ? navigator.userAgent.toLowerCase().indexOf("firefox") > 0 : false;
  function addEvent(object, event, method, useCapture) {
    if (object.addEventListener) {
      object.addEventListener(event, method, useCapture);
    } else if (object.attachEvent) {
      object.attachEvent("on".concat(event), method);
    }
  }
  function removeEvent(object, event, method, useCapture) {
    if (object.removeEventListener) {
      object.removeEventListener(event, method, useCapture);
    } else if (object.detachEvent) {
      object.detachEvent("on".concat(event), method);
    }
  }
  function getMods(modifier, key) {
    const mods = key.slice(0, key.length - 1);
    for (let i = 0; i < mods.length; i++) mods[i] = modifier[mods[i].toLowerCase()];
    return mods;
  }
  function getKeys(key) {
    if (typeof key !== "string") key = "";
    key = key.replace(/\s/g, "");
    const keys = key.split(",");
    let index = keys.lastIndexOf("");
    for (; index >= 0; ) {
      keys[index - 1] += ",";
      keys.splice(index, 1);
      index = keys.lastIndexOf("");
    }
    return keys;
  }
  function compareArray(a1, a2) {
    const arr1 = a1.length >= a2.length ? a1 : a2;
    const arr2 = a1.length >= a2.length ? a2 : a1;
    let isIndex = true;
    for (let i = 0; i < arr1.length; i++) {
      if (arr2.indexOf(arr1[i]) === -1) isIndex = false;
    }
    return isIndex;
  }
  var _keyMap = {
    backspace: 8,
    "\u232B": 8,
    tab: 9,
    clear: 12,
    enter: 13,
    "\u21A9": 13,
    return: 13,
    esc: 27,
    escape: 27,
    space: 32,
    left: 37,
    up: 38,
    right: 39,
    down: 40,
    del: 46,
    delete: 46,
    ins: 45,
    insert: 45,
    home: 36,
    end: 35,
    pageup: 33,
    pagedown: 34,
    capslock: 20,
    num_0: 96,
    num_1: 97,
    num_2: 98,
    num_3: 99,
    num_4: 100,
    num_5: 101,
    num_6: 102,
    num_7: 103,
    num_8: 104,
    num_9: 105,
    num_multiply: 106,
    num_add: 107,
    num_enter: 108,
    num_subtract: 109,
    num_decimal: 110,
    num_divide: 111,
    "\u21EA": 20,
    ",": 188,
    ".": 190,
    "/": 191,
    "`": 192,
    "-": isff ? 173 : 189,
    "=": isff ? 61 : 187,
    ";": isff ? 59 : 186,
    "'": 222,
    "[": 219,
    "]": 221,
    "\\": 220
  };
  var _modifier = {
    // shiftKey
    "\u21E7": 16,
    shift: 16,
    // altKey
    "\u2325": 18,
    alt: 18,
    option: 18,
    // ctrlKey
    "\u2303": 17,
    ctrl: 17,
    control: 17,
    // metaKey
    "\u2318": 91,
    cmd: 91,
    command: 91
  };
  var modifierMap = {
    16: "shiftKey",
    18: "altKey",
    17: "ctrlKey",
    91: "metaKey",
    shiftKey: 16,
    ctrlKey: 17,
    altKey: 18,
    metaKey: 91
  };
  var _mods = {
    16: false,
    18: false,
    17: false,
    91: false
  };
  var _handlers = {};
  for (let k = 1; k < 20; k++) {
    _keyMap["f".concat(k)] = 111 + k;
  }
  var _downKeys = [];
  var winListendFocus = null;
  var _scope = "all";
  var elementEventMap = /* @__PURE__ */ new Map();
  var code = (x) => _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);
  var getKey = (x) => Object.keys(_keyMap).find((k) => _keyMap[k] === x);
  var getModifier = (x) => Object.keys(_modifier).find((k) => _modifier[k] === x);
  function setScope(scope) {
    _scope = scope || "all";
  }
  function getScope() {
    return _scope || "all";
  }
  function getPressedKeyCodes() {
    return _downKeys.slice(0);
  }
  function getPressedKeyString() {
    return _downKeys.map((c) => getKey(c) || getModifier(c) || String.fromCharCode(c));
  }
  function getAllKeyCodes() {
    const result = [];
    Object.keys(_handlers).forEach((k) => {
      _handlers[k].forEach((_ref) => {
        let {
          key,
          scope,
          mods,
          shortcut
        } = _ref;
        result.push({
          scope,
          shortcut,
          mods,
          keys: key.split("+").map((v) => code(v))
        });
      });
    });
    return result;
  }
  function filter(event) {
    const target = event.target || event.srcElement;
    const {
      tagName
    } = target;
    let flag = true;
    const isInput = tagName === "INPUT" && !["checkbox", "radio", "range", "button", "file", "reset", "submit", "color"].includes(target.type);
    if (target.isContentEditable || (isInput || tagName === "TEXTAREA" || tagName === "SELECT") && !target.readOnly) {
      flag = false;
    }
    return flag;
  }
  function isPressed(keyCode) {
    if (typeof keyCode === "string") {
      keyCode = code(keyCode);
    }
    return _downKeys.indexOf(keyCode) !== -1;
  }
  function deleteScope(scope, newScope) {
    let handlers;
    let i;
    if (!scope) scope = getScope();
    for (const key in _handlers) {
      if (Object.prototype.hasOwnProperty.call(_handlers, key)) {
        handlers = _handlers[key];
        for (i = 0; i < handlers.length; ) {
          if (handlers[i].scope === scope) {
            const deleteItems = handlers.splice(i, 1);
            deleteItems.forEach((_ref2) => {
              let {
                element
              } = _ref2;
              return removeKeyEvent(element);
            });
          } else {
            i++;
          }
        }
      }
    }
    if (getScope() === scope) setScope(newScope || "all");
  }
  function clearModifier(event) {
    let key = event.keyCode || event.which || event.charCode;
    const i = _downKeys.indexOf(key);
    if (i >= 0) {
      _downKeys.splice(i, 1);
    }
    if (event.key && event.key.toLowerCase() === "meta") {
      _downKeys.splice(0, _downKeys.length);
    }
    if (key === 93 || key === 224) key = 91;
    if (key in _mods) {
      _mods[key] = false;
      for (const k in _modifier) if (_modifier[k] === key) hotkeys[k] = false;
    }
  }
  function unbind(keysInfo) {
    if (typeof keysInfo === "undefined") {
      Object.keys(_handlers).forEach((key) => {
        Array.isArray(_handlers[key]) && _handlers[key].forEach((info) => eachUnbind(info));
        delete _handlers[key];
      });
      removeKeyEvent(null);
    } else if (Array.isArray(keysInfo)) {
      keysInfo.forEach((info) => {
        if (info.key) eachUnbind(info);
      });
    } else if (typeof keysInfo === "object") {
      if (keysInfo.key) eachUnbind(keysInfo);
    } else if (typeof keysInfo === "string") {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      let [scope, method] = args;
      if (typeof scope === "function") {
        method = scope;
        scope = "";
      }
      eachUnbind({
        key: keysInfo,
        scope,
        method,
        splitKey: "+"
      });
    }
  }
  var eachUnbind = (_ref3) => {
    let {
      key,
      scope,
      method,
      splitKey = "+"
    } = _ref3;
    const multipleKeys = getKeys(key);
    multipleKeys.forEach((originKey) => {
      const unbindKeys = originKey.split(splitKey);
      const len = unbindKeys.length;
      const lastKey = unbindKeys[len - 1];
      const keyCode = lastKey === "*" ? "*" : code(lastKey);
      if (!_handlers[keyCode]) return;
      if (!scope) scope = getScope();
      const mods = len > 1 ? getMods(_modifier, unbindKeys) : [];
      const unbindElements = [];
      _handlers[keyCode] = _handlers[keyCode].filter((record) => {
        const isMatchingMethod = method ? record.method === method : true;
        const isUnbind = isMatchingMethod && record.scope === scope && compareArray(record.mods, mods);
        if (isUnbind) unbindElements.push(record.element);
        return !isUnbind;
      });
      unbindElements.forEach((element) => removeKeyEvent(element));
    });
  };
  function eventHandler(event, handler, scope, element) {
    if (handler.element !== element) {
      return;
    }
    let modifiersMatch;
    if (handler.scope === scope || handler.scope === "all") {
      modifiersMatch = handler.mods.length > 0;
      for (const y in _mods) {
        if (Object.prototype.hasOwnProperty.call(_mods, y)) {
          if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {
            modifiersMatch = false;
          }
        }
      }
      if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === "*") {
        handler.keys = [];
        handler.keys = handler.keys.concat(_downKeys);
        if (handler.method(event, handler) === false) {
          if (event.preventDefault) event.preventDefault();
          else event.returnValue = false;
          if (event.stopPropagation) event.stopPropagation();
          if (event.cancelBubble) event.cancelBubble = true;
        }
      }
    }
  }
  function dispatch2(event, element) {
    const asterisk = _handlers["*"];
    let key = event.keyCode || event.which || event.charCode;
    if (!hotkeys.filter.call(this, event)) return;
    if (key === 93 || key === 224) key = 91;
    if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);
    ["ctrlKey", "altKey", "shiftKey", "metaKey"].forEach((keyName) => {
      const keyNum = modifierMap[keyName];
      if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {
        _downKeys.push(keyNum);
      } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {
        _downKeys.splice(_downKeys.indexOf(keyNum), 1);
      } else if (keyName === "metaKey" && event[keyName] && _downKeys.length === 3) {
        if (!(event.ctrlKey || event.shiftKey || event.altKey)) {
          _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));
        }
      }
    });
    if (key in _mods) {
      _mods[key] = true;
      for (const k in _modifier) {
        if (_modifier[k] === key) hotkeys[k] = true;
      }
      if (!asterisk) return;
    }
    for (const e in _mods) {
      if (Object.prototype.hasOwnProperty.call(_mods, e)) {
        _mods[e] = event[modifierMap[e]];
      }
    }
    if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState("AltGraph")) {
      if (_downKeys.indexOf(17) === -1) {
        _downKeys.push(17);
      }
      if (_downKeys.indexOf(18) === -1) {
        _downKeys.push(18);
      }
      _mods[17] = true;
      _mods[18] = true;
    }
    const scope = getScope();
    if (asterisk) {
      for (let i = 0; i < asterisk.length; i++) {
        if (asterisk[i].scope === scope && (event.type === "keydown" && asterisk[i].keydown || event.type === "keyup" && asterisk[i].keyup)) {
          eventHandler(event, asterisk[i], scope, element);
        }
      }
    }
    if (!(key in _handlers)) return;
    const handlerKey = _handlers[key];
    const keyLen = handlerKey.length;
    for (let i = 0; i < keyLen; i++) {
      if (event.type === "keydown" && handlerKey[i].keydown || event.type === "keyup" && handlerKey[i].keyup) {
        if (handlerKey[i].key) {
          const record = handlerKey[i];
          const {
            splitKey
          } = record;
          const keyShortcut = record.key.split(splitKey);
          const _downKeysCurrent = [];
          for (let a = 0; a < keyShortcut.length; a++) {
            _downKeysCurrent.push(code(keyShortcut[a]));
          }
          if (_downKeysCurrent.sort().join("") === _downKeys.sort().join("")) {
            eventHandler(event, record, scope, element);
          }
        }
      }
    }
  }
  function hotkeys(key, option, method) {
    _downKeys = [];
    const keys = getKeys(key);
    let mods = [];
    let scope = "all";
    let element = document;
    let i = 0;
    let keyup = false;
    let keydown = true;
    let splitKey = "+";
    let capture = false;
    let single = false;
    if (method === void 0 && typeof option === "function") {
      method = option;
    }
    if (Object.prototype.toString.call(option) === "[object Object]") {
      if (option.scope) scope = option.scope;
      if (option.element) element = option.element;
      if (option.keyup) keyup = option.keyup;
      if (option.keydown !== void 0) keydown = option.keydown;
      if (option.capture !== void 0) capture = option.capture;
      if (typeof option.splitKey === "string") splitKey = option.splitKey;
      if (option.single === true) single = true;
    }
    if (typeof option === "string") scope = option;
    if (single) unbind(key, scope);
    for (; i < keys.length; i++) {
      key = keys[i].split(splitKey);
      mods = [];
      if (key.length > 1) mods = getMods(_modifier, key);
      key = key[key.length - 1];
      key = key === "*" ? "*" : code(key);
      if (!(key in _handlers)) _handlers[key] = [];
      _handlers[key].push({
        keyup,
        keydown,
        scope,
        mods,
        shortcut: keys[i],
        method,
        key: keys[i],
        splitKey,
        element
      });
    }
    if (typeof element !== "undefined" && window) {
      if (!elementEventMap.has(element)) {
        const keydownListener = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          return dispatch2(event, element);
        };
        const keyupListenr = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          dispatch2(event, element);
          clearModifier(event);
        };
        elementEventMap.set(element, {
          keydownListener,
          keyupListenr,
          capture
        });
        addEvent(element, "keydown", keydownListener, capture);
        addEvent(element, "keyup", keyupListenr, capture);
      }
      if (!winListendFocus) {
        const listener = () => {
          _downKeys = [];
        };
        winListendFocus = {
          listener,
          capture
        };
        addEvent(window, "focus", listener, capture);
      }
    }
  }
  function trigger(shortcut) {
    let scope = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "all";
    Object.keys(_handlers).forEach((key) => {
      const dataList = _handlers[key].filter((item) => item.scope === scope && item.shortcut === shortcut);
      dataList.forEach((data) => {
        if (data && data.method) {
          data.method();
        }
      });
    });
  }
  function removeKeyEvent(element) {
    const values = Object.values(_handlers).flat();
    const findindex = values.findIndex((_ref4) => {
      let {
        element: el
      } = _ref4;
      return el === element;
    });
    if (findindex < 0) {
      const {
        keydownListener,
        keyupListenr,
        capture
      } = elementEventMap.get(element) || {};
      if (keydownListener && keyupListenr) {
        removeEvent(element, "keyup", keyupListenr, capture);
        removeEvent(element, "keydown", keydownListener, capture);
        elementEventMap.delete(element);
      }
    }
    if (values.length <= 0 || elementEventMap.size <= 0) {
      const eventKeys = Object.keys(elementEventMap);
      eventKeys.forEach((el) => {
        const {
          keydownListener,
          keyupListenr,
          capture
        } = elementEventMap.get(el) || {};
        if (keydownListener && keyupListenr) {
          removeEvent(el, "keyup", keyupListenr, capture);
          removeEvent(el, "keydown", keydownListener, capture);
          elementEventMap.delete(el);
        }
      });
      elementEventMap.clear();
      Object.keys(_handlers).forEach((key) => delete _handlers[key]);
      if (winListendFocus) {
        const {
          listener,
          capture
        } = winListendFocus;
        removeEvent(window, "focus", listener, capture);
        winListendFocus = null;
      }
    }
  }
  var _api = {
    getPressedKeyString,
    setScope,
    getScope,
    deleteScope,
    getPressedKeyCodes,
    getAllKeyCodes,
    isPressed,
    filter,
    trigger,
    unbind,
    keyMap: _keyMap,
    modifier: _modifier,
    modifierMap
  };
  for (const a in _api) {
    if (Object.prototype.hasOwnProperty.call(_api, a)) {
      hotkeys[a] = _api[a];
    }
  }
  if (typeof window !== "undefined") {
    const _hotkeys = window.hotkeys;
    hotkeys.noConflict = (deep) => {
      if (deep && window.hotkeys === hotkeys) {
        window.hotkeys = _hotkeys;
      }
      return hotkeys;
    };
    window.hotkeys = hotkeys;
  }

  // node_modules/stimulus-use/dist/hotkeys.js
  function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
  }
  var defaultOptions4 = {
    debug: false,
    logger: console,
    dispatchEvent: true,
    eventPrefix: true
  };
  var StimulusUse = class {
    constructor(controller, options = {}) {
      var _a, _b, _c;
      this.log = (functionName, args) => {
        if (!this.debug) return;
        this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${functionName}`, "color: #3B82F6", "color: unset");
        this.logger.log(Object.assign({
          controllerId: this.controllerId
        }, args));
        this.logger.groupEnd();
      };
      this.warn = (message2) => {
        this.logger.warn(`%c${this.controller.identifier} %c${message2}`, "color: #3B82F6; font-weight: bold", "color: unset");
      };
      this.dispatch = (eventName, details = {}) => {
        if (this.dispatchEvent) {
          const { event } = details, eventDetails = __rest(details, ["event"]);
          const customEvent = this.extendedEvent(eventName, event || null, eventDetails);
          this.targetElement.dispatchEvent(customEvent);
          this.log("dispatchEvent", Object.assign({
            eventName: customEvent.type
          }, eventDetails));
        }
      };
      this.call = (methodName, args = {}) => {
        const method = this.controller[methodName];
        if (typeof method == "function") {
          return method.call(this.controller, args);
        }
      };
      this.extendedEvent = (name, event, detail) => {
        const { bubbles, cancelable, composed } = event || {
          bubbles: true,
          cancelable: true,
          composed: true
        };
        if (event) {
          Object.assign(detail, {
            originalEvent: event
          });
        }
        const customEvent = new CustomEvent(this.composeEventName(name), {
          bubbles,
          cancelable,
          composed,
          detail
        });
        return customEvent;
      };
      this.composeEventName = (name) => {
        let composedName = name;
        if (this.eventPrefix === true) {
          composedName = `${this.controller.identifier}:${name}`;
        } else if (typeof this.eventPrefix === "string") {
          composedName = `${this.eventPrefix}:${name}`;
        }
        return composedName;
      };
      this.debug = (_b = (_a = options === null || options === void 0 ? void 0 : options.debug) !== null && _a !== void 0 ? _a : controller.application.stimulusUseDebug) !== null && _b !== void 0 ? _b : defaultOptions4.debug;
      this.logger = (_c = options === null || options === void 0 ? void 0 : options.logger) !== null && _c !== void 0 ? _c : defaultOptions4.logger;
      this.controller = controller;
      this.controllerId = controller.element.id || controller.element.dataset.id;
      this.targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      const { dispatchEvent: dispatchEvent2, eventPrefix } = Object.assign({}, defaultOptions4, options);
      Object.assign(this, {
        dispatchEvent: dispatchEvent2,
        eventPrefix
      });
      this.controllerInitialize = controller.initialize.bind(controller);
      this.controllerConnect = controller.connect.bind(controller);
      this.controllerDisconnect = controller.disconnect.bind(controller);
    }
  };
  var UseHotkeys = class extends StimulusUse {
    constructor(controller, hotkeysOptions) {
      super(controller, hotkeysOptions);
      this.bind = () => {
        for (const [hotkey, definition] of Object.entries(this.hotkeysOptions.hotkeys)) {
          const handler = definition.handler.bind(this.controller);
          hotkeys(hotkey, definition.options, (e) => handler(e, e));
        }
      };
      this.unbind = () => {
        for (const hotkey in this.hotkeysOptions.hotkeys) {
          hotkeys.unbind(hotkey);
        }
      };
      this.controller = controller;
      this.hotkeysOptions = hotkeysOptions;
      this.enhanceController();
      this.bind();
    }
    enhanceController() {
      if (this.hotkeysOptions.filter) {
        hotkeys.filter = this.hotkeysOptions.filter;
      }
      const controllerDisconnect = this.controller.disconnect.bind(this.controller);
      const disconnect = () => {
        this.unbind();
        controllerDisconnect();
      };
      Object.assign(this.controller, {
        disconnect
      });
    }
  };
  var convertSimpleHotkeyDefinition = (definition) => ({
    handler: definition[0],
    options: {
      element: definition[1]
    }
  });
  var coerceOptions = (options) => {
    if (!options.hotkeys) {
      const hotkeys2 = {};
      Object.entries(options).forEach(([hotkey, definition]) => {
        Object.defineProperty(hotkeys2, hotkey, {
          value: convertSimpleHotkeyDefinition(definition),
          writable: false,
          enumerable: true
        });
      });
      options = {
        hotkeys: hotkeys2
      };
    }
    return options;
  };
  var useHotkeys = (controller, options) => new UseHotkeys(controller, coerceOptions(options));

  // ../../app/ui/components/rails_ui/command/index.js
  var command_default = class extends Controller {
    connect() {
      useHotkeys(this, {
        ...this.hotkeysValue,
        "ArrowUp": (event) => this.navigateItems(event, -1),
        "ArrowDown": (event) => this.navigateItems(event, 1),
        "Enter": (event) => this.selectItem(event)
      });
      this.currentIndex = -1;
    }
    navigateItems(event, direction) {
      event.preventDefault();
      this.currentIndex += direction;
      if (this.currentIndex < 0) this.currentIndex = this.itemTargets.length - 1;
      if (this.currentIndex >= this.itemTargets.length) this.currentIndex = 0;
      this.highlightItem();
    }
    highlightItem() {
      this.itemTargets.forEach((item, index) => {
        if (index === this.currentIndex) {
          item.setAttribute("aria-selected", "true");
          item.scrollIntoView({ block: "nearest" });
        } else {
          item.setAttribute("aria-selected", "false");
        }
      });
    }
    selectItem(event) {
      event.preventDefault();
      const selectedItem = this.itemTargets[this.currentIndex];
      if (selectedItem) {
        console.log("Selected:", selectedItem.dataset.value);
      }
    }
    search() {
      const query = this.inputTarget.value.toLowerCase();
      this.itemTargets.forEach((item) => {
        const matches = item.textContent.toLowerCase().includes(query);
        item.style.display = matches ? "" : "none";
      });
    }
  };
  __publicField(command_default, "targets", ["input", "list", "item"]);
  __publicField(command_default, "values", {
    hotkeys: Object
  });

  // ../../app/ui/components/rails_ui/context_menu/index.js
  var context_menu_exports = {};
  __export(context_menu_exports, {
    default: () => context_menu_default
  });

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs
  var min = Math.min;
  var max = Math.max;
  var round = Math.round;
  var floor = Math.floor;
  var createCoords = (v) => ({
    x: v,
    y: v
  });
  var oppositeSideMap = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
  };
  var oppositeAlignmentMap = {
    start: "end",
    end: "start"
  };
  function clamp(start2, value, end) {
    return max(start2, min(value, end));
  }
  function evaluate(value, param) {
    return typeof value === "function" ? value(param) : value;
  }
  function getSide(placement) {
    return placement.split("-")[0];
  }
  function getAlignment(placement) {
    return placement.split("-")[1];
  }
  function getOppositeAxis(axis) {
    return axis === "x" ? "y" : "x";
  }
  function getAxisLength(axis) {
    return axis === "y" ? "height" : "width";
  }
  function getSideAxis(placement) {
    return ["top", "bottom"].includes(getSide(placement)) ? "y" : "x";
  }
  function getAlignmentAxis(placement) {
    return getOppositeAxis(getSideAxis(placement));
  }
  function getAlignmentSides(placement, rects, rtl) {
    if (rtl === void 0) {
      rtl = false;
    }
    const alignment = getAlignment(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const length = getAxisLength(alignmentAxis);
    let mainAlignmentSide = alignmentAxis === "x" ? alignment === (rtl ? "end" : "start") ? "right" : "left" : alignment === "start" ? "bottom" : "top";
    if (rects.reference[length] > rects.floating[length]) {
      mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
    }
    return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
  }
  function getExpandedPlacements(placement) {
    const oppositePlacement = getOppositePlacement(placement);
    return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
  }
  function getOppositeAlignmentPlacement(placement) {
    return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);
  }
  function getSideList(side, isStart, rtl) {
    const lr = ["left", "right"];
    const rl = ["right", "left"];
    const tb = ["top", "bottom"];
    const bt = ["bottom", "top"];
    switch (side) {
      case "top":
      case "bottom":
        if (rtl) return isStart ? rl : lr;
        return isStart ? lr : rl;
      case "left":
      case "right":
        return isStart ? tb : bt;
      default:
        return [];
    }
  }
  function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
    const alignment = getAlignment(placement);
    let list = getSideList(getSide(placement), direction === "start", rtl);
    if (alignment) {
      list = list.map((side) => side + "-" + alignment);
      if (flipAlignment) {
        list = list.concat(list.map(getOppositeAlignmentPlacement));
      }
    }
    return list;
  }
  function getOppositePlacement(placement) {
    return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);
  }
  function expandPaddingObject(padding) {
    return {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0,
      ...padding
    };
  }
  function getPaddingObject(padding) {
    return typeof padding !== "number" ? expandPaddingObject(padding) : {
      top: padding,
      right: padding,
      bottom: padding,
      left: padding
    };
  }
  function rectToClientRect(rect) {
    const {
      x,
      y,
      width,
      height
    } = rect;
    return {
      width,
      height,
      top: y,
      left: x,
      right: x + width,
      bottom: y + height,
      x,
      y
    };
  }

  // node_modules/@floating-ui/core/dist/floating-ui.core.mjs
  function computeCoordsFromPlacement(_ref, placement, rtl) {
    let {
      reference,
      floating
    } = _ref;
    const sideAxis = getSideAxis(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const alignLength = getAxisLength(alignmentAxis);
    const side = getSide(placement);
    const isVertical = sideAxis === "y";
    const commonX = reference.x + reference.width / 2 - floating.width / 2;
    const commonY = reference.y + reference.height / 2 - floating.height / 2;
    const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
    let coords;
    switch (side) {
      case "top":
        coords = {
          x: commonX,
          y: reference.y - floating.height
        };
        break;
      case "bottom":
        coords = {
          x: commonX,
          y: reference.y + reference.height
        };
        break;
      case "right":
        coords = {
          x: reference.x + reference.width,
          y: commonY
        };
        break;
      case "left":
        coords = {
          x: reference.x - floating.width,
          y: commonY
        };
        break;
      default:
        coords = {
          x: reference.x,
          y: reference.y
        };
    }
    switch (getAlignment(placement)) {
      case "start":
        coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
        break;
      case "end":
        coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
        break;
    }
    return coords;
  }
  var computePosition = async (reference, floating, config) => {
    const {
      placement = "bottom",
      strategy = "absolute",
      middleware = [],
      platform: platform2
    } = config;
    const validMiddleware = middleware.filter(Boolean);
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));
    let rects = await platform2.getElementRects({
      reference,
      floating,
      strategy
    });
    let {
      x,
      y
    } = computeCoordsFromPlacement(rects, placement, rtl);
    let statefulPlacement = placement;
    let middlewareData = {};
    let resetCount = 0;
    for (let i = 0; i < validMiddleware.length; i++) {
      const {
        name,
        fn
      } = validMiddleware[i];
      const {
        x: nextX,
        y: nextY,
        data,
        reset
      } = await fn({
        x,
        y,
        initialPlacement: placement,
        placement: statefulPlacement,
        strategy,
        middlewareData,
        rects,
        platform: platform2,
        elements: {
          reference,
          floating
        }
      });
      x = nextX != null ? nextX : x;
      y = nextY != null ? nextY : y;
      middlewareData = {
        ...middlewareData,
        [name]: {
          ...middlewareData[name],
          ...data
        }
      };
      if (reset && resetCount <= 50) {
        resetCount++;
        if (typeof reset === "object") {
          if (reset.placement) {
            statefulPlacement = reset.placement;
          }
          if (reset.rects) {
            rects = reset.rects === true ? await platform2.getElementRects({
              reference,
              floating,
              strategy
            }) : reset.rects;
          }
          ({
            x,
            y
          } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
        }
        i = -1;
      }
    }
    return {
      x,
      y,
      placement: statefulPlacement,
      strategy,
      middlewareData
    };
  };
  async function detectOverflow(state, options) {
    var _await$platform$isEle;
    if (options === void 0) {
      options = {};
    }
    const {
      x,
      y,
      platform: platform2,
      rects,
      elements,
      strategy
    } = state;
    const {
      boundary = "clippingAncestors",
      rootBoundary = "viewport",
      elementContext = "floating",
      altBoundary = false,
      padding = 0
    } = evaluate(options, state);
    const paddingObject = getPaddingObject(padding);
    const altContext = elementContext === "floating" ? "reference" : "floating";
    const element = elements[altBoundary ? altContext : elementContext];
    const clippingClientRect = rectToClientRect(await platform2.getClippingRect({
      element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),
      boundary,
      rootBoundary,
      strategy
    }));
    const rect = elementContext === "floating" ? {
      x,
      y,
      width: rects.floating.width,
      height: rects.floating.height
    } : rects.reference;
    const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));
    const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {
      x: 1,
      y: 1
    } : {
      x: 1,
      y: 1
    };
    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({
      elements,
      rect,
      offsetParent,
      strategy
    }) : rect);
    return {
      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
    };
  }
  var arrow = (options) => ({
    name: "arrow",
    options,
    async fn(state) {
      const {
        x,
        y,
        placement,
        rects,
        platform: platform2,
        elements,
        middlewareData
      } = state;
      const {
        element,
        padding = 0
      } = evaluate(options, state) || {};
      if (element == null) {
        return {};
      }
      const paddingObject = getPaddingObject(padding);
      const coords = {
        x,
        y
      };
      const axis = getAlignmentAxis(placement);
      const length = getAxisLength(axis);
      const arrowDimensions = await platform2.getDimensions(element);
      const isYAxis = axis === "y";
      const minProp = isYAxis ? "top" : "left";
      const maxProp = isYAxis ? "bottom" : "right";
      const clientProp = isYAxis ? "clientHeight" : "clientWidth";
      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
      const startDiff = coords[axis] - rects.reference[axis];
      const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));
      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;
      if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {
        clientSize = elements.floating[clientProp] || rects.floating[length];
      }
      const centerToReference = endDiff / 2 - startDiff / 2;
      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
      const minPadding = min(paddingObject[minProp], largestPossiblePadding);
      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);
      const min$1 = minPadding;
      const max2 = clientSize - arrowDimensions[length] - maxPadding;
      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
      const offset3 = clamp(min$1, center, max2);
      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset3 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;
      return {
        [axis]: coords[axis] + alignmentOffset,
        data: {
          [axis]: offset3,
          centerOffset: center - offset3 - alignmentOffset,
          ...shouldAddOffset && {
            alignmentOffset
          }
        },
        reset: shouldAddOffset
      };
    }
  });
  var flip = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "flip",
      options,
      async fn(state) {
        var _middlewareData$arrow, _middlewareData$flip;
        const {
          placement,
          middlewareData,
          rects,
          initialPlacement,
          platform: platform2,
          elements
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = true,
          fallbackPlacements: specifiedFallbackPlacements,
          fallbackStrategy = "bestFit",
          fallbackAxisSideDirection = "none",
          flipAlignment = true,
          ...detectOverflowOptions
        } = evaluate(options, state);
        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        const side = getSide(placement);
        const initialSideAxis = getSideAxis(initialPlacement);
        const isBasePlacement = getSide(initialPlacement) === initialPlacement;
        const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== "none";
        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {
          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));
        }
        const placements2 = [initialPlacement, ...fallbackPlacements];
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const overflows = [];
        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
        if (checkMainAxis) {
          overflows.push(overflow[side]);
        }
        if (checkCrossAxis) {
          const sides2 = getAlignmentSides(placement, rects, rtl);
          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);
        }
        overflowsData = [...overflowsData, {
          placement,
          overflows
        }];
        if (!overflows.every((side2) => side2 <= 0)) {
          var _middlewareData$flip2, _overflowsData$filter;
          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
          const nextPlacement = placements2[nextIndex];
          if (nextPlacement) {
            return {
              data: {
                index: nextIndex,
                overflows: overflowsData
              },
              reset: {
                placement: nextPlacement
              }
            };
          }
          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;
          if (!resetPlacement) {
            switch (fallbackStrategy) {
              case "bestFit": {
                var _overflowsData$filter2;
                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {
                  if (hasFallbackAxisSideDirection) {
                    const currentSideAxis = getSideAxis(d.placement);
                    return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal
                    // reading directions favoring greater width.
                    currentSideAxis === "y";
                  }
                  return true;
                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];
                if (placement2) {
                  resetPlacement = placement2;
                }
                break;
              }
              case "initialPlacement":
                resetPlacement = initialPlacement;
                break;
            }
          }
          if (placement !== resetPlacement) {
            return {
              reset: {
                placement: resetPlacement
              }
            };
          }
        }
        return {};
      }
    };
  };
  async function convertValueToCoords(state, options) {
    const {
      placement,
      platform: platform2,
      elements
    } = state;
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
    const side = getSide(placement);
    const alignment = getAlignment(placement);
    const isVertical = getSideAxis(placement) === "y";
    const mainAxisMulti = ["left", "top"].includes(side) ? -1 : 1;
    const crossAxisMulti = rtl && isVertical ? -1 : 1;
    const rawValue = evaluate(options, state);
    let {
      mainAxis,
      crossAxis,
      alignmentAxis
    } = typeof rawValue === "number" ? {
      mainAxis: rawValue,
      crossAxis: 0,
      alignmentAxis: null
    } : {
      mainAxis: 0,
      crossAxis: 0,
      alignmentAxis: null,
      ...rawValue
    };
    if (alignment && typeof alignmentAxis === "number") {
      crossAxis = alignment === "end" ? alignmentAxis * -1 : alignmentAxis;
    }
    return isVertical ? {
      x: crossAxis * crossAxisMulti,
      y: mainAxis * mainAxisMulti
    } : {
      x: mainAxis * mainAxisMulti,
      y: crossAxis * crossAxisMulti
    };
  }
  var offset = function(options) {
    if (options === void 0) {
      options = 0;
    }
    return {
      name: "offset",
      options,
      async fn(state) {
        var _middlewareData$offse, _middlewareData$arrow;
        const {
          x,
          y,
          placement,
          middlewareData
        } = state;
        const diffCoords = await convertValueToCoords(state, options);
        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        return {
          x: x + diffCoords.x,
          y: y + diffCoords.y,
          data: {
            ...diffCoords,
            placement
          }
        };
      }
    };
  };
  var shift = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "shift",
      options,
      async fn(state) {
        const {
          x,
          y,
          placement
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = false,
          limiter = {
            fn: (_ref) => {
              let {
                x: x2,
                y: y2
              } = _ref;
              return {
                x: x2,
                y: y2
              };
            }
          },
          ...detectOverflowOptions
        } = evaluate(options, state);
        const coords = {
          x,
          y
        };
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const crossAxis = getSideAxis(getSide(placement));
        const mainAxis = getOppositeAxis(crossAxis);
        let mainAxisCoord = coords[mainAxis];
        let crossAxisCoord = coords[crossAxis];
        if (checkMainAxis) {
          const minSide = mainAxis === "y" ? "top" : "left";
          const maxSide = mainAxis === "y" ? "bottom" : "right";
          const min2 = mainAxisCoord + overflow[minSide];
          const max2 = mainAxisCoord - overflow[maxSide];
          mainAxisCoord = clamp(min2, mainAxisCoord, max2);
        }
        if (checkCrossAxis) {
          const minSide = crossAxis === "y" ? "top" : "left";
          const maxSide = crossAxis === "y" ? "bottom" : "right";
          const min2 = crossAxisCoord + overflow[minSide];
          const max2 = crossAxisCoord - overflow[maxSide];
          crossAxisCoord = clamp(min2, crossAxisCoord, max2);
        }
        const limitedCoords = limiter.fn({
          ...state,
          [mainAxis]: mainAxisCoord,
          [crossAxis]: crossAxisCoord
        });
        return {
          ...limitedCoords,
          data: {
            x: limitedCoords.x - x,
            y: limitedCoords.y - y
          }
        };
      }
    };
  };

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs
  function getNodeName(node) {
    if (isNode(node)) {
      return (node.nodeName || "").toLowerCase();
    }
    return "#document";
  }
  function getWindow(node) {
    var _node$ownerDocument;
    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
  }
  function getDocumentElement(node) {
    var _ref;
    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;
  }
  function isNode(value) {
    return value instanceof Node || value instanceof getWindow(value).Node;
  }
  function isElement(value) {
    return value instanceof Element || value instanceof getWindow(value).Element;
  }
  function isHTMLElement(value) {
    return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;
  }
  function isShadowRoot(value) {
    if (typeof ShadowRoot === "undefined") {
      return false;
    }
    return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;
  }
  function isOverflowElement(element) {
    const {
      overflow,
      overflowX,
      overflowY,
      display
    } = getComputedStyle2(element);
    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !["inline", "contents"].includes(display);
  }
  function isTableElement(element) {
    return ["table", "td", "th"].includes(getNodeName(element));
  }
  function isTopLayer(element) {
    return [":popover-open", ":modal"].some((selector) => {
      try {
        return element.matches(selector);
      } catch (e) {
        return false;
      }
    });
  }
  function isContainingBlock(element) {
    const webkit = isWebKit();
    const css = getComputedStyle2(element);
    return css.transform !== "none" || css.perspective !== "none" || (css.containerType ? css.containerType !== "normal" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== "none" : false) || !webkit && (css.filter ? css.filter !== "none" : false) || ["transform", "perspective", "filter"].some((value) => (css.willChange || "").includes(value)) || ["paint", "layout", "strict", "content"].some((value) => (css.contain || "").includes(value));
  }
  function getContainingBlock(element) {
    let currentNode = getParentNode(element);
    while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
      if (isTopLayer(currentNode)) {
        return null;
      }
      if (isContainingBlock(currentNode)) {
        return currentNode;
      }
      currentNode = getParentNode(currentNode);
    }
    return null;
  }
  function isWebKit() {
    if (typeof CSS === "undefined" || !CSS.supports) return false;
    return CSS.supports("-webkit-backdrop-filter", "none");
  }
  function isLastTraversableNode(node) {
    return ["html", "body", "#document"].includes(getNodeName(node));
  }
  function getComputedStyle2(element) {
    return getWindow(element).getComputedStyle(element);
  }
  function getNodeScroll(element) {
    if (isElement(element)) {
      return {
        scrollLeft: element.scrollLeft,
        scrollTop: element.scrollTop
      };
    }
    return {
      scrollLeft: element.scrollX,
      scrollTop: element.scrollY
    };
  }
  function getParentNode(node) {
    if (getNodeName(node) === "html") {
      return node;
    }
    const result = (
      // Step into the shadow DOM of the parent of a slotted node.
      node.assignedSlot || // DOM Element detected.
      node.parentNode || // ShadowRoot detected.
      isShadowRoot(node) && node.host || // Fallback.
      getDocumentElement(node)
    );
    return isShadowRoot(result) ? result.host : result;
  }
  function getNearestOverflowAncestor(node) {
    const parentNode = getParentNode(node);
    if (isLastTraversableNode(parentNode)) {
      return node.ownerDocument ? node.ownerDocument.body : node.body;
    }
    if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
      return parentNode;
    }
    return getNearestOverflowAncestor(parentNode);
  }
  function getOverflowAncestors(node, list, traverseIframes) {
    var _node$ownerDocument2;
    if (list === void 0) {
      list = [];
    }
    if (traverseIframes === void 0) {
      traverseIframes = true;
    }
    const scrollableAncestor = getNearestOverflowAncestor(node);
    const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);
    const win = getWindow(scrollableAncestor);
    if (isBody) {
      return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);
    }
    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));
  }

  // node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs
  function getCssDimensions(element) {
    const css = getComputedStyle2(element);
    let width = parseFloat(css.width) || 0;
    let height = parseFloat(css.height) || 0;
    const hasOffset = isHTMLElement(element);
    const offsetWidth = hasOffset ? element.offsetWidth : width;
    const offsetHeight = hasOffset ? element.offsetHeight : height;
    const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
    if (shouldFallback) {
      width = offsetWidth;
      height = offsetHeight;
    }
    return {
      width,
      height,
      $: shouldFallback
    };
  }
  function unwrapElement(element) {
    return !isElement(element) ? element.contextElement : element;
  }
  function getScale(element) {
    const domElement = unwrapElement(element);
    if (!isHTMLElement(domElement)) {
      return createCoords(1);
    }
    const rect = domElement.getBoundingClientRect();
    const {
      width,
      height,
      $
    } = getCssDimensions(domElement);
    let x = ($ ? round(rect.width) : rect.width) / width;
    let y = ($ ? round(rect.height) : rect.height) / height;
    if (!x || !Number.isFinite(x)) {
      x = 1;
    }
    if (!y || !Number.isFinite(y)) {
      y = 1;
    }
    return {
      x,
      y
    };
  }
  var noOffsets = /* @__PURE__ */ createCoords(0);
  function getVisualOffsets(element) {
    const win = getWindow(element);
    if (!isWebKit() || !win.visualViewport) {
      return noOffsets;
    }
    return {
      x: win.visualViewport.offsetLeft,
      y: win.visualViewport.offsetTop
    };
  }
  function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {
    if (isFixed === void 0) {
      isFixed = false;
    }
    if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {
      return false;
    }
    return isFixed;
  }
  function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
    if (includeScale === void 0) {
      includeScale = false;
    }
    if (isFixedStrategy === void 0) {
      isFixedStrategy = false;
    }
    const clientRect = element.getBoundingClientRect();
    const domElement = unwrapElement(element);
    let scale = createCoords(1);
    if (includeScale) {
      if (offsetParent) {
        if (isElement(offsetParent)) {
          scale = getScale(offsetParent);
        }
      } else {
        scale = getScale(element);
      }
    }
    const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);
    let x = (clientRect.left + visualOffsets.x) / scale.x;
    let y = (clientRect.top + visualOffsets.y) / scale.y;
    let width = clientRect.width / scale.x;
    let height = clientRect.height / scale.y;
    if (domElement) {
      const win = getWindow(domElement);
      const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
      let currentWin = win;
      let currentIFrame = currentWin.frameElement;
      while (currentIFrame && offsetParent && offsetWin !== currentWin) {
        const iframeScale = getScale(currentIFrame);
        const iframeRect = currentIFrame.getBoundingClientRect();
        const css = getComputedStyle2(currentIFrame);
        const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
        const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
        x *= iframeScale.x;
        y *= iframeScale.y;
        width *= iframeScale.x;
        height *= iframeScale.y;
        x += left;
        y += top;
        currentWin = getWindow(currentIFrame);
        currentIFrame = currentWin.frameElement;
      }
    }
    return rectToClientRect({
      width,
      height,
      x,
      y
    });
  }
  function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
    let {
      elements,
      rect,
      offsetParent,
      strategy
    } = _ref;
    const isFixed = strategy === "fixed";
    const documentElement = getDocumentElement(offsetParent);
    const topLayer = elements ? isTopLayer(elements.floating) : false;
    if (offsetParent === documentElement || topLayer && isFixed) {
      return rect;
    }
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    let scale = createCoords(1);
    const offsets = createCoords(0);
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isHTMLElement(offsetParent)) {
        const offsetRect = getBoundingClientRect(offsetParent);
        scale = getScale(offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      }
    }
    return {
      width: rect.width * scale.x,
      height: rect.height * scale.y,
      x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
      y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
    };
  }
  function getClientRects(element) {
    return Array.from(element.getClientRects());
  }
  function getWindowScrollBarX(element) {
    return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
  }
  function getDocumentRect(element) {
    const html = getDocumentElement(element);
    const scroll = getNodeScroll(element);
    const body = element.ownerDocument.body;
    const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
    const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
    let x = -scroll.scrollLeft + getWindowScrollBarX(element);
    const y = -scroll.scrollTop;
    if (getComputedStyle2(body).direction === "rtl") {
      x += max(html.clientWidth, body.clientWidth) - width;
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getViewportRect(element, strategy) {
    const win = getWindow(element);
    const html = getDocumentElement(element);
    const visualViewport = win.visualViewport;
    let width = html.clientWidth;
    let height = html.clientHeight;
    let x = 0;
    let y = 0;
    if (visualViewport) {
      width = visualViewport.width;
      height = visualViewport.height;
      const visualViewportBased = isWebKit();
      if (!visualViewportBased || visualViewportBased && strategy === "fixed") {
        x = visualViewport.offsetLeft;
        y = visualViewport.offsetTop;
      }
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getInnerBoundingClientRect(element, strategy) {
    const clientRect = getBoundingClientRect(element, true, strategy === "fixed");
    const top = clientRect.top + element.clientTop;
    const left = clientRect.left + element.clientLeft;
    const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);
    const width = element.clientWidth * scale.x;
    const height = element.clientHeight * scale.y;
    const x = left * scale.x;
    const y = top * scale.y;
    return {
      width,
      height,
      x,
      y
    };
  }
  function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
    let rect;
    if (clippingAncestor === "viewport") {
      rect = getViewportRect(element, strategy);
    } else if (clippingAncestor === "document") {
      rect = getDocumentRect(getDocumentElement(element));
    } else if (isElement(clippingAncestor)) {
      rect = getInnerBoundingClientRect(clippingAncestor, strategy);
    } else {
      const visualOffsets = getVisualOffsets(element);
      rect = {
        ...clippingAncestor,
        x: clippingAncestor.x - visualOffsets.x,
        y: clippingAncestor.y - visualOffsets.y
      };
    }
    return rectToClientRect(rect);
  }
  function hasFixedPositionAncestor(element, stopNode) {
    const parentNode = getParentNode(element);
    if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
      return false;
    }
    return getComputedStyle2(parentNode).position === "fixed" || hasFixedPositionAncestor(parentNode, stopNode);
  }
  function getClippingElementAncestors(element, cache2) {
    const cachedResult = cache2.get(element);
    if (cachedResult) {
      return cachedResult;
    }
    let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== "body");
    let currentContainingBlockComputedStyle = null;
    const elementIsFixed = getComputedStyle2(element).position === "fixed";
    let currentNode = elementIsFixed ? getParentNode(element) : element;
    while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
      const computedStyle = getComputedStyle2(currentNode);
      const currentNodeIsContaining = isContainingBlock(currentNode);
      if (!currentNodeIsContaining && computedStyle.position === "fixed") {
        currentContainingBlockComputedStyle = null;
      }
      const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === "static" && !!currentContainingBlockComputedStyle && ["absolute", "fixed"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
      if (shouldDropCurrentNode) {
        result = result.filter((ancestor) => ancestor !== currentNode);
      } else {
        currentContainingBlockComputedStyle = computedStyle;
      }
      currentNode = getParentNode(currentNode);
    }
    cache2.set(element, result);
    return result;
  }
  function getClippingRect(_ref) {
    let {
      element,
      boundary,
      rootBoundary,
      strategy
    } = _ref;
    const elementClippingAncestors = boundary === "clippingAncestors" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);
    const clippingAncestors = [...elementClippingAncestors, rootBoundary];
    const firstClippingAncestor = clippingAncestors[0];
    const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
      const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
      accRect.top = max(rect.top, accRect.top);
      accRect.right = min(rect.right, accRect.right);
      accRect.bottom = min(rect.bottom, accRect.bottom);
      accRect.left = max(rect.left, accRect.left);
      return accRect;
    }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
    return {
      width: clippingRect.right - clippingRect.left,
      height: clippingRect.bottom - clippingRect.top,
      x: clippingRect.left,
      y: clippingRect.top
    };
  }
  function getDimensions(element) {
    const {
      width,
      height
    } = getCssDimensions(element);
    return {
      width,
      height
    };
  }
  function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    const documentElement = getDocumentElement(offsetParent);
    const isFixed = strategy === "fixed";
    const rect = getBoundingClientRect(element, true, isFixed, offsetParent);
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    const offsets = createCoords(0);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isOffsetParentAnElement) {
        const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      } else if (documentElement) {
        offsets.x = getWindowScrollBarX(documentElement);
      }
    }
    const x = rect.left + scroll.scrollLeft - offsets.x;
    const y = rect.top + scroll.scrollTop - offsets.y;
    return {
      x,
      y,
      width: rect.width,
      height: rect.height
    };
  }
  function isStaticPositioned(element) {
    return getComputedStyle2(element).position === "static";
  }
  function getTrueOffsetParent(element, polyfill) {
    if (!isHTMLElement(element) || getComputedStyle2(element).position === "fixed") {
      return null;
    }
    if (polyfill) {
      return polyfill(element);
    }
    return element.offsetParent;
  }
  function getOffsetParent(element, polyfill) {
    const win = getWindow(element);
    if (isTopLayer(element)) {
      return win;
    }
    if (!isHTMLElement(element)) {
      let svgOffsetParent = getParentNode(element);
      while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {
        if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {
          return svgOffsetParent;
        }
        svgOffsetParent = getParentNode(svgOffsetParent);
      }
      return win;
    }
    let offsetParent = getTrueOffsetParent(element, polyfill);
    while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {
      offsetParent = getTrueOffsetParent(offsetParent, polyfill);
    }
    if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {
      return win;
    }
    return offsetParent || getContainingBlock(element) || win;
  }
  var getElementRects = async function(data) {
    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;
    const getDimensionsFn = this.getDimensions;
    const floatingDimensions = await getDimensionsFn(data.floating);
    return {
      reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),
      floating: {
        x: 0,
        y: 0,
        width: floatingDimensions.width,
        height: floatingDimensions.height
      }
    };
  };
  function isRTL(element) {
    return getComputedStyle2(element).direction === "rtl";
  }
  var platform = {
    convertOffsetParentRelativeRectToViewportRelativeRect,
    getDocumentElement,
    getClippingRect,
    getOffsetParent,
    getElementRects,
    getClientRects,
    getDimensions,
    getScale,
    isElement,
    isRTL
  };
  function observeMove(element, onMove) {
    let io = null;
    let timeoutId;
    const root = getDocumentElement(element);
    function cleanup() {
      var _io;
      clearTimeout(timeoutId);
      (_io = io) == null || _io.disconnect();
      io = null;
    }
    function refresh(skip, threshold) {
      if (skip === void 0) {
        skip = false;
      }
      if (threshold === void 0) {
        threshold = 1;
      }
      cleanup();
      const {
        left,
        top,
        width,
        height
      } = element.getBoundingClientRect();
      if (!skip) {
        onMove();
      }
      if (!width || !height) {
        return;
      }
      const insetTop = floor(top);
      const insetRight = floor(root.clientWidth - (left + width));
      const insetBottom = floor(root.clientHeight - (top + height));
      const insetLeft = floor(left);
      const rootMargin = -insetTop + "px " + -insetRight + "px " + -insetBottom + "px " + -insetLeft + "px";
      const options = {
        rootMargin,
        threshold: max(0, min(1, threshold)) || 1
      };
      let isFirstUpdate = true;
      function handleObserve(entries) {
        const ratio = entries[0].intersectionRatio;
        if (ratio !== threshold) {
          if (!isFirstUpdate) {
            return refresh();
          }
          if (!ratio) {
            timeoutId = setTimeout(() => {
              refresh(false, 1e-7);
            }, 1e3);
          } else {
            refresh(false, ratio);
          }
        }
        isFirstUpdate = false;
      }
      try {
        io = new IntersectionObserver(handleObserve, {
          ...options,
          // Handle <iframe>s
          root: root.ownerDocument
        });
      } catch (e) {
        io = new IntersectionObserver(handleObserve, options);
      }
      io.observe(element);
    }
    refresh(true);
    return cleanup;
  }
  function autoUpdate(reference, floating, update, options) {
    if (options === void 0) {
      options = {};
    }
    const {
      ancestorScroll = true,
      ancestorResize = true,
      elementResize = typeof ResizeObserver === "function",
      layoutShift = typeof IntersectionObserver === "function",
      animationFrame = false
    } = options;
    const referenceEl = unwrapElement(reference);
    const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];
    ancestors.forEach((ancestor) => {
      ancestorScroll && ancestor.addEventListener("scroll", update, {
        passive: true
      });
      ancestorResize && ancestor.addEventListener("resize", update);
    });
    const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;
    let reobserveFrame = -1;
    let resizeObserver = null;
    if (elementResize) {
      resizeObserver = new ResizeObserver((_ref) => {
        let [firstEntry] = _ref;
        if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {
          resizeObserver.unobserve(floating);
          cancelAnimationFrame(reobserveFrame);
          reobserveFrame = requestAnimationFrame(() => {
            var _resizeObserver;
            (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);
          });
        }
        update();
      });
      if (referenceEl && !animationFrame) {
        resizeObserver.observe(referenceEl);
      }
      resizeObserver.observe(floating);
    }
    let frameId;
    let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
    if (animationFrame) {
      frameLoop();
    }
    function frameLoop() {
      const nextRefRect = getBoundingClientRect(reference);
      if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
        update();
      }
      prevRefRect = nextRefRect;
      frameId = requestAnimationFrame(frameLoop);
    }
    update();
    return () => {
      var _resizeObserver2;
      ancestors.forEach((ancestor) => {
        ancestorScroll && ancestor.removeEventListener("scroll", update);
        ancestorResize && ancestor.removeEventListener("resize", update);
      });
      cleanupIo == null || cleanupIo();
      (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();
      resizeObserver = null;
      if (animationFrame) {
        cancelAnimationFrame(frameId);
      }
    };
  }
  var offset2 = offset;
  var shift2 = shift;
  var flip2 = flip;
  var arrow2 = arrow;
  var computePosition2 = (reference, floating, options) => {
    const cache2 = /* @__PURE__ */ new Map();
    const mergedOptions = {
      platform,
      ...options
    };
    const platformWithCache = {
      ...mergedOptions.platform,
      _c: cache2
    };
    return computePosition(reference, floating, {
      ...mergedOptions,
      platform: platformWithCache
    });
  };

  // ../../app/ui/components/rails_ui/context_menu/index.js
  var context_menu_default = class extends Controller {
    connect() {
      this.element.addEventListener("contextmenu", this.showMenu.bind(this));
      document.addEventListener("click", this.hideMenu.bind(this));
    }
    disconnect() {
      this.element.removeEventListener("contextmenu", this.showMenu.bind(this));
      document.removeEventListener("click", this.hideMenu.bind(this));
    }
    showMenu(event) {
      event.preventDefault();
      this.menuTarget.classList.remove("hidden");
      this.menuTarget.dataset.state = "open";
      computePosition2(
        { x: event.clientX, y: event.clientY },
        this.menuTarget,
        {
          placement: `${this.sideValue}-${this.alignValue}`,
          middleware: [
            offset2(5),
            flip2(),
            shift2({ padding: 5 })
          ]
        }
      ).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
    hideMenu(event) {
      if (!this.menuTarget.contains(event.target)) {
        this.menuTarget.dataset.state = "closed";
        setTimeout(() => {
          this.menuTarget.classList.add("hidden");
        }, 200);
      }
    }
    showSubmenu(event) {
      const submenu = event.currentTarget.querySelector('[data-ui-context-menu-target="submenu"]');
      if (submenu) {
        submenu.classList.remove("hidden");
        computePosition2(event.currentTarget, submenu, {
          placement: "right-start",
          middleware: [
            offset2(5),
            flip2(),
            shift2({ padding: 5 })
          ]
        }).then(({ x, y }) => {
          Object.assign(submenu.style, {
            left: `${x}px`,
            top: `${y}px`
          });
        });
      }
    }
    hideSubmenu(event) {
      const submenu = event.currentTarget.querySelector('[data-ui-context-menu-target="submenu"]');
      if (submenu) {
        submenu.classList.add("hidden");
      }
    }
  };
  __publicField(context_menu_default, "targets", ["menu", "submenuTrigger", "submenu"]);
  __publicField(context_menu_default, "values", {
    side: String,
    align: String
  });

  // ../../app/ui/components/rails_ui/dialog/index.js
  var dialog_exports = {};
  __export(dialog_exports, {
    default: () => dialog_default
  });
  var dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiDialogState = "open";
        this.contentTarget.dataset.uiDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiDialogState = "closed";
      this.contentTarget.dataset.uiDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(dialog_default, "targets", ["overlay", "content"]);
  __publicField(dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/dropdown_menu/index.js
  var dropdown_menu_exports = {};
  __export(dropdown_menu_exports, {
    default: () => dropdown_menu_default
  });
  var dropdown_menu_default = class extends Controller {
    connect() {
      this.closeMenu = this.closeMenu.bind(this);
    }
    toggle() {
      if (this.menuTarget.classList.contains(this.activeClass)) {
        this.closeMenu();
      } else {
        this.openMenu();
      }
    }
    openMenu() {
      this.menuTarget.classList.add(this.activeClass);
      this.menuTarget.removeAttribute("hidden");
      document.addEventListener("click", this.closeMenu);
      this.updatePosition();
    }
    closeMenu(event) {
      if (!event || !this.element.contains(event.target)) {
        this.menuTarget.classList.remove(this.activeClass);
        this.menuTarget.setAttribute("hidden", "");
        document.removeEventListener("click", this.closeMenu);
      }
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.menuTarget, {
        placement: "bottom-start",
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(dropdown_menu_default, "targets", ["trigger", "menu"]);
  __publicField(dropdown_menu_default, "classes", ["active"]);

  // ../../app/ui/components/rails_ui/dropdown_menu_item/index.js
  var dropdown_menu_item_exports = {};

  // ../../app/ui/components/rails_ui/input_otp/index.js
  var input_otp_exports = {};
  __export(input_otp_exports, {
    default: () => input_otp_default
  });
  var input_otp_default = class extends Controller {
    connect() {
      this.inputTarget.addEventListener("input", this.handleInput.bind(this));
      this.inputTarget.addEventListener("keydown", this.handleKeydown.bind(this));
      this.inputTarget.addEventListener("focus", this.handleFocus.bind(this));
      this.inputTarget.addEventListener("blur", this.handleBlur.bind(this));
    }
    handleInput(event) {
      const input = event.target;
      const value = input.value.replace(/\D/g, "").slice(0, this.totalDigits);
      input.value = value;
      this.updateDigits(value);
      this.focusDigit(value.length);
    }
    handleKeydown(event) {
      if (event.key === "Backspace" && event.target.value === "") {
        this.focusPreviousInput();
      }
    }
    handleFocus() {
      this.element.classList.add("focused");
      this.focusDigit(this.inputTarget.value.length);
    }
    handleBlur() {
      this.element.classList.remove("focused");
      this.digitTargets.forEach((digit) => {
        digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
      });
    }
    updateDigits(value) {
      this.digitTargets.forEach((digit, index) => {
        digit.textContent = value[index] || "";
        digit.classList.toggle("filled", !!value[index]);
      });
    }
    focusDigit(index) {
      this.digitTargets.forEach((digit, i) => {
        if (i === index) {
          digit.classList.add("ring-2", "ring-ring", "ring-offset-background");
        } else {
          digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
        }
      });
    }
    focusPreviousInput() {
      const currentValue = this.inputTarget.value;
      if (currentValue.length > 0) {
        this.inputTarget.value = currentValue.slice(0, -1);
        this.updateDigits(this.inputTarget.value);
        this.focusDigit(this.inputTarget.value.length);
      }
    }
    get totalDigits() {
      return this.groupsValue.reduce((sum, group) => sum + group, 0);
    }
  };
  __publicField(input_otp_default, "targets", ["input", "digit"]);
  __publicField(input_otp_default, "values", {
    groups: Array
  });

  // ../../app/ui/components/rails_ui/menubar/index.js
  var menubar_exports = {};
  __export(menubar_exports, {
    default: () => menubar_default
  });
  var menubar_default = class extends Controller {
    connect() {
      this.activeSubmenus = /* @__PURE__ */ new Set();
      this.cleanup = null;
      this.submenus = /* @__PURE__ */ new Map();
      this.hideTimeout = null;
      document.addEventListener("click", this.handleClick.bind(this));
      document.addEventListener("mouseover", this.handleMouseOver.bind(this));
      document.addEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    disconnect() {
      this.cleanupAllSubmenus();
      document.removeEventListener("click", this.handleClick.bind(this));
      document.removeEventListener("mouseover", this.handleMouseOver.bind(this));
      document.removeEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    handleClick(event) {
      const menuItem = event.target.closest("[data-ui-menubar-item], [data-ui-menubar-submenu-item]");
      if (menuItem) {
        event.stopPropagation();
        if (menuItem.closest("[data-ui-menubar-top-level]") || menuItem.closest("[data-ui-menubar-submenu]")) {
          this.toggleMenu(menuItem);
        }
      } else if (!event.target.closest("[data-ui-menubar-submenu]")) {
        this.closeAllSubmenus();
      }
    }
    handleMouseOver(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        clearTimeout(this.hideTimeout);
        this.showSubmenu(submenuItem);
      }
    }
    handleMouseOut(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        this.hideSubmenuWithDelay(submenuItem);
      }
    }
    toggleMenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        if (this.activeSubmenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        } else {
          this.showSubmenu(menuItem);
        }
      } else {
        console.log(`Clicked menu item: ${menuItem.textContent.trim()}`);
        this.closeAllSubmenus();
      }
    }
    showSubmenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        this.closeSiblingSubmenus(menuItem);
        if (!this.submenus.has(index)) {
          this.createSubmenu(menuItem, index);
        } else {
          this.openSubmenu(menuItem, this.submenus.get(index));
        }
      }
    }
    hideSubmenuWithDelay(menuItem) {
      this.hideTimeout = setTimeout(() => {
        const submenuIndex = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
        if (submenuIndex && this.submenus.has(submenuIndex)) {
          const submenu = this.submenus.get(submenuIndex);
          if (!submenu.contains(document.activeElement)) {
            this.closeSubmenu(submenu);
          }
        }
      }, 300);
    }
    createSubmenu(menuItem, index) {
      const template = this.submenuTemplateTarget;
      const submenuContent = template.content.querySelector(`[data-submenu-for="${index}"]`);
      if (submenuContent) {
        const submenu = submenuContent.cloneNode(true);
        document.body.appendChild(submenu);
        this.submenus.set(index, submenu);
        this.openSubmenu(menuItem, submenu);
      }
    }
    openSubmenu(menuItem, submenu) {
      menuItem.setAttribute("aria-expanded", "true");
      menuItem.dataset.state = "open";
      submenu.dataset.state = "open";
      submenu.style.display = "block";
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      this.activeSubmenus.add(index);
      this.cleanup = autoUpdate(menuItem, submenu, () => {
        this.positionSubmenu(menuItem, submenu);
      });
    }
    closeSubmenu(submenu) {
      const index = submenu.dataset.submenuFor;
      const menuItem = document.querySelector(`[data-ui-menubar-item="${index}"], [data-ui-menubar-submenu-item="${index}"]`);
      if (menuItem) {
        menuItem.setAttribute("aria-expanded", "false");
        menuItem.dataset.state = "closed";
      }
      submenu.dataset.state = "closed";
      submenu.style.display = "none";
      this.activeSubmenus.delete(index);
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
      submenu.querySelectorAll("[data-ui-menubar-submenu-item]").forEach((childItem) => {
        const childIndex = childItem.dataset.uiMenubarSubmenuItem;
        if (this.submenus.has(childIndex)) {
          this.closeSubmenu(this.submenus.get(childIndex));
        }
      });
    }
    closeSiblingSubmenus(menuItem) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const siblingItems = parentSubmenu ? parentSubmenu.querySelectorAll(":scope > [data-ui-menubar-submenu-item]") : this.menuItemTargets;
      siblingItems.forEach((sibling) => {
        if (sibling !== menuItem) {
          const siblingIndex = sibling.dataset.uiMenubarItem || sibling.dataset.uiMenubarSubmenuItem;
          if (this.activeSubmenus.has(siblingIndex)) {
            this.closeSubmenu(this.submenus.get(siblingIndex));
          }
        }
      });
    }
    closeAllSubmenus() {
      this.activeSubmenus.forEach((index) => {
        if (this.submenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        }
      });
    }
    cleanupAllSubmenus() {
      this.submenus.forEach((submenu) => {
        if (submenu.parentNode) {
          submenu.parentNode.removeChild(submenu);
        }
      });
      this.submenus.clear();
      this.activeSubmenus.clear();
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
    }
    positionSubmenu(menuItem, submenu) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const placement = parentSubmenu ? "right-start" : "bottom-start";
      computePosition2(menuItem, submenu, {
        placement,
        middleware: [
          offset2(4),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(submenu.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(menubar_default, "targets", ["menuItem", "submenuTemplate"]);

  // ../../app/ui/components/rails_ui/popover/index.js
  var popover_exports = {};
  __export(popover_exports, {
    default: () => popover_default
  });
  var popover_default = class extends Controller {
    connect() {
      this.visible = false;
      this.clickOutsideHandler = this.clickOutside.bind(this);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.addEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.addEventListener("mouseleave", this.hide.bind(this));
      }
    }
    disconnect() {
      document.removeEventListener("click", this.clickOutsideHandler);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.removeEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.removeEventListener("mouseleave", this.hide.bind(this));
      }
      if (this.popoverContent) {
        document.body.removeChild(this.popoverContent);
      }
    }
    toggle(event) {
      event.stopPropagation();
      this.visible ? this.hide() : this.show();
    }
    show() {
      if (!this.popoverContent) {
        this.popoverContent = this.contentTemplateTarget.content.firstElementChild.cloneNode(true);
        document.body.appendChild(this.popoverContent);
      }
      this.popoverContent.style.display = "block";
      this.popoverContent.style.visibility = "hidden";
      setTimeout(() => {
        this.positionPopover();
        this.popoverContent.style.visibility = "visible";
      }, 0);
      this.visible = true;
      if (this.triggerTypeValue === "click") {
        document.addEventListener("click", this.clickOutsideHandler);
      }
    }
    hide() {
      if (this.popoverContent) {
        this.popoverContent.style.display = "none";
      }
      this.visible = false;
      if (this.triggerTypeValue === "click") {
        document.removeEventListener("click", this.clickOutsideHandler);
      }
    }
    clickOutside(event) {
      if (!this.element.contains(event.target) && !this.popoverContent.contains(event.target)) {
        this.hide();
      }
    }
    positionPopover() {
      const middleware = [
        offset2(this.offsetValue),
        flip2(),
        shift2({ padding: 5 })
      ];
      if (this.arrowValue) {
        const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
        if (arrowElement) {
          middleware.push(arrow2({ element: arrowElement }));
        }
      }
      computePosition2(this.triggerTarget, this.popoverContent, {
        placement: this.placementValue,
        middleware
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.popoverContent.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`,
          zIndex: 1e3
        });
        if (this.arrowValue) {
          const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
          if (arrowElement) {
            const { x: arrowX, y: arrowY } = middlewareData.arrow;
            const staticSide = {
              top: "bottom",
              right: "left",
              bottom: "top",
              left: "right"
            }[placement.split("-")[0]];
            Object.assign(arrowElement.style, {
              left: arrowX != null ? `${arrowX}px` : "",
              top: arrowY != null ? `${arrowY}px` : "",
              right: "",
              bottom: "",
              [staticSide]: "-4px"
            });
          }
        }
      });
    }
  };
  __publicField(popover_default, "targets", ["trigger", "contentTemplate", "arrow"]);
  __publicField(popover_default, "values", {
    placement: String,
    offset: Number,
    arrow: Boolean,
    triggerType: String
  });

  // ../../app/ui/components/rails_ui/progress/index.js
  var progress_exports = {};

  // ../../app/ui/components/rails_ui/resizable/index.js
  var resizable_exports = {};
  __export(resizable_exports, {
    default: () => resizable_default
  });
  var import_interactjs = __toESM(require_interact_min());
  var resizable_default = class extends Controller {
    connect() {
      this.initializeResizable();
    }
    initializeResizable() {
      const isHorizontal = this.directionValue === "horizontal";
      const handles = this.element.querySelectorAll('[data-panel-resize-handle-enabled="true"]');
      handles.forEach((handle, index) => {
        (0, import_interactjs.default)(handle).draggable({
          axis: isHorizontal ? "x" : "y",
          listeners: {
            move: (event) => {
              const prevPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index}"]`);
              const nextPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index + 1}"]`);
              const prevSize = parseFloat(prevPanel.dataset.panelSize);
              const nextSize = parseFloat(nextPanel.dataset.panelSize);
              const totalSize = prevSize + nextSize;
              const delta = isHorizontal ? event.dx / this.element.offsetWidth * totalSize : event.dy / this.element.offsetHeight * totalSize;
              const newPrevSize = Math.max(10, Math.min(90, prevSize + delta));
              const newNextSize = totalSize - newPrevSize;
              prevPanel.style.flex = `${newPrevSize} 1 0%`;
              nextPanel.style.flex = `${newNextSize} 1 0%`;
              prevPanel.dataset.panelSize = newPrevSize.toString();
              nextPanel.dataset.panelSize = newNextSize.toString();
              handle.setAttribute("aria-valuenow", newPrevSize.toFixed(0));
              handle.setAttribute("aria-valuemax", "90");
              handle.setAttribute("aria-valuemin", "10");
            }
          }
        });
      });
    }
  };
  __publicField(resizable_default, "values", {
    direction: String,
    panels: Array
  });

  // ../../app/ui/components/rails_ui/separator/index.js
  var separator_exports = {};

  // ../../app/ui/components/rails_ui/sheet/index.js
  var sheet_exports = {};
  __export(sheet_exports, {
    default: () => sheet_default
  });
  var sheet_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: this.contentTarget,
        enterActive: "transition ease-out duration-300",
        enterFrom: this.getEnterFromClass(),
        enterTo: this.getEnterToClass(),
        leaveActive: "transition ease-in duration-200",
        leaveFrom: this.getEnterToClass(),
        leaveTo: this.getEnterFromClass()
      });
    }
    open() {
      this.overlayTarget.classList.remove("hidden");
      this.contentTarget.classList.remove("hidden");
      this.enter();
    }
    close() {
      this.leave();
      setTimeout(() => {
        this.overlayTarget.classList.add("hidden");
        this.contentTarget.classList.add("hidden");
      }, 200);
    }
    clickOutside(event) {
      if (!this.contentTarget.contains(event.target)) {
        this.close();
      }
    }
    getEnterFromClass() {
      const side = this.contentTarget.dataset.side;
      switch (side) {
        case "top":
          return "-translate-y-full";
        case "right":
          return "translate-x-full";
        case "bottom":
          return "translate-y-full";
        case "left":
          return "-translate-x-full";
        default:
          return "translate-x-full";
      }
    }
    getEnterToClass() {
      return "translate-y-0 translate-x-0";
    }
  };
  __publicField(sheet_default, "targets", ["overlay", "content"]);

  // ../../app/ui/components/rails_ui/skeleton/index.js
  var skeleton_exports = {};
  __export(skeleton_exports, {
    default: () => Controller2
  });
  var Controller2 = class extends Controller {
    connect() {
    }
    disconnect() {
    }
  };

  // ../../app/ui/components/rails_ui/switch/index.js
  var switch_exports = {};
  __export(switch_exports, {
    default: () => switch_default
  });

  // node_modules/@rails/request.js/src/fetch_response.js
  var FetchResponse2 = class {
    constructor(response) {
      this.response = response;
    }
    get statusCode() {
      return this.response.status;
    }
    get redirected() {
      return this.response.redirected;
    }
    get ok() {
      return this.response.ok;
    }
    get unauthenticated() {
      return this.statusCode === 401;
    }
    get unprocessableEntity() {
      return this.statusCode === 422;
    }
    get authenticationURL() {
      return this.response.headers.get("WWW-Authenticate");
    }
    get contentType() {
      const contentType = this.response.headers.get("Content-Type") || "";
      return contentType.replace(/;.*$/, "");
    }
    get headers() {
      return this.response.headers;
    }
    get html() {
      if (this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)) {
        return this.text;
      }
      return Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`));
    }
    get json() {
      if (this.contentType.match(/^application\/.*json$/)) {
        return this.responseJson || (this.responseJson = this.response.json());
      }
      return Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`));
    }
    get text() {
      return this.responseText || (this.responseText = this.response.text());
    }
    get isTurboStream() {
      return this.contentType.match(/^text\/vnd\.turbo-stream\.html/);
    }
    get isScript() {
      return this.contentType.match(/\b(?:java|ecma)script\b/);
    }
    async renderTurboStream() {
      if (this.isTurboStream) {
        if (window.Turbo) {
          await window.Turbo.renderStreamMessage(await this.text);
        } else {
          console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");
        }
      } else {
        return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`));
      }
    }
    async activeScript() {
      if (this.isScript) {
        const script = document.createElement("script");
        const metaTag = document.querySelector("meta[name=csp-nonce]");
        const nonce = metaTag && metaTag.content;
        if (nonce) {
          script.setAttribute("nonce", nonce);
        }
        script.innerHTML = await this.text;
        document.body.appendChild(script);
      } else {
        return Promise.reject(new Error(`Expected a Script response but got "${this.contentType}" instead`));
      }
    }
  };

  // node_modules/@rails/request.js/src/request_interceptor.js
  var RequestInterceptor = class {
    static register(interceptor) {
      this.interceptor = interceptor;
    }
    static get() {
      return this.interceptor;
    }
    static reset() {
      this.interceptor = void 0;
    }
  };

  // node_modules/@rails/request.js/src/lib/utils.js
  function getCookie2(name) {
    const cookies = document.cookie ? document.cookie.split("; ") : [];
    const prefix = `${encodeURIComponent(name)}=`;
    const cookie = cookies.find((cookie2) => cookie2.startsWith(prefix));
    if (cookie) {
      const value = cookie.split("=").slice(1).join("=");
      if (value) {
        return decodeURIComponent(value);
      }
    }
  }
  function compact(object) {
    const result = {};
    for (const key in object) {
      const value = object[key];
      if (value !== void 0) {
        result[key] = value;
      }
    }
    return result;
  }
  function metaContent(name) {
    const element = document.head.querySelector(`meta[name="${name}"]`);
    return element && element.content;
  }
  function stringEntriesFromFormData(formData) {
    return [...formData].reduce((entries, [name, value]) => {
      return entries.concat(typeof value === "string" ? [[name, value]] : []);
    }, []);
  }
  function mergeEntries(searchParams, entries) {
    for (const [name, value] of entries) {
      if (value instanceof window.File) continue;
      if (searchParams.has(name) && !name.includes("[]")) {
        searchParams.delete(name);
        searchParams.set(name, value);
      } else {
        searchParams.append(name, value);
      }
    }
  }

  // node_modules/@rails/request.js/src/fetch_request.js
  var FetchRequest2 = class {
    constructor(method, url, options = {}) {
      this.method = method;
      this.options = options;
      this.originalUrl = url.toString();
    }
    async perform() {
      try {
        const requestInterceptor = RequestInterceptor.get();
        if (requestInterceptor) {
          await requestInterceptor(this);
        }
      } catch (error2) {
        console.error(error2);
      }
      const fetch2 = this.responseKind === "turbo-stream" && window.Turbo ? window.Turbo.fetch : window.fetch;
      const response = new FetchResponse2(await fetch2(this.url, this.fetchOptions));
      if (response.unauthenticated && response.authenticationURL) {
        return Promise.reject(window.location.href = response.authenticationURL);
      }
      if (response.isScript) {
        await response.activeScript();
      }
      const responseStatusIsTurboStreamable = response.ok || response.unprocessableEntity;
      if (responseStatusIsTurboStreamable && response.isTurboStream) {
        await response.renderTurboStream();
      }
      return response;
    }
    addHeader(key, value) {
      const headers = this.additionalHeaders;
      headers[key] = value;
      this.options.headers = headers;
    }
    sameHostname() {
      if (!this.originalUrl.startsWith("http:")) {
        return true;
      }
      try {
        return new URL(this.originalUrl).hostname === window.location.hostname;
      } catch (_) {
        return true;
      }
    }
    get fetchOptions() {
      return {
        method: this.method.toUpperCase(),
        headers: this.headers,
        body: this.formattedBody,
        signal: this.signal,
        credentials: this.credentials,
        redirect: this.redirect
      };
    }
    get headers() {
      const baseHeaders = {
        "X-Requested-With": "XMLHttpRequest",
        "Content-Type": this.contentType,
        Accept: this.accept
      };
      if (this.sameHostname()) {
        baseHeaders["X-CSRF-Token"] = this.csrfToken;
      }
      return compact(
        Object.assign(baseHeaders, this.additionalHeaders)
      );
    }
    get csrfToken() {
      return getCookie2(metaContent("csrf-param")) || metaContent("csrf-token");
    }
    get contentType() {
      if (this.options.contentType) {
        return this.options.contentType;
      } else if (this.body == null || this.body instanceof window.FormData) {
        return void 0;
      } else if (this.body instanceof window.File) {
        return this.body.type;
      }
      return "application/json";
    }
    get accept() {
      switch (this.responseKind) {
        case "html":
          return "text/html, application/xhtml+xml";
        case "turbo-stream":
          return "text/vnd.turbo-stream.html, text/html, application/xhtml+xml";
        case "json":
          return "application/json, application/vnd.api+json";
        case "script":
          return "text/javascript, application/javascript";
        default:
          return "*/*";
      }
    }
    get body() {
      return this.options.body;
    }
    get query() {
      const originalQuery = (this.originalUrl.split("?")[1] || "").split("#")[0];
      const params = new URLSearchParams(originalQuery);
      let requestQuery = this.options.query;
      if (requestQuery instanceof window.FormData) {
        requestQuery = stringEntriesFromFormData(requestQuery);
      } else if (requestQuery instanceof window.URLSearchParams) {
        requestQuery = requestQuery.entries();
      } else {
        requestQuery = Object.entries(requestQuery || {});
      }
      mergeEntries(params, requestQuery);
      const query = params.toString();
      return query.length > 0 ? `?${query}` : "";
    }
    get url() {
      return this.originalUrl.split("?")[0].split("#")[0] + this.query;
    }
    get responseKind() {
      return this.options.responseKind || "html";
    }
    get signal() {
      return this.options.signal;
    }
    get redirect() {
      return this.options.redirect || "follow";
    }
    get credentials() {
      return this.options.credentials || "same-origin";
    }
    get additionalHeaders() {
      return this.options.headers || {};
    }
    get formattedBody() {
      const bodyIsAString = Object.prototype.toString.call(this.body) === "[object String]";
      const contentTypeIsJson = this.headers["Content-Type"] === "application/json";
      if (contentTypeIsJson && !bodyIsAString) {
        return JSON.stringify(this.body);
      }
      return this.body;
    }
  };

  // node_modules/@rails/request.js/src/verbs.js
  async function put(url, options) {
    const request = new FetchRequest2("put", url, options);
    return request.perform();
  }

  // ../../app/ui/components/rails_ui/switch/index.js
  var switch_default = class extends Controller {
    connect() {
    }
    disconnect() {
    }
    sendPutRequest(event) {
      put(event.currentTarget.dataset.url, { responseKind: "turbo" }).then((response) => {
        if (response.ok) {
          return response.text();
        }
        throw new Error("Network response was not ok");
      }).then((data) => {
        console.log(data);
      }).catch((error2) => {
        console.error("There was a problem with the fetch operation:", error2);
      });
    }
  };

  // ../../app/ui/components/rails_ui/table/index.js
  var table_exports = {};

  // ../../app/ui/components/rails_ui/tabs/index.js
  var tabs_exports = {};

  // ../../app/ui/components/rails_ui/toast/index.js
  var toast_exports = {};
  __export(toast_exports, {
    default: () => toast_default
  });

  // node_modules/el-transition/index.js
  async function enter(element, transitionName = null) {
    element.classList.remove("hidden");
    await transition("enter", element, transitionName);
  }
  async function leave(element, transitionName = null) {
    await transition("leave", element, transitionName);
    element.classList.add("hidden");
  }
  async function transition(direction, element, animation) {
    const dataset = element.dataset;
    const animationClass = animation ? `${animation}-${direction}` : direction;
    let transition2 = `transition${direction.charAt(0).toUpperCase() + direction.slice(1)}`;
    const genesis = dataset[transition2] ? dataset[transition2].split(" ") : [animationClass];
    const start2 = dataset[`${transition2}Start`] ? dataset[`${transition2}Start`].split(" ") : [`${animationClass}-start`];
    const end = dataset[`${transition2}End`] ? dataset[`${transition2}End`].split(" ") : [`${animationClass}-end`];
    addClasses(element, genesis);
    addClasses(element, start2);
    await nextFrame();
    removeClasses(element, start2);
    addClasses(element, end);
    await afterTransition2(element);
    removeClasses(element, end);
    removeClasses(element, genesis);
  }
  function addClasses(element, classes) {
    element.classList.add(...classes);
  }
  function removeClasses(element, classes) {
    element.classList.remove(...classes);
  }
  function nextFrame() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function afterTransition2(element) {
    return new Promise((resolve) => {
      const computedDuration = getComputedStyle(element).transitionDuration.split(",")[0];
      const duration = Number(computedDuration.replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve();
      }, duration);
    });
  }

  // ../../app/ui/components/rails_ui/toast/index.js
  var toast_default = class extends Controller {
    connect() {
      this.setupCustomEvent();
      this.setupTurboStreamListener();
    }
    setupCustomEvent() {
      document.addEventListener("ui:toast", this.handleCustomToast.bind(this));
    }
    setupTurboStreamListener() {
      document.addEventListener("turbo:before-stream-render", (event) => {
        const turboStream = event.target;
        if (turboStream.action === "append" && turboStream.target === "toasts") {
          event.preventDefault();
          this.appendToast(turboStream.templateContent.querySelector("li"));
        }
      });
    }
    handleCustomToast(event) {
      const { title, content, type } = event.detail;
      this.appendToast(this.createToastElement(title, content, type));
    }
    createToastElement(title, content, type) {
      const toast = document.createElement("li");
      toast.innerHTML = `
      <div data-content="">
        <div data-title="">${title}</div>
        <div>${content}</div>
      </div>
    `;
      toast.className = "mb-2 p-4 rounded-md shadow-md transition-all duration-300 transform translate-y-full opacity-0-";
      toast.dataset.uiToastTarget = "item";
      toast.dataset.action = "click->ui-toast#dismiss";
      return toast;
    }
    appendToast(toastElement) {
      this.containerTarget.appendChild(toastElement);
      enter(toastElement);
    }
    dismiss(event) {
      const toast = event.target.closest('[data-ui-toast-target="item"]');
      leave(toast).then(() => {
        toast.remove();
      });
    }
  };
  __publicField(toast_default, "targets", ["container", "item"]);
  __publicField(toast_default, "values", {
    theme: String,
    positionY: String,
    positionX: String
  });

  // ../../app/ui/components/rails_ui/toast_item/index.js
  var toast_item_exports = {};

  // ../../app/ui/components/rails_ui/toggle/index.js
  var toggle_exports = {};
  __export(toggle_exports, {
    default: () => toggle_default
  });
  var toggle_default = class extends Controller {
    connect() {
      this.updatePressed();
    }
    toggle() {
      this.pressedValue = !this.pressedValue;
      this.updatePressed();
    }
    updatePressed() {
      this.buttonTarget.setAttribute("aria-pressed", this.pressedValue);
      this.buttonTarget.dataset.state = this.pressedValue ? "on" : "off";
    }
  };
  __publicField(toggle_default, "targets", ["button"]);
  __publicField(toggle_default, "values", {
    pressed: Boolean
  });

  // ../../app/ui/components/rails_ui/toggle_group/index.js
  var toggle_group_exports = {};

  // ../../app/ui/components/rails_ui/tooltip/index.js
  var tooltip_exports = {};
  __export(tooltip_exports, {
    default: () => tooltip_default
  });
  var tooltip_default = class extends Controller {
    connect() {
      this.showTooltipBound = this.showTooltip.bind(this);
      this.hideTooltipBound = this.hideTooltip.bind(this);
      this.triggerTarget.addEventListener("mouseenter", this.showTooltipBound);
      this.triggerTarget.addEventListener("mouseleave", this.hideTooltipBound);
      this.triggerTarget.addEventListener("focus", this.showTooltipBound);
      this.triggerTarget.addEventListener("blur", this.hideTooltipBound);
      this.cleanup = autoUpdate(
        this.triggerTarget,
        this.contentTarget,
        this.updatePosition.bind(this)
      );
    }
    disconnect() {
      this.triggerTarget.removeEventListener("mouseenter", this.showTooltipBound);
      this.triggerTarget.removeEventListener("mouseleave", this.hideTooltipBound);
      this.triggerTarget.removeEventListener("focus", this.showTooltipBound);
      this.triggerTarget.removeEventListener("blur", this.hideTooltipBound);
      if (this.cleanup) {
        this.cleanup();
      }
    }
    showTooltip() {
      clearTimeout(this.hideTimeout);
      this.showTimeout = setTimeout(() => {
        this.contentTarget.classList.remove("hidden");
        this.updatePosition();
      }, this.delayValue);
    }
    hideTooltip() {
      clearTimeout(this.showTimeout);
      this.hideTimeout = setTimeout(() => {
        this.contentTarget.classList.add("hidden");
      }, 40);
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.contentTarget, {
        placement: this.placementValue,
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 }),
          arrow2({ element: this.arrowTarget })
        ]
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.contentTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
        const { x: arrowX, y: arrowY } = middlewareData.arrow;
        const staticSide = {
          top: "bottom",
          right: "left",
          bottom: "top",
          left: "right"
        }[placement.split("-")[0]];
        Object.assign(this.arrowTarget.style, {
          left: arrowX != null ? `${arrowX}px` : "",
          top: arrowY != null ? `${arrowY}px` : "",
          right: "",
          bottom: "",
          [staticSide]: "-4px"
        });
      });
    }
  };
  __publicField(tooltip_default, "targets", ["trigger", "content", "arrow"]);
  __publicField(tooltip_default, "values", {
    delay: Number,
    placement: String
  });

  // rails:/Users/michelson/Documents/cience/rails_ui/app/ui/components/rails_ui/**/*index.js
  var modules2 = [{ name: "..--..--..--..--..--app--ui--components--rails-ui--accordion--index.js", module: accordion_exports, filename: "../../../../../app/ui/components/rails_ui/accordion/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--accordion-item--index.js", module: accordion_item_exports, filename: "../../../../../app/ui/components/rails_ui/accordion_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert--index.js", module: alert_exports, filename: "../../../../../app/ui/components/rails_ui/alert/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert-dialog--index.js", module: alert_dialog_exports, filename: "../../../../../app/ui/components/rails_ui/alert_dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--aspect-ratio--index.js", module: aspect_ratio_exports, filename: "../../../../../app/ui/components/rails_ui/aspect_ratio/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--avatar--index.js", module: avatar_exports, filename: "../../../../../app/ui/components/rails_ui/avatar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--badge--index.js", module: badge_exports, filename: "../../../../../app/ui/components/rails_ui/badge/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb--index.js", module: breadcrumb_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb-item--index.js", module: breadcrumb_item_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--button--index.js", module: button_exports, filename: "../../../../../app/ui/components/rails_ui/button/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--calendar--index.js", module: calendar_exports, filename: "../../../../../app/ui/components/rails_ui/calendar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--card--index.js", module: card_exports, filename: "../../../../../app/ui/components/rails_ui/card/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--carousel--index.js", module: carousel_exports, filename: "../../../../../app/ui/components/rails_ui/carousel/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--collapsible--index.js", module: collapsible_exports, filename: "../../../../../app/ui/components/rails_ui/collapsible/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--command--index.js", module: command_exports, filename: "../../../../../app/ui/components/rails_ui/command/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--context-menu--index.js", module: context_menu_exports, filename: "../../../../../app/ui/components/rails_ui/context_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dialog--index.js", module: dialog_exports, filename: "../../../../../app/ui/components/rails_ui/dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu--index.js", module: dropdown_menu_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu-item--index.js", module: dropdown_menu_item_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--input-otp--index.js", module: input_otp_exports, filename: "../../../../../app/ui/components/rails_ui/input_otp/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--menubar--index.js", module: menubar_exports, filename: "../../../../../app/ui/components/rails_ui/menubar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--popover--index.js", module: popover_exports, filename: "../../../../../app/ui/components/rails_ui/popover/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--progress--index.js", module: progress_exports, filename: "../../../../../app/ui/components/rails_ui/progress/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--resizable--index.js", module: resizable_exports, filename: "../../../../../app/ui/components/rails_ui/resizable/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--separator--index.js", module: separator_exports, filename: "../../../../../app/ui/components/rails_ui/separator/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--sheet--index.js", module: sheet_exports, filename: "../../../../../app/ui/components/rails_ui/sheet/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--skeleton--index.js", module: skeleton_exports, filename: "../../../../../app/ui/components/rails_ui/skeleton/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--switch--index.js", module: switch_exports, filename: "../../../../../app/ui/components/rails_ui/switch/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--table--index.js", module: table_exports, filename: "../../../../../app/ui/components/rails_ui/table/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tabs--index.js", module: tabs_exports, filename: "../../../../../app/ui/components/rails_ui/tabs/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toast--index.js", module: toast_exports, filename: "../../../../../app/ui/components/rails_ui/toast/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toast-item--index.js", module: toast_item_exports, filename: "../../../../../app/ui/components/rails_ui/toast_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toggle--index.js", module: toggle_exports, filename: "../../../../../app/ui/components/rails_ui/toggle/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toggle-group--index.js", module: toggle_group_exports, filename: "../../../../../app/ui/components/rails_ui/toggle_group/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tooltip--index.js", module: tooltip_exports, filename: "../../../../../app/ui/components/rails_ui/tooltip/index.js" }];
  var index_default = modules2;

  // app/javascript/controllers/index.js
  controller_default.forEach((controller) => {
    application.register(controller.name, controller.module.default);
  });
  console.log(index_default);
  index_default.forEach((controller) => {
    if (controller.module.default) {
      let name = controller.name.replace("--index.js", "");
      name = name.replace("..--..--..--..--..--app--ui--components--rails-ui--", "");
      name = `ui-${name}`;
      console.log("ADDINDG CONTROLLER", name);
      application.register(name, controller.module.default);
    }
  });
  console.log(application);

  // app/javascript/application.js
  window.Turbo = turbo_es2017_esm_exports;
})();
/*! Bundled license information:

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.4
  Copyright  2024 37signals LLC
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvYWRhcHRlcnMuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvbG9nZ2VyLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvYWN0aW9uY2FibGUvc3JjL2Nvbm5lY3Rpb25fbW9uaXRvci5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL2FjdGlvbmNhYmxlL3NyYy9pbnRlcm5hbC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL2FjdGlvbmNhYmxlL3NyYy9jb25uZWN0aW9uLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvYWN0aW9uY2FibGUvc3JjL3N1YnNjcmlwdGlvbi5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL2FjdGlvbmNhYmxlL3NyYy9zdWJzY3JpcHRpb25fZ3VhcmFudG9yLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvYWN0aW9uY2FibGUvc3JjL3N1YnNjcmlwdGlvbnMuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvY29uc3VtZXIuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzV2luZG93LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy93aW5kb3cudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2RyYWcvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9icm93c2VyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9yZWN0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9oeXBvdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlckV4dGVuZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvYXJyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvRHJvcEV2ZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2dlc3R1cmUvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL3Jlc2l6ZS9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL3JhZi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYWN0aW9ucy9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc2Nyb2xsL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbWlzYy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9JbnRlcmFjdGFibGVNZXRob2RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvZHJhZ0F4aXMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvaG9sZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzTm9uTmF0aXZlRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvTW9kaWZpY2F0aW9uLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9vcHRpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvUG9pbnRlckluZm8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2luZXJ0aWEvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0V2ZW50YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9ldmVudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25GaW5kZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGVTZXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2ludGVyYWN0L2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lZGdlVGFyZ2V0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lbGVtZW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvZ3JpZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYXNwZWN0UmF0aW8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9ub29wLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcG9pbnRlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcmVjdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3BvaW50ZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYWxsLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9Qb2ludGVyRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2hvbGRSZXBlYXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2ludGVyYWN0YWJsZVRhcmdldHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvcmVmbG93L3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3R1cmJvL2Rpc3QvdHVyYm8uZXMyMDE3LWVzbS5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3R1cmJvLXJhaWxzL2FwcC9qYXZhc2NyaXB0L3R1cmJvL2NhYmxlLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaG90d2lyZWQvdHVyYm8tcmFpbHMvYXBwL2phdmFzY3JpcHQvdHVyYm8vc25ha2VpemUuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bob3R3aXJlZC90dXJiby1yYWlscy9hcHAvamF2YXNjcmlwdC90dXJiby9jYWJsZV9zdHJlYW1fc291cmNlX2VsZW1lbnQuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bob3R3aXJlZC90dXJiby1yYWlscy9hcHAvamF2YXNjcmlwdC90dXJiby9mZXRjaF9yZXF1ZXN0cy5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3R1cmJvLXJhaWxzL2FwcC9qYXZhc2NyaXB0L3R1cmJvL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaG90d2lyZWQvc3RpbXVsdXMvZGlzdC9zdGltdWx1cy5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLmpzIiwgIi4uLy4uL2phdmFzY3JpcHQvY29udHJvbGxlcnMvZGFya19tb2RlX2NvbnRyb2xsZXIuanMiLCAiLi4vLi4vamF2YXNjcmlwdC9jb250cm9sbGVycy9oZWxsb19jb250cm9sbGVyLmpzIiwgInJhaWxzOi9Vc2Vycy9taWNoZWxzb24vRG9jdW1lbnRzL2NpZW5jZS9yYWlsc191aS90ZXN0L2R1bW15L2FwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzLyoqLypfY29udHJvbGxlci5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb24vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWNjb3JkaW9uX2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnRfZGlhbG9nL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdGltdWx1cy11c2UvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hc3BlY3RfcmF0aW8vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYXZhdGFyL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JhZGdlL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnJlYWRjcnVtYl9pdGVtL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2J1dHRvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYWxlbmRhci9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvdG9EYXRlLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RydWN0RnJvbS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZE1vbnRocy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2NvbnN0YW50cy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZGVmYXVsdE9wdGlvbnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mV2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZJU09XZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vla1llYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mRGF5Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZklTT1dlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RydWN0Tm93Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNTYW1lRGF5Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNEYXRlLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNWYWxpZC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mTW9udGgubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lYWNoRGF5T2ZJbnRlcnZhbC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZNb250aC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZXZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0RGlzdGFuY2UubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZEZvcm1hdExvbmdGbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdExvbmcubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTG9jYWxpemVGbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2xvY2FsaXplLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaEZuLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL21hdGNoLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF5T2ZZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldFdlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZldlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0V2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvYWRkTGVhZGluZ1plcm9zLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvbGlnaHRGb3JtYXR0ZXJzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvZm9ybWF0dGVycy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xvbmdGb3JtYXR0ZXJzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9wcm90ZWN0ZWRUb2tlbnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9mb3JtYXQubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1NhbWVNb250aC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzVG9kYXkubWpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhcmQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2Fyb3VzZWwvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29sbGFwc2libGUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29tbWFuZC9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG90a2V5cy1qcy9kaXN0L2hvdGtleXMuZXNtLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdGltdWx1cy11c2UvZGlzdC9ob3RrZXlzLmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbnRleHRfbWVudS9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZsb2F0aW5nLXVpL3V0aWxzL2Rpc3QvZmxvYXRpbmctdWkudXRpbHMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvY29yZS9kaXN0L2Zsb2F0aW5nLXVpLmNvcmUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5kb20ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvZG9tL2Rpc3QvZmxvYXRpbmctdWkuZG9tLm1qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5wdXRfb3RwL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcG9wb3Zlci9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wcm9ncmVzcy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2VwYXJhdG9yL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NoZWV0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NrZWxldG9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3N3aXRjaC9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL3JlcXVlc3QuanMvc3JjL2ZldGNoX3Jlc3BvbnNlLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvcmVxdWVzdC5qcy9zcmMvcmVxdWVzdF9pbnRlcmNlcHRvci5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL3JlcXVlc3QuanMvc3JjL2xpYi91dGlscy5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL3JlcXVlc3QuanMvc3JjL2ZldGNoX3JlcXVlc3QuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9yZXF1ZXN0LmpzL3NyYy92ZXJicy5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJsZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJzL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbC10cmFuc2l0aW9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0X2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9nZ2xlL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvZ2dsZV9ncm91cC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b29sdGlwL2luZGV4LmpzIiwgInJhaWxzOi9Vc2Vycy9taWNoZWxzb24vRG9jdW1lbnRzL2NpZW5jZS9yYWlsc191aS9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS8qKi8qaW5kZXguanMiLCAiLi4vLi4vamF2YXNjcmlwdC9jb250cm9sbGVycy9pbmRleC5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2FwcGxpY2F0aW9uLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgZGVmYXVsdCB7XG4gIGxvZ2dlcjogdHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgPyBjb25zb2xlIDogdW5kZWZpbmVkLFxuICBXZWJTb2NrZXQ6IHR5cGVvZiBXZWJTb2NrZXQgIT09IFwidW5kZWZpbmVkXCIgPyBXZWJTb2NrZXQgOiB1bmRlZmluZWQsXG59XG4iLCAiaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuL2FkYXB0ZXJzXCJcblxuLy8gVGhlIGxvZ2dlciBpcyBkaXNhYmxlZCBieSBkZWZhdWx0LiBZb3UgY2FuIGVuYWJsZSBpdCB3aXRoOlxuLy9cbi8vICAgQWN0aW9uQ2FibGUubG9nZ2VyLmVuYWJsZWQgPSB0cnVlXG4vL1xuLy8gICBFeGFtcGxlOlxuLy9cbi8vICAgaW1wb3J0ICogYXMgQWN0aW9uQ2FibGUgZnJvbSAnQHJhaWxzL2FjdGlvbmNhYmxlJ1xuLy9cbi8vICAgQWN0aW9uQ2FibGUubG9nZ2VyLmVuYWJsZWQgPSB0cnVlXG4vLyAgIEFjdGlvbkNhYmxlLmxvZ2dlci5sb2coJ0Nvbm5lY3Rpb24gRXN0YWJsaXNoZWQuJylcbi8vXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbG9nKC4uLm1lc3NhZ2VzKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgbWVzc2FnZXMucHVzaChEYXRlLm5vdygpKVxuICAgICAgYWRhcHRlcnMubG9nZ2VyLmxvZyhcIltBY3Rpb25DYWJsZV1cIiwgLi4ubWVzc2FnZXMpXG4gICAgfVxuICB9LFxufVxuIiwgImltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCJcblxuLy8gUmVzcG9uc2libGUgZm9yIGVuc3VyaW5nIHRoZSBjYWJsZSBjb25uZWN0aW9uIGlzIGluIGdvb2QgaGVhbHRoIGJ5IHZhbGlkYXRpbmcgdGhlIGhlYXJ0YmVhdCBwaW5ncyBzZW50IGZyb20gdGhlIHNlcnZlciwgYW5kIGF0dGVtcHRpbmdcbi8vIHJldml2YWwgcmVjb25uZWN0aW9ucyBpZiB0aGluZ3MgZ28gYXN0cmF5LiBJbnRlcm5hbCBjbGFzcywgbm90IGludGVuZGVkIGZvciBkaXJlY3QgdXNlciBtYW5pcHVsYXRpb24uXG5cbmNvbnN0IG5vdyA9ICgpID0+IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cbmNvbnN0IHNlY29uZHNTaW5jZSA9IHRpbWUgPT4gKG5vdygpIC0gdGltZSkgLyAxMDAwXG5cbmNsYXNzIENvbm5lY3Rpb25Nb25pdG9yIHtcbiAgY29uc3RydWN0b3IoY29ubmVjdGlvbikge1xuICAgIHRoaXMudmlzaWJpbGl0eURpZENoYW5nZSA9IHRoaXMudmlzaWJpbGl0eURpZENoYW5nZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvblxuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwXG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICAgIHRoaXMuc3RhcnRlZEF0ID0gbm93KClcbiAgICAgIGRlbGV0ZSB0aGlzLnN0b3BwZWRBdFxuICAgICAgdGhpcy5zdGFydFBvbGxpbmcoKVxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy52aXNpYmlsaXR5RGlkQ2hhbmdlKVxuICAgICAgbG9nZ2VyLmxvZyhgQ29ubmVjdGlvbk1vbml0b3Igc3RhcnRlZC4gc3RhbGUgdGhyZXNob2xkID0gJHt0aGlzLmNvbnN0cnVjdG9yLnN0YWxlVGhyZXNob2xkfSBzYClcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmlzUnVubmluZygpKSB7XG4gICAgICB0aGlzLnN0b3BwZWRBdCA9IG5vdygpXG4gICAgICB0aGlzLnN0b3BQb2xsaW5nKClcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMudmlzaWJpbGl0eURpZENoYW5nZSlcbiAgICAgIGxvZ2dlci5sb2coXCJDb25uZWN0aW9uTW9uaXRvciBzdG9wcGVkXCIpXG4gICAgfVxuICB9XG5cbiAgaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXJ0ZWRBdCAmJiAhdGhpcy5zdG9wcGVkQXRcbiAgfVxuXG4gIHJlY29yZFBpbmcoKSB7XG4gICAgdGhpcy5waW5nZWRBdCA9IG5vdygpXG4gIH1cblxuICByZWNvcmRDb25uZWN0KCkge1xuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwXG4gICAgdGhpcy5yZWNvcmRQaW5nKClcbiAgICBkZWxldGUgdGhpcy5kaXNjb25uZWN0ZWRBdFxuICAgIGxvZ2dlci5sb2coXCJDb25uZWN0aW9uTW9uaXRvciByZWNvcmRlZCBjb25uZWN0XCIpXG4gIH1cblxuICByZWNvcmREaXNjb25uZWN0KCkge1xuICAgIHRoaXMuZGlzY29ubmVjdGVkQXQgPSBub3coKVxuICAgIGxvZ2dlci5sb2coXCJDb25uZWN0aW9uTW9uaXRvciByZWNvcmRlZCBkaXNjb25uZWN0XCIpXG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgc3RhcnRQb2xsaW5nKCkge1xuICAgIHRoaXMuc3RvcFBvbGxpbmcoKVxuICAgIHRoaXMucG9sbCgpXG4gIH1cblxuICBzdG9wUG9sbGluZygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5wb2xsVGltZW91dClcbiAgfVxuXG4gIHBvbGwoKSB7XG4gICAgdGhpcy5wb2xsVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5yZWNvbm5lY3RJZlN0YWxlKClcbiAgICAgIHRoaXMucG9sbCgpXG4gICAgfVxuICAgICwgdGhpcy5nZXRQb2xsSW50ZXJ2YWwoKSlcbiAgfVxuXG4gIGdldFBvbGxJbnRlcnZhbCgpIHtcbiAgICBjb25zdCB7IHN0YWxlVGhyZXNob2xkLCByZWNvbm5lY3Rpb25CYWNrb2ZmUmF0ZSB9ID0gdGhpcy5jb25zdHJ1Y3RvclxuICAgIGNvbnN0IGJhY2tvZmYgPSBNYXRoLnBvdygxICsgcmVjb25uZWN0aW9uQmFja29mZlJhdGUsIE1hdGgubWluKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMsIDEwKSlcbiAgICBjb25zdCBqaXR0ZXJNYXggPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID09PSAwID8gMS4wIDogcmVjb25uZWN0aW9uQmFja29mZlJhdGVcbiAgICBjb25zdCBqaXR0ZXIgPSBqaXR0ZXJNYXggKiBNYXRoLnJhbmRvbSgpXG4gICAgcmV0dXJuIHN0YWxlVGhyZXNob2xkICogMTAwMCAqIGJhY2tvZmYgKiAoMSArIGppdHRlcilcbiAgfVxuXG4gIHJlY29ubmVjdElmU3RhbGUoKSB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbklzU3RhbGUoKSkge1xuICAgICAgbG9nZ2VyLmxvZyhgQ29ubmVjdGlvbk1vbml0b3IgZGV0ZWN0ZWQgc3RhbGUgY29ubmVjdGlvbi4gcmVjb25uZWN0QXR0ZW1wdHMgPSAke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9LCB0aW1lIHN0YWxlID0gJHtzZWNvbmRzU2luY2UodGhpcy5yZWZyZXNoZWRBdCl9IHMsIHN0YWxlIHRocmVzaG9sZCA9ICR7dGhpcy5jb25zdHJ1Y3Rvci5zdGFsZVRocmVzaG9sZH0gc2ApXG4gICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKytcbiAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RlZFJlY2VudGx5KCkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgQ29ubmVjdGlvbk1vbml0b3Igc2tpcHBpbmcgcmVvcGVuaW5nIHJlY2VudCBkaXNjb25uZWN0LiB0aW1lIGRpc2Nvbm5lY3RlZCA9ICR7c2Vjb25kc1NpbmNlKHRoaXMuZGlzY29ubmVjdGVkQXQpfSBzYClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJDb25uZWN0aW9uTW9uaXRvciByZW9wZW5pbmdcIilcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLnJlb3BlbigpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IHJlZnJlc2hlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLnBpbmdlZEF0ID8gdGhpcy5waW5nZWRBdCA6IHRoaXMuc3RhcnRlZEF0XG4gIH1cblxuICBjb25uZWN0aW9uSXNTdGFsZSgpIHtcbiAgICByZXR1cm4gc2Vjb25kc1NpbmNlKHRoaXMucmVmcmVzaGVkQXQpID4gdGhpcy5jb25zdHJ1Y3Rvci5zdGFsZVRocmVzaG9sZFxuICB9XG5cbiAgZGlzY29ubmVjdGVkUmVjZW50bHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdGVkQXQgJiYgKHNlY29uZHNTaW5jZSh0aGlzLmRpc2Nvbm5lY3RlZEF0KSA8IHRoaXMuY29uc3RydWN0b3Iuc3RhbGVUaHJlc2hvbGQpXG4gIH1cblxuICB2aXNpYmlsaXR5RGlkQ2hhbmdlKCkge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbklzU3RhbGUoKSB8fCAhdGhpcy5jb25uZWN0aW9uLmlzT3BlbigpKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgQ29ubmVjdGlvbk1vbml0b3IgcmVvcGVuaW5nIHN0YWxlIGNvbm5lY3Rpb24gb24gdmlzaWJpbGl0eWNoYW5nZS4gdmlzaWJpbGl0eVN0YXRlID0gJHtkb2N1bWVudC52aXNpYmlsaXR5U3RhdGV9YClcbiAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24ucmVvcGVuKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLCAyMDApXG4gICAgfVxuICB9XG5cbn1cblxuQ29ubmVjdGlvbk1vbml0b3Iuc3RhbGVUaHJlc2hvbGQgPSA2IC8vIFNlcnZlcjo6Q29ubmVjdGlvbnM6OkJFQVRfSU5URVJWQUwgKiAyIChtaXNzZWQgdHdvIHBpbmdzKVxuQ29ubmVjdGlvbk1vbml0b3IucmVjb25uZWN0aW9uQmFja29mZlJhdGUgPSAwLjE1XG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3Rpb25Nb25pdG9yXG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICBcIm1lc3NhZ2VfdHlwZXNcIjoge1xuICAgIFwid2VsY29tZVwiOiBcIndlbGNvbWVcIixcbiAgICBcImRpc2Nvbm5lY3RcIjogXCJkaXNjb25uZWN0XCIsXG4gICAgXCJwaW5nXCI6IFwicGluZ1wiLFxuICAgIFwiY29uZmlybWF0aW9uXCI6IFwiY29uZmlybV9zdWJzY3JpcHRpb25cIixcbiAgICBcInJlamVjdGlvblwiOiBcInJlamVjdF9zdWJzY3JpcHRpb25cIlxuICB9LFxuICBcImRpc2Nvbm5lY3RfcmVhc29uc1wiOiB7XG4gICAgXCJ1bmF1dGhvcml6ZWRcIjogXCJ1bmF1dGhvcml6ZWRcIixcbiAgICBcImludmFsaWRfcmVxdWVzdFwiOiBcImludmFsaWRfcmVxdWVzdFwiLFxuICAgIFwic2VydmVyX3Jlc3RhcnRcIjogXCJzZXJ2ZXJfcmVzdGFydFwiLFxuICAgIFwicmVtb3RlXCI6IFwicmVtb3RlXCJcbiAgfSxcbiAgXCJkZWZhdWx0X21vdW50X3BhdGhcIjogXCIvY2FibGVcIixcbiAgXCJwcm90b2NvbHNcIjogW1xuICAgIFwiYWN0aW9uY2FibGUtdjEtanNvblwiLFxuICAgIFwiYWN0aW9uY2FibGUtdW5zdXBwb3J0ZWRcIlxuICBdXG59XG4iLCAiaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuL2FkYXB0ZXJzXCJcbmltcG9ydCBDb25uZWN0aW9uTW9uaXRvciBmcm9tIFwiLi9jb25uZWN0aW9uX21vbml0b3JcIlxuaW1wb3J0IElOVEVSTkFMIGZyb20gXCIuL2ludGVybmFsXCJcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCJcblxuLy8gRW5jYXBzdWxhdGUgdGhlIGNhYmxlIGNvbm5lY3Rpb24gaGVsZCBieSB0aGUgY29uc3VtZXIuIFRoaXMgaXMgYW4gaW50ZXJuYWwgY2xhc3Mgbm90IGludGVuZGVkIGZvciBkaXJlY3QgdXNlciBtYW5pcHVsYXRpb24uXG5cbmNvbnN0IHttZXNzYWdlX3R5cGVzLCBwcm90b2NvbHN9ID0gSU5URVJOQUxcbmNvbnN0IHN1cHBvcnRlZFByb3RvY29scyA9IHByb3RvY29scy5zbGljZSgwLCBwcm90b2NvbHMubGVuZ3RoIC0gMSlcblxuY29uc3QgaW5kZXhPZiA9IFtdLmluZGV4T2ZcblxuY2xhc3MgQ29ubmVjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGNvbnN1bWVyKSB7XG4gICAgdGhpcy5vcGVuID0gdGhpcy5vcGVuLmJpbmQodGhpcylcbiAgICB0aGlzLmNvbnN1bWVyID0gY29uc3VtZXJcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSB0aGlzLmNvbnN1bWVyLnN1YnNjcmlwdGlvbnNcbiAgICB0aGlzLm1vbml0b3IgPSBuZXcgQ29ubmVjdGlvbk1vbml0b3IodGhpcylcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IHRydWVcbiAgfVxuXG4gIHNlbmQoZGF0YSkge1xuICAgIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgICB0aGlzLndlYlNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICBsb2dnZXIubG9nKGBBdHRlbXB0ZWQgdG8gb3BlbiBXZWJTb2NrZXQsIGJ1dCBleGlzdGluZyBzb2NrZXQgaXMgJHt0aGlzLmdldFN0YXRlKCl9YClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzb2NrZXRQcm90b2NvbHMgPSBbLi4ucHJvdG9jb2xzLCAuLi50aGlzLmNvbnN1bWVyLnN1YnByb3RvY29scyB8fCBbXV1cbiAgICAgIGxvZ2dlci5sb2coYE9wZW5pbmcgV2ViU29ja2V0LCBjdXJyZW50IHN0YXRlIGlzICR7dGhpcy5nZXRTdGF0ZSgpfSwgc3VicHJvdG9jb2xzOiAke3NvY2tldFByb3RvY29sc31gKVxuICAgICAgaWYgKHRoaXMud2ViU29ja2V0KSB7IHRoaXMudW5pbnN0YWxsRXZlbnRIYW5kbGVycygpIH1cbiAgICAgIHRoaXMud2ViU29ja2V0ID0gbmV3IGFkYXB0ZXJzLldlYlNvY2tldCh0aGlzLmNvbnN1bWVyLnVybCwgc29ja2V0UHJvdG9jb2xzKVxuICAgICAgdGhpcy5pbnN0YWxsRXZlbnRIYW5kbGVycygpXG4gICAgICB0aGlzLm1vbml0b3Iuc3RhcnQoKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBjbG9zZSh7YWxsb3dSZWNvbm5lY3R9ID0ge2FsbG93UmVjb25uZWN0OiB0cnVlfSkge1xuICAgIGlmICghYWxsb3dSZWNvbm5lY3QpIHsgdGhpcy5tb25pdG9yLnN0b3AoKSB9XG4gICAgLy8gQXZvaWQgY2xvc2luZyB3ZWJzb2NrZXRzIGluIGEgXCJjb25uZWN0aW5nXCIgc3RhdGUgZHVlIHRvIFNhZmFyaSAxNS4xKyBidWcuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3JhaWxzL3JhaWxzL2lzc3Vlcy80MzgzNSNpc3N1ZWNvbW1lbnQtMTAwMjI4ODQ3OFxuICAgIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy53ZWJTb2NrZXQuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIHJlb3BlbigpIHtcbiAgICBsb2dnZXIubG9nKGBSZW9wZW5pbmcgV2ViU29ja2V0LCBjdXJyZW50IHN0YXRlIGlzICR7dGhpcy5nZXRTdGF0ZSgpfWApXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2UoKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkZhaWxlZCB0byByZW9wZW4gV2ViU29ja2V0XCIsIGVycm9yKVxuICAgICAgfVxuICAgICAgZmluYWxseSB7XG4gICAgICAgIGxvZ2dlci5sb2coYFJlb3BlbmluZyBXZWJTb2NrZXQgaW4gJHt0aGlzLmNvbnN0cnVjdG9yLnJlb3BlbkRlbGF5fW1zYClcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLm9wZW4sIHRoaXMuY29uc3RydWN0b3IucmVvcGVuRGVsYXkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm9wZW4oKVxuICAgIH1cbiAgfVxuXG4gIGdldFByb3RvY29sKCkge1xuICAgIGlmICh0aGlzLndlYlNvY2tldCkge1xuICAgICAgcmV0dXJuIHRoaXMud2ViU29ja2V0LnByb3RvY29sXG4gICAgfVxuICB9XG5cbiAgaXNPcGVuKCkge1xuICAgIHJldHVybiB0aGlzLmlzU3RhdGUoXCJvcGVuXCIpXG4gIH1cblxuICBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1N0YXRlKFwib3BlblwiLCBcImNvbm5lY3RpbmdcIilcbiAgfVxuXG4gIHRyaWVkVG9SZWNvbm5lY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9uaXRvci5yZWNvbm5lY3RBdHRlbXB0cyA+IDBcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBpc1Byb3RvY29sU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBpbmRleE9mLmNhbGwoc3VwcG9ydGVkUHJvdG9jb2xzLCB0aGlzLmdldFByb3RvY29sKCkpID49IDBcbiAgfVxuXG4gIGlzU3RhdGUoLi4uc3RhdGVzKSB7XG4gICAgcmV0dXJuIGluZGV4T2YuY2FsbChzdGF0ZXMsIHRoaXMuZ2V0U3RhdGUoKSkgPj0gMFxuICB9XG5cbiAgZ2V0U3RhdGUoKSB7XG4gICAgaWYgKHRoaXMud2ViU29ja2V0KSB7XG4gICAgICBmb3IgKGxldCBzdGF0ZSBpbiBhZGFwdGVycy5XZWJTb2NrZXQpIHtcbiAgICAgICAgaWYgKGFkYXB0ZXJzLldlYlNvY2tldFtzdGF0ZV0gPT09IHRoaXMud2ViU29ja2V0LnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUudG9Mb3dlckNhc2UoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBpbnN0YWxsRXZlbnRIYW5kbGVycygpIHtcbiAgICBmb3IgKGxldCBldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmJpbmQodGhpcylcbiAgICAgIHRoaXMud2ViU29ja2V0W2BvbiR7ZXZlbnROYW1lfWBdID0gaGFuZGxlclxuICAgIH1cbiAgfVxuXG4gIHVuaW5zdGFsbEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgZm9yIChsZXQgZXZlbnROYW1lIGluIHRoaXMuZXZlbnRzKSB7XG4gICAgICB0aGlzLndlYlNvY2tldFtgb24ke2V2ZW50TmFtZX1gXSA9IGZ1bmN0aW9uKCkge31cbiAgICB9XG4gIH1cblxufVxuXG5Db25uZWN0aW9uLnJlb3BlbkRlbGF5ID0gNTAwXG5cbkNvbm5lY3Rpb24ucHJvdG90eXBlLmV2ZW50cyA9IHtcbiAgbWVzc2FnZShldmVudCkge1xuICAgIGlmICghdGhpcy5pc1Byb3RvY29sU3VwcG9ydGVkKCkpIHsgcmV0dXJuIH1cbiAgICBjb25zdCB7aWRlbnRpZmllciwgbWVzc2FnZSwgcmVhc29uLCByZWNvbm5lY3QsIHR5cGV9ID0gSlNPTi5wYXJzZShldmVudC5kYXRhKVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBtZXNzYWdlX3R5cGVzLndlbGNvbWU6XG4gICAgICAgIGlmICh0aGlzLnRyaWVkVG9SZWNvbm5lY3QoKSkge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9uaXRvci5yZWNvcmRDb25uZWN0KClcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5yZWxvYWQoKVxuICAgICAgY2FzZSBtZXNzYWdlX3R5cGVzLmRpc2Nvbm5lY3Q6XG4gICAgICAgIGxvZ2dlci5sb2coYERpc2Nvbm5lY3RpbmcuIFJlYXNvbjogJHtyZWFzb259YClcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2Uoe2FsbG93UmVjb25uZWN0OiByZWNvbm5lY3R9KVxuICAgICAgY2FzZSBtZXNzYWdlX3R5cGVzLnBpbmc6XG4gICAgICAgIHJldHVybiB0aGlzLm1vbml0b3IucmVjb3JkUGluZygpXG4gICAgICBjYXNlIG1lc3NhZ2VfdHlwZXMuY29uZmlybWF0aW9uOlxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuY29uZmlybVN1YnNjcmlwdGlvbihpZGVudGlmaWVyKVxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RBdHRlbXB0ZWQpIHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRlZCA9IGZhbHNlXG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5ub3RpZnkoaWRlbnRpZmllciwgXCJjb25uZWN0ZWRcIiwge3JlY29ubmVjdGVkOiB0cnVlfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLm5vdGlmeShpZGVudGlmaWVyLCBcImNvbm5lY3RlZFwiLCB7cmVjb25uZWN0ZWQ6IGZhbHNlfSlcbiAgICAgICAgfVxuICAgICAgY2FzZSBtZXNzYWdlX3R5cGVzLnJlamVjdGlvbjpcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5yZWplY3QoaWRlbnRpZmllcilcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMubm90aWZ5KGlkZW50aWZpZXIsIFwicmVjZWl2ZWRcIiwgbWVzc2FnZSlcbiAgICB9XG4gIH0sXG5cbiAgb3BlbigpIHtcbiAgICBsb2dnZXIubG9nKGBXZWJTb2NrZXQgb25vcGVuIGV2ZW50LCB1c2luZyAnJHt0aGlzLmdldFByb3RvY29sKCl9JyBzdWJwcm90b2NvbGApXG4gICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBmYWxzZVxuICAgIGlmICghdGhpcy5pc1Byb3RvY29sU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm90b2NvbCBpcyB1bnN1cHBvcnRlZC4gU3RvcHBpbmcgbW9uaXRvciBhbmQgZGlzY29ubmVjdGluZy5cIilcbiAgICAgIHJldHVybiB0aGlzLmNsb3NlKHthbGxvd1JlY29ubmVjdDogZmFsc2V9KVxuICAgIH1cbiAgfSxcblxuICBjbG9zZShldmVudCkge1xuICAgIGxvZ2dlci5sb2coXCJXZWJTb2NrZXQgb25jbG9zZSBldmVudFwiKVxuICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RlZCkgeyByZXR1cm4gfVxuICAgIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZVxuICAgIHRoaXMubW9uaXRvci5yZWNvcmREaXNjb25uZWN0KClcbiAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLm5vdGlmeUFsbChcImRpc2Nvbm5lY3RlZFwiLCB7d2lsbEF0dGVtcHRSZWNvbm5lY3Q6IHRoaXMubW9uaXRvci5pc1J1bm5pbmcoKX0pXG4gIH0sXG5cbiAgZXJyb3IoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIldlYlNvY2tldCBvbmVycm9yIGV2ZW50XCIpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29ubmVjdGlvblxuIiwgIi8vIEEgbmV3IHN1YnNjcmlwdGlvbiBpcyBjcmVhdGVkIHRocm91Z2ggdGhlIEFjdGlvbkNhYmxlLlN1YnNjcmlwdGlvbnMgaW5zdGFuY2UgYXZhaWxhYmxlIG9uIHRoZSBjb25zdW1lci5cbi8vIEl0IHByb3ZpZGVzIGEgbnVtYmVyIG9mIGNhbGxiYWNrcyBhbmQgYSBtZXRob2QgZm9yIGNhbGxpbmcgcmVtb3RlIHByb2NlZHVyZSBjYWxscyBvbiB0aGUgY29ycmVzcG9uZGluZ1xuLy8gQ2hhbm5lbCBpbnN0YW5jZSBvbiB0aGUgc2VydmVyIHNpZGUuXG4vL1xuLy8gQW4gZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdHk6XG4vL1xuLy8gICBBcHAuYXBwZWFyYW5jZSA9IEFwcC5jYWJsZS5zdWJzY3JpcHRpb25zLmNyZWF0ZShcIkFwcGVhcmFuY2VDaGFubmVsXCIsIHtcbi8vICAgICBjb25uZWN0ZWQoKSB7XG4vLyAgICAgICAvLyBDYWxsZWQgb25jZSB0aGUgc3Vic2NyaXB0aW9uIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWRcbi8vICAgICB9LFxuLy9cbi8vICAgICBkaXNjb25uZWN0ZWQoeyB3aWxsQXR0ZW1wdFJlY29ubmVjdDogYm9vbGVhbiB9KSB7XG4vLyAgICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgY2xpZW50IGhhcyBkaXNjb25uZWN0ZWQgd2l0aCB0aGUgc2VydmVyLlxuLy8gICAgICAgLy8gVGhlIG9iamVjdCB3aWxsIGhhdmUgYW4gYHdpbGxBdHRlbXB0UmVjb25uZWN0YCBwcm9wZXJ0eSB3aGljaFxuLy8gICAgICAgLy8gc2F5cyB3aGV0aGVyIHRoZSBjbGllbnQgaGFzIHRoZSBpbnRlbnRpb24gb2YgYXR0ZW1wdGluZ1xuLy8gICAgICAgLy8gdG8gcmVjb25uZWN0LlxuLy8gICAgIH0sXG4vL1xuLy8gICAgIGFwcGVhcigpIHtcbi8vICAgICAgIHRoaXMucGVyZm9ybSgnYXBwZWFyJywge2FwcGVhcmluZ19vbjogdGhpcy5hcHBlYXJpbmdPbigpfSlcbi8vICAgICB9LFxuLy9cbi8vICAgICBhd2F5KCkge1xuLy8gICAgICAgdGhpcy5wZXJmb3JtKCdhd2F5Jylcbi8vICAgICB9LFxuLy9cbi8vICAgICBhcHBlYXJpbmdPbigpIHtcbi8vICAgICAgICQoJ21haW4nKS5kYXRhKCdhcHBlYXJpbmctb24nKVxuLy8gICAgIH1cbi8vICAgfSlcbi8vXG4vLyBUaGUgbWV0aG9kcyAjYXBwZWFyIGFuZCAjYXdheSBmb3J3YXJkIHRoZWlyIGludGVudCB0byB0aGUgcmVtb3RlIEFwcGVhcmFuY2VDaGFubmVsIGluc3RhbmNlIG9uIHRoZSBzZXJ2ZXJcbi8vIGJ5IGNhbGxpbmcgdGhlIGBwZXJmb3JtYCBtZXRob2Qgd2l0aCB0aGUgZmlyc3QgcGFyYW1ldGVyIGJlaW5nIHRoZSBhY3Rpb24gKHdoaWNoIG1hcHMgdG8gQXBwZWFyYW5jZUNoYW5uZWwjYXBwZWFyL2F3YXkpLlxuLy8gVGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgYSBoYXNoIHRoYXQnbGwgZ2V0IEpTT04gZW5jb2RlZCBhbmQgbWFkZSBhdmFpbGFibGUgb24gdGhlIHNlcnZlciBpbiB0aGUgZGF0YSBwYXJhbWV0ZXIuXG4vL1xuLy8gVGhpcyBpcyBob3cgdGhlIHNlcnZlciBjb21wb25lbnQgd291bGQgbG9vazpcbi8vXG4vLyAgIGNsYXNzIEFwcGVhcmFuY2VDaGFubmVsIDwgQXBwbGljYXRpb25BY3Rpb25DYWJsZTo6Q2hhbm5lbFxuLy8gICAgIGRlZiBzdWJzY3JpYmVkXG4vLyAgICAgICBjdXJyZW50X3VzZXIuYXBwZWFyXG4vLyAgICAgZW5kXG4vL1xuLy8gICAgIGRlZiB1bnN1YnNjcmliZWRcbi8vICAgICAgIGN1cnJlbnRfdXNlci5kaXNhcHBlYXJcbi8vICAgICBlbmRcbi8vXG4vLyAgICAgZGVmIGFwcGVhcihkYXRhKVxuLy8gICAgICAgY3VycmVudF91c2VyLmFwcGVhciBvbjogZGF0YVsnYXBwZWFyaW5nX29uJ11cbi8vICAgICBlbmRcbi8vXG4vLyAgICAgZGVmIGF3YXlcbi8vICAgICAgIGN1cnJlbnRfdXNlci5hd2F5XG4vLyAgICAgZW5kXG4vLyAgIGVuZFxuLy9cbi8vIFRoZSBcIkFwcGVhcmFuY2VDaGFubmVsXCIgbmFtZSBpcyBhdXRvbWF0aWNhbGx5IG1hcHBlZCBiZXR3ZWVuIHRoZSBjbGllbnQtc2lkZSBzdWJzY3JpcHRpb24gY3JlYXRpb24gYW5kIHRoZSBzZXJ2ZXItc2lkZSBSdWJ5IGNsYXNzIG5hbWUuXG4vLyBUaGUgQXBwZWFyYW5jZUNoYW5uZWwjYXBwZWFyL2F3YXkgcHVibGljIG1ldGhvZHMgYXJlIGV4cG9zZWQgYXV0b21hdGljYWxseSB0byBjbGllbnQtc2lkZSBpbnZvY2F0aW9uIHRocm91Z2ggdGhlIHBlcmZvcm0gbWV0aG9kLlxuXG5jb25zdCBleHRlbmQgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnRpZXMpIHtcbiAgaWYgKHByb3BlcnRpZXMgIT0gbnVsbCkge1xuICAgIGZvciAobGV0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHByb3BlcnRpZXNba2V5XVxuICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1YnNjcmlwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGNvbnN1bWVyLCBwYXJhbXMgPSB7fSwgbWl4aW4pIHtcbiAgICB0aGlzLmNvbnN1bWVyID0gY29uc3VtZXJcbiAgICB0aGlzLmlkZW50aWZpZXIgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMpXG4gICAgZXh0ZW5kKHRoaXMsIG1peGluKVxuICB9XG5cbiAgLy8gUGVyZm9ybSBhIGNoYW5uZWwgYWN0aW9uIHdpdGggdGhlIG9wdGlvbmFsIGRhdGEgcGFzc2VkIGFzIGFuIGF0dHJpYnV0ZVxuICBwZXJmb3JtKGFjdGlvbiwgZGF0YSA9IHt9KSB7XG4gICAgZGF0YS5hY3Rpb24gPSBhY3Rpb25cbiAgICByZXR1cm4gdGhpcy5zZW5kKGRhdGEpXG4gIH1cblxuICBzZW5kKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdW1lci5zZW5kKHtjb21tYW5kOiBcIm1lc3NhZ2VcIiwgaWRlbnRpZmllcjogdGhpcy5pZGVudGlmaWVyLCBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKX0pXG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdW1lci5zdWJzY3JpcHRpb25zLnJlbW92ZSh0aGlzKVxuICB9XG59XG4iLCAiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIlxuXG4vLyBSZXNwb25zaWJsZSBmb3IgZW5zdXJpbmcgY2hhbm5lbCBzdWJzY3JpYmUgY29tbWFuZCBpcyBjb25maXJtZWQsIHJldHJ5aW5nIHVudGlsIGNvbmZpcm1hdGlvbiBpcyByZWNlaXZlZC5cbi8vIEludGVybmFsIGNsYXNzLCBub3QgaW50ZW5kZWQgZm9yIGRpcmVjdCB1c2VyIG1hbmlwdWxhdGlvbi5cblxuY2xhc3MgU3Vic2NyaXB0aW9uR3VhcmFudG9yIHtcbiAgY29uc3RydWN0b3Ioc3Vic2NyaXB0aW9ucykge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IHN1YnNjcmlwdGlvbnNcbiAgICB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zID0gW11cbiAgfVxuXG4gIGd1YXJhbnRlZShzdWJzY3JpcHRpb24pIHtcbiAgICBpZih0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKSA9PSAtMSl7IFxuICAgICAgbG9nZ2VyLmxvZyhgU3Vic2NyaXB0aW9uR3VhcmFudG9yIGd1YXJhbnRlZWluZyAke3N1YnNjcmlwdGlvbi5pZGVudGlmaWVyfWApXG4gICAgICB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKSBcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsb2dnZXIubG9nKGBTdWJzY3JpcHRpb25HdWFyYW50b3IgYWxyZWFkeSBndWFyYW50ZWVpbmcgJHtzdWJzY3JpcHRpb24uaWRlbnRpZmllcn1gKVxuICAgIH1cbiAgICB0aGlzLnN0YXJ0R3VhcmFudGVlaW5nKClcbiAgfVxuXG4gIGZvcmdldChzdWJzY3JpcHRpb24pIHtcbiAgICBsb2dnZXIubG9nKGBTdWJzY3JpcHRpb25HdWFyYW50b3IgZm9yZ2V0dGluZyAke3N1YnNjcmlwdGlvbi5pZGVudGlmaWVyfWApXG4gICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9ucyA9ICh0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zLmZpbHRlcigocykgPT4gcyAhPT0gc3Vic2NyaXB0aW9uKSlcbiAgfVxuXG4gIHN0YXJ0R3VhcmFudGVlaW5nKCkge1xuICAgIHRoaXMuc3RvcEd1YXJhbnRlZWluZygpXG4gICAgdGhpcy5yZXRyeVN1YnNjcmliaW5nKClcbiAgfVxuICBcbiAgc3RvcEd1YXJhbnRlZWluZygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVvdXQpXG4gIH1cblxuICByZXRyeVN1YnNjcmliaW5nKCkge1xuICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zICYmIHR5cGVvZih0aGlzLnN1YnNjcmlwdGlvbnMuc3Vic2NyaWJlKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMubWFwKChzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBTdWJzY3JpcHRpb25HdWFyYW50b3IgcmVzdWJzY3JpYmluZyAke3N1YnNjcmlwdGlvbi5pZGVudGlmaWVyfWApXG4gICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnN1YnNjcmliZShzdWJzY3JpcHRpb24pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgICwgNTAwKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN1YnNjcmlwdGlvbkd1YXJhbnRvciIsICJpbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gXCIuL3N1YnNjcmlwdGlvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uR3VhcmFudG9yIGZyb20gXCIuL3N1YnNjcmlwdGlvbl9ndWFyYW50b3JcIlxuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIlxuXG4vLyBDb2xsZWN0aW9uIGNsYXNzIGZvciBjcmVhdGluZyAoYW5kIGludGVybmFsbHkgbWFuYWdpbmcpIGNoYW5uZWwgc3Vic2NyaXB0aW9ucy5cbi8vIFRoZSBvbmx5IG1ldGhvZCBpbnRlbmRlZCB0byBiZSB0cmlnZ2VyZWQgYnkgdGhlIHVzZXIgaXMgQWN0aW9uQ2FibGUuU3Vic2NyaXB0aW9ucyNjcmVhdGUsXG4vLyBhbmQgaXQgc2hvdWxkIGJlIGNhbGxlZCB0aHJvdWdoIHRoZSBjb25zdW1lciBsaWtlIHNvOlxuLy9cbi8vICAgQXBwID0ge31cbi8vICAgQXBwLmNhYmxlID0gQWN0aW9uQ2FibGUuY3JlYXRlQ29uc3VtZXIoXCJ3czovL2V4YW1wbGUuY29tL2FjY291bnRzLzFcIilcbi8vICAgQXBwLmFwcGVhcmFuY2UgPSBBcHAuY2FibGUuc3Vic2NyaXB0aW9ucy5jcmVhdGUoXCJBcHBlYXJhbmNlQ2hhbm5lbFwiKVxuLy9cbi8vIEZvciBtb3JlIGRldGFpbHMgb24gaG93IHlvdSdkIGNvbmZpZ3VyZSBhbiBhY3R1YWwgY2hhbm5lbCBzdWJzY3JpcHRpb24sIHNlZSBBY3Rpb25DYWJsZS5TdWJzY3JpcHRpb24uXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1YnNjcmlwdGlvbnMge1xuICBjb25zdHJ1Y3Rvcihjb25zdW1lcikge1xuICAgIHRoaXMuY29uc3VtZXIgPSBjb25zdW1lclxuICAgIHRoaXMuZ3VhcmFudG9yID0gbmV3IFN1YnNjcmlwdGlvbkd1YXJhbnRvcih0aGlzKVxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdXG4gIH1cblxuICBjcmVhdGUoY2hhbm5lbE5hbWUsIG1peGluKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IGNoYW5uZWxOYW1lXG4gICAgY29uc3QgcGFyYW1zID0gdHlwZW9mIGNoYW5uZWwgPT09IFwib2JqZWN0XCIgPyBjaGFubmVsIDoge2NoYW5uZWx9XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0aGlzLmNvbnN1bWVyLCBwYXJhbXMsIG1peGluKVxuICAgIHJldHVybiB0aGlzLmFkZChzdWJzY3JpcHRpb24pXG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgYWRkKHN1YnNjcmlwdGlvbikge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbilcbiAgICB0aGlzLmNvbnN1bWVyLmVuc3VyZUFjdGl2ZUNvbm5lY3Rpb24oKVxuICAgIHRoaXMubm90aWZ5KHN1YnNjcmlwdGlvbiwgXCJpbml0aWFsaXplZFwiKVxuICAgIHRoaXMuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbilcbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uXG4gIH1cblxuICByZW1vdmUoc3Vic2NyaXB0aW9uKSB7XG4gICAgdGhpcy5mb3JnZXQoc3Vic2NyaXB0aW9uKVxuICAgIGlmICghdGhpcy5maW5kQWxsKHN1YnNjcmlwdGlvbi5pZGVudGlmaWVyKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2VuZENvbW1hbmQoc3Vic2NyaXB0aW9uLCBcInVuc3Vic2NyaWJlXCIpXG4gICAgfVxuICAgIHJldHVybiBzdWJzY3JpcHRpb25cbiAgfVxuXG4gIHJlamVjdChpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZEFsbChpZGVudGlmaWVyKS5tYXAoKHN1YnNjcmlwdGlvbikgPT4ge1xuICAgICAgdGhpcy5mb3JnZXQoc3Vic2NyaXB0aW9uKVxuICAgICAgdGhpcy5ub3RpZnkoc3Vic2NyaXB0aW9uLCBcInJlamVjdGVkXCIpXG4gICAgICByZXR1cm4gc3Vic2NyaXB0aW9uXG4gICAgfSlcbiAgfVxuXG4gIGZvcmdldChzdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLmd1YXJhbnRvci5mb3JnZXQoc3Vic2NyaXB0aW9uKVxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9ICh0aGlzLnN1YnNjcmlwdGlvbnMuZmlsdGVyKChzKSA9PiBzICE9PSBzdWJzY3JpcHRpb24pKVxuICAgIHJldHVybiBzdWJzY3JpcHRpb25cbiAgfVxuXG4gIGZpbmRBbGwoaWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZmlsdGVyKChzKSA9PiBzLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpXG4gIH1cblxuICByZWxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5tYXAoKHN1YnNjcmlwdGlvbikgPT5cbiAgICAgIHRoaXMuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbikpXG4gIH1cblxuICBub3RpZnlBbGwoY2FsbGJhY2tOYW1lLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5tYXAoKHN1YnNjcmlwdGlvbikgPT5cbiAgICAgIHRoaXMubm90aWZ5KHN1YnNjcmlwdGlvbiwgY2FsbGJhY2tOYW1lLCAuLi5hcmdzKSlcbiAgfVxuXG4gIG5vdGlmeShzdWJzY3JpcHRpb24sIGNhbGxiYWNrTmFtZSwgLi4uYXJncykge1xuICAgIGxldCBzdWJzY3JpcHRpb25zXG4gICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHN1YnNjcmlwdGlvbnMgPSB0aGlzLmZpbmRBbGwoc3Vic2NyaXB0aW9uKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl1cbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9ucy5tYXAoKHN1YnNjcmlwdGlvbikgPT5cbiAgICAgICh0eXBlb2Ygc3Vic2NyaXB0aW9uW2NhbGxiYWNrTmFtZV0gPT09IFwiZnVuY3Rpb25cIiA/IHN1YnNjcmlwdGlvbltjYWxsYmFja05hbWVdKC4uLmFyZ3MpIDogdW5kZWZpbmVkKSlcbiAgfVxuXG4gIHN1YnNjcmliZShzdWJzY3JpcHRpb24pIHtcbiAgICBpZiAodGhpcy5zZW5kQ29tbWFuZChzdWJzY3JpcHRpb24sIFwic3Vic2NyaWJlXCIpKSB7XG4gICAgICB0aGlzLmd1YXJhbnRvci5ndWFyYW50ZWUoc3Vic2NyaXB0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGNvbmZpcm1TdWJzY3JpcHRpb24oaWRlbnRpZmllcikge1xuICAgIGxvZ2dlci5sb2coYFN1YnNjcmlwdGlvbiBjb25maXJtZWQgJHtpZGVudGlmaWVyfWApXG4gICAgdGhpcy5maW5kQWxsKGlkZW50aWZpZXIpLm1hcCgoc3Vic2NyaXB0aW9uKSA9PlxuICAgICAgdGhpcy5ndWFyYW50b3IuZm9yZ2V0KHN1YnNjcmlwdGlvbikpXG4gIH1cblxuICBzZW5kQ29tbWFuZChzdWJzY3JpcHRpb24sIGNvbW1hbmQpIHtcbiAgICBjb25zdCB7aWRlbnRpZmllcn0gPSBzdWJzY3JpcHRpb25cbiAgICByZXR1cm4gdGhpcy5jb25zdW1lci5zZW5kKHtjb21tYW5kLCBpZGVudGlmaWVyfSlcbiAgfVxufVxuIiwgImltcG9ydCBDb25uZWN0aW9uIGZyb20gXCIuL2Nvbm5lY3Rpb25cIlxuaW1wb3J0IFN1YnNjcmlwdGlvbnMgZnJvbSBcIi4vc3Vic2NyaXB0aW9uc1wiXG5cbi8vIFRoZSBBY3Rpb25DYWJsZS5Db25zdW1lciBlc3RhYmxpc2hlcyB0aGUgY29ubmVjdGlvbiB0byBhIHNlcnZlci1zaWRlIFJ1YnkgQ29ubmVjdGlvbiBvYmplY3QuIE9uY2UgZXN0YWJsaXNoZWQsXG4vLyB0aGUgQWN0aW9uQ2FibGUuQ29ubmVjdGlvbk1vbml0b3Igd2lsbCBlbnN1cmUgdGhhdCBpdHMgcHJvcGVybHkgbWFpbnRhaW5lZCB0aHJvdWdoIGhlYXJ0YmVhdHMgYW5kIGNoZWNraW5nIGZvciBzdGFsZSB1cGRhdGVzLlxuLy8gVGhlIENvbnN1bWVyIGluc3RhbmNlIGlzIGFsc28gdGhlIGdhdGV3YXkgdG8gZXN0YWJsaXNoaW5nIHN1YnNjcmlwdGlvbnMgdG8gZGVzaXJlZCBjaGFubmVscyB0aHJvdWdoIHRoZSAjY3JlYXRlU3Vic2NyaXB0aW9uXG4vLyBtZXRob2QuXG4vL1xuLy8gVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0aGlzIGNhbiBiZSBzZXQgdXA6XG4vL1xuLy8gICBBcHAgPSB7fVxuLy8gICBBcHAuY2FibGUgPSBBY3Rpb25DYWJsZS5jcmVhdGVDb25zdW1lcihcIndzOi8vZXhhbXBsZS5jb20vYWNjb3VudHMvMVwiKVxuLy8gICBBcHAuYXBwZWFyYW5jZSA9IEFwcC5jYWJsZS5zdWJzY3JpcHRpb25zLmNyZWF0ZShcIkFwcGVhcmFuY2VDaGFubmVsXCIpXG4vL1xuLy8gRm9yIG1vcmUgZGV0YWlscyBvbiBob3cgeW91J2QgY29uZmlndXJlIGFuIGFjdHVhbCBjaGFubmVsIHN1YnNjcmlwdGlvbiwgc2VlIEFjdGlvbkNhYmxlLlN1YnNjcmlwdGlvbi5cbi8vXG4vLyBXaGVuIGEgY29uc3VtZXIgaXMgY3JlYXRlZCwgaXQgYXV0b21hdGljYWxseSBjb25uZWN0cyB3aXRoIHRoZSBzZXJ2ZXIuXG4vL1xuLy8gVG8gZGlzY29ubmVjdCBmcm9tIHRoZSBzZXJ2ZXIsIGNhbGxcbi8vXG4vLyAgIEFwcC5jYWJsZS5kaXNjb25uZWN0KClcbi8vXG4vLyBhbmQgdG8gcmVzdGFydCB0aGUgY29ubmVjdGlvbjpcbi8vXG4vLyAgIEFwcC5jYWJsZS5jb25uZWN0KClcbi8vXG4vLyBBbnkgY2hhbm5lbCBzdWJzY3JpcHRpb25zIHdoaWNoIGV4aXN0ZWQgcHJpb3IgdG8gZGlzY29ubmVjdGluZyB3aWxsXG4vLyBhdXRvbWF0aWNhbGx5IHJlc3Vic2NyaWJlLlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25zdW1lciB7XG4gIGNvbnN0cnVjdG9yKHVybCkge1xuICAgIHRoaXMuX3VybCA9IHVybFxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb25zKHRoaXMpXG4gICAgdGhpcy5jb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24odGhpcylcbiAgICB0aGlzLnN1YnByb3RvY29scyA9IFtdXG4gIH1cblxuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiBjcmVhdGVXZWJTb2NrZXRVUkwodGhpcy5fdXJsKVxuICB9XG5cbiAgc2VuZChkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kKGRhdGEpXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24ub3BlbigpXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uY2xvc2Uoe2FsbG93UmVjb25uZWN0OiBmYWxzZX0pXG4gIH1cblxuICBlbnN1cmVBY3RpdmVDb25uZWN0aW9uKCkge1xuICAgIGlmICghdGhpcy5jb25uZWN0aW9uLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24ub3BlbigpXG4gICAgfVxuICB9XG5cbiAgYWRkU3ViUHJvdG9jb2woc3VicHJvdG9jb2wpIHtcbiAgICB0aGlzLnN1YnByb3RvY29scyA9IFsuLi50aGlzLnN1YnByb3RvY29scywgc3VicHJvdG9jb2xdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVdlYlNvY2tldFVSTCh1cmwpIHtcbiAgaWYgKHR5cGVvZiB1cmwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHVybCA9IHVybCgpXG4gIH1cblxuICBpZiAodXJsICYmICEvXndzcz86L2kudGVzdCh1cmwpKSB7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXG4gICAgYS5ocmVmID0gdXJsXG4gICAgLy8gRml4IHBvcHVsYXRpbmcgTG9jYXRpb24gcHJvcGVydGllcyBpbiBJRS4gT3RoZXJ3aXNlLCBwcm90b2NvbCB3aWxsIGJlIGJsYW5rLlxuICAgIGEuaHJlZiA9IGEuaHJlZlxuICAgIGEucHJvdG9jb2wgPSBhLnByb3RvY29sLnJlcGxhY2UoXCJodHRwXCIsIFwid3NcIilcbiAgICByZXR1cm4gYS5ocmVmXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHVybFxuICB9XG59XG4iLCAiaW1wb3J0IENvbm5lY3Rpb24gZnJvbSBcIi4vY29ubmVjdGlvblwiXG5pbXBvcnQgQ29ubmVjdGlvbk1vbml0b3IgZnJvbSBcIi4vY29ubmVjdGlvbl9tb25pdG9yXCJcbmltcG9ydCBDb25zdW1lciwgeyBjcmVhdGVXZWJTb2NrZXRVUkwgfSBmcm9tIFwiLi9jb25zdW1lclwiXG5pbXBvcnQgSU5URVJOQUwgZnJvbSBcIi4vaW50ZXJuYWxcIlxuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tIFwiLi9zdWJzY3JpcHRpb25cIlxuaW1wb3J0IFN1YnNjcmlwdGlvbnMgZnJvbSBcIi4vc3Vic2NyaXB0aW9uc1wiXG5pbXBvcnQgU3Vic2NyaXB0aW9uR3VhcmFudG9yIGZyb20gXCIuL3N1YnNjcmlwdGlvbl9ndWFyYW50b3JcIlxuaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuL2FkYXB0ZXJzXCJcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCJcblxuZXhwb3J0IHtcbiAgQ29ubmVjdGlvbixcbiAgQ29ubmVjdGlvbk1vbml0b3IsXG4gIENvbnN1bWVyLFxuICBJTlRFUk5BTCxcbiAgU3Vic2NyaXB0aW9uLFxuICBTdWJzY3JpcHRpb25zLFxuICBTdWJzY3JpcHRpb25HdWFyYW50b3IsXG4gIGFkYXB0ZXJzLFxuICBjcmVhdGVXZWJTb2NrZXRVUkwsXG4gIGxvZ2dlcixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnN1bWVyKHVybCA9IGdldENvbmZpZyhcInVybFwiKSB8fCBJTlRFUk5BTC5kZWZhdWx0X21vdW50X3BhdGgpIHtcbiAgcmV0dXJuIG5ldyBDb25zdW1lcih1cmwpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25maWcobmFtZSkge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKGBtZXRhW25hbWU9J2FjdGlvbi1jYWJsZS0ke25hbWV9J11gKVxuICBpZiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIilcbiAgfVxufVxuIiwgImV4cG9ydCBkZWZhdWx0ICh0aGluZzogYW55KSA9PiAhISh0aGluZyAmJiB0aGluZy5XaW5kb3cpICYmIHRoaW5nIGluc3RhbmNlb2YgdGhpbmcuV2luZG93XG4iLCAiaW1wb3J0IGlzV2luZG93IGZyb20gJy4vaXNXaW5kb3cnXG5cbmV4cG9ydCBsZXQgcmVhbFdpbmRvdyA9IHVuZGVmaW5lZCBhcyBXaW5kb3dcblxubGV0IHdpbiA9IHVuZGVmaW5lZCBhcyBXaW5kb3dcbmV4cG9ydCB7IHdpbiBhcyB3aW5kb3cgfVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCh3aW5kb3c6IFdpbmRvdyAmIHsgd3JhcD86ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55IH0pIHtcbiAgLy8gZ2V0IHdyYXBwZWQgd2luZG93IGlmIHVzaW5nIFNoYWRvdyBET00gcG9seWZpbGxcblxuICByZWFsV2luZG93ID0gd2luZG93XG5cbiAgLy8gY3JlYXRlIGEgVGV4dE5vZGVcbiAgY29uc3QgZWwgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpXG5cbiAgLy8gY2hlY2sgaWYgaXQncyB3cmFwcGVkIGJ5IGEgcG9seWZpbGxcbiAgaWYgKGVsLm93bmVyRG9jdW1lbnQgIT09IHdpbmRvdy5kb2N1bWVudCAmJiB0eXBlb2Ygd2luZG93LndyYXAgPT09ICdmdW5jdGlvbicgJiYgd2luZG93LndyYXAoZWwpID09PSBlbCkge1xuICAgIC8vIHVzZSB3cmFwcGVkIHdpbmRvd1xuICAgIHdpbmRvdyA9IHdpbmRvdy53cmFwKHdpbmRvdylcbiAgfVxuXG4gIHdpbiA9IHdpbmRvd1xufVxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgISF3aW5kb3cpIHtcbiAgaW5pdCh3aW5kb3cpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZTogYW55KSB7XG4gIGlmIChpc1dpbmRvdyhub2RlKSkge1xuICAgIHJldHVybiBub2RlXG4gIH1cblxuICBjb25zdCByb290Tm9kZSA9IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlXG5cbiAgcmV0dXJuIHJvb3ROb2RlLmRlZmF1bHRWaWV3IHx8IHdpbi53aW5kb3dcbn1cbiIsICJpbXBvcnQgaXNXaW5kb3cgZnJvbSAnLi9pc1dpbmRvdydcbmltcG9ydCAqIGFzIHdpbiBmcm9tICcuL3dpbmRvdydcblxuY29uc3Qgd2luZG93ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBXaW5kb3cgPT4gdGhpbmcgPT09IHdpbi53aW5kb3cgfHwgaXNXaW5kb3codGhpbmcpXG5cbmNvbnN0IGRvY0ZyYWcgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIERvY3VtZW50RnJhZ21lbnQgPT4gb2JqZWN0KHRoaW5nKSAmJiB0aGluZy5ub2RlVHlwZSA9PT0gMTFcblxuY29uc3Qgb2JqZWN0ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyB7IFtpbmRleDogc3RyaW5nXTogYW55IH0gPT4gISF0aGluZyAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnXG5cbmNvbnN0IGZ1bmMgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55ID0+IHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJ1xuXG5jb25zdCBudW1iZXIgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIG51bWJlciA9PiB0eXBlb2YgdGhpbmcgPT09ICdudW1iZXInXG5cbmNvbnN0IGJvb2wgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIGJvb2xlYW4gPT4gdHlwZW9mIHRoaW5nID09PSAnYm9vbGVhbidcblxuY29uc3Qgc3RyaW5nID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBzdHJpbmcgPT4gdHlwZW9mIHRoaW5nID09PSAnc3RyaW5nJ1xuXG5jb25zdCBlbGVtZW50ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQgPT4ge1xuICBpZiAoIXRoaW5nIHx8IHR5cGVvZiB0aGluZyAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IF93aW5kb3cgPSB3aW4uZ2V0V2luZG93KHRoaW5nKSB8fCB3aW4ud2luZG93XG5cbiAgcmV0dXJuIC9vYmplY3R8ZnVuY3Rpb24vLnRlc3QodHlwZW9mIEVsZW1lbnQpXG4gICAgPyB0aGluZyBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgdGhpbmcgaW5zdGFuY2VvZiBfd2luZG93LkVsZW1lbnRcbiAgICA6IHRoaW5nLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiB0aGluZy5ub2RlTmFtZSA9PT0gJ3N0cmluZydcbn1cblxuY29uc3QgcGxhaW5PYmplY3Q6IHR5cGVvZiBvYmplY3QgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIHsgW2luZGV4OiBzdHJpbmddOiBhbnkgfSA9PlxuICBvYmplY3QodGhpbmcpICYmICEhdGhpbmcuY29uc3RydWN0b3IgJiYgL2Z1bmN0aW9uIE9iamVjdFxcYi8udGVzdCh0aGluZy5jb25zdHJ1Y3Rvci50b1N0cmluZygpKVxuXG5jb25zdCBhcnJheSA9IDxUIGV4dGVuZHMgdW5rbm93bj4odGhpbmc6IGFueSk6IHRoaW5nIGlzIFRbXSA9PlxuICBvYmplY3QodGhpbmcpICYmIHR5cGVvZiB0aGluZy5sZW5ndGggIT09ICd1bmRlZmluZWQnICYmIGZ1bmModGhpbmcuc3BsaWNlKVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHdpbmRvdyxcbiAgZG9jRnJhZyxcbiAgb2JqZWN0LFxuICBmdW5jLFxuICBudW1iZXIsXG4gIGJvb2wsXG4gIHN0cmluZyxcbiAgZWxlbWVudCxcbiAgcGxhaW5PYmplY3QsXG4gIGFycmF5LFxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgTGlzdGVuZXJzQXJnLCBPckJvb2xlYW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgZHJhZ2dhYmxlKG9wdGlvbnM6IFBhcnRpYWw8T3JCb29sZWFuPERyYWdnYWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzXG4gICAgZHJhZ2dhYmxlKCk6IERyYWdnYWJsZU9wdGlvbnNcbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KGVsZW1lbnQpLmRyYWdnYWJsZSh7XG4gICAgICogICAgIG9uc3RhcnQ6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICAgIG9ubW92ZSA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICAgIG9uZW5kICA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICpcbiAgICAgKiAgICAgLy8gdGhlIGF4aXMgaW4gd2hpY2ggdGhlIGZpcnN0IG1vdmVtZW50IG11c3QgYmVcbiAgICAgKiAgICAgLy8gZm9yIHRoZSBkcmFnIHNlcXVlbmNlIHRvIHN0YXJ0XG4gICAgICogICAgIC8vICd4eScgYnkgZGVmYXVsdCAtIGFueSBkaXJlY3Rpb25cbiAgICAgKiAgICAgc3RhcnRBeGlzOiAneCcgfHwgJ3knIHx8ICd4eScsXG4gICAgICpcbiAgICAgKiAgICAgLy8gJ3h5JyBieSBkZWZhdWx0IC0gZG9uJ3QgcmVzdHJpY3QgdG8gb25lIGF4aXMgKG1vdmUgaW4gYW55IGRpcmVjdGlvbilcbiAgICAgKiAgICAgLy8gJ3gnIG9yICd5JyB0byByZXN0cmljdCBtb3ZlbWVudCB0byBlaXRoZXIgYXhpc1xuICAgICAqICAgICAvLyAnc3RhcnQnIHRvIHJlc3RyaWN0IG1vdmVtZW50IHRvIHRoZSBheGlzIHRoZSBkcmFnIHN0YXJ0ZWQgaW5cbiAgICAgKiAgICAgbG9ja0F4aXM6ICd4JyB8fCAneScgfHwgJ3h5JyB8fCAnc3RhcnQnLFxuICAgICAqXG4gICAgICogICAgIC8vIG1heCBudW1iZXIgb2YgZHJhZ3MgdGhhdCBjYW4gaGFwcGVuIGNvbmN1cnJlbnRseVxuICAgICAqICAgICAvLyB3aXRoIGVsZW1lbnRzIG9mIHRoaXMgSW50ZXJhY3RhYmxlLiBJbmZpbml0eSBieSBkZWZhdWx0XG4gICAgICogICAgIG1heDogSW5maW5pdHksXG4gICAgICpcbiAgICAgKiAgICAgLy8gbWF4IG51bWJlciBvZiBkcmFncyB0aGF0IGNhbiB0YXJnZXQgdGhlIHNhbWUgZWxlbWVudCtJbnRlcmFjdGFibGVcbiAgICAgKiAgICAgLy8gMSBieSBkZWZhdWx0XG4gICAgICogICAgIG1heFBlckVsZW1lbnQ6IDJcbiAgICAgKiB9KVxuICAgICAqXG4gICAgICogdmFyIGlzRHJhZ2dhYmxlID0gaW50ZXJhY3QoJ2VsZW1lbnQnKS5kcmFnZ2FibGUoKTsgLy8gdHJ1ZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogR2V0IG9yIHNldCB3aGV0aGVyIGRyYWcgYWN0aW9ucyBjYW4gYmUgcGVyZm9ybWVkIG9uIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gdHJ1ZS9mYWxzZSBvciBBbiBvYmplY3Qgd2l0aCBldmVudFxuICAgICAqIGxpc3RlbmVycyB0byBiZSBmaXJlZCBvbiBkcmFnIGV2ZW50cyAob2JqZWN0IG1ha2VzIHRoZSBJbnRlcmFjdGFibGVcbiAgICAgKiBkcmFnZ2FibGUpXG4gICAgICovXG4gICAgZHJhZ2dhYmxlKG9wdGlvbnM/OiBQYXJ0aWFsPE9yQm9vbGVhbjxEcmFnZ2FibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpcyB8IERyYWdnYWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgZHJhZzogRHJhZ2dhYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJyB7XG4gIGludGVyZmFjZSBBY3Rpb25NYXAge1xuICAgIGRyYWc/OiB0eXBlb2YgZHJhZ1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIERyYWdFdmVudCA9IEludGVyYWN0RXZlbnQ8J2RyYWcnPlxuXG5leHBvcnQgaW50ZXJmYWNlIERyYWdnYWJsZU9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIHN0YXJ0QXhpcz86ICd4JyB8ICd5JyB8ICd4eSdcbiAgbG9ja0F4aXM/OiAneCcgfCAneScgfCAneHknIHwgJ3N0YXJ0J1xuICBvbmluZXJ0aWFzdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbnN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9ubW92ZT86IExpc3RlbmVyc0FyZ1xuICBvbmVuZD86IExpc3RlbmVyc0FyZ1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGFjdGlvbnMsIEludGVyYWN0YWJsZSwgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5kcmFnZ2FibGUgPSBkcmFnLmRyYWdnYWJsZVxuXG4gIGFjdGlvbnMubWFwLmRyYWcgPSBkcmFnXG4gIGFjdGlvbnMubWV0aG9kRGljdC5kcmFnID0gJ2RyYWdnYWJsZSdcblxuICBkZWZhdWx0cy5hY3Rpb25zLmRyYWcgPSBkcmFnLmRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIGJlZm9yZU1vdmUoeyBpbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHJldHVyblxuXG4gIGNvbnN0IGF4aXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5heGlzXG5cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZS55ID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueVxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIuY2xpZW50LnkgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50LnlcblxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5jbGllbnQueSA9IDBcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkucGFnZS55ID0gMFxuICB9IGVsc2UgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZS54ID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueFxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIuY2xpZW50LnggPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50LnhcblxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5jbGllbnQueCA9IDBcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkucGFnZS54ID0gMFxuICB9XG59XG5cbmZ1bmN0aW9uIG1vdmUoeyBpRXZlbnQsIGludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykgcmV0dXJuXG5cbiAgY29uc3QgYXhpcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmF4aXNcblxuICBpZiAoYXhpcyA9PT0gJ3gnIHx8IGF4aXMgPT09ICd5Jykge1xuICAgIGNvbnN0IG9wcG9zaXRlID0gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnXG5cbiAgICBpRXZlbnQucGFnZVtvcHBvc2l0ZV0gPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZVtvcHBvc2l0ZV1cbiAgICBpRXZlbnQuY2xpZW50W29wcG9zaXRlXSA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5jbGllbnRbb3Bwb3NpdGVdXG4gICAgaUV2ZW50LmRlbHRhW29wcG9zaXRlXSA9IDBcbiAgfVxufVxuXG5jb25zdCBkcmFnZ2FibGU6IEludGVyYWN0YWJsZVsnZHJhZ2dhYmxlJ10gPSBmdW5jdGlvbiBkcmFnZ2FibGUoXG4gIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgb3B0aW9ucz86IERyYWdnYWJsZU9wdGlvbnMgfCBib29sZWFuLFxuKTogYW55IHtcbiAgaWYgKGlzLm9iamVjdChvcHRpb25zKSkge1xuICAgIHRoaXMub3B0aW9ucy5kcmFnLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG4gICAgdGhpcy5zZXRQZXJBY3Rpb24oJ2RyYWcnLCBvcHRpb25zKVxuICAgIHRoaXMuc2V0T25FdmVudHMoJ2RyYWcnLCBvcHRpb25zKVxuXG4gICAgaWYgKC9eKHh5fHh8eXxzdGFydCkkLy50ZXN0KG9wdGlvbnMubG9ja0F4aXMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZHJhZy5sb2NrQXhpcyA9IG9wdGlvbnMubG9ja0F4aXNcbiAgICB9XG4gICAgaWYgKC9eKHh5fHh8eSkkLy50ZXN0KG9wdGlvbnMuc3RhcnRBeGlzKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRyYWcuc3RhcnRBeGlzID0gb3B0aW9ucy5zdGFydEF4aXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKGlzLmJvb2wob3B0aW9ucykpIHtcbiAgICB0aGlzLm9wdGlvbnMuZHJhZy5lbmFibGVkID0gb3B0aW9uc1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJldHVybiB0aGlzLm9wdGlvbnMuZHJhZyBhcyBEcmFnZ2FibGVPcHRpb25zXG59XG5cbmNvbnN0IGRyYWc6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhY3Rpb25zL2RyYWcnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IGJlZm9yZU1vdmUsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tcmVzdW1lJzogYmVmb3JlTW92ZSxcblxuICAgIC8vIGRyYWdtb3ZlXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IG1vdmUsXG4gICAgJ2F1dG8tc3RhcnQ6Y2hlY2snOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uLCBpbnRlcmFjdGFibGUsIGJ1dHRvbnMgfSA9IGFyZ1xuICAgICAgY29uc3QgZHJhZ09wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnXG5cbiAgICAgIGlmIChcbiAgICAgICAgIShkcmFnT3B0aW9ucyAmJiBkcmFnT3B0aW9ucy5lbmFibGVkKSB8fFxuICAgICAgICAvLyBjaGVjayBtb3VzZUJ1dHRvbiBzZXR0aW5nIGlmIHRoZSBwb2ludGVyIGlzIGRvd25cbiAgICAgICAgKGludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gJiZcbiAgICAgICAgICAvbW91c2V8cG9pbnRlci8udGVzdChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSkgJiZcbiAgICAgICAgICAoYnV0dG9ucyAmIGludGVyYWN0YWJsZS5vcHRpb25zLmRyYWcubW91c2VCdXR0b25zKSA9PT0gMClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGFyZy5hY3Rpb24gPSB7XG4gICAgICAgIG5hbWU6ICdkcmFnJyxcbiAgICAgICAgYXhpczogZHJhZ09wdGlvbnMubG9ja0F4aXMgPT09ICdzdGFydCcgPyBkcmFnT3B0aW9ucy5zdGFydEF4aXMgOiBkcmFnT3B0aW9ucy5sb2NrQXhpcyxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSxcbiAgfSxcbiAgZHJhZ2dhYmxlLFxuICBiZWZvcmVNb3ZlLFxuICBtb3ZlLFxuICBkZWZhdWx0czoge1xuICAgIHN0YXJ0QXhpczogJ3h5JyxcbiAgICBsb2NrQXhpczogJ3h5JyxcbiAgfSBhcyBEcmFnZ2FibGVPcHRpb25zLFxuXG4gIGdldEN1cnNvcigpIHtcbiAgICByZXR1cm4gJ21vdmUnXG4gIH0sXG5cbiAgZmlsdGVyRXZlbnRUeXBlOiAodHlwZTogc3RyaW5nKSA9PiB0eXBlLnNlYXJjaCgnZHJhZycpID09PSAwLFxufVxuXG5leHBvcnQgZGVmYXVsdCBkcmFnXG4iLCAiY29uc3QgZG9tT2JqZWN0czoge1xuICBpbml0OiBhbnlcbiAgZG9jdW1lbnQ6IERvY3VtZW50XG4gIERvY3VtZW50RnJhZ21lbnQ6IHR5cGVvZiBEb2N1bWVudEZyYWdtZW50XG4gIFNWR0VsZW1lbnQ6IHR5cGVvZiBTVkdFbGVtZW50XG4gIFNWR1NWR0VsZW1lbnQ6IHR5cGVvZiBTVkdTVkdFbGVtZW50XG4gIFNWR0VsZW1lbnRJbnN0YW5jZTogYW55XG4gIEVsZW1lbnQ6IHR5cGVvZiBFbGVtZW50XG4gIEhUTUxFbGVtZW50OiB0eXBlb2YgSFRNTEVsZW1lbnRcbiAgRXZlbnQ6IHR5cGVvZiBFdmVudFxuICBUb3VjaDogdHlwZW9mIFRvdWNoXG4gIFBvaW50ZXJFdmVudDogdHlwZW9mIFBvaW50ZXJFdmVudFxufSA9IHtcbiAgaW5pdCxcbiAgZG9jdW1lbnQ6IG51bGwsXG4gIERvY3VtZW50RnJhZ21lbnQ6IG51bGwsXG4gIFNWR0VsZW1lbnQ6IG51bGwsXG4gIFNWR1NWR0VsZW1lbnQ6IG51bGwsXG4gIFNWR0VsZW1lbnRJbnN0YW5jZTogbnVsbCxcbiAgRWxlbWVudDogbnVsbCxcbiAgSFRNTEVsZW1lbnQ6IG51bGwsXG4gIEV2ZW50OiBudWxsLFxuICBUb3VjaDogbnVsbCxcbiAgUG9pbnRlckV2ZW50OiBudWxsLFxufVxuXG5mdW5jdGlvbiBibGFuaygpIHt9XG5cbmV4cG9ydCBkZWZhdWx0IGRvbU9iamVjdHNcblxuZnVuY3Rpb24gaW5pdCh3aW5kb3c6IFdpbmRvdykge1xuICBjb25zdCB3aW4gPSB3aW5kb3cgYXMgYW55XG5cbiAgZG9tT2JqZWN0cy5kb2N1bWVudCA9IHdpbi5kb2N1bWVudFxuICBkb21PYmplY3RzLkRvY3VtZW50RnJhZ21lbnQgPSB3aW4uRG9jdW1lbnRGcmFnbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLlNWR0VsZW1lbnQgPSB3aW4uU1ZHRWxlbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLlNWR1NWR0VsZW1lbnQgPSB3aW4uU1ZHU1ZHRWxlbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLlNWR0VsZW1lbnRJbnN0YW5jZSA9IHdpbi5TVkdFbGVtZW50SW5zdGFuY2UgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5FbGVtZW50ID0gd2luLkVsZW1lbnQgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5IVE1MRWxlbWVudCA9IHdpbi5IVE1MRWxlbWVudCB8fCBkb21PYmplY3RzLkVsZW1lbnRcblxuICBkb21PYmplY3RzLkV2ZW50ID0gd2luLkV2ZW50XG4gIGRvbU9iamVjdHMuVG91Y2ggPSB3aW4uVG91Y2ggfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnQgPSB3aW4uUG9pbnRlckV2ZW50IHx8IHdpbi5NU1BvaW50ZXJFdmVudFxufVxuIiwgImltcG9ydCBkb21PYmplY3RzIGZyb20gJy4vZG9tT2JqZWN0cydcbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuXG5jb25zdCBicm93c2VyID0ge1xuICBpbml0LFxuICBzdXBwb3J0c1RvdWNoOiBudWxsIGFzIGJvb2xlYW4sXG4gIHN1cHBvcnRzUG9pbnRlckV2ZW50OiBudWxsIGFzIGJvb2xlYW4sXG4gIGlzSU9TNzogbnVsbCBhcyBib29sZWFuLFxuICBpc0lPUzogbnVsbCBhcyBib29sZWFuLFxuICBpc0llOTogbnVsbCBhcyBib29sZWFuLFxuICBpc09wZXJhTW9iaWxlOiBudWxsIGFzIGJvb2xlYW4sXG4gIHByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yOiBudWxsIGFzICdtYXRjaGVzJyxcbiAgcEV2ZW50VHlwZXM6IG51bGwgYXMge1xuICAgIHVwOiBzdHJpbmdcbiAgICBkb3duOiBzdHJpbmdcbiAgICBvdmVyOiBzdHJpbmdcbiAgICBvdXQ6IHN0cmluZ1xuICAgIG1vdmU6IHN0cmluZ1xuICAgIGNhbmNlbDogc3RyaW5nXG4gIH0sXG4gIHdoZWVsRXZlbnQ6IG51bGwgYXMgc3RyaW5nLFxufVxuXG5mdW5jdGlvbiBpbml0KHdpbmRvdzogYW55KSB7XG4gIGNvbnN0IEVsZW1lbnQgPSBkb21PYmplY3RzLkVsZW1lbnRcbiAgY29uc3QgbmF2aWdhdG9yOiBQYXJ0aWFsPE5hdmlnYXRvcj4gPSB3aW5kb3cubmF2aWdhdG9yIHx8IHt9XG5cbiAgLy8gRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IHRvdWNoIGlucHV0P1xuICBicm93c2VyLnN1cHBvcnRzVG91Y2ggPVxuICAgICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fFxuICAgIChpcy5mdW5jKHdpbmRvdy5Eb2N1bWVudFRvdWNoKSAmJiBkb21PYmplY3RzLmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpXG5cbiAgLy8gRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IFBvaW50ZXJFdmVudHNcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RheWUvaW50ZXJhY3QuanMvaXNzdWVzLzcwMyNpc3N1ZWNvbW1lbnQtNDcxNTcwNDkyXG4gIGJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnQgPSAobmF2aWdhdG9yIGFzIGFueSkucG9pbnRlckVuYWJsZWQgIT09IGZhbHNlICYmICEhZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnRcblxuICBicm93c2VyLmlzSU9TID0gL2lQKGhvbmV8b2R8YWQpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcblxuICAvLyBzY3JvbGxpbmcgZG9lc24ndCBjaGFuZ2UgdGhlIHJlc3VsdCBvZiBnZXRDbGllbnRSZWN0cyBvbiBpT1MgN1xuICBicm93c2VyLmlzSU9TNyA9IC9pUChob25lfG9kfGFkKS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pICYmIC9PUyA3W15cXGRdLy50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKVxuXG4gIGJyb3dzZXIuaXNJZTkgPSAvTVNJRSA5Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbiAgLy8gT3BlcmEgTW9iaWxlIG11c3QgYmUgaGFuZGxlZCBkaWZmZXJlbnRseVxuICBicm93c2VyLmlzT3BlcmFNb2JpbGUgPVxuICAgIG5hdmlnYXRvci5hcHBOYW1lID09PSAnT3BlcmEnICYmIGJyb3dzZXIuc3VwcG9ydHNUb3VjaCAmJiAvUHJlc3RvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbiAgLy8gcHJlZml4IG1hdGNoZXNTZWxlY3RvclxuICBicm93c2VyLnByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yID0gKFxuICAgICdtYXRjaGVzJyBpbiBFbGVtZW50LnByb3RvdHlwZVxuICAgICAgPyAnbWF0Y2hlcydcbiAgICAgIDogJ3dlYmtpdE1hdGNoZXNTZWxlY3RvcicgaW4gRWxlbWVudC5wcm90b3R5cGVcbiAgICAgICAgPyAnd2Via2l0TWF0Y2hlc1NlbGVjdG9yJ1xuICAgICAgICA6ICdtb3pNYXRjaGVzU2VsZWN0b3InIGluIEVsZW1lbnQucHJvdG90eXBlXG4gICAgICAgICAgPyAnbW96TWF0Y2hlc1NlbGVjdG9yJ1xuICAgICAgICAgIDogJ29NYXRjaGVzU2VsZWN0b3InIGluIEVsZW1lbnQucHJvdG90eXBlXG4gICAgICAgICAgICA/ICdvTWF0Y2hlc1NlbGVjdG9yJ1xuICAgICAgICAgICAgOiAnbXNNYXRjaGVzU2VsZWN0b3InXG4gICkgYXMgJ21hdGNoZXMnXG5cbiAgYnJvd3Nlci5wRXZlbnRUeXBlcyA9IGJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnRcbiAgICA/IGRvbU9iamVjdHMuUG9pbnRlckV2ZW50ID09PSB3aW5kb3cuTVNQb2ludGVyRXZlbnRcbiAgICAgID8ge1xuICAgICAgICAgIHVwOiAnTVNQb2ludGVyVXAnLFxuICAgICAgICAgIGRvd246ICdNU1BvaW50ZXJEb3duJyxcbiAgICAgICAgICBvdmVyOiAnbW91c2VvdmVyJyxcbiAgICAgICAgICBvdXQ6ICdtb3VzZW91dCcsXG4gICAgICAgICAgbW92ZTogJ01TUG9pbnRlck1vdmUnLFxuICAgICAgICAgIGNhbmNlbDogJ01TUG9pbnRlckNhbmNlbCcsXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIHVwOiAncG9pbnRlcnVwJyxcbiAgICAgICAgICBkb3duOiAncG9pbnRlcmRvd24nLFxuICAgICAgICAgIG92ZXI6ICdwb2ludGVyb3ZlcicsXG4gICAgICAgICAgb3V0OiAncG9pbnRlcm91dCcsXG4gICAgICAgICAgbW92ZTogJ3BvaW50ZXJtb3ZlJyxcbiAgICAgICAgICBjYW5jZWw6ICdwb2ludGVyY2FuY2VsJyxcbiAgICAgICAgfVxuICAgIDogbnVsbFxuXG4gIC8vIGJlY2F1c2UgV2Via2l0IGFuZCBPcGVyYSBzdGlsbCB1c2UgJ21vdXNld2hlZWwnIGV2ZW50IHR5cGVcbiAgYnJvd3Nlci53aGVlbEV2ZW50ID0gZG9tT2JqZWN0cy5kb2N1bWVudCAmJiAnb25tb3VzZXdoZWVsJyBpbiBkb21PYmplY3RzLmRvY3VtZW50ID8gJ21vdXNld2hlZWwnIDogJ3doZWVsJ1xufVxuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyXG4iLCAiaW1wb3J0IHR5cGUgeyBSZWN0LCBUYXJnZXQsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL2Jyb3dzZXInXG5pbXBvcnQgZG9tT2JqZWN0cyBmcm9tICcuL2RvbU9iamVjdHMnXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcbmltcG9ydCAqIGFzIHdpbiBmcm9tICcuL3dpbmRvdydcblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVDb250YWlucyhwYXJlbnQ6IE5vZGUsIGNoaWxkOiBOb2RlKSB7XG4gIGlmIChwYXJlbnQuY29udGFpbnMpIHtcbiAgICByZXR1cm4gcGFyZW50LmNvbnRhaW5zKGNoaWxkIGFzIE5vZGUpXG4gIH1cblxuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgPT09IHBhcmVudCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjaGlsZCA9IChjaGlsZCBhcyBOb2RlKS5wYXJlbnROb2RlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3QoZWxlbWVudDogTm9kZSwgc2VsZWN0b3I6IHN0cmluZykge1xuICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIGlmIChtYXRjaGVzU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIGVsZW1lbnQgPSBwYXJlbnROb2RlKGVsZW1lbnQpXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyZW50Tm9kZShub2RlOiBOb2RlIHwgRG9jdW1lbnQpIHtcbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZVxuXG4gIGlmIChpcy5kb2NGcmFnKHBhcmVudCkpIHtcbiAgICAvLyBza2lwIHBhc3QgI3NoYWRvLXJvb3QgZnJhZ21lbnRzXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChwYXJlbnQgPSAocGFyZW50IGFzIGFueSkuaG9zdCkgJiYgaXMuZG9jRnJhZyhwYXJlbnQpKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHJldHVybiBwYXJlbnRcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvcihlbGVtZW50OiBFbGVtZW50LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIC8vIHJlbW92ZSAvZGVlcC8gZnJvbSBzZWxlY3RvcnMgaWYgc2hhZG93RE9NIHBvbHlmaWxsIGlzIHVzZWRcbiAgaWYgKHdpbi53aW5kb3cgIT09IHdpbi5yZWFsV2luZG93KSB7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKC9cXC9kZWVwXFwvL2csICcgJylcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50W2Jyb3dzZXIucHJlZml4ZWRNYXRjaGVzU2VsZWN0b3JdKHNlbGVjdG9yKVxufVxuXG5jb25zdCBnZXRQYXJlbnQgPSAoZWw6IE5vZGUgfCBEb2N1bWVudCB8IFNoYWRvd1Jvb3QpID0+IGVsLnBhcmVudE5vZGUgfHwgKGVsIGFzIFNoYWRvd1Jvb3QpLmhvc3RcblxuLy8gVGVzdCBmb3IgdGhlIGVsZW1lbnQgdGhhdCdzIFwiYWJvdmVcIiBhbGwgb3RoZXIgcXVhbGlmaWVyc1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2ZEZWVwZXN0RWxlbWVudChlbGVtZW50czogRWxlbWVudFtdIHwgTm9kZUxpc3RPZjxnbG9iYWxUaGlzLkVsZW1lbnQ+KSB7XG4gIGxldCBkZWVwZXN0Tm9kZVBhcmVudHM6IE5vZGVbXSA9IFtdXG4gIGxldCBkZWVwZXN0Tm9kZUluZGV4OiBudW1iZXJcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3VycmVudE5vZGUgPSBlbGVtZW50c1tpXVxuICAgIGNvbnN0IGRlZXBlc3ROb2RlOiBOb2RlID0gZWxlbWVudHNbZGVlcGVzdE5vZGVJbmRleF1cblxuICAgIC8vIG5vZGUgbWF5IGFwcGVhciBpbiBlbGVtZW50cyBhcnJheSBtdWx0aXBsZSB0aW1lc1xuICAgIGlmICghY3VycmVudE5vZGUgfHwgaSA9PT0gZGVlcGVzdE5vZGVJbmRleCkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBpZiAoIWRlZXBlc3ROb2RlKSB7XG4gICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZVBhcmVudCA9IGdldFBhcmVudChjdXJyZW50Tm9kZSlcbiAgICBjb25zdCBkZWVwZXN0Tm9kZVBhcmVudCA9IGdldFBhcmVudChkZWVwZXN0Tm9kZSlcblxuICAgIC8vIGNoZWNrIGlmIHRoZSBkZWVwZXN0IG9yIGN1cnJlbnQgYXJlIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC9yb290RWxlbWVudFxuICAgIC8vIC0gaWYgdGhlIGN1cnJlbnQgbm9kZSBpcywgZG8gbm90aGluZyBhbmQgY29udGludWVcbiAgICBpZiAoY3VycmVudE5vZGVQYXJlbnQgPT09IGN1cnJlbnROb2RlLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIC0gaWYgZGVlcGVzdCBpcywgdXBkYXRlIHdpdGggdGhlIGN1cnJlbnQgbm9kZSBhbmQgY29udGludWUgdG8gbmV4dFxuICAgIGVsc2UgaWYgKGRlZXBlc3ROb2RlUGFyZW50ID09PSBjdXJyZW50Tm9kZS5vd25lckRvY3VtZW50KSB7XG4gICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICAvLyBjb21wYXJlIHpJbmRleCBvZiBzaWJsaW5nc1xuICAgIGlmIChjdXJyZW50Tm9kZVBhcmVudCA9PT0gZGVlcGVzdE5vZGVQYXJlbnQpIHtcbiAgICAgIGlmICh6SW5kZXhJc0hpZ2hlclRoYW4oY3VycmVudE5vZGUsIGRlZXBlc3ROb2RlKSkge1xuICAgICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgfVxuXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIC8vIHBvcHVsYXRlIHRoZSBhbmNlc3RyeSBhcnJheSBmb3IgdGhlIGxhdGVzdCBkZWVwZXN0IG5vZGVcbiAgICBkZWVwZXN0Tm9kZVBhcmVudHMgPSBkZWVwZXN0Tm9kZVBhcmVudHMubGVuZ3RoID8gZGVlcGVzdE5vZGVQYXJlbnRzIDogZ2V0Tm9kZVBhcmVudHMoZGVlcGVzdE5vZGUpXG5cbiAgICBsZXQgYW5jZXN0cnlTdGFydDogTm9kZVxuXG4gICAgLy8gaWYgdGhlIGRlZXBlc3Qgbm9kZSBpcyBhbiBIVE1MRWxlbWVudCBhbmQgdGhlIGN1cnJlbnQgbm9kZSBpcyBhIG5vbiByb290IHN2ZyBlbGVtZW50XG4gICAgaWYgKFxuICAgICAgZGVlcGVzdE5vZGUgaW5zdGFuY2VvZiBkb21PYmplY3RzLkhUTUxFbGVtZW50ICYmXG4gICAgICBjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIGRvbU9iamVjdHMuU1ZHRWxlbWVudCAmJlxuICAgICAgIShjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIGRvbU9iamVjdHMuU1ZHU1ZHRWxlbWVudClcbiAgICApIHtcbiAgICAgIC8vIFRPRE86IGlzIHRoaXMgY2hlY2sgbmVjZXNzYXJ5PyBXYXMgdGhpcyBmb3IgSFRNTCBlbGVtZW50cyBlbWJlZGRlZCBpbiBTVkc/XG4gICAgICBpZiAoY3VycmVudE5vZGUgPT09IGRlZXBlc3ROb2RlUGFyZW50KSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGFuY2VzdHJ5U3RhcnQgPSBjdXJyZW50Tm9kZS5vd25lclNWR0VsZW1lbnRcbiAgICB9IGVsc2Uge1xuICAgICAgYW5jZXN0cnlTdGFydCA9IGN1cnJlbnROb2RlXG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE5vZGVQYXJlbnRzID0gZ2V0Tm9kZVBhcmVudHMoYW5jZXN0cnlTdGFydCwgZGVlcGVzdE5vZGUub3duZXJEb2N1bWVudClcbiAgICBsZXQgY29tbW9uSW5kZXggPSAwXG5cbiAgICAvLyBnZXQgKHBvc2l0aW9uIG9mIGNsb3Nlc3QgY29tbW9uIGFuY2VzdG9yKSArIDFcbiAgICB3aGlsZSAoXG4gICAgICBjdXJyZW50Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdICYmXG4gICAgICBjdXJyZW50Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdID09PSBkZWVwZXN0Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdXG4gICAgKSB7XG4gICAgICBjb21tb25JbmRleCsrXG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50cyA9IFtcbiAgICAgIGN1cnJlbnROb2RlUGFyZW50c1tjb21tb25JbmRleCAtIDFdLFxuICAgICAgY3VycmVudE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4XSxcbiAgICAgIGRlZXBlc3ROb2RlUGFyZW50c1tjb21tb25JbmRleF0sXG4gICAgXVxuXG4gICAgaWYgKHBhcmVudHNbMF0pIHtcbiAgICAgIGxldCBjaGlsZCA9IHBhcmVudHNbMF0ubGFzdENoaWxkXG5cbiAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQgPT09IHBhcmVudHNbMV0pIHtcbiAgICAgICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgICAgIGRlZXBlc3ROb2RlUGFyZW50cyA9IGN1cnJlbnROb2RlUGFyZW50c1xuXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCA9PT0gcGFyZW50c1syXSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWVwZXN0Tm9kZUluZGV4XG59XG5cbmZ1bmN0aW9uIGdldE5vZGVQYXJlbnRzKG5vZGU6IE5vZGUsIGxpbWl0PzogTm9kZSkge1xuICBjb25zdCBwYXJlbnRzOiBOb2RlW10gPSBbXVxuICBsZXQgcGFyZW50OiBOb2RlID0gbm9kZVxuICBsZXQgcGFyZW50UGFyZW50OiBOb2RlXG5cbiAgd2hpbGUgKChwYXJlbnRQYXJlbnQgPSBnZXRQYXJlbnQocGFyZW50KSkgJiYgcGFyZW50ICE9PSBsaW1pdCAmJiBwYXJlbnRQYXJlbnQgIT09IHBhcmVudC5vd25lckRvY3VtZW50KSB7XG4gICAgcGFyZW50cy51bnNoaWZ0KHBhcmVudClcbiAgICBwYXJlbnQgPSBwYXJlbnRQYXJlbnRcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRzXG59XG5cbmZ1bmN0aW9uIHpJbmRleElzSGlnaGVyVGhhbihoaWdoZXJOb2RlOiBOb2RlLCBsb3dlck5vZGU6IE5vZGUpIHtcbiAgY29uc3QgaGlnaGVySW5kZXggPSBwYXJzZUludCh3aW4uZ2V0V2luZG93KGhpZ2hlck5vZGUpLmdldENvbXB1dGVkU3R5bGUoaGlnaGVyTm9kZSkuekluZGV4LCAxMCkgfHwgMFxuICBjb25zdCBsb3dlckluZGV4ID0gcGFyc2VJbnQod2luLmdldFdpbmRvdyhsb3dlck5vZGUpLmdldENvbXB1dGVkU3R5bGUobG93ZXJOb2RlKS56SW5kZXgsIDEwKSB8fCAwXG5cbiAgcmV0dXJuIGhpZ2hlckluZGV4ID49IGxvd2VySW5kZXhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXNVcFRvKGVsZW1lbnQ6IEVsZW1lbnQsIHNlbGVjdG9yOiBzdHJpbmcsIGxpbWl0OiBOb2RlKSB7XG4gIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgaWYgKG1hdGNoZXNTZWxlY3RvcihlbGVtZW50LCBzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgZWxlbWVudCA9IHBhcmVudE5vZGUoZWxlbWVudCkgYXMgRWxlbWVudFxuXG4gICAgaWYgKGVsZW1lbnQgPT09IGxpbWl0KSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0dWFsRWxlbWVudChlbGVtZW50OiBFbGVtZW50KSB7XG4gIHJldHVybiAoZWxlbWVudCBhcyBhbnkpLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50IHx8IGVsZW1lbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFhZKHJlbGV2YW50V2luZG93PzogV2luZG93KSB7XG4gIHJlbGV2YW50V2luZG93ID0gcmVsZXZhbnRXaW5kb3cgfHwgd2luLndpbmRvd1xuICByZXR1cm4ge1xuICAgIHg6IHJlbGV2YW50V2luZG93LnNjcm9sbFggfHwgcmVsZXZhbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgeTogcmVsZXZhbnRXaW5kb3cuc2Nyb2xsWSB8fCByZWxldmFudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50OiBFbGVtZW50KTogUmVxdWlyZWQ8UmVjdD4ge1xuICBjb25zdCBjbGllbnRSZWN0ID1cbiAgICBlbGVtZW50IGluc3RhbmNlb2YgZG9tT2JqZWN0cy5TVkdFbGVtZW50ID8gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKVswXVxuXG4gIHJldHVybiAoXG4gICAgY2xpZW50UmVjdCAmJiB7XG4gICAgICBsZWZ0OiBjbGllbnRSZWN0LmxlZnQsXG4gICAgICByaWdodDogY2xpZW50UmVjdC5yaWdodCxcbiAgICAgIHRvcDogY2xpZW50UmVjdC50b3AsXG4gICAgICBib3R0b206IGNsaWVudFJlY3QuYm90dG9tLFxuICAgICAgd2lkdGg6IGNsaWVudFJlY3Qud2lkdGggfHwgY2xpZW50UmVjdC5yaWdodCAtIGNsaWVudFJlY3QubGVmdCxcbiAgICAgIGhlaWdodDogY2xpZW50UmVjdC5oZWlnaHQgfHwgY2xpZW50UmVjdC5ib3R0b20gLSBjbGllbnRSZWN0LnRvcCxcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgY29uc3QgY2xpZW50UmVjdCA9IGdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQpXG5cbiAgaWYgKCFicm93c2VyLmlzSU9TNyAmJiBjbGllbnRSZWN0KSB7XG4gICAgY29uc3Qgc2Nyb2xsID0gZ2V0U2Nyb2xsWFkod2luLmdldFdpbmRvdyhlbGVtZW50KSlcblxuICAgIGNsaWVudFJlY3QubGVmdCArPSBzY3JvbGwueFxuICAgIGNsaWVudFJlY3QucmlnaHQgKz0gc2Nyb2xsLnhcbiAgICBjbGllbnRSZWN0LnRvcCArPSBzY3JvbGwueVxuICAgIGNsaWVudFJlY3QuYm90dG9tICs9IHNjcm9sbC55XG4gIH1cblxuICByZXR1cm4gY2xpZW50UmVjdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aChub2RlOiBOb2RlIHwgRG9jdW1lbnQpIHtcbiAgY29uc3QgcGF0aCA9IFtdXG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBwYXRoLnB1c2gobm9kZSlcbiAgICBub2RlID0gcGFyZW50Tm9kZShub2RlKVxuICB9XG5cbiAgcmV0dXJuIHBhdGhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeVNlbGVjdG9yKHZhbHVlOiBUYXJnZXQpIHtcbiAgaWYgKCFpcy5zdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBhbiBleGNlcHRpb24gd2lsbCBiZSByYWlzZWQgaWYgaXQgaXMgaW52YWxpZFxuICBkb21PYmplY3RzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodmFsdWUpXG4gIHJldHVybiB0cnVlXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0ZW5kPFQsIFUgZXh0ZW5kcyBvYmplY3Q+KGRlc3Q6IFUgJiBQYXJ0aWFsPFQ+LCBzb3VyY2U6IFQpOiBUICYgVSB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICA7KGRlc3QgYXMgdW5rbm93biBhcyBUKVtwcm9wXSA9IHNvdXJjZVtwcm9wXVxuICB9XG5cbiAgY29uc3QgcmV0ID0gZGVzdCBhcyBUICYgVVxuXG4gIHJldHVybiByZXRcbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIEhhc0dldFJlY3QsXG4gIFJlY3RSZXNvbHZhYmxlLFxuICBSZWN0LFxuICBFbGVtZW50LFxuICBQb2ludCxcbiAgRnVsbFJlY3QsXG4gIEVkZ2VPcHRpb25zLFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyBjbG9zZXN0LCBnZXRFbGVtZW50UmVjdCwgcGFyZW50Tm9kZSB9IGZyb20gJy4vZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJy4vZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJpbmdPcHRpb25SZXN1bHQodmFsdWU6IGFueSwgdGFyZ2V0OiBIYXNHZXRSZWN0LCBlbGVtZW50OiBOb2RlKSB7XG4gIGlmICh2YWx1ZSA9PT0gJ3BhcmVudCcpIHtcbiAgICByZXR1cm4gcGFyZW50Tm9kZShlbGVtZW50KVxuICB9XG5cbiAgaWYgKHZhbHVlID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gdGFyZ2V0LmdldFJlY3QoZWxlbWVudCBhcyBFbGVtZW50KVxuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudCwgdmFsdWUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUmVjdExpa2U8VCBleHRlbmRzIGFueVtdPihcbiAgdmFsdWU6IFJlY3RSZXNvbHZhYmxlPFQ+LFxuICB0YXJnZXQ/OiBIYXNHZXRSZWN0LFxuICBlbGVtZW50PzogTm9kZSxcbiAgZnVuY3Rpb25BcmdzPzogVCxcbikge1xuICBsZXQgcmV0dXJuVmFsdWU6IGFueSA9IHZhbHVlXG4gIGlmIChpcy5zdHJpbmcocmV0dXJuVmFsdWUpKSB7XG4gICAgcmV0dXJuVmFsdWUgPSBnZXRTdHJpbmdPcHRpb25SZXN1bHQocmV0dXJuVmFsdWUsIHRhcmdldCwgZWxlbWVudClcbiAgfSBlbHNlIGlmIChpcy5mdW5jKHJldHVyblZhbHVlKSkge1xuICAgIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWUoLi4uZnVuY3Rpb25BcmdzKVxuICB9XG5cbiAgaWYgKGlzLmVsZW1lbnQocmV0dXJuVmFsdWUpKSB7XG4gICAgcmV0dXJuVmFsdWUgPSBnZXRFbGVtZW50UmVjdChyZXR1cm5WYWx1ZSlcbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZSBhcyBSZWN0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0Z1bGxSZWN0KHJlY3Q6IFJlY3QpOiBGdWxsUmVjdCB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSByZWN0XG4gIGNvbnN0IHdpZHRoID0gcmVjdC53aWR0aCA/PyByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gIGNvbnN0IGhlaWdodCA9IHJlY3QuaGVpZ2h0ID8/IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcblxuICByZXR1cm4geyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQsIHdpZHRoLCBoZWlnaHQgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVjdFRvWFkocmVjdDogUmVjdCB8IFBvaW50KSB7XG4gIHJldHVybiAoXG4gICAgcmVjdCAmJiB7XG4gICAgICB4OiAneCcgaW4gcmVjdCA/IHJlY3QueCA6IHJlY3QubGVmdCxcbiAgICAgIHk6ICd5JyBpbiByZWN0ID8gcmVjdC55IDogcmVjdC50b3AsXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB4eXdoVG9UbGJyPFQgZXh0ZW5kcyBQYXJ0aWFsPFJlY3QgJiBQb2ludD4+KHJlY3Q6IFQpIHtcbiAgaWYgKHJlY3QgJiYgISgnbGVmdCcgaW4gcmVjdCAmJiAndG9wJyBpbiByZWN0KSkge1xuICAgIHJlY3QgPSBleHRlbmQoe30sIHJlY3QpXG5cbiAgICByZWN0LmxlZnQgPSByZWN0LnggfHwgMFxuICAgIHJlY3QudG9wID0gcmVjdC55IHx8IDBcbiAgICByZWN0LnJpZ2h0ID0gcmVjdC5yaWdodCB8fCByZWN0LmxlZnQgKyByZWN0LndpZHRoXG4gICAgcmVjdC5ib3R0b20gPSByZWN0LmJvdHRvbSB8fCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0XG4gIH1cblxuICByZXR1cm4gcmVjdCBhcyBSZWN0ICYgVFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGxiclRvWHl3aChyZWN0OiBSZWN0ICYgUGFydGlhbDxQb2ludD4pIHtcbiAgaWYgKHJlY3QgJiYgISgneCcgaW4gcmVjdCAmJiAneScgaW4gcmVjdCkpIHtcbiAgICByZWN0ID0gZXh0ZW5kKHt9LCByZWN0KVxuXG4gICAgcmVjdC54ID0gcmVjdC5sZWZ0IHx8IDBcbiAgICByZWN0LnkgPSByZWN0LnRvcCB8fCAwXG4gICAgcmVjdC53aWR0aCA9IHJlY3Qud2lkdGggfHwgKHJlY3QucmlnaHQgfHwgMCkgLSByZWN0LnhcbiAgICByZWN0LmhlaWdodCA9IHJlY3QuaGVpZ2h0IHx8IChyZWN0LmJvdHRvbSB8fCAwKSAtIHJlY3QueVxuICB9XG5cbiAgcmV0dXJuIHJlY3QgYXMgRnVsbFJlY3QgJiBQb2ludFxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWRnZXMoZWRnZXM6IEVkZ2VPcHRpb25zLCByZWN0OiBSZWN0LCBkZWx0YTogUG9pbnQpIHtcbiAgaWYgKGVkZ2VzLmxlZnQpIHtcbiAgICByZWN0LmxlZnQgKz0gZGVsdGEueFxuICB9XG4gIGlmIChlZGdlcy5yaWdodCkge1xuICAgIHJlY3QucmlnaHQgKz0gZGVsdGEueFxuICB9XG4gIGlmIChlZGdlcy50b3ApIHtcbiAgICByZWN0LnRvcCArPSBkZWx0YS55XG4gIH1cbiAgaWYgKGVkZ2VzLmJvdHRvbSkge1xuICAgIHJlY3QuYm90dG9tICs9IGRlbHRhLnlcbiAgfVxuXG4gIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxufVxuIiwgImltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEhhc0dldFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyByZWN0VG9YWSwgcmVzb2x2ZVJlY3RMaWtlIH0gZnJvbSAnLi9yZWN0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcmlnaW5YWShcbiAgdGFyZ2V0OiBIYXNHZXRSZWN0ICYgeyBvcHRpb25zOiBQZXJBY3Rpb25EZWZhdWx0cyB9LFxuICBlbGVtZW50OiBOb2RlLFxuICBhY3Rpb25OYW1lPzogQWN0aW9uTmFtZSxcbikge1xuICBjb25zdCBhY3Rpb25PcHRpb25zID0gYWN0aW9uTmFtZSAmJiAodGFyZ2V0Lm9wdGlvbnMgYXMgYW55KVthY3Rpb25OYW1lXVxuICBjb25zdCBhY3Rpb25PcmlnaW4gPSBhY3Rpb25PcHRpb25zICYmIGFjdGlvbk9wdGlvbnMub3JpZ2luXG4gIGNvbnN0IG9yaWdpbiA9IGFjdGlvbk9yaWdpbiB8fCB0YXJnZXQub3B0aW9ucy5vcmlnaW5cblxuICBjb25zdCBvcmlnaW5SZWN0ID0gcmVzb2x2ZVJlY3RMaWtlKG9yaWdpbiwgdGFyZ2V0LCBlbGVtZW50LCBbdGFyZ2V0ICYmIGVsZW1lbnRdKVxuXG4gIHJldHVybiByZWN0VG9YWShvcmlnaW5SZWN0KSB8fCB7IHg6IDAsIHk6IDAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRUeXBlcywgTGlzdGVuZXIsIExpc3RlbmVyc0FyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vcm1hbGl6ZWRMaXN0ZW5lcnMge1xuICBbdHlwZTogc3RyaW5nXTogTGlzdGVuZXJbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub3JtYWxpemUoXG4gIHR5cGU6IEV2ZW50VHlwZXMsXG4gIGxpc3RlbmVycz86IExpc3RlbmVyc0FyZyB8IExpc3RlbmVyc0FyZ1tdIHwgbnVsbCxcbiAgZmlsdGVyID0gKF90eXBlT3JQcmVmaXg6IHN0cmluZykgPT4gdHJ1ZSxcbiAgcmVzdWx0PzogTm9ybWFsaXplZExpc3RlbmVycyxcbik6IE5vcm1hbGl6ZWRMaXN0ZW5lcnMge1xuICByZXN1bHQgPSByZXN1bHQgfHwge31cblxuICBpZiAoaXMuc3RyaW5nKHR5cGUpICYmIHR5cGUuc2VhcmNoKCcgJykgIT09IC0xKSB7XG4gICAgdHlwZSA9IHNwbGl0KHR5cGUpXG4gIH1cblxuICBpZiAoaXMuYXJyYXkodHlwZSkpIHtcbiAgICB0eXBlLmZvckVhY2goKHQpID0+IG5vcm1hbGl6ZSh0LCBsaXN0ZW5lcnMsIGZpbHRlciwgcmVzdWx0KSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBiZWZvcmU6ICB0eXBlID0gW3sgZHJhZzogKCkgPT4ge30gfV0sIGxpc3RlbmVycyA9IHVuZGVmaW5lZFxuICAvLyBhZnRlcjogICB0eXBlID0gJycgICAgICAgICAgICAgICAgICAsIGxpc3RlbmVycyA9IFt7IGRyYWc6ICgpID0+IHt9IH1dXG4gIGlmIChpcy5vYmplY3QodHlwZSkpIHtcbiAgICBsaXN0ZW5lcnMgPSB0eXBlXG4gICAgdHlwZSA9ICcnXG4gIH1cblxuICBpZiAoaXMuZnVuYyhsaXN0ZW5lcnMpICYmIGZpbHRlcih0eXBlKSkge1xuICAgIHJlc3VsdFt0eXBlXSA9IHJlc3VsdFt0eXBlXSB8fCBbXVxuICAgIHJlc3VsdFt0eXBlXS5wdXNoKGxpc3RlbmVycylcbiAgfSBlbHNlIGlmIChpcy5hcnJheShsaXN0ZW5lcnMpKSB7XG4gICAgZm9yIChjb25zdCBsIG9mIGxpc3RlbmVycykge1xuICAgICAgbm9ybWFsaXplKHR5cGUsIGwsIGZpbHRlciwgcmVzdWx0KVxuICAgIH1cbiAgfSBlbHNlIGlmIChpcy5vYmplY3QobGlzdGVuZXJzKSkge1xuICAgIGZvciAoY29uc3QgcHJlZml4IGluIGxpc3RlbmVycykge1xuICAgICAgY29uc3QgY29tYmluZWRUeXBlcyA9IHNwbGl0KHByZWZpeCkubWFwKChwKSA9PiBgJHt0eXBlfSR7cH1gKVxuXG4gICAgICBub3JtYWxpemUoY29tYmluZWRUeXBlcywgbGlzdGVuZXJzW3ByZWZpeF0sIGZpbHRlciwgcmVzdWx0KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQgYXMgTm9ybWFsaXplZExpc3RlbmVyc1xufVxuXG5mdW5jdGlvbiBzcGxpdCh0eXBlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHR5cGUudHJpbSgpLnNwbGl0KC8gKy8pXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSlcbiIsICJjb25zdCBWRU5ET1JfUFJFRklYRVMgPSBbJ3dlYmtpdCcsICdtb3onXVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2ludGVyRXh0ZW5kPFQ+KGRlc3Q6IFBhcnRpYWw8VCAmIHsgX19zZXQ/OiBQYXJ0aWFsPFQ+IH0+LCBzb3VyY2U6IFQpIHtcbiAgZGVzdC5fX3NldCB8fD0ge30gYXMgYW55XG5cbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIC8vIHNraXAgZGVwcmVjYXRlZCBwcmVmaXhlZCBwcm9wZXJ0aWVzXG4gICAgaWYgKFZFTkRPUl9QUkVGSVhFUy5zb21lKChwcmVmaXgpID0+IHByb3AuaW5kZXhPZihwcmVmaXgpID09PSAwKSkgY29udGludWVcblxuICAgIGlmICh0eXBlb2YgZGVzdFtwcm9wXSAhPT0gJ2Z1bmN0aW9uJyAmJiBwcm9wICE9PSAnX19zZXQnKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVzdCwgcHJvcCwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgaWYgKHByb3AgaW4gZGVzdC5fX3NldCkgcmV0dXJuIGRlc3QuX19zZXRbcHJvcF1cblxuICAgICAgICAgIHJldHVybiAoZGVzdC5fX3NldFtwcm9wXSA9IHNvdXJjZVtwcm9wXSBhcyBhbnkpXG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWx1ZTogYW55KSB7XG4gICAgICAgICAgZGVzdC5fX3NldFtwcm9wXSA9IHZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHJldHVybiBkZXN0XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBDb29yZHNTZXRNZW1iZXIsIFBvaW50ZXJUeXBlLCBQb2ludCwgUG9pbnRlckV2ZW50VHlwZSwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4vYnJvd3NlcidcbmltcG9ydCBkb20gZnJvbSAnLi9kb21PYmplY3RzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnLi9kb21VdGlscydcbmltcG9ydCBoeXBvdCBmcm9tICcuL2h5cG90J1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5pbXBvcnQgcG9pbnRlckV4dGVuZCBmcm9tICcuL3BvaW50ZXJFeHRlbmQnXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5Q29vcmRzKGRlc3Q6IENvb3Jkc1NldE1lbWJlciwgc3JjOiBDb29yZHNTZXRNZW1iZXIpIHtcbiAgZGVzdC5wYWdlID0gZGVzdC5wYWdlIHx8ICh7fSBhcyBhbnkpXG4gIGRlc3QucGFnZS54ID0gc3JjLnBhZ2UueFxuICBkZXN0LnBhZ2UueSA9IHNyYy5wYWdlLnlcblxuICBkZXN0LmNsaWVudCA9IGRlc3QuY2xpZW50IHx8ICh7fSBhcyBhbnkpXG4gIGRlc3QuY2xpZW50LnggPSBzcmMuY2xpZW50LnhcbiAgZGVzdC5jbGllbnQueSA9IHNyYy5jbGllbnQueVxuXG4gIGRlc3QudGltZVN0YW1wID0gc3JjLnRpbWVTdGFtcFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29vcmREZWx0YXModGFyZ2V0T2JqOiBDb29yZHNTZXRNZW1iZXIsIHByZXY6IENvb3Jkc1NldE1lbWJlciwgY3VyOiBDb29yZHNTZXRNZW1iZXIpIHtcbiAgdGFyZ2V0T2JqLnBhZ2UueCA9IGN1ci5wYWdlLnggLSBwcmV2LnBhZ2UueFxuICB0YXJnZXRPYmoucGFnZS55ID0gY3VyLnBhZ2UueSAtIHByZXYucGFnZS55XG4gIHRhcmdldE9iai5jbGllbnQueCA9IGN1ci5jbGllbnQueCAtIHByZXYuY2xpZW50LnhcbiAgdGFyZ2V0T2JqLmNsaWVudC55ID0gY3VyLmNsaWVudC55IC0gcHJldi5jbGllbnQueVxuICB0YXJnZXRPYmoudGltZVN0YW1wID0gY3VyLnRpbWVTdGFtcCAtIHByZXYudGltZVN0YW1wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29yZFZlbG9jaXR5KHRhcmdldE9iajogQ29vcmRzU2V0TWVtYmVyLCBkZWx0YTogQ29vcmRzU2V0TWVtYmVyKSB7XG4gIGNvbnN0IGR0ID0gTWF0aC5tYXgoZGVsdGEudGltZVN0YW1wIC8gMTAwMCwgMC4wMDEpXG5cbiAgdGFyZ2V0T2JqLnBhZ2UueCA9IGRlbHRhLnBhZ2UueCAvIGR0XG4gIHRhcmdldE9iai5wYWdlLnkgPSBkZWx0YS5wYWdlLnkgLyBkdFxuICB0YXJnZXRPYmouY2xpZW50LnggPSBkZWx0YS5jbGllbnQueCAvIGR0XG4gIHRhcmdldE9iai5jbGllbnQueSA9IGRlbHRhLmNsaWVudC55IC8gZHRcbiAgdGFyZ2V0T2JqLnRpbWVTdGFtcCA9IGR0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRaZXJvQ29vcmRzKHRhcmdldE9iajogQ29vcmRzU2V0TWVtYmVyKSB7XG4gIHRhcmdldE9iai5wYWdlLnggPSAwXG4gIHRhcmdldE9iai5wYWdlLnkgPSAwXG4gIHRhcmdldE9iai5jbGllbnQueCA9IDBcbiAgdGFyZ2V0T2JqLmNsaWVudC55ID0gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOYXRpdmVQb2ludGVyKHBvaW50ZXI6IGFueSkge1xuICByZXR1cm4gcG9pbnRlciBpbnN0YW5jZW9mIGRvbS5FdmVudCB8fCBwb2ludGVyIGluc3RhbmNlb2YgZG9tLlRvdWNoXG59XG5cbi8vIEdldCBzcGVjaWZpZWQgWC9ZIGNvb3JkcyBmb3IgbW91c2Ugb3IgZXZlbnQudG91Y2hlc1swXVxuZXhwb3J0IGZ1bmN0aW9uIGdldFhZKHR5cGU6IHN0cmluZywgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBJbnRlcmFjdEV2ZW50LCB4eTogUG9pbnQpIHtcbiAgeHkgPSB4eSB8fCAoe30gYXMgUG9pbnQpXG4gIHR5cGUgPSB0eXBlIHx8ICdwYWdlJ1xuXG4gIHh5LnggPSBwb2ludGVyWyh0eXBlICsgJ1gnKSBhcyAncGFnZVgnXVxuICB4eS55ID0gcG9pbnRlclsodHlwZSArICdZJykgYXMgJ3BhZ2VZJ11cblxuICByZXR1cm4geHlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VYWShwb2ludGVyOiBQb2ludGVyVHlwZSB8IEludGVyYWN0RXZlbnQsIHBhZ2U/OiBQb2ludCkge1xuICBwYWdlID0gcGFnZSB8fCB7IHg6IDAsIHk6IDAgfVxuXG4gIC8vIE9wZXJhIE1vYmlsZSBoYW5kbGVzIHRoZSB2aWV3cG9ydCBhbmQgc2Nyb2xsaW5nIG9kZGx5XG4gIGlmIChicm93c2VyLmlzT3BlcmFNb2JpbGUgJiYgaXNOYXRpdmVQb2ludGVyKHBvaW50ZXIpKSB7XG4gICAgZ2V0WFkoJ3NjcmVlbicsIHBvaW50ZXIsIHBhZ2UpXG5cbiAgICBwYWdlLnggKz0gd2luZG93LnNjcm9sbFhcbiAgICBwYWdlLnkgKz0gd2luZG93LnNjcm9sbFlcbiAgfSBlbHNlIHtcbiAgICBnZXRYWSgncGFnZScsIHBvaW50ZXIsIHBhZ2UpXG4gIH1cblxuICByZXR1cm4gcGFnZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xpZW50WFkocG9pbnRlcjogUG9pbnRlclR5cGUsIGNsaWVudDogUG9pbnQpIHtcbiAgY2xpZW50ID0gY2xpZW50IHx8ICh7fSBhcyBhbnkpXG5cbiAgaWYgKGJyb3dzZXIuaXNPcGVyYU1vYmlsZSAmJiBpc05hdGl2ZVBvaW50ZXIocG9pbnRlcikpIHtcbiAgICAvLyBPcGVyYSBNb2JpbGUgaGFuZGxlcyB0aGUgdmlld3BvcnQgYW5kIHNjcm9sbGluZyBvZGRseVxuICAgIGdldFhZKCdzY3JlZW4nLCBwb2ludGVyLCBjbGllbnQpXG4gIH0gZWxzZSB7XG4gICAgZ2V0WFkoJ2NsaWVudCcsIHBvaW50ZXIsIGNsaWVudClcbiAgfVxuXG4gIHJldHVybiBjbGllbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJJZChwb2ludGVyOiB7IHBvaW50ZXJJZD86IG51bWJlcjsgaWRlbnRpZmllcj86IG51bWJlcjsgdHlwZT86IHN0cmluZyB9KSB7XG4gIHJldHVybiBpcy5udW1iZXIocG9pbnRlci5wb2ludGVySWQpID8gcG9pbnRlci5wb2ludGVySWQhIDogcG9pbnRlci5pZGVudGlmaWVyIVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29vcmRzKGRlc3Q6IENvb3Jkc1NldE1lbWJlciwgcG9pbnRlcnM6IGFueVtdLCB0aW1lU3RhbXA6IG51bWJlcikge1xuICBjb25zdCBwb2ludGVyID0gcG9pbnRlcnMubGVuZ3RoID4gMSA/IHBvaW50ZXJBdmVyYWdlKHBvaW50ZXJzKSA6IHBvaW50ZXJzWzBdXG5cbiAgZ2V0UGFnZVhZKHBvaW50ZXIsIGRlc3QucGFnZSlcbiAgZ2V0Q2xpZW50WFkocG9pbnRlciwgZGVzdC5jbGllbnQpXG5cbiAgZGVzdC50aW1lU3RhbXAgPSB0aW1lU3RhbXBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvdWNoUGFpcihldmVudDogVG91Y2hFdmVudCB8IFBvaW50ZXJUeXBlW10pIHtcbiAgY29uc3QgdG91Y2hlczogUG9pbnRlclR5cGVbXSA9IFtdXG5cbiAgLy8gYXJyYXkgb2YgdG91Y2hlcyBpcyBzdXBwbGllZFxuICBpZiAoaXMuYXJyYXkoZXZlbnQpKSB7XG4gICAgdG91Y2hlc1swXSA9IGV2ZW50WzBdXG4gICAgdG91Y2hlc1sxXSA9IGV2ZW50WzFdXG4gIH1cbiAgLy8gYW4gZXZlbnRcbiAgZWxzZSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0b3VjaGVzWzBdID0gZXZlbnQudG91Y2hlc1swXVxuICAgICAgICB0b3VjaGVzWzFdID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdG91Y2hlc1swXSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICAgIHRvdWNoZXNbMV0gPSBldmVudC5jaGFuZ2VkVG91Y2hlc1sxXVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaGVzWzBdID0gZXZlbnQudG91Y2hlc1swXVxuICAgICAgdG91Y2hlc1sxXSA9IGV2ZW50LnRvdWNoZXNbMV1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG91Y2hlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRlckF2ZXJhZ2UocG9pbnRlcnM6IFBvaW50ZXJUeXBlW10pIHtcbiAgY29uc3QgYXZlcmFnZSA9IHtcbiAgICBwYWdlWDogMCxcbiAgICBwYWdlWTogMCxcbiAgICBjbGllbnRYOiAwLFxuICAgIGNsaWVudFk6IDAsXG4gICAgc2NyZWVuWDogMCxcbiAgICBzY3JlZW5ZOiAwLFxuICB9XG5cbiAgdHlwZSBDb29yZEtleXMgPSBrZXlvZiB0eXBlb2YgYXZlcmFnZVxuXG4gIGZvciAoY29uc3QgcG9pbnRlciBvZiBwb2ludGVycykge1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBhdmVyYWdlKSB7XG4gICAgICBhdmVyYWdlW3Byb3AgYXMgQ29vcmRLZXlzXSArPSBwb2ludGVyW3Byb3AgYXMgQ29vcmRLZXlzXVxuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHByb3AgaW4gYXZlcmFnZSkge1xuICAgIGF2ZXJhZ2VbcHJvcCBhcyBDb29yZEtleXNdIC89IHBvaW50ZXJzLmxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIGF2ZXJhZ2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoQkJveChldmVudDogUG9pbnRlclR5cGVbXSkge1xuICBpZiAoIWV2ZW50Lmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCB0b3VjaGVzID0gZ2V0VG91Y2hQYWlyKGV2ZW50KVxuICBjb25zdCBtaW5YID0gTWF0aC5taW4odG91Y2hlc1swXS5wYWdlWCwgdG91Y2hlc1sxXS5wYWdlWClcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKHRvdWNoZXNbMF0ucGFnZVksIHRvdWNoZXNbMV0ucGFnZVkpXG4gIGNvbnN0IG1heFggPSBNYXRoLm1heCh0b3VjaGVzWzBdLnBhZ2VYLCB0b3VjaGVzWzFdLnBhZ2VYKVxuICBjb25zdCBtYXhZID0gTWF0aC5tYXgodG91Y2hlc1swXS5wYWdlWSwgdG91Y2hlc1sxXS5wYWdlWSlcblxuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICBsZWZ0OiBtaW5YLFxuICAgIHRvcDogbWluWSxcbiAgICByaWdodDogbWF4WCxcbiAgICBib3R0b206IG1heFksXG4gICAgd2lkdGg6IG1heFggLSBtaW5YLFxuICAgIGhlaWdodDogbWF4WSAtIG1pblksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoRGlzdGFuY2UoZXZlbnQ6IFBvaW50ZXJUeXBlW10gfCBUb3VjaEV2ZW50LCBkZWx0YVNvdXJjZTogc3RyaW5nKSB7XG4gIGNvbnN0IHNvdXJjZVggPSAoZGVsdGFTb3VyY2UgKyAnWCcpIGFzICdwYWdlWCdcbiAgY29uc3Qgc291cmNlWSA9IChkZWx0YVNvdXJjZSArICdZJykgYXMgJ3BhZ2VZJ1xuICBjb25zdCB0b3VjaGVzID0gZ2V0VG91Y2hQYWlyKGV2ZW50KVxuXG4gIGNvbnN0IGR4ID0gdG91Y2hlc1swXVtzb3VyY2VYXSAtIHRvdWNoZXNbMV1bc291cmNlWF1cbiAgY29uc3QgZHkgPSB0b3VjaGVzWzBdW3NvdXJjZVldIC0gdG91Y2hlc1sxXVtzb3VyY2VZXVxuXG4gIHJldHVybiBoeXBvdChkeCwgZHkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3VjaEFuZ2xlKGV2ZW50OiBQb2ludGVyVHlwZVtdIHwgVG91Y2hFdmVudCwgZGVsdGFTb3VyY2U6IHN0cmluZykge1xuICBjb25zdCBzb3VyY2VYID0gKGRlbHRhU291cmNlICsgJ1gnKSBhcyAncGFnZVgnXG4gIGNvbnN0IHNvdXJjZVkgPSAoZGVsdGFTb3VyY2UgKyAnWScpIGFzICdwYWdlWSdcbiAgY29uc3QgdG91Y2hlcyA9IGdldFRvdWNoUGFpcihldmVudClcbiAgY29uc3QgZHggPSB0b3VjaGVzWzFdW3NvdXJjZVhdIC0gdG91Y2hlc1swXVtzb3VyY2VYXVxuICBjb25zdCBkeSA9IHRvdWNoZXNbMV1bc291cmNlWV0gLSB0b3VjaGVzWzBdW3NvdXJjZVldXG4gIGNvbnN0IGFuZ2xlID0gKDE4MCAqIE1hdGguYXRhbjIoZHksIGR4KSkgLyBNYXRoLlBJXG5cbiAgcmV0dXJuIGFuZ2xlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludGVyVHlwZShwb2ludGVyOiB7IHBvaW50ZXJUeXBlPzogc3RyaW5nOyBpZGVudGlmaWVyPzogbnVtYmVyOyB0eXBlPzogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIGlzLnN0cmluZyhwb2ludGVyLnBvaW50ZXJUeXBlKVxuICAgID8gcG9pbnRlci5wb2ludGVyVHlwZVxuICAgIDogaXMubnVtYmVyKHBvaW50ZXIucG9pbnRlclR5cGUpXG4gICAgICA/IFt1bmRlZmluZWQsIHVuZGVmaW5lZCwgJ3RvdWNoJywgJ3BlbicsICdtb3VzZSddW3BvaW50ZXIucG9pbnRlclR5cGVdIVxuICAgICAgOiAvLyBpZiB0aGUgUG9pbnRlckV2ZW50IEFQSSBpc24ndCBhdmFpbGFibGUsIHRoZW4gdGhlIFwicG9pbnRlclwiIG11c3RcbiAgICAgICAgLy8gYmUgZWl0aGVyIGEgTW91c2VFdmVudCwgVG91Y2hFdmVudCwgb3IgVG91Y2ggb2JqZWN0XG4gICAgICAgIC90b3VjaC8udGVzdChwb2ludGVyLnR5cGUgfHwgJycpIHx8IHBvaW50ZXIgaW5zdGFuY2VvZiBkb20uVG91Y2hcbiAgICAgICAgPyAndG91Y2gnXG4gICAgICAgIDogJ21vdXNlJ1xufVxuXG4vLyBbIGV2ZW50LnRhcmdldCwgZXZlbnQuY3VycmVudFRhcmdldCBdXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXRzKGV2ZW50OiBFdmVudCkge1xuICBjb25zdCBwYXRoID0gaXMuZnVuYyhldmVudC5jb21wb3NlZFBhdGgpXG4gICAgPyAoZXZlbnQuY29tcG9zZWRQYXRoKCkgYXMgRWxlbWVudFtdKVxuICAgIDogKGV2ZW50IGFzIHVua25vd24gYXMgeyBwYXRoOiBFbGVtZW50W10gfSkucGF0aFxuXG4gIHJldHVybiBbXG4gICAgZG9tVXRpbHMuZ2V0QWN0dWFsRWxlbWVudChwYXRoID8gcGF0aFswXSA6IChldmVudC50YXJnZXQgYXMgRWxlbWVudCkpLFxuICAgIGRvbVV0aWxzLmdldEFjdHVhbEVsZW1lbnQoZXZlbnQuY3VycmVudFRhcmdldCBhcyBFbGVtZW50KSxcbiAgXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3Q29vcmRzKCk6IENvb3Jkc1NldE1lbWJlciB7XG4gIHJldHVybiB7XG4gICAgcGFnZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgY2xpZW50OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB0aW1lU3RhbXA6IDAsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvb3Jkc1RvRXZlbnQoY29vcmRzOiBNb2NrQ29vcmRzKSB7XG4gIGNvbnN0IGV2ZW50ID0ge1xuICAgIGNvb3JkcyxcbiAgICBnZXQgcGFnZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wYWdlXG4gICAgfSxcbiAgICBnZXQgY2xpZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmNsaWVudFxuICAgIH0sXG4gICAgZ2V0IHRpbWVTdGFtcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy50aW1lU3RhbXBcbiAgICB9LFxuICAgIGdldCBwYWdlWCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wYWdlLnhcbiAgICB9LFxuICAgIGdldCBwYWdlWSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wYWdlLnlcbiAgICB9LFxuICAgIGdldCBjbGllbnRYKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmNsaWVudC54XG4gICAgfSxcbiAgICBnZXQgY2xpZW50WSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5jbGllbnQueVxuICAgIH0sXG4gICAgZ2V0IHBvaW50ZXJJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wb2ludGVySWRcbiAgICB9LFxuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMudGFyZ2V0XG4gICAgfSxcbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy50eXBlXG4gICAgfSxcbiAgICBnZXQgcG9pbnRlclR5cGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMucG9pbnRlclR5cGVcbiAgICB9LFxuICAgIGdldCBidXR0b25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmJ1dHRvbnNcbiAgICB9LFxuICAgIHByZXZlbnREZWZhdWx0KCkge30sXG4gIH1cblxuICByZXR1cm4gZXZlbnQgYXMgdHlwZW9mIGV2ZW50ICYgUG9pbnRlclR5cGUgJiBQb2ludGVyRXZlbnRUeXBlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9ja0Nvb3JkcyB7XG4gIHBhZ2U6IFBvaW50XG4gIGNsaWVudDogUG9pbnRcbiAgdGltZVN0YW1wPzogbnVtYmVyXG4gIHBvaW50ZXJJZD86IGFueVxuICB0YXJnZXQ/OiBhbnlcbiAgdHlwZT86IHN0cmluZ1xuICBwb2ludGVyVHlwZT86IHN0cmluZ1xuICBidXR0b25zPzogbnVtYmVyXG59XG5cbmV4cG9ydCB7IHBvaW50ZXJFeHRlbmQgfVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBJbnRlcmFjdGlvblByb3h5IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmV4cG9ydCBjbGFzcyBCYXNlRXZlbnQ8VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gbmV2ZXI+IHtcbiAgZGVjbGFyZSB0eXBlOiBzdHJpbmdcbiAgZGVjbGFyZSB0YXJnZXQ6IEV2ZW50VGFyZ2V0XG4gIGRlY2xhcmUgY3VycmVudFRhcmdldDogTm9kZVxuICBkZWNsYXJlIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZGVjbGFyZSBfaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+XG4gIGRlY2xhcmUgdGltZVN0YW1wOiBudW1iZXJcbiAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgcHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD4pIHtcbiAgICB0aGlzLl9pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gIH1cblxuICBwcmV2ZW50RGVmYXVsdCgpIHt9XG5cbiAgLyoqXG4gICAqIERvbid0IGNhbGwgYW55IG90aGVyIGxpc3RlbmVycyAoZXZlbiBvbiB0aGUgY3VycmVudCB0YXJnZXQpXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogRG9uJ3QgY2FsbCBsaXN0ZW5lcnMgb24gdGhlIHJlbWFpbmluZyB0YXJnZXRzXG4gICAqL1xuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxufVxuXG4vLyBkZWZpbmVkIG91dHNpZGUgb2YgY2xhc3MgZGVmaW5pdGlvbiB0byBhdm9pZCBhc3NpZ25tZW50IG9mIHVuZGVmaW5lZCBkdXJpbmdcbi8vIGNvbnN0cnVjdGlvblxuZXhwb3J0IGludGVyZmFjZSBCYXNlRXZlbnQ8VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gbmV2ZXI+IHtcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uUHJveHk8VD5cbn1cblxuLy8gZ2V0dGVycyBhbmQgc2V0dGVycyBkZWZpbmVkIGhlcmUgdG8gc3VwcG9ydCB0eXBlc2NyaXB0IDMuNiBhbmQgYmVsb3cgd2hpY2hcbi8vIGRvbid0IHN1cHBvcnQgZ2V0dGVyIGFuZCBzZXR0ZXJzIGluIC5kLnRzIGZpbGVzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZUV2ZW50LnByb3RvdHlwZSwgJ2ludGVyYWN0aW9uJywge1xuICBnZXQodGhpczogQmFzZUV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW9uLl9wcm94eVxuICB9LFxuICBzZXQodGhpczogQmFzZUV2ZW50KSB7fSxcbn0pXG4iLCAidHlwZSBGaWx0ZXI8VD4gPSAoZWxlbWVudDogVCwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFRbXSkgPT4gYm9vbGVhblxuXG5leHBvcnQgY29uc3QgY29udGFpbnMgPSA8VD4oYXJyYXk6IFRbXSwgdGFyZ2V0OiBUKSA9PiBhcnJheS5pbmRleE9mKHRhcmdldCkgIT09IC0xXG5cbmV4cG9ydCBjb25zdCByZW1vdmUgPSA8VD4oYXJyYXk6IFRbXSwgdGFyZ2V0OiBUKSA9PiBhcnJheS5zcGxpY2UoYXJyYXkuaW5kZXhPZih0YXJnZXQpLCAxKVxuXG5leHBvcnQgY29uc3QgbWVyZ2UgPSA8VCwgVT4odGFyZ2V0OiBBcnJheTxUIHwgVT4sIHNvdXJjZTogVVtdKSA9PiB7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBzb3VyY2UpIHtcbiAgICB0YXJnZXQucHVzaChpdGVtKVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldFxufVxuXG5leHBvcnQgY29uc3QgZnJvbSA9IDxUID0gYW55Pihzb3VyY2U6IEFycmF5TGlrZTxUPikgPT4gbWVyZ2UoW10gYXMgVFtdLCBzb3VyY2UgYXMgVFtdKVxuXG5leHBvcnQgY29uc3QgZmluZEluZGV4ID0gPFQ+KGFycmF5OiBUW10sIGZ1bmM6IEZpbHRlcjxUPikgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZ1bmMoYXJyYXlbaV0sIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuZXhwb3J0IGNvbnN0IGZpbmQgPSA8VCA9IGFueT4oYXJyYXk6IFRbXSwgZnVuYzogRmlsdGVyPFQ+KTogVCB8IHVuZGVmaW5lZCA9PiBhcnJheVtmaW5kSW5kZXgoYXJyYXksIGZ1bmMpXVxuIiwgImltcG9ydCB7IEJhc2VFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvQmFzZUV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuXG5pbXBvcnQgdHlwZSB7IERyb3BTdGF0ZSB9IGZyb20gJy4vcGx1Z2luJ1xuXG5leHBvcnQgY2xhc3MgRHJvcEV2ZW50IGV4dGVuZHMgQmFzZUV2ZW50PCdkcmFnJz4ge1xuICBkZWNsYXJlIHRhcmdldDogRWxlbWVudFxuICBkcm9wem9uZTogSW50ZXJhY3RhYmxlXG4gIGRyYWdFdmVudDogSW50ZXJhY3RFdmVudDwnZHJhZyc+XG4gIHJlbGF0ZWRUYXJnZXQ6IEVsZW1lbnRcbiAgZHJhZ2dhYmxlOiBJbnRlcmFjdGFibGVcbiAgcHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcblxuICAvKipcbiAgICogQ2xhc3Mgb2YgZXZlbnRzIGZpcmVkIG9uIGRyb3B6b25lcyBkdXJpbmcgZHJhZ3Mgd2l0aCBhY2NlcHRhYmxlIHRhcmdldHMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkcm9wU3RhdGU6IERyb3BTdGF0ZSwgZHJhZ0V2ZW50OiBJbnRlcmFjdEV2ZW50PCdkcmFnJz4sIHR5cGU6IHN0cmluZykge1xuICAgIHN1cGVyKGRyYWdFdmVudC5faW50ZXJhY3Rpb24pXG5cbiAgICBjb25zdCB7IGVsZW1lbnQsIGRyb3B6b25lIH0gPSB0eXBlID09PSAnZHJhZ2xlYXZlJyA/IGRyb3BTdGF0ZS5wcmV2IDogZHJvcFN0YXRlLmN1clxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMudGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGVsZW1lbnRcbiAgICB0aGlzLmRyb3B6b25lID0gZHJvcHpvbmVcbiAgICB0aGlzLmRyYWdFdmVudCA9IGRyYWdFdmVudFxuICAgIHRoaXMucmVsYXRlZFRhcmdldCA9IGRyYWdFdmVudC50YXJnZXRcbiAgICB0aGlzLmRyYWdnYWJsZSA9IGRyYWdFdmVudC5pbnRlcmFjdGFibGVcbiAgICB0aGlzLnRpbWVTdGFtcCA9IGRyYWdFdmVudC50aW1lU3RhbXBcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgYGRyb3BhY3RpdmF0ZWAgZXZlbnQsIHRoZSBkcm9wem9uZSBlbGVtZW50IHdpbGwgYmVcbiAgICogZGVhY3RpdmF0ZWQuXG4gICAqXG4gICAqIElmIHRoaXMgaXMgYSBgZHJhZ21vdmVgIG9yIGBkcmFnZW50ZXJgLCBhIGBkcmFnbGVhdmVgIHdpbGwgYmUgZmlyZWQgb24gdGhlXG4gICAqIGRyb3B6b25lIGVsZW1lbnQgYW5kIG1vcmUuXG4gICAqL1xuICByZWplY3QoKSB7XG4gICAgY29uc3QgeyBkcm9wU3RhdGUgfSA9IHRoaXMuX2ludGVyYWN0aW9uXG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnR5cGUgIT09ICdkcm9wYWN0aXZhdGUnICYmXG4gICAgICAoIXRoaXMuZHJvcHpvbmUgfHwgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSAhPT0gdGhpcy5kcm9wem9uZSB8fCBkcm9wU3RhdGUuY3VyLmVsZW1lbnQgIT09IHRoaXMudGFyZ2V0KVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZHJvcFN0YXRlLnByZXYuZHJvcHpvbmUgPSB0aGlzLmRyb3B6b25lXG4gICAgZHJvcFN0YXRlLnByZXYuZWxlbWVudCA9IHRoaXMudGFyZ2V0XG5cbiAgICBkcm9wU3RhdGUucmVqZWN0ZWQgPSB0cnVlXG4gICAgZHJvcFN0YXRlLmV2ZW50cy5lbnRlciA9IG51bGxcblxuICAgIHRoaXMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdkcm9wYWN0aXZhdGUnKSB7XG4gICAgICBjb25zdCBhY3RpdmVEcm9wcyA9IGRyb3BTdGF0ZS5hY3RpdmVEcm9wc1xuICAgICAgY29uc3QgaW5kZXggPSBhcnIuZmluZEluZGV4KFxuICAgICAgICBhY3RpdmVEcm9wcyxcbiAgICAgICAgKHsgZHJvcHpvbmUsIGVsZW1lbnQgfSkgPT4gZHJvcHpvbmUgPT09IHRoaXMuZHJvcHpvbmUgJiYgZWxlbWVudCA9PT0gdGhpcy50YXJnZXQsXG4gICAgICApXG5cbiAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICAgIGNvbnN0IGRlYWN0aXZhdGVFdmVudCA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCB0aGlzLmRyYWdFdmVudCwgJ2Ryb3BkZWFjdGl2YXRlJylcblxuICAgICAgZGVhY3RpdmF0ZUV2ZW50LmRyb3B6b25lID0gdGhpcy5kcm9wem9uZVxuICAgICAgZGVhY3RpdmF0ZUV2ZW50LnRhcmdldCA9IHRoaXMudGFyZ2V0XG5cbiAgICAgIHRoaXMuZHJvcHpvbmUuZmlyZShkZWFjdGl2YXRlRXZlbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJvcHpvbmUuZmlyZShuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgdGhpcy5kcmFnRXZlbnQsICdkcmFnbGVhdmUnKSlcbiAgICB9XG4gIH1cblxuICBwcmV2ZW50RGVmYXVsdCgpIHt9XG5cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG5cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBFdmVudFBoYXNlLCBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9QaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgRWxlbWVudCwgUG9pbnRlckV2ZW50VHlwZSwgUmVjdCwgTGlzdGVuZXJzQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgbm9ybWFsaXplTGlzdGVuZXJzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL25vcm1hbGl6ZUxpc3RlbmVycydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4uL2RyYWcvcGx1Z2luJ1xuXG5pbXBvcnQgdHlwZSB7IERyYWdFdmVudCB9IGZyb20gJy4uL2RyYWcvcGx1Z2luJ1xuaW1wb3J0IGRyYWcgZnJvbSAnLi4vZHJhZy9wbHVnaW4nXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmltcG9ydCB7IERyb3BFdmVudCB9IGZyb20gJy4vRHJvcEV2ZW50J1xuXG5leHBvcnQgdHlwZSBEcm9wRnVuY3Rpb25DaGVja2VyID0gKFxuICBkcmFnRXZlbnQ6IGFueSwgLy8gcmVsYXRlZCBkcmFnIG9wZXJhdGlvblxuICBldmVudDogYW55LCAvLyB0b3VjaCBvciBtb3VzZSBFdmVudEVtaXR0ZXJcbiAgZHJvcHBlZDogYm9vbGVhbiwgLy8gZGVmYXVsdCBjaGVja2VyIHJlc3VsdFxuICBkcm9wem9uZTogSW50ZXJhY3RhYmxlLCAvLyBkcm9wem9uZSBpbnRlcmFjdGFibGVcbiAgZHJvcEVsZW1lbnQ6IEVsZW1lbnQsIC8vIGRyb3Agem9uZSBlbGVtZW50XG4gIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlLCAvLyBkcmFnZ2FibGUncyBJbnRlcmFjdGFibGVcbiAgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCwgLy8gZHJhZ2dlZCBlbGVtZW50XG4pID0+IGJvb2xlYW5cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wem9uZU9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIGFjY2VwdD86XG4gICAgfCBzdHJpbmdcbiAgICB8IEVsZW1lbnRcbiAgICB8ICgoeyBkcm9wem9uZSwgZHJhZ2dhYmxlRWxlbWVudCB9OiB7IGRyb3B6b25lOiBJbnRlcmFjdGFibGU7IGRyYWdnYWJsZUVsZW1lbnQ6IEVsZW1lbnQgfSkgPT4gYm9vbGVhbilcbiAgLy8gSG93IHRoZSBvdmVybGFwIGlzIGNoZWNrZWQgb24gdGhlIGRyb3Agem9uZVxuICBvdmVybGFwPzogJ3BvaW50ZXInIHwgJ2NlbnRlcicgfCBudW1iZXJcbiAgY2hlY2tlcj86IERyb3BGdW5jdGlvbkNoZWNrZXJcblxuICBvbmRyb3BhY3RpdmF0ZT86IExpc3RlbmVyc0FyZ1xuICBvbmRyb3BkZWFjdGl2YXRlPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJhZ2VudGVyPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJhZ2xlYXZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJvcG1vdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25kcm9wPzogTGlzdGVuZXJzQXJnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcHpvbmVNZXRob2Qge1xuICAodGhpczogSW50ZXJhY3RhYmxlLCBvcHRpb25zOiBEcm9wem9uZU9wdGlvbnMgfCBib29sZWFuKTogSW50ZXJhY3RhYmxlXG4gICgpOiBEcm9wem9uZU9wdGlvbnNcbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCgnLmRyb3AnKS5kcm9wem9uZSh7XG4gICAgICogICBhY2NlcHQ6ICcuY2FuLWRyb3AnIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaW5nbGUtZHJvcCcpLFxuICAgICAqICAgb3ZlcmxhcDogJ3BvaW50ZXInIHx8ICdjZW50ZXInIHx8IHplcm9Ub09uZVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB3aGV0aGVyIGRyYWdnYWJsZXMgY2FuIGJlIGRyb3BwZWQgb250byB0aGlzIHRhcmdldCB0b1xuICAgICAqIHRyaWdnZXIgZHJvcCBldmVudHNcbiAgICAgKlxuICAgICAqIERyb3B6b25lcyBjYW4gcmVjZWl2ZSB0aGUgZm9sbG93aW5nIGV2ZW50czpcbiAgICAgKiAgLSBgZHJvcGFjdGl2YXRlYCBhbmQgYGRyb3BkZWFjdGl2YXRlYCB3aGVuIGFuIGFjY2VwdGFibGUgZHJhZyBzdGFydHMgYW5kIGVuZHNcbiAgICAgKiAgLSBgZHJhZ2VudGVyYCBhbmQgYGRyYWdsZWF2ZWAgd2hlbiBhIGRyYWdnYWJsZSBlbnRlcnMgYW5kIGxlYXZlcyB0aGUgZHJvcHpvbmVcbiAgICAgKiAgLSBgZHJhZ21vdmVgIHdoZW4gYSBkcmFnZ2FibGUgdGhhdCBoYXMgZW50ZXJlZCB0aGUgZHJvcHpvbmUgaXMgbW92ZWRcbiAgICAgKiAgLSBgZHJvcGAgd2hlbiBhIGRyYWdnYWJsZSBpcyBkcm9wcGVkIGludG8gdGhpcyBkcm9wem9uZVxuICAgICAqXG4gICAgICogVXNlIHRoZSBgYWNjZXB0YCBvcHRpb24gdG8gYWxsb3cgb25seSBlbGVtZW50cyB0aGF0IG1hdGNoIHRoZSBnaXZlbiBDU1NcbiAgICAgKiBzZWxlY3RvciBvciBlbGVtZW50LiBUaGUgdmFsdWUgY2FuIGJlOlxuICAgICAqXG4gICAgICogIC0gKiphbiBFbGVtZW50KiogLSBvbmx5IHRoYXQgZWxlbWVudCBjYW4gYmUgZHJvcHBlZCBpbnRvIHRoaXMgZHJvcHpvbmUuXG4gICAgICogIC0gKiphIHN0cmluZyoqLCAtIHRoZSBlbGVtZW50IGJlaW5nIGRyYWdnZWQgbXVzdCBtYXRjaCBpdCBhcyBhIENTUyBzZWxlY3Rvci5cbiAgICAgKiAgLSAqKmBudWxsYCoqIC0gYWNjZXB0IG9wdGlvbnMgaXMgY2xlYXJlZCAtIGl0IGFjY2VwdHMgYW55IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBVc2UgdGhlIGBvdmVybGFwYCBvcHRpb24gdG8gc2V0IGhvdyBkcm9wcyBhcmUgY2hlY2tlZCBmb3IuIFRoZSBhbGxvd2VkXG4gICAgICogdmFsdWVzIGFyZTpcbiAgICAgKlxuICAgICAqICAgLSBgJ3BvaW50ZXInYCwgdGhlIHBvaW50ZXIgbXVzdCBiZSBvdmVyIHRoZSBkcm9wem9uZSAoZGVmYXVsdClcbiAgICAgKiAgIC0gYCdjZW50ZXInYCwgdGhlIGRyYWdnYWJsZSBlbGVtZW50J3MgY2VudGVyIG11c3QgYmUgb3ZlciB0aGUgZHJvcHpvbmVcbiAgICAgKiAgIC0gYSBudW1iZXIgZnJvbSAwLTEgd2hpY2ggaXMgdGhlIGAoaW50ZXJzZWN0aW9uIGFyZWEpIC8gKGRyYWdnYWJsZSBhcmVhKWAuXG4gICAgICogICBlLmcuIGAwLjVgIGZvciBkcm9wIHRvIGhhcHBlbiB3aGVuIGhhbGYgb2YgdGhlIGFyZWEgb2YgdGhlIGRyYWdnYWJsZSBpc1xuICAgICAqICAgb3ZlciB0aGUgZHJvcHpvbmVcbiAgICAgKlxuICAgICAqIFVzZSB0aGUgYGNoZWNrZXJgIG9wdGlvbiB0byBzcGVjaWZ5IGEgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYSBkcmFnZ2VkIGVsZW1lbnRcbiAgICAgKiBpcyBvdmVyIHRoaXMgSW50ZXJhY3RhYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgbmV3IG9wdGlvbnMgdG8gYmUgc2V0XG4gICAgICovXG4gICAgZHJvcHpvbmUob3B0aW9uczogRHJvcHpvbmVPcHRpb25zIHwgYm9vbGVhbik6IEludGVyYWN0YWJsZVxuICAgIC8qKiBAcmV0dXJucyBUaGUgY3VycmVudCBzZXR0aW5nICovXG4gICAgZHJvcHpvbmUoKTogRHJvcHpvbmVPcHRpb25zXG5cbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KHRhcmdldClcbiAgICAgKiAuZHJvcENoZWNrZXIoZnVuY3Rpb24oZHJhZ0V2ZW50LCAgICAgICAgIC8vIHJlbGF0ZWQgZHJhZ21vdmUgb3IgZHJhZ2VuZCBldmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBldmVudCwgICAgICAgICAgICAgLy8gVG91Y2hFdmVudC9Qb2ludGVyRXZlbnQvTW91c2VFdmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcm9wcGVkLCAgICAgICAgICAgLy8gYm9vbCByZXN1bHQgb2YgdGhlIGRlZmF1bHQgY2hlY2tlclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcm9wem9uZSwgICAgICAgICAgLy8gZHJvcHpvbmUgSW50ZXJhY3RhYmxlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGRyb3BFbGVtZW50LCAgICAgICAvLyBkcm9wem9uZSBlbGVtbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlLCAgICAgICAgIC8vIGRyYWdnYWJsZSBJbnRlcmFjdGFibGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlRWxlbWVudCkgey8vIGRyYWdnYWJsZSBlbGVtZW50XG4gICAgICpcbiAgICAgKiAgIHJldHVybiBkcm9wcGVkICYmIGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUoJ2FsbG93LWRyb3AnKVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBkcm9wQ2hlY2soXG4gICAgICBkcmFnRXZlbnQ6IEludGVyYWN0RXZlbnQsXG4gICAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICAgIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlLFxuICAgICAgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgICAgIGRyb3BFbGVtZW46IEVsZW1lbnQsXG4gICAgICByZWN0OiBhbnksXG4gICAgKTogYm9vbGVhblxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgZHJvcFN0YXRlPzogRHJvcFN0YXRlXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RFdmVudCB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHByZXZEcm9wem9uZT86IEludGVyYWN0YWJsZVxuICAgIGRyb3B6b25lPzogSW50ZXJhY3RhYmxlXG4gICAgZHJhZ0VudGVyPzogRWxlbWVudFxuICAgIGRyYWdMZWF2ZT86IEVsZW1lbnRcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgZHJvcDogRHJvcHpvbmVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBkeW5hbWljRHJvcD86IGJvb2xlYW5cbiAgfVxuXG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnYWN0aW9ucy9kcm9wOnN0YXJ0JzogRHJvcFNpZ25hbEFyZ1xuICAgICdhY3Rpb25zL2Ryb3A6bW92ZSc6IERyb3BTaWduYWxBcmdcbiAgICAnYWN0aW9ucy9kcm9wOmVuZCc6IERyb3BTaWduYWxBcmdcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS90eXBlcycge1xuICBpbnRlcmZhY2UgQWN0aW9uTWFwIHtcbiAgICBkcm9wPzogdHlwZW9mIGRyb3BcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdFN0YXRpYycge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB3aGV0aGVyIHRoZSBkaW1lbnNpb25zIG9mIGRyb3B6b25lIGVsZW1lbnRzIGFyZSBjYWxjdWxhdGVkXG4gICAgICogb24gZXZlcnkgZHJhZ21vdmUgb3Igb25seSBvbiBkcmFnc3RhcnQgZm9yIHRoZSBkZWZhdWx0IGRyb3BDaGVja2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuZXdWYWx1ZV0gVHJ1ZSB0byBjaGVjayBvbiBlYWNoIG1vdmUuIEZhbHNlIHRvIGNoZWNrIG9ubHlcbiAgICAgKiBiZWZvcmUgc3RhcnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFuIHwgaW50ZXJhY3R9IFRoZSBjdXJyZW50IHNldHRpbmcgb3IgaW50ZXJhY3RcbiAgICAgKi9cbiAgICBkeW5hbWljRHJvcDogKG5ld1ZhbHVlPzogYm9vbGVhbikgPT4gYm9vbGVhbiB8IHRoaXNcbiAgfVxufVxuXG5pbnRlcmZhY2UgRHJvcFNpZ25hbEFyZyB7XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjwnZHJhZyc+XG4gIGRyYWdFdmVudDogRHJhZ0V2ZW50XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZlRHJvcCB7XG4gIGRyb3B6b25lOiBJbnRlcmFjdGFibGVcbiAgZWxlbWVudDogRWxlbWVudFxuICByZWN0OiBSZWN0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcFN0YXRlIHtcbiAgY3VyOiB7XG4gICAgLy8gdGhlIGRyb3B6b25lIGEgZHJhZyB0YXJnZXQgbWlnaHQgYmUgZHJvcHBlZCBpbnRvXG4gICAgZHJvcHpvbmU6IEludGVyYWN0YWJsZVxuICAgIC8vIHRoZSBlbGVtZW50IGF0IHRoZSB0aW1lIG9mIGNoZWNraW5nXG4gICAgZWxlbWVudDogRWxlbWVudFxuICB9XG4gIHByZXY6IHtcbiAgICAvLyB0aGUgZHJvcHpvbmUgdGhhdCB3YXMgcmVjZW50bHkgZHJhZ2dlZCBhd2F5IGZyb21cbiAgICBkcm9wem9uZTogSW50ZXJhY3RhYmxlXG4gICAgLy8gdGhlIGVsZW1lbnQgYXQgdGhlIHRpbWUgb2YgY2hlY2tpbmdcbiAgICBlbGVtZW50OiBFbGVtZW50XG4gIH1cbiAgLy8gd2hlYXRoZXIgdGhlIHBvdGVudGlhbCBkcm9wIHdhcyByZWplY3RlZCBmcm9tIGEgbGlzdGVuZXJcbiAgcmVqZWN0ZWQ6IGJvb2xlYW5cbiAgLy8gdGhlIGRyb3AgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIGN1cnJlbnQgZHJhZyBldmVudFxuICBldmVudHM6IEZpcmVkRHJvcEV2ZW50c1xuICBhY3RpdmVEcm9wczogQWN0aXZlRHJvcFtdXG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgYWN0aW9ucywgaW50ZXJhY3RTdGF0aWM6IGludGVyYWN0LCBJbnRlcmFjdGFibGUsIGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIHNjb3BlLnVzZVBsdWdpbihkcmFnKVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZHJvcHpvbmUgPSBmdW5jdGlvbiAodGhpczogSW50ZXJhY3RhYmxlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGRyb3B6b25lTWV0aG9kKHRoaXMsIG9wdGlvbnMpXG4gIH0gYXMgSW50ZXJhY3RhYmxlWydkcm9wem9uZSddXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5kcm9wQ2hlY2sgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogSW50ZXJhY3RhYmxlLFxuICAgIGRyYWdFdmVudCxcbiAgICBldmVudCxcbiAgICBkcmFnZ2FibGUsXG4gICAgZHJhZ2dhYmxlRWxlbWVudCxcbiAgICBkcm9wRWxlbWVudCxcbiAgICByZWN0LFxuICApIHtcbiAgICByZXR1cm4gZHJvcENoZWNrTWV0aG9kKHRoaXMsIGRyYWdFdmVudCwgZXZlbnQsIGRyYWdnYWJsZSwgZHJhZ2dhYmxlRWxlbWVudCwgZHJvcEVsZW1lbnQsIHJlY3QpXG4gIH1cblxuICBpbnRlcmFjdC5keW5hbWljRHJvcCA9IGZ1bmN0aW9uIChuZXdWYWx1ZT86IGJvb2xlYW4pIHtcbiAgICBpZiAoaXMuYm9vbChuZXdWYWx1ZSkpIHtcbiAgICAgIC8vIGlmIChkcmFnZ2luZyAmJiBzY29wZS5keW5hbWljRHJvcCAhPT0gbmV3VmFsdWUgJiYgIW5ld1ZhbHVlKSB7XG4gICAgICAvLyAgY2FsY1JlY3RzKGRyb3B6b25lcylcbiAgICAgIC8vIH1cblxuICAgICAgc2NvcGUuZHluYW1pY0Ryb3AgPSBuZXdWYWx1ZVxuXG4gICAgICByZXR1cm4gaW50ZXJhY3RcbiAgICB9XG4gICAgcmV0dXJuIHNjb3BlLmR5bmFtaWNEcm9wIVxuICB9XG5cbiAgZXh0ZW5kKGFjdGlvbnMucGhhc2VsZXNzVHlwZXMsIHtcbiAgICBkcmFnZW50ZXI6IHRydWUsXG4gICAgZHJhZ2xlYXZlOiB0cnVlLFxuICAgIGRyb3BhY3RpdmF0ZTogdHJ1ZSxcbiAgICBkcm9wZGVhY3RpdmF0ZTogdHJ1ZSxcbiAgICBkcm9wbW92ZTogdHJ1ZSxcbiAgICBkcm9wOiB0cnVlLFxuICB9KVxuICBhY3Rpb25zLm1ldGhvZERpY3QuZHJvcCA9ICdkcm9wem9uZSdcblxuICBzY29wZS5keW5hbWljRHJvcCA9IGZhbHNlXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5kcm9wID0gZHJvcC5kZWZhdWx0c1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0RHJvcHpvbmVzKHsgaW50ZXJhY3RhYmxlcyB9OiBTY29wZSwgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCkge1xuICBjb25zdCBkcm9wczogQWN0aXZlRHJvcFtdID0gW11cblxuICAvLyBjb2xsZWN0IGFsbCBkcm9wem9uZXMgYW5kIHRoZWlyIGVsZW1lbnRzIHdoaWNoIHF1YWxpZnkgZm9yIGEgZHJvcFxuICBmb3IgKGNvbnN0IGRyb3B6b25lIG9mIGludGVyYWN0YWJsZXMubGlzdCkge1xuICAgIGlmICghZHJvcHpvbmUub3B0aW9ucy5kcm9wLmVuYWJsZWQpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgY29uc3QgYWNjZXB0ID0gZHJvcHpvbmUub3B0aW9ucy5kcm9wLmFjY2VwdFxuXG4gICAgLy8gdGVzdCB0aGUgZHJhZ2dhYmxlIGRyYWdnYWJsZUVsZW1lbnQgYWdhaW5zdCB0aGUgZHJvcHpvbmUncyBhY2NlcHQgc2V0dGluZ1xuICAgIGlmIChcbiAgICAgIChpcy5lbGVtZW50KGFjY2VwdCkgJiYgYWNjZXB0ICE9PSBkcmFnZ2FibGVFbGVtZW50KSB8fFxuICAgICAgKGlzLnN0cmluZyhhY2NlcHQpICYmICFkb21VdGlscy5tYXRjaGVzU2VsZWN0b3IoZHJhZ2dhYmxlRWxlbWVudCwgYWNjZXB0KSkgfHxcbiAgICAgIChpcy5mdW5jKGFjY2VwdCkgJiYgIWFjY2VwdCh7IGRyb3B6b25lLCBkcmFnZ2FibGVFbGVtZW50IH0pKVxuICAgICkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGRyb3B6b25lRWxlbWVudCBvZiBkcm9wem9uZS5nZXRBbGxFbGVtZW50cygpKSB7XG4gICAgICBpZiAoZHJvcHpvbmVFbGVtZW50ICE9PSBkcmFnZ2FibGVFbGVtZW50KSB7XG4gICAgICAgIGRyb3BzLnB1c2goe1xuICAgICAgICAgIGRyb3B6b25lLFxuICAgICAgICAgIGVsZW1lbnQ6IGRyb3B6b25lRWxlbWVudCxcbiAgICAgICAgICByZWN0OiBkcm9wem9uZS5nZXRSZWN0KGRyb3B6b25lRWxlbWVudCksXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRyb3BzXG59XG5cbmZ1bmN0aW9uIGZpcmVBY3RpdmF0aW9uRXZlbnRzKGFjdGl2ZURyb3BzOiBBY3RpdmVEcm9wW10sIGV2ZW50OiBEcm9wRXZlbnQpIHtcbiAgLy8gbG9vcCB0aHJvdWdoIGFsbCBhY3RpdmUgZHJvcHpvbmVzIGFuZCB0cmlnZ2VyIGV2ZW50XG4gIGZvciAoY29uc3QgeyBkcm9wem9uZSwgZWxlbWVudCB9IG9mIGFjdGl2ZURyb3BzLnNsaWNlKCkpIHtcbiAgICBldmVudC5kcm9wem9uZSA9IGRyb3B6b25lXG5cbiAgICAvLyBzZXQgY3VycmVudCBlbGVtZW50IGFzIGV2ZW50IHRhcmdldFxuICAgIGV2ZW50LnRhcmdldCA9IGVsZW1lbnRcbiAgICBkcm9wem9uZS5maXJlKGV2ZW50KVxuICAgIGV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCA9IGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG4gIH1cbn1cblxuLy8gcmV0dXJuIGEgbmV3IGFycmF5IG9mIHBvc3NpYmxlIGRyb3BzLiBnZXRBY3RpdmVEcm9wcyBzaG91bGQgYWx3YXlzIGJlXG4vLyBjYWxsZWQgd2hlbiBhIGRyYWcgaGFzIGp1c3Qgc3RhcnRlZCBvciBhIGRyYWcgZXZlbnQgaGFwcGVucyB3aGlsZVxuLy8gZHluYW1pY0Ryb3AgaXMgdHJ1ZVxuZnVuY3Rpb24gZ2V0QWN0aXZlRHJvcHMoc2NvcGU6IFNjb3BlLCBkcmFnRWxlbWVudDogRWxlbWVudCkge1xuICAvLyBnZXQgZHJvcHpvbmVzIGFuZCB0aGVpciBlbGVtZW50cyB0aGF0IGNvdWxkIHJlY2VpdmUgdGhlIGRyYWdnYWJsZVxuICBjb25zdCBhY3RpdmVEcm9wcyA9IGNvbGxlY3REcm9wem9uZXMoc2NvcGUsIGRyYWdFbGVtZW50KVxuXG4gIGZvciAoY29uc3QgYWN0aXZlRHJvcCBvZiBhY3RpdmVEcm9wcykge1xuICAgIGFjdGl2ZURyb3AucmVjdCA9IGFjdGl2ZURyb3AuZHJvcHpvbmUuZ2V0UmVjdChhY3RpdmVEcm9wLmVsZW1lbnQpXG4gIH1cblxuICByZXR1cm4gYWN0aXZlRHJvcHNcbn1cblxuZnVuY3Rpb24gZ2V0RHJvcChcbiAgeyBkcm9wU3RhdGUsIGludGVyYWN0YWJsZTogZHJhZ2dhYmxlLCBlbGVtZW50OiBkcmFnRWxlbWVudCB9OiBJbnRlcmFjdGlvbixcbiAgZHJhZ0V2ZW50LFxuICBwb2ludGVyRXZlbnQsXG4pIHtcbiAgY29uc3QgdmFsaWREcm9wczogRWxlbWVudFtdID0gW11cblxuICAvLyBjb2xsZWN0IGFsbCBkcm9wem9uZXMgYW5kIHRoZWlyIGVsZW1lbnRzIHdoaWNoIHF1YWxpZnkgZm9yIGEgZHJvcFxuICBmb3IgKGNvbnN0IHsgZHJvcHpvbmUsIGVsZW1lbnQ6IGRyb3B6b25lRWxlbWVudCwgcmVjdCB9IG9mIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcykge1xuICAgIGNvbnN0IGlzVmFsaWQgPSBkcm9wem9uZS5kcm9wQ2hlY2soXG4gICAgICBkcmFnRXZlbnQsXG4gICAgICBwb2ludGVyRXZlbnQsXG4gICAgICBkcmFnZ2FibGUhLFxuICAgICAgZHJhZ0VsZW1lbnQhLFxuICAgICAgZHJvcHpvbmVFbGVtZW50LFxuICAgICAgcmVjdCxcbiAgICApXG4gICAgdmFsaWREcm9wcy5wdXNoKGlzVmFsaWQgPyBkcm9wem9uZUVsZW1lbnQgOiBudWxsKVxuICB9XG5cbiAgLy8gZ2V0IHRoZSBtb3N0IGFwcHJvcHJpYXRlIGRyb3B6b25lIGJhc2VkIG9uIERPTSBkZXB0aCBhbmQgb3JkZXJcbiAgY29uc3QgZHJvcEluZGV4ID0gZG9tVXRpbHMuaW5kZXhPZkRlZXBlc3RFbGVtZW50KHZhbGlkRHJvcHMpXG5cbiAgcmV0dXJuIGRyb3BTdGF0ZSEuYWN0aXZlRHJvcHNbZHJvcEluZGV4XSB8fCBudWxsXG59XG5cbmZ1bmN0aW9uIGdldERyb3BFdmVudHMoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLCBfcG9pbnRlckV2ZW50LCBkcmFnRXZlbnQ6IERyYWdFdmVudCkge1xuICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG4gIGNvbnN0IGRyb3BFdmVudHM6IFJlY29yZDxzdHJpbmcsIERyb3BFdmVudCB8IG51bGw+ID0ge1xuICAgIGVudGVyOiBudWxsLFxuICAgIGxlYXZlOiBudWxsLFxuICAgIGFjdGl2YXRlOiBudWxsLFxuICAgIGRlYWN0aXZhdGU6IG51bGwsXG4gICAgbW92ZTogbnVsbCxcbiAgICBkcm9wOiBudWxsLFxuICB9XG5cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ3N0YXJ0Jykge1xuICAgIGRyb3BFdmVudHMuYWN0aXZhdGUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcGFjdGl2YXRlJylcblxuICAgIGRyb3BFdmVudHMuYWN0aXZhdGUudGFyZ2V0ID0gbnVsbCBhcyBuZXZlclxuICAgIGRyb3BFdmVudHMuYWN0aXZhdGUuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gIH1cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ2VuZCcpIHtcbiAgICBkcm9wRXZlbnRzLmRlYWN0aXZhdGUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcGRlYWN0aXZhdGUnKVxuXG4gICAgZHJvcEV2ZW50cy5kZWFjdGl2YXRlLnRhcmdldCA9IG51bGwgYXMgbmV2ZXJcbiAgICBkcm9wRXZlbnRzLmRlYWN0aXZhdGUuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gIH1cblxuICBpZiAoZHJvcFN0YXRlLnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIGRyb3BFdmVudHNcbiAgfVxuXG4gIGlmIChkcm9wU3RhdGUuY3VyLmVsZW1lbnQgIT09IGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnQpIHtcbiAgICAvLyBpZiB0aGVyZSB3YXMgYSBwcmV2aW91cyBkcm9wem9uZSwgY3JlYXRlIGEgZHJhZ2xlYXZlIGV2ZW50XG4gICAgaWYgKGRyb3BTdGF0ZS5wcmV2LmRyb3B6b25lKSB7XG4gICAgICBkcm9wRXZlbnRzLmxlYXZlID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2RyYWdsZWF2ZScpXG5cbiAgICAgIGRyYWdFdmVudC5kcmFnTGVhdmUgPSBkcm9wRXZlbnRzLmxlYXZlLnRhcmdldCA9IGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnRcbiAgICAgIGRyYWdFdmVudC5wcmV2RHJvcHpvbmUgPSBkcm9wRXZlbnRzLmxlYXZlLmRyb3B6b25lID0gZHJvcFN0YXRlLnByZXYuZHJvcHpvbmVcbiAgICB9XG4gICAgLy8gaWYgZHJvcHpvbmUgaXMgbm90IG51bGwsIGNyZWF0ZSBhIGRyYWdlbnRlciBldmVudFxuICAgIGlmIChkcm9wU3RhdGUuY3VyLmRyb3B6b25lKSB7XG4gICAgICBkcm9wRXZlbnRzLmVudGVyID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2RyYWdlbnRlcicpXG5cbiAgICAgIGRyYWdFdmVudC5kcmFnRW50ZXIgPSBkcm9wU3RhdGUuY3VyLmVsZW1lbnRcbiAgICAgIGRyYWdFdmVudC5kcm9wem9uZSA9IGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmVcbiAgICB9XG4gIH1cblxuICBpZiAoZHJhZ0V2ZW50LnR5cGUgPT09ICdkcmFnZW5kJyAmJiBkcm9wU3RhdGUuY3VyLmRyb3B6b25lKSB7XG4gICAgZHJvcEV2ZW50cy5kcm9wID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2Ryb3AnKVxuXG4gICAgZHJhZ0V2ZW50LmRyb3B6b25lID0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZVxuICAgIGRyYWdFdmVudC5yZWxhdGVkVGFyZ2V0ID0gZHJvcFN0YXRlLmN1ci5lbGVtZW50XG4gIH1cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ21vdmUnICYmIGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUpIHtcbiAgICBkcm9wRXZlbnRzLm1vdmUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcG1vdmUnKVxuXG4gICAgZHJhZ0V2ZW50LmRyb3B6b25lID0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZVxuICB9XG5cbiAgcmV0dXJuIGRyb3BFdmVudHNcbn1cblxudHlwZSBGaXJlZERyb3BFdmVudHMgPSBQYXJ0aWFsPFxuICBSZWNvcmQ8J2xlYXZlJyB8ICdlbnRlcicgfCAnbW92ZScgfCAnZHJvcCcgfCAnYWN0aXZhdGUnIHwgJ2RlYWN0aXZhdGUnLCBEcm9wRXZlbnQ+XG4+XG5cbmZ1bmN0aW9uIGZpcmVEcm9wRXZlbnRzKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiwgZXZlbnRzOiBGaXJlZERyb3BFdmVudHMpIHtcbiAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuICBjb25zdCB7IGFjdGl2ZURyb3BzLCBjdXIsIHByZXYgfSA9IGRyb3BTdGF0ZVxuXG4gIGlmIChldmVudHMubGVhdmUpIHtcbiAgICBwcmV2LmRyb3B6b25lLmZpcmUoZXZlbnRzLmxlYXZlKVxuICB9XG4gIGlmIChldmVudHMuZW50ZXIpIHtcbiAgICBjdXIuZHJvcHpvbmUuZmlyZShldmVudHMuZW50ZXIpXG4gIH1cbiAgaWYgKGV2ZW50cy5tb3ZlKSB7XG4gICAgY3VyLmRyb3B6b25lLmZpcmUoZXZlbnRzLm1vdmUpXG4gIH1cbiAgaWYgKGV2ZW50cy5kcm9wKSB7XG4gICAgY3VyLmRyb3B6b25lLmZpcmUoZXZlbnRzLmRyb3ApXG4gIH1cblxuICBpZiAoZXZlbnRzLmRlYWN0aXZhdGUpIHtcbiAgICBmaXJlQWN0aXZhdGlvbkV2ZW50cyhhY3RpdmVEcm9wcywgZXZlbnRzLmRlYWN0aXZhdGUpXG4gIH1cblxuICBkcm9wU3RhdGUucHJldi5kcm9wem9uZSA9IGN1ci5kcm9wem9uZVxuICBkcm9wU3RhdGUucHJldi5lbGVtZW50ID0gY3VyLmVsZW1lbnRcbn1cblxuZnVuY3Rpb24gb25FdmVudENyZWF0ZWQoeyBpbnRlcmFjdGlvbiwgaUV2ZW50LCBldmVudCB9OiBEb1BoYXNlQXJnPCdkcmFnJywgRXZlbnRQaGFzZT4sIHNjb3BlOiBTY29wZSkge1xuICBpZiAoaUV2ZW50LnR5cGUgIT09ICdkcmFnbW92ZScgJiYgaUV2ZW50LnR5cGUgIT09ICdkcmFnZW5kJykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuXG4gIGlmIChzY29wZS5keW5hbWljRHJvcCkge1xuICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IGdldEFjdGl2ZURyb3BzKHNjb3BlLCBpbnRlcmFjdGlvbi5lbGVtZW50ISlcbiAgfVxuXG4gIGNvbnN0IGRyYWdFdmVudCA9IGlFdmVudFxuICBjb25zdCBkcm9wUmVzdWx0ID0gZ2V0RHJvcChpbnRlcmFjdGlvbiwgZHJhZ0V2ZW50LCBldmVudClcblxuICAvLyB1cGRhdGUgcmVqZWN0ZWQgc3RhdHVzXG4gIGRyb3BTdGF0ZS5yZWplY3RlZCA9XG4gICAgZHJvcFN0YXRlLnJlamVjdGVkICYmXG4gICAgISFkcm9wUmVzdWx0ICYmXG4gICAgZHJvcFJlc3VsdC5kcm9wem9uZSA9PT0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZSAmJlxuICAgIGRyb3BSZXN1bHQuZWxlbWVudCA9PT0gZHJvcFN0YXRlLmN1ci5lbGVtZW50XG5cbiAgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSA9IGRyb3BSZXN1bHQgJiYgZHJvcFJlc3VsdC5kcm9wem9uZVxuICBkcm9wU3RhdGUuY3VyLmVsZW1lbnQgPSBkcm9wUmVzdWx0ICYmIGRyb3BSZXN1bHQuZWxlbWVudFxuXG4gIGRyb3BTdGF0ZS5ldmVudHMgPSBnZXREcm9wRXZlbnRzKGludGVyYWN0aW9uLCBldmVudCwgZHJhZ0V2ZW50KVxufVxuXG5mdW5jdGlvbiBkcm9wem9uZU1ldGhvZChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSk6IERyb3B6b25lT3B0aW9uc1xuZnVuY3Rpb24gZHJvcHpvbmVNZXRob2QoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIG9wdGlvbnM6IERyb3B6b25lT3B0aW9ucyB8IGJvb2xlYW4pOiBJbnRlcmFjdGFibGVcbmZ1bmN0aW9uIGRyb3B6b25lTWV0aG9kKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBvcHRpb25zPzogRHJvcHpvbmVPcHRpb25zIHwgYm9vbGVhbikge1xuICBpZiAoaXMub2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuXG4gICAgaWYgKG9wdGlvbnMubGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplTGlzdGVuZXJzKG9wdGlvbnMubGlzdGVuZXJzKVxuICAgICAgLy8gcmVuYW1lICdkcm9wJyB0byAnJyBhcyBpdCB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ2Ryb3AnXG4gICAgICBjb25zdCBjb3JyZWN0ZWQgPSBPYmplY3Qua2V5cyhub3JtYWxpemVkKS5yZWR1Y2UoKGFjYywgdHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBjb3JyZWN0ZWRUeXBlID0gL14oZW50ZXJ8bGVhdmUpLy50ZXN0KHR5cGUpXG4gICAgICAgICAgPyBgZHJhZyR7dHlwZX1gXG4gICAgICAgICAgOiAvXihhY3RpdmF0ZXxkZWFjdGl2YXRlfG1vdmUpLy50ZXN0KHR5cGUpXG4gICAgICAgICAgICA/IGBkcm9wJHt0eXBlfWBcbiAgICAgICAgICAgIDogdHlwZVxuXG4gICAgICAgIGFjY1tjb3JyZWN0ZWRUeXBlXSA9IG5vcm1hbGl6ZWRbdHlwZV1cblxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSlcblxuICAgICAgY29uc3QgcHJldkxpc3RlbmVycyA9IGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AubGlzdGVuZXJzXG4gICAgICBwcmV2TGlzdGVuZXJzICYmIGludGVyYWN0YWJsZS5vZmYocHJldkxpc3RlbmVycylcblxuICAgICAgaW50ZXJhY3RhYmxlLm9uKGNvcnJlY3RlZClcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AubGlzdGVuZXJzID0gY29ycmVjdGVkXG4gICAgfVxuXG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3ApKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2Ryb3AnLCBvcHRpb25zLm9uZHJvcClcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3BhY3RpdmF0ZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJvcGFjdGl2YXRlJywgb3B0aW9ucy5vbmRyb3BhY3RpdmF0ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3BkZWFjdGl2YXRlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcm9wZGVhY3RpdmF0ZScsIG9wdGlvbnMub25kcm9wZGVhY3RpdmF0ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyYWdlbnRlcikpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJhZ2VudGVyJywgb3B0aW9ucy5vbmRyYWdlbnRlcilcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyYWdsZWF2ZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJhZ2xlYXZlJywgb3B0aW9ucy5vbmRyYWdsZWF2ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3Btb3ZlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcm9wbW92ZScsIG9wdGlvbnMub25kcm9wbW92ZSlcbiAgICB9XG5cbiAgICBpZiAoL14ocG9pbnRlcnxjZW50ZXIpJC8udGVzdChvcHRpb25zLm92ZXJsYXAgYXMgc3RyaW5nKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5vdmVybGFwID0gb3B0aW9ucy5vdmVybGFwXG4gICAgfSBlbHNlIGlmIChpcy5udW1iZXIob3B0aW9ucy5vdmVybGFwKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5vdmVybGFwID0gTWF0aC5tYXgoTWF0aC5taW4oMSwgb3B0aW9ucy5vdmVybGFwKSwgMClcbiAgICB9XG4gICAgaWYgKCdhY2NlcHQnIGluIG9wdGlvbnMpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuYWNjZXB0ID0gb3B0aW9ucy5hY2NlcHRcbiAgICB9XG4gICAgaWYgKCdjaGVja2VyJyBpbiBvcHRpb25zKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXIgPSBvcHRpb25zLmNoZWNrZXJcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cblxuICBpZiAoaXMuYm9vbChvcHRpb25zKSkge1xuICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuXG4gIHJldHVybiBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wXG59XG5cbmZ1bmN0aW9uIGRyb3BDaGVja01ldGhvZChcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGRyYWdFdmVudDogSW50ZXJhY3RFdmVudCxcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlLFxuICBkcmFnZ2FibGVFbGVtZW50OiBFbGVtZW50LFxuICBkcm9wRWxlbWVudDogRWxlbWVudCxcbiAgcmVjdDogYW55LFxuKSB7XG4gIGxldCBkcm9wcGVkID0gZmFsc2VcblxuICAvLyBpZiB0aGUgZHJvcHpvbmUgaGFzIG5vIHJlY3QgKGVnLiBkaXNwbGF5OiBub25lKVxuICAvLyBjYWxsIHRoZSBjdXN0b20gZHJvcENoZWNrZXIgb3IganVzdCByZXR1cm4gZmFsc2VcbiAgaWYgKCEocmVjdCA9IHJlY3QgfHwgaW50ZXJhY3RhYmxlLmdldFJlY3QoZHJvcEVsZW1lbnQpKSkge1xuICAgIHJldHVybiBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXJcbiAgICAgID8gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5jaGVja2VyKFxuICAgICAgICAgIGRyYWdFdmVudCxcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICBkcm9wcGVkLFxuICAgICAgICAgIGludGVyYWN0YWJsZSxcbiAgICAgICAgICBkcm9wRWxlbWVudCxcbiAgICAgICAgICBkcmFnZ2FibGUsXG4gICAgICAgICAgZHJhZ2dhYmxlRWxlbWVudCxcbiAgICAgICAgKVxuICAgICAgOiBmYWxzZVxuICB9XG5cbiAgY29uc3QgZHJvcE92ZXJsYXAgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLm92ZXJsYXBcblxuICBpZiAoZHJvcE92ZXJsYXAgPT09ICdwb2ludGVyJykge1xuICAgIGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpblhZKGRyYWdnYWJsZSwgZHJhZ2dhYmxlRWxlbWVudCwgJ2RyYWcnKVxuICAgIGNvbnN0IHBhZ2UgPSBwb2ludGVyVXRpbHMuZ2V0UGFnZVhZKGRyYWdFdmVudClcblxuICAgIHBhZ2UueCArPSBvcmlnaW4ueFxuICAgIHBhZ2UueSArPSBvcmlnaW4ueVxuXG4gICAgY29uc3QgaG9yaXpvbnRhbCA9IHBhZ2UueCA+IHJlY3QubGVmdCAmJiBwYWdlLnggPCByZWN0LnJpZ2h0XG4gICAgY29uc3QgdmVydGljYWwgPSBwYWdlLnkgPiByZWN0LnRvcCAmJiBwYWdlLnkgPCByZWN0LmJvdHRvbVxuXG4gICAgZHJvcHBlZCA9IGhvcml6b250YWwgJiYgdmVydGljYWxcbiAgfVxuXG4gIGNvbnN0IGRyYWdSZWN0ID0gZHJhZ2dhYmxlLmdldFJlY3QoZHJhZ2dhYmxlRWxlbWVudClcblxuICBpZiAoZHJhZ1JlY3QgJiYgZHJvcE92ZXJsYXAgPT09ICdjZW50ZXInKSB7XG4gICAgY29uc3QgY3ggPSBkcmFnUmVjdC5sZWZ0ICsgZHJhZ1JlY3Qud2lkdGggLyAyXG4gICAgY29uc3QgY3kgPSBkcmFnUmVjdC50b3AgKyBkcmFnUmVjdC5oZWlnaHQgLyAyXG5cbiAgICBkcm9wcGVkID0gY3ggPj0gcmVjdC5sZWZ0ICYmIGN4IDw9IHJlY3QucmlnaHQgJiYgY3kgPj0gcmVjdC50b3AgJiYgY3kgPD0gcmVjdC5ib3R0b21cbiAgfVxuXG4gIGlmIChkcmFnUmVjdCAmJiBpcy5udW1iZXIoZHJvcE92ZXJsYXApKSB7XG4gICAgY29uc3Qgb3ZlcmxhcEFyZWEgPVxuICAgICAgTWF0aC5tYXgoMCwgTWF0aC5taW4ocmVjdC5yaWdodCwgZHJhZ1JlY3QucmlnaHQpIC0gTWF0aC5tYXgocmVjdC5sZWZ0LCBkcmFnUmVjdC5sZWZ0KSkgKlxuICAgICAgTWF0aC5tYXgoMCwgTWF0aC5taW4ocmVjdC5ib3R0b20sIGRyYWdSZWN0LmJvdHRvbSkgLSBNYXRoLm1heChyZWN0LnRvcCwgZHJhZ1JlY3QudG9wKSlcblxuICAgIGNvbnN0IG92ZXJsYXBSYXRpbyA9IG92ZXJsYXBBcmVhIC8gKGRyYWdSZWN0LndpZHRoICogZHJhZ1JlY3QuaGVpZ2h0KVxuXG4gICAgZHJvcHBlZCA9IG92ZXJsYXBSYXRpbyA+PSBkcm9wT3ZlcmxhcFxuICB9XG5cbiAgaWYgKGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuY2hlY2tlcikge1xuICAgIGRyb3BwZWQgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXIoXG4gICAgICBkcmFnRXZlbnQsXG4gICAgICBldmVudCxcbiAgICAgIGRyb3BwZWQsXG4gICAgICBpbnRlcmFjdGFibGUsXG4gICAgICBkcm9wRWxlbWVudCxcbiAgICAgIGRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZUVsZW1lbnQsXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGRyb3BwZWRcbn1cblxuY29uc3QgZHJvcDogUGx1Z2luID0ge1xuICBpZDogJ2FjdGlvbnMvZHJvcCcsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1zdGFydCc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGludGVyYWN0aW9uLmRyb3BTdGF0ZSA9IHtcbiAgICAgICAgY3VyOiB7XG4gICAgICAgICAgZHJvcHpvbmU6IG51bGwsXG4gICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJldjoge1xuICAgICAgICAgIGRyb3B6b25lOiBudWxsLFxuICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGVkOiBudWxsLFxuICAgICAgICBldmVudHM6IG51bGwsXG4gICAgICAgIGFjdGl2ZURyb3BzOiBbXSxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tc3RhcnQnOiAoXG4gICAgICB7IGludGVyYWN0aW9uLCBldmVudCwgaUV2ZW50OiBkcmFnRXZlbnQgfTogRG9QaGFzZUFyZzwnZHJhZycsIEV2ZW50UGhhc2U+LFxuICAgICAgc2NvcGUsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG5cbiAgICAgIC8vIHJlc2V0IGFjdGl2ZSBkcm9wem9uZXNcbiAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IFtdXG4gICAgICBkcm9wU3RhdGUuZXZlbnRzID0ge31cbiAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IGdldEFjdGl2ZURyb3BzKHNjb3BlLCBpbnRlcmFjdGlvbi5lbGVtZW50ISlcbiAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSBnZXREcm9wRXZlbnRzKGludGVyYWN0aW9uLCBldmVudCwgZHJhZ0V2ZW50KVxuXG4gICAgICBpZiAoZHJvcFN0YXRlLmV2ZW50cy5hY3RpdmF0ZSkge1xuICAgICAgICBmaXJlQWN0aXZhdGlvbkV2ZW50cyhkcm9wU3RhdGUuYWN0aXZlRHJvcHMsIGRyb3BTdGF0ZS5ldmVudHMuYWN0aXZhdGUpXG4gICAgICAgIHNjb3BlLmZpcmUoJ2FjdGlvbnMvZHJvcDpzdGFydCcsIHsgaW50ZXJhY3Rpb24sIGRyYWdFdmVudCB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogb25FdmVudENyZWF0ZWQsXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1tb3ZlJzogKFxuICAgICAgeyBpbnRlcmFjdGlvbiwgaUV2ZW50OiBkcmFnRXZlbnQgfTogRG9QaGFzZUFyZzwnZHJhZycsIEV2ZW50UGhhc2U+LFxuICAgICAgc2NvcGUsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG4gICAgICBmaXJlRHJvcEV2ZW50cyhpbnRlcmFjdGlvbiwgZHJvcFN0YXRlLmV2ZW50cylcblxuICAgICAgc2NvcGUuZmlyZSgnYWN0aW9ucy9kcm9wOm1vdmUnLCB7IGludGVyYWN0aW9uLCBkcmFnRXZlbnQgfSlcbiAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSB7fVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiAoYXJnOiBEb1BoYXNlQXJnPCdkcmFnJywgRXZlbnRQaGFzZT4sIHNjb3BlKSA9PiB7XG4gICAgICBpZiAoYXJnLmludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiwgaUV2ZW50OiBkcmFnRXZlbnQgfSA9IGFyZ1xuXG4gICAgICBvbkV2ZW50Q3JlYXRlZChhcmcsIHNjb3BlKVxuICAgICAgZmlyZURyb3BFdmVudHMoaW50ZXJhY3Rpb24sIGludGVyYWN0aW9uLmRyb3BTdGF0ZSEuZXZlbnRzKVxuICAgICAgc2NvcGUuZmlyZSgnYWN0aW9ucy9kcm9wOmVuZCcsIHsgaW50ZXJhY3Rpb24sIGRyYWdFdmVudCB9KVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGRyb3BTdGF0ZSB9ID0gaW50ZXJhY3Rpb25cblxuICAgICAgaWYgKGRyb3BTdGF0ZSkge1xuICAgICAgICBkcm9wU3RhdGUuYWN0aXZlRHJvcHMgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5jdXIuZWxlbWVudCA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLnByZXYuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnQgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5yZWplY3RlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgZ2V0QWN0aXZlRHJvcHMsXG4gIGdldERyb3AsXG4gIGdldERyb3BFdmVudHMsXG4gIGZpcmVEcm9wRXZlbnRzLFxuXG4gIGZpbHRlckV2ZW50VHlwZTogKHR5cGU6IHN0cmluZykgPT4gdHlwZS5zZWFyY2goJ2RyYWcnKSA9PT0gMCB8fCB0eXBlLnNlYXJjaCgnZHJvcCcpID09PSAwLFxuXG4gIGRlZmF1bHRzOiB7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgYWNjZXB0OiBudWxsIGFzIG5ldmVyLFxuICAgIG92ZXJsYXA6ICdwb2ludGVyJyxcbiAgfSBhcyBEcm9wem9uZU9wdGlvbnMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRyb3BcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50LCBFdmVudFBoYXNlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9QaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUmVjdCwgUG9pbnRlclR5cGUsIExpc3RlbmVyc0FyZywgT3JCb29sZWFuIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgZ2VzdHVyZT86IHtcbiAgICAgIGFuZ2xlOiBudW1iZXIgLy8gYW5nbGUgZnJvbSBmaXJzdCB0byBzZWNvbmQgdG91Y2hcbiAgICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgICAgIHNjYWxlOiBudW1iZXIgLy8gZ2VzdHVyZS5kaXN0YW5jZSAvIGdlc3R1cmUuc3RhcnREaXN0YW5jZVxuICAgICAgc3RhcnRBbmdsZTogbnVtYmVyIC8vIGFuZ2xlIG9mIGxpbmUgam9pbmluZyB0d28gdG91Y2hlc1xuICAgICAgc3RhcnREaXN0YW5jZTogbnVtYmVyIC8vIGRpc3RhbmNlIGJldHdlZW4gdHdvIHRvdWNoZXMgb2YgdG91Y2hTdGFydFxuICAgIH1cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgZ2VzdHVyYWJsZShvcHRpb25zOiBQYXJ0aWFsPE9yQm9vbGVhbjxHZXN0dXJhYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXNcbiAgICBnZXN0dXJhYmxlKCk6IEdlc3R1cmFibGVPcHRpb25zXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdChlbGVtZW50KS5nZXN0dXJhYmxlKHtcbiAgICAgKiAgICAgb25zdGFydDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgICAgb25tb3ZlIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgICAgb25lbmQgIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKlxuICAgICAqICAgICAvLyBsaW1pdCBtdWx0aXBsZSBnZXN0dXJlcy5cbiAgICAgKiAgICAgLy8gU2VlIHRoZSBleHBsYW5hdGlvbiBpbiB7QGxpbmsgSW50ZXJhY3RhYmxlLmRyYWdnYWJsZX0gZXhhbXBsZVxuICAgICAqICAgICBtYXg6IEluZmluaXR5LFxuICAgICAqICAgICBtYXhQZXJFbGVtZW50OiAxLFxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiB2YXIgaXNHZXN0dXJlYWJsZSA9IGludGVyYWN0KGVsZW1lbnQpLmdlc3R1cmFibGUoKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgbXVsdGl0b3VjaCBnZXN0dXJlcyBjYW4gYmUgcGVyZm9ybWVkIG9uIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gdHJ1ZS9mYWxzZSBvciBBbiBvYmplY3Qgd2l0aCBldmVudCBsaXN0ZW5lcnMgdG8gYmUgZmlyZWQgb24gZ2VzdHVyZSBldmVudHMgKG1ha2VzIHRoZSBJbnRlcmFjdGFibGUgZ2VzdHVyYWJsZSlcbiAgICAgKiBAcmV0dXJucyBBIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGlzIGNhbiBiZSB0aGUgdGFyZ2V0IG9mIGdlc3R1cmUgZXZlbnRzLCBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIGdlc3R1cmFibGUob3B0aW9ucz86IFBhcnRpYWw8T3JCb29sZWFuPEdlc3R1cmFibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpcyB8IEdlc3R1cmFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIGdlc3R1cmU6IEdlc3R1cmFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbk1hcCB7XG4gICAgZ2VzdHVyZT86IHR5cGVvZiBnZXN0dXJlXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJhYmxlT3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgb25zdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbm1vdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25lbmQ/OiBMaXN0ZW5lcnNBcmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJlRXZlbnQgZXh0ZW5kcyBJbnRlcmFjdEV2ZW50PCdnZXN0dXJlJz4ge1xuICBkaXN0YW5jZTogbnVtYmVyXG4gIGFuZ2xlOiBudW1iZXJcbiAgZGE6IG51bWJlciAvLyBhbmdsZSBjaGFuZ2VcbiAgc2NhbGU6IG51bWJlciAvLyByYXRpbyBvZiBkaXN0YW5jZSBzdGFydCB0byBjdXJyZW50IGV2ZW50XG4gIGRzOiBudW1iZXIgLy8gc2NhbGUgY2hhbmdlXG4gIGJveDogUmVjdCAvLyBlbmNsb3NpbmcgYm94IG9mIGFsbCBwb2ludHNcbiAgdG91Y2hlczogUG9pbnRlclR5cGVbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlc3R1cmVTaWduYWxBcmcgZXh0ZW5kcyBEb1BoYXNlQXJnPCdnZXN0dXJlJywgRXZlbnRQaGFzZT4ge1xuICBpRXZlbnQ6IEdlc3R1cmVFdmVudFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248J2dlc3R1cmUnPlxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGFjdGlvbnMsIEludGVyYWN0YWJsZSwgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5nZXN0dXJhYmxlID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IEluc3RhbmNlVHlwZTx0eXBlb2YgSW50ZXJhY3RhYmxlPixcbiAgICBvcHRpb25zOiBHZXN0dXJhYmxlT3B0aW9ucyB8IGJvb2xlYW4sXG4gICkge1xuICAgIGlmIChpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG4gICAgICB0aGlzLnNldFBlckFjdGlvbignZ2VzdHVyZScsIG9wdGlvbnMpXG4gICAgICB0aGlzLnNldE9uRXZlbnRzKCdnZXN0dXJlJywgb3B0aW9ucylcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoaXMuYm9vbChvcHRpb25zKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmdlc3R1cmUuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdlc3R1cmUgYXMgR2VzdHVyYWJsZU9wdGlvbnNcbiAgfSBhcyBJbnRlcmFjdGFibGVbJ2dlc3R1cmFibGUnXVxuXG4gIGFjdGlvbnMubWFwLmdlc3R1cmUgPSBnZXN0dXJlXG4gIGFjdGlvbnMubWV0aG9kRGljdC5nZXN0dXJlID0gJ2dlc3R1cmFibGUnXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5nZXN0dXJlID0gZ2VzdHVyZS5kZWZhdWx0c1xufVxuXG5mdW5jdGlvbiB1cGRhdGVHZXN0dXJlUHJvcHMoeyBpbnRlcmFjdGlvbiwgaUV2ZW50LCBwaGFzZSB9OiBHZXN0dXJlU2lnbmFsQXJnKSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZ2VzdHVyZScpIHJldHVyblxuXG4gIGNvbnN0IHBvaW50ZXJzID0gaW50ZXJhY3Rpb24ucG9pbnRlcnMubWFwKChwKSA9PiBwLnBvaW50ZXIpXG4gIGNvbnN0IHN0YXJ0aW5nID0gcGhhc2UgPT09ICdzdGFydCdcbiAgY29uc3QgZW5kaW5nID0gcGhhc2UgPT09ICdlbmQnXG4gIGNvbnN0IGRlbHRhU291cmNlID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnMuZGVsdGFTb3VyY2VcblxuICBpRXZlbnQudG91Y2hlcyA9IFtwb2ludGVyc1swXSwgcG9pbnRlcnNbMV1dXG5cbiAgaWYgKHN0YXJ0aW5nKSB7XG4gICAgaUV2ZW50LmRpc3RhbmNlID0gcG9pbnRlclV0aWxzLnRvdWNoRGlzdGFuY2UocG9pbnRlcnMsIGRlbHRhU291cmNlKVxuICAgIGlFdmVudC5ib3ggPSBwb2ludGVyVXRpbHMudG91Y2hCQm94KHBvaW50ZXJzKVxuICAgIGlFdmVudC5zY2FsZSA9IDFcbiAgICBpRXZlbnQuZHMgPSAwXG4gICAgaUV2ZW50LmFuZ2xlID0gcG9pbnRlclV0aWxzLnRvdWNoQW5nbGUocG9pbnRlcnMsIGRlbHRhU291cmNlKVxuICAgIGlFdmVudC5kYSA9IDBcblxuICAgIGludGVyYWN0aW9uLmdlc3R1cmUuc3RhcnREaXN0YW5jZSA9IGlFdmVudC5kaXN0YW5jZVxuICAgIGludGVyYWN0aW9uLmdlc3R1cmUuc3RhcnRBbmdsZSA9IGlFdmVudC5hbmdsZVxuICB9IGVsc2UgaWYgKGVuZGluZyB8fCBpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgY29uc3QgcHJldkV2ZW50ID0gaW50ZXJhY3Rpb24ucHJldkV2ZW50IGFzIEdlc3R1cmVFdmVudFxuXG4gICAgaUV2ZW50LmRpc3RhbmNlID0gcHJldkV2ZW50LmRpc3RhbmNlXG4gICAgaUV2ZW50LmJveCA9IHByZXZFdmVudC5ib3hcbiAgICBpRXZlbnQuc2NhbGUgPSBwcmV2RXZlbnQuc2NhbGVcbiAgICBpRXZlbnQuZHMgPSAwXG4gICAgaUV2ZW50LmFuZ2xlID0gcHJldkV2ZW50LmFuZ2xlXG4gICAgaUV2ZW50LmRhID0gMFxuICB9IGVsc2Uge1xuICAgIGlFdmVudC5kaXN0YW5jZSA9IHBvaW50ZXJVdGlscy50b3VjaERpc3RhbmNlKHBvaW50ZXJzLCBkZWx0YVNvdXJjZSlcbiAgICBpRXZlbnQuYm94ID0gcG9pbnRlclV0aWxzLnRvdWNoQkJveChwb2ludGVycylcbiAgICBpRXZlbnQuc2NhbGUgPSBpRXZlbnQuZGlzdGFuY2UgLyBpbnRlcmFjdGlvbi5nZXN0dXJlLnN0YXJ0RGlzdGFuY2VcbiAgICBpRXZlbnQuYW5nbGUgPSBwb2ludGVyVXRpbHMudG91Y2hBbmdsZShwb2ludGVycywgZGVsdGFTb3VyY2UpXG5cbiAgICBpRXZlbnQuZHMgPSBpRXZlbnQuc2NhbGUgLSBpbnRlcmFjdGlvbi5nZXN0dXJlLnNjYWxlXG4gICAgaUV2ZW50LmRhID0gaUV2ZW50LmFuZ2xlIC0gaW50ZXJhY3Rpb24uZ2VzdHVyZS5hbmdsZVxuICB9XG5cbiAgaW50ZXJhY3Rpb24uZ2VzdHVyZS5kaXN0YW5jZSA9IGlFdmVudC5kaXN0YW5jZVxuICBpbnRlcmFjdGlvbi5nZXN0dXJlLmFuZ2xlID0gaUV2ZW50LmFuZ2xlXG5cbiAgaWYgKGlzLm51bWJlcihpRXZlbnQuc2NhbGUpICYmIGlFdmVudC5zY2FsZSAhPT0gSW5maW5pdHkgJiYgIWlzTmFOKGlFdmVudC5zY2FsZSkpIHtcbiAgICBpbnRlcmFjdGlvbi5nZXN0dXJlLnNjYWxlID0gaUV2ZW50LnNjYWxlXG4gIH1cbn1cblxuY29uc3QgZ2VzdHVyZTogUGx1Z2luID0ge1xuICBpZDogJ2FjdGlvbnMvZ2VzdHVyZScsXG4gIGJlZm9yZTogWydhY3Rpb25zL2RyYWcnLCAnYWN0aW9ucy9yZXNpemUnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tc3RhcnQnOiB1cGRhdGVHZXN0dXJlUHJvcHMsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IHVwZGF0ZUdlc3R1cmVQcm9wcyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiB1cGRhdGVHZXN0dXJlUHJvcHMsXG5cbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLmdlc3R1cmUgPSB7XG4gICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgICAgIHN0YXJ0RGlzdGFuY2U6IDAsXG4gICAgICB9XG4gICAgfSxcblxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogKGFyZykgPT4ge1xuICAgICAgaWYgKGFyZy5pbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgY29uc3QgZ2VzdHVyZU9wdGlvbnMgPSBhcmcuaW50ZXJhY3RhYmxlLm9wdGlvbnMuZ2VzdHVyZVxuXG4gICAgICBpZiAoIShnZXN0dXJlT3B0aW9ucyAmJiBnZXN0dXJlT3B0aW9ucy5lbmFibGVkKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGFyZy5hY3Rpb24gPSB7IG5hbWU6ICdnZXN0dXJlJyB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0sXG4gIH0sXG5cbiAgZGVmYXVsdHM6IHt9LFxuXG4gIGdldEN1cnNvcigpIHtcbiAgICByZXR1cm4gJydcbiAgfSxcblxuICBmaWx0ZXJFdmVudFR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHR5cGUuc2VhcmNoKCdnZXN0dXJlJykgPT09IDAsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGdlc3R1cmVcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBFdmVudFBoYXNlLCBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHtcbiAgQWN0aW9uTmFtZSxcbiAgQWN0aW9uUHJvcHMsXG4gIEVkZ2VPcHRpb25zLFxuICBGdWxsUmVjdCxcbiAgTGlzdGVuZXJzQXJnLFxuICBPckJvb2xlYW4sXG4gIFBvaW50LFxuICBSZWN0LFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmV4cG9ydCB0eXBlIEVkZ2VOYW1lID0gJ3RvcCcgfCAnbGVmdCcgfCAnYm90dG9tJyB8ICdyaWdodCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIHJlc2l6YWJsZSgpOiBSZXNpemFibGVPcHRpb25zXG4gICAgcmVzaXphYmxlKG9wdGlvbnM6IFBhcnRpYWw8T3JCb29sZWFuPFJlc2l6YWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdChlbGVtZW50KS5yZXNpemFibGUoe1xuICAgICAqICAgb25zdGFydDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgIG9ubW92ZSA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICBvbmVuZCAgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqXG4gICAgICogICBlZGdlczoge1xuICAgICAqICAgICB0b3AgICA6IHRydWUsICAgICAgIC8vIFVzZSBwb2ludGVyIGNvb3JkcyB0byBjaGVjayBmb3IgcmVzaXplLlxuICAgICAqICAgICBsZWZ0ICA6IGZhbHNlLCAgICAgIC8vIERpc2FibGUgcmVzaXppbmcgZnJvbSBsZWZ0IGVkZ2UuXG4gICAgICogICAgIGJvdHRvbTogJy5yZXNpemUtcycsLy8gUmVzaXplIGlmIHBvaW50ZXIgdGFyZ2V0IG1hdGNoZXMgc2VsZWN0b3JcbiAgICAgKiAgICAgcmlnaHQgOiBoYW5kbGVFbCAgICAvLyBSZXNpemUgaWYgcG9pbnRlciB0YXJnZXQgaXMgdGhlIGdpdmVuIEVsZW1lbnRcbiAgICAgKiAgIH0sXG4gICAgICpcbiAgICAgKiAgIC8vIFdpZHRoIGFuZCBoZWlnaHQgY2FuIGJlIGFkanVzdGVkIGluZGVwZW5kZW50bHkuIFdoZW4gYHRydWVgLCB3aWR0aCBhbmRcbiAgICAgKiAgIC8vIGhlaWdodCBhcmUgYWRqdXN0ZWQgYXQgYSAxOjEgcmF0aW8uXG4gICAgICogICBzcXVhcmU6IGZhbHNlLFxuICAgICAqXG4gICAgICogICAvLyBXaWR0aCBhbmQgaGVpZ2h0IGNhbiBiZSBhZGp1c3RlZCBpbmRlcGVuZGVudGx5LiBXaGVuIGB0cnVlYCwgd2lkdGggYW5kXG4gICAgICogICAvLyBoZWlnaHQgbWFpbnRhaW4gdGhlIGFzcGVjdCByYXRpbyB0aGV5IGhhZCB3aGVuIHJlc2l6aW5nIHN0YXJ0ZWQuXG4gICAgICogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICAgKlxuICAgICAqICAgLy8gYSB2YWx1ZSBvZiAnbm9uZScgd2lsbCBsaW1pdCB0aGUgcmVzaXplIHJlY3QgdG8gYSBtaW5pbXVtIG9mIDB4MFxuICAgICAqICAgLy8gJ25lZ2F0ZScgd2lsbCBhbGxvdyB0aGUgcmVjdCB0byBoYXZlIG5lZ2F0aXZlIHdpZHRoL2hlaWdodFxuICAgICAqICAgLy8gJ3JlcG9zaXRpb24nIHdpbGwga2VlcCB0aGUgd2lkdGgvaGVpZ2h0IHBvc2l0aXZlIGJ5IHN3YXBwaW5nXG4gICAgICogICAvLyB0aGUgdG9wIGFuZCBib3R0b20gZWRnZXMgYW5kL29yIHN3YXBwaW5nIHRoZSBsZWZ0IGFuZCByaWdodCBlZGdlc1xuICAgICAqICAgaW52ZXJ0OiAnbm9uZScgfHwgJ25lZ2F0ZScgfHwgJ3JlcG9zaXRpb24nXG4gICAgICpcbiAgICAgKiAgIC8vIGxpbWl0IG11bHRpcGxlIHJlc2l6ZXMuXG4gICAgICogICAvLyBTZWUgdGhlIGV4cGxhbmF0aW9uIGluIHRoZSB7QGxpbmsgSW50ZXJhY3RhYmxlLmRyYWdnYWJsZX0gZXhhbXBsZVxuICAgICAqICAgbWF4OiBJbmZpbml0eSxcbiAgICAgKiAgIG1heFBlckVsZW1lbnQ6IDEsXG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIHZhciBpc1Jlc2l6ZWFibGUgPSBpbnRlcmFjdChlbGVtZW50KS5yZXNpemFibGUoKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgcmVzaXplIGFjdGlvbnMgY2FuIGJlIHBlcmZvcm1lZCBvbiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRydWUvZmFsc2Ugb3IgQW4gb2JqZWN0IHdpdGggZXZlbnRcbiAgICAgKiBsaXN0ZW5lcnMgdG8gYmUgZmlyZWQgb24gcmVzaXplIGV2ZW50cyAob2JqZWN0IG1ha2VzIHRoZSBJbnRlcmFjdGFibGVcbiAgICAgKiByZXNpemFibGUpXG4gICAgICogQHJldHVybnMgQSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhpcyBjYW4gYmUgdGhlXG4gICAgICogdGFyZ2V0IG9mIHJlc2l6ZSBlbGVtZW50cywgb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICByZXNpemFibGUob3B0aW9ucz86IFBhcnRpYWw8T3JCb29sZWFuPFJlc2l6YWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzIHwgUmVzaXphYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbjxUIGV4dGVuZHMgQWN0aW9uTmFtZSB8IG51bGwgPSBBY3Rpb25OYW1lPiB7XG4gICAgcmVzaXplQXhlczogJ3gnIHwgJ3knIHwgJ3h5J1xuICAgIHN0eWxlQ3Vyc29yKG5ld1ZhbHVlOiBib29sZWFuKTogdGhpc1xuICAgIHN0eWxlQ3Vyc29yKCk6IGJvb2xlYW5cbiAgICByZXNpemVTdGFydEFzcGVjdFJhdGlvOiBudW1iZXJcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgcmVzaXplOiBSZXNpemFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbk1hcCB7XG4gICAgcmVzaXplPzogdHlwZW9mIHJlc2l6ZVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXphYmxlT3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgc3F1YXJlPzogYm9vbGVhblxuICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPzogYm9vbGVhblxuICBlZGdlcz86IEVkZ2VPcHRpb25zIHwgbnVsbFxuICBheGlzPzogJ3gnIHwgJ3knIHwgJ3h5JyAvLyBkZXByZWNhdGVkXG4gIGludmVydD86ICdub25lJyB8ICduZWdhdGUnIHwgJ3JlcG9zaXRpb24nXG4gIG1hcmdpbj86IG51bWJlclxuICBzcXVhcmVSZXNpemU/OiBib29sZWFuXG4gIG9uaW5lcnRpYXN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9uc3RhcnQ/OiBMaXN0ZW5lcnNBcmdcbiAgb25tb3ZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZW5kPzogTGlzdGVuZXJzQXJnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplRXZlbnQ8UCBleHRlbmRzIEV2ZW50UGhhc2UgPSBFdmVudFBoYXNlPiBleHRlbmRzIEludGVyYWN0RXZlbnQ8J3Jlc2l6ZScsIFA+IHtcbiAgZGVsdGFSZWN0PzogRnVsbFJlY3RcbiAgZWRnZXM/OiBBY3Rpb25Qcm9wc1snZWRnZXMnXVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7XG4gICAgYWN0aW9ucyxcbiAgICBicm93c2VyLFxuICAgIEludGVyYWN0YWJsZSwgLy8gdHNsaW50OmRpc2FibGUtbGluZSBuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgIGRlZmF1bHRzLFxuICB9ID0gc2NvcGVcblxuICAvLyBMZXNzIFByZWNpc2lvbiB3aXRoIHRvdWNoIGlucHV0XG5cbiAgcmVzaXplLmN1cnNvcnMgPSBpbml0Q3Vyc29ycyhicm93c2VyKVxuICByZXNpemUuZGVmYXVsdE1hcmdpbiA9IGJyb3dzZXIuc3VwcG9ydHNUb3VjaCB8fCBicm93c2VyLnN1cHBvcnRzUG9pbnRlckV2ZW50ID8gMjAgOiAxMFxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucmVzaXphYmxlID0gZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0YWJsZSwgb3B0aW9uczogUmVzaXphYmxlT3B0aW9ucyB8IGJvb2xlYW4pIHtcbiAgICByZXR1cm4gcmVzaXphYmxlKHRoaXMsIG9wdGlvbnMsIHNjb3BlKVxuICB9IGFzIEludGVyYWN0YWJsZVsncmVzaXphYmxlJ11cblxuICBhY3Rpb25zLm1hcC5yZXNpemUgPSByZXNpemVcbiAgYWN0aW9ucy5tZXRob2REaWN0LnJlc2l6ZSA9ICdyZXNpemFibGUnXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5yZXNpemUgPSByZXNpemUuZGVmYXVsdHNcbn1cblxuZnVuY3Rpb24gcmVzaXplQ2hlY2tlcihhcmcpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCByZWN0LCBidXR0b25zIH0gPSBhcmdcblxuICBpZiAoIXJlY3QpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBjb25zdCBwYWdlID0gZXh0ZW5kKHt9LCBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UpXG4gIGNvbnN0IHJlc2l6ZU9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemVcblxuICBpZiAoXG4gICAgIShyZXNpemVPcHRpb25zICYmIHJlc2l6ZU9wdGlvbnMuZW5hYmxlZCkgfHxcbiAgICAvLyBjaGVjayBtb3VzZUJ1dHRvbiBzZXR0aW5nIGlmIHRoZSBwb2ludGVyIGlzIGRvd25cbiAgICAoaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biAmJlxuICAgICAgL21vdXNlfHBvaW50ZXIvLnRlc3QoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUpICYmXG4gICAgICAoYnV0dG9ucyAmIHJlc2l6ZU9wdGlvbnMubW91c2VCdXR0b25zKSA9PT0gMClcbiAgKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgLy8gaWYgdXNpbmcgcmVzaXplLmVkZ2VzXG4gIGlmIChpcy5vYmplY3QocmVzaXplT3B0aW9ucy5lZGdlcykpIHtcbiAgICBjb25zdCByZXNpemVFZGdlcyA9IHtcbiAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgICAgdG9wOiBmYWxzZSxcbiAgICAgIGJvdHRvbTogZmFsc2UsXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlZGdlIGluIHJlc2l6ZUVkZ2VzKSB7XG4gICAgICByZXNpemVFZGdlc1tlZGdlXSA9IGNoZWNrUmVzaXplRWRnZShcbiAgICAgICAgZWRnZSxcbiAgICAgICAgcmVzaXplT3B0aW9ucy5lZGdlc1tlZGdlXSxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgaW50ZXJhY3Rpb24uX2xhdGVzdFBvaW50ZXIuZXZlbnRUYXJnZXQsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHJlY3QsXG4gICAgICAgIHJlc2l6ZU9wdGlvbnMubWFyZ2luIHx8IHJlc2l6ZS5kZWZhdWx0TWFyZ2luLFxuICAgICAgKVxuICAgIH1cblxuICAgIHJlc2l6ZUVkZ2VzLmxlZnQgPSByZXNpemVFZGdlcy5sZWZ0ICYmICFyZXNpemVFZGdlcy5yaWdodFxuICAgIHJlc2l6ZUVkZ2VzLnRvcCA9IHJlc2l6ZUVkZ2VzLnRvcCAmJiAhcmVzaXplRWRnZXMuYm90dG9tXG5cbiAgICBpZiAocmVzaXplRWRnZXMubGVmdCB8fCByZXNpemVFZGdlcy5yaWdodCB8fCByZXNpemVFZGdlcy50b3AgfHwgcmVzaXplRWRnZXMuYm90dG9tKSB7XG4gICAgICBhcmcuYWN0aW9uID0ge1xuICAgICAgICBuYW1lOiAncmVzaXplJyxcbiAgICAgICAgZWRnZXM6IHJlc2l6ZUVkZ2VzLFxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCByaWdodCA9IHJlc2l6ZU9wdGlvbnMuYXhpcyAhPT0gJ3knICYmIHBhZ2UueCA+IHJlY3QucmlnaHQgLSByZXNpemUuZGVmYXVsdE1hcmdpblxuICAgIGNvbnN0IGJvdHRvbSA9IHJlc2l6ZU9wdGlvbnMuYXhpcyAhPT0gJ3gnICYmIHBhZ2UueSA+IHJlY3QuYm90dG9tIC0gcmVzaXplLmRlZmF1bHRNYXJnaW5cblxuICAgIGlmIChyaWdodCB8fCBib3R0b20pIHtcbiAgICAgIGFyZy5hY3Rpb24gPSB7XG4gICAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgICBheGVzOiAocmlnaHQgPyAneCcgOiAnJykgKyAoYm90dG9tID8gJ3knIDogJycpLFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcmcuYWN0aW9uID8gZmFsc2UgOiB1bmRlZmluZWRcbn1cblxuZnVuY3Rpb24gcmVzaXphYmxlKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBvcHRpb25zOiBPckJvb2xlYW48UmVzaXphYmxlT3B0aW9ucz4gfCBib29sZWFuLCBzY29wZTogU2NvcGUpIHtcbiAgaWYgKGlzLm9iamVjdChvcHRpb25zKSkge1xuICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuICAgIGludGVyYWN0YWJsZS5zZXRQZXJBY3Rpb24oJ3Jlc2l6ZScsIG9wdGlvbnMpXG4gICAgaW50ZXJhY3RhYmxlLnNldE9uRXZlbnRzKCdyZXNpemUnLCBvcHRpb25zKVxuXG4gICAgaWYgKGlzLnN0cmluZyhvcHRpb25zLmF4aXMpICYmIC9eeCR8XnkkfF54eSQvLnRlc3Qob3B0aW9ucy5heGlzKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLmF4aXMgPSBvcHRpb25zLmF4aXNcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYXhpcyA9PT0gbnVsbCkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLmF4aXMgPSBzY29wZS5kZWZhdWx0cy5hY3Rpb25zLnJlc2l6ZS5heGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLmJvb2wob3B0aW9ucy5wcmVzZXJ2ZUFzcGVjdFJhdGlvKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLnByZXNlcnZlQXNwZWN0UmF0aW8gPSBvcHRpb25zLnByZXNlcnZlQXNwZWN0UmF0aW9cbiAgICB9IGVsc2UgaWYgKGlzLmJvb2wob3B0aW9ucy5zcXVhcmUpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuc3F1YXJlID0gb3B0aW9ucy5zcXVhcmVcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cbiAgaWYgKGlzLmJvb2wob3B0aW9ucykpIHtcbiAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuICByZXR1cm4gaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplXG59XG5cbmZ1bmN0aW9uIGNoZWNrUmVzaXplRWRnZShcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogYW55LFxuICBwYWdlOiBQb2ludCxcbiAgZWxlbWVudDogTm9kZSxcbiAgaW50ZXJhY3RhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgcmVjdDogUmVjdCxcbiAgbWFyZ2luOiBudW1iZXIsXG4pIHtcbiAgLy8gZmFsc2UsICcnLCB1bmRlZmluZWQsIG51bGxcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gdHJ1ZSB2YWx1ZSwgdXNlIHBvaW50ZXIgY29vcmRzIGFuZCBlbGVtZW50IHJlY3RcbiAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgLy8gaWYgZGltZW5zaW9ucyBhcmUgbmVnYXRpdmUsIFwic3dpdGNoXCIgZWRnZXNcbiAgICBjb25zdCB3aWR0aCA9IGlzLm51bWJlcihyZWN0LndpZHRoKSA/IHJlY3Qud2lkdGggOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gICAgY29uc3QgaGVpZ2h0ID0gaXMubnVtYmVyKHJlY3QuaGVpZ2h0KSA/IHJlY3QuaGVpZ2h0IDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuXG4gICAgLy8gZG9uJ3QgdXNlIG1hcmdpbiBncmVhdGVyIHRoYW4gaGFsZiB0aGUgcmVsZXZlbnQgZGltZW5zaW9uXG4gICAgbWFyZ2luID0gTWF0aC5taW4obWFyZ2luLCBNYXRoLmFicygobmFtZSA9PT0gJ2xlZnQnIHx8IG5hbWUgPT09ICdyaWdodCcgPyB3aWR0aCA6IGhlaWdodCkgLyAyKSlcblxuICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgIGlmIChuYW1lID09PSAnbGVmdCcpIHtcbiAgICAgICAgbmFtZSA9ICdyaWdodCdcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBuYW1lID0gJ2xlZnQnXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICBpZiAobmFtZSA9PT0gJ3RvcCcpIHtcbiAgICAgICAgbmFtZSA9ICdib3R0b20nXG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdib3R0b20nKSB7XG4gICAgICAgIG5hbWUgPSAndG9wJ1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuYW1lID09PSAnbGVmdCcpIHtcbiAgICAgIGNvbnN0IGVkZ2UgPSB3aWR0aCA+PSAwID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodFxuICAgICAgcmV0dXJuIHBhZ2UueCA8IGVkZ2UgKyBtYXJnaW5cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICd0b3AnKSB7XG4gICAgICBjb25zdCBlZGdlID0gaGVpZ2h0ID49IDAgPyByZWN0LnRvcCA6IHJlY3QuYm90dG9tXG4gICAgICByZXR1cm4gcGFnZS55IDwgZWRnZSArIG1hcmdpblxuICAgIH1cblxuICAgIGlmIChuYW1lID09PSAncmlnaHQnKSB7XG4gICAgICByZXR1cm4gcGFnZS54ID4gKHdpZHRoID49IDAgPyByZWN0LnJpZ2h0IDogcmVjdC5sZWZ0KSAtIG1hcmdpblxuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHJldHVybiBwYWdlLnkgPiAoaGVpZ2h0ID49IDAgPyByZWN0LmJvdHRvbSA6IHJlY3QudG9wKSAtIG1hcmdpblxuICAgIH1cbiAgfVxuXG4gIC8vIHRoZSByZW1haW5pbmcgY2hlY2tzIHJlcXVpcmUgYW4gZWxlbWVudFxuICBpZiAoIWlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBpcy5lbGVtZW50KHZhbHVlKVxuICAgID8gLy8gdGhlIHZhbHVlIGlzIGFuIGVsZW1lbnQgdG8gdXNlIGFzIGEgcmVzaXplIGhhbmRsZVxuICAgICAgdmFsdWUgPT09IGVsZW1lbnRcbiAgICA6IC8vIG90aGVyd2lzZSBjaGVjayBpZiBlbGVtZW50IG1hdGNoZXMgdmFsdWUgYXMgc2VsZWN0b3JcbiAgICAgIGRvbS5tYXRjaGVzVXBUbyhlbGVtZW50LCB2YWx1ZSwgaW50ZXJhY3RhYmxlRWxlbWVudClcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbXVsdGlsaW5lLXRlcm5hcnkgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWltcG9ydHNcbmZ1bmN0aW9uIGluaXRDdXJzb3JzKGJyb3dzZXI6IHR5cGVvZiBpbXBvcnQoJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInKS5kZWZhdWx0KSB7XG4gIHJldHVybiBicm93c2VyLmlzSWU5XG4gICAgPyB7XG4gICAgICAgIHg6ICdlLXJlc2l6ZScsXG4gICAgICAgIHk6ICdzLXJlc2l6ZScsXG4gICAgICAgIHh5OiAnc2UtcmVzaXplJyxcblxuICAgICAgICB0b3A6ICduLXJlc2l6ZScsXG4gICAgICAgIGxlZnQ6ICd3LXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbTogJ3MtcmVzaXplJyxcbiAgICAgICAgcmlnaHQ6ICdlLXJlc2l6ZScsXG4gICAgICAgIHRvcGxlZnQ6ICdzZS1yZXNpemUnLFxuICAgICAgICBib3R0b21yaWdodDogJ3NlLXJlc2l6ZScsXG4gICAgICAgIHRvcHJpZ2h0OiAnbmUtcmVzaXplJyxcbiAgICAgICAgYm90dG9tbGVmdDogJ25lLXJlc2l6ZScsXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIHg6ICdldy1yZXNpemUnLFxuICAgICAgICB5OiAnbnMtcmVzaXplJyxcbiAgICAgICAgeHk6ICdud3NlLXJlc2l6ZScsXG5cbiAgICAgICAgdG9wOiAnbnMtcmVzaXplJyxcbiAgICAgICAgbGVmdDogJ2V3LXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbTogJ25zLXJlc2l6ZScsXG4gICAgICAgIHJpZ2h0OiAnZXctcmVzaXplJyxcbiAgICAgICAgdG9wbGVmdDogJ253c2UtcmVzaXplJyxcbiAgICAgICAgYm90dG9tcmlnaHQ6ICdud3NlLXJlc2l6ZScsXG4gICAgICAgIHRvcHJpZ2h0OiAnbmVzdy1yZXNpemUnLFxuICAgICAgICBib3R0b21sZWZ0OiAnbmVzdy1yZXNpemUnLFxuICAgICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBtdWx0aWxpbmUtdGVybmFyeSAqL1xuXG5mdW5jdGlvbiBzdGFydCh7IGlFdmVudCwgaW50ZXJhY3Rpb24gfTogeyBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55LCBhbnk+OyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ3Jlc2l6ZScgfHwgIWludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCByZXNpemVFdmVudCA9IGlFdmVudCBhcyBSZXNpemVFdmVudFxuICBjb25zdCByZWN0ID0gaW50ZXJhY3Rpb24ucmVjdFxuXG4gIGludGVyYWN0aW9uLl9yZWN0cyA9IHtcbiAgICBzdGFydDogZXh0ZW5kKHt9LCByZWN0KSxcbiAgICBjb3JyZWN0ZWQ6IGV4dGVuZCh7fSwgcmVjdCksXG4gICAgcHJldmlvdXM6IGV4dGVuZCh7fSwgcmVjdCksXG4gICAgZGVsdGE6IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgIH0sXG4gIH1cblxuICByZXNpemVFdmVudC5lZGdlcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzXG4gIHJlc2l6ZUV2ZW50LnJlY3QgPSBpbnRlcmFjdGlvbi5fcmVjdHMuY29ycmVjdGVkXG4gIHJlc2l6ZUV2ZW50LmRlbHRhUmVjdCA9IGludGVyYWN0aW9uLl9yZWN0cy5kZWx0YVxufVxuXG5mdW5jdGlvbiBtb3ZlKHsgaUV2ZW50LCBpbnRlcmFjdGlvbiB9OiB7IGlFdmVudDogSW50ZXJhY3RFdmVudDxhbnksIGFueT47IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAncmVzaXplJyB8fCAhaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXMpIHJldHVyblxuXG4gIGNvbnN0IHJlc2l6ZUV2ZW50ID0gaUV2ZW50IGFzIFJlc2l6ZUV2ZW50XG4gIGNvbnN0IHJlc2l6ZU9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemVcbiAgY29uc3QgaW52ZXJ0ID0gcmVzaXplT3B0aW9ucy5pbnZlcnRcbiAgY29uc3QgaW52ZXJ0aWJsZSA9IGludmVydCA9PT0gJ3JlcG9zaXRpb24nIHx8IGludmVydCA9PT0gJ25lZ2F0ZSdcblxuICBjb25zdCBjdXJyZW50ID0gaW50ZXJhY3Rpb24ucmVjdFxuICBjb25zdCB7IHN0YXJ0OiBzdGFydFJlY3QsIGNvcnJlY3RlZCwgZGVsdGE6IGRlbHRhUmVjdCwgcHJldmlvdXMgfSA9IGludGVyYWN0aW9uLl9yZWN0c1xuXG4gIGV4dGVuZChwcmV2aW91cywgY29ycmVjdGVkKVxuXG4gIGlmIChpbnZlcnRpYmxlKSB7XG4gICAgLy8gaWYgaW52ZXJ0aWJsZSwgY29weSB0aGUgY3VycmVudCByZWN0XG4gICAgZXh0ZW5kKGNvcnJlY3RlZCwgY3VycmVudClcblxuICAgIGlmIChpbnZlcnQgPT09ICdyZXBvc2l0aW9uJykge1xuICAgICAgLy8gc3dhcCBlZGdlIHZhbHVlcyBpZiBuZWNlc3NhcnkgdG8ga2VlcCB3aWR0aC9oZWlnaHQgcG9zaXRpdmVcbiAgICAgIGlmIChjb3JyZWN0ZWQudG9wID4gY29ycmVjdGVkLmJvdHRvbSkge1xuICAgICAgICBjb25zdCBzd2FwID0gY29ycmVjdGVkLnRvcFxuXG4gICAgICAgIGNvcnJlY3RlZC50b3AgPSBjb3JyZWN0ZWQuYm90dG9tXG4gICAgICAgIGNvcnJlY3RlZC5ib3R0b20gPSBzd2FwXG4gICAgICB9XG4gICAgICBpZiAoY29ycmVjdGVkLmxlZnQgPiBjb3JyZWN0ZWQucmlnaHQpIHtcbiAgICAgICAgY29uc3Qgc3dhcCA9IGNvcnJlY3RlZC5sZWZ0XG5cbiAgICAgICAgY29ycmVjdGVkLmxlZnQgPSBjb3JyZWN0ZWQucmlnaHRcbiAgICAgICAgY29ycmVjdGVkLnJpZ2h0ID0gc3dhcFxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBub3QgaW52ZXJ0aWJsZSwgcmVzdHJpY3QgdG8gbWluaW11bSBvZiAweDAgcmVjdFxuICAgIGNvcnJlY3RlZC50b3AgPSBNYXRoLm1pbihjdXJyZW50LnRvcCwgc3RhcnRSZWN0LmJvdHRvbSlcbiAgICBjb3JyZWN0ZWQuYm90dG9tID0gTWF0aC5tYXgoY3VycmVudC5ib3R0b20sIHN0YXJ0UmVjdC50b3ApXG4gICAgY29ycmVjdGVkLmxlZnQgPSBNYXRoLm1pbihjdXJyZW50LmxlZnQsIHN0YXJ0UmVjdC5yaWdodClcbiAgICBjb3JyZWN0ZWQucmlnaHQgPSBNYXRoLm1heChjdXJyZW50LnJpZ2h0LCBzdGFydFJlY3QubGVmdClcbiAgfVxuXG4gIGNvcnJlY3RlZC53aWR0aCA9IGNvcnJlY3RlZC5yaWdodCAtIGNvcnJlY3RlZC5sZWZ0XG4gIGNvcnJlY3RlZC5oZWlnaHQgPSBjb3JyZWN0ZWQuYm90dG9tIC0gY29ycmVjdGVkLnRvcFxuXG4gIGZvciAoY29uc3QgZWRnZSBpbiBjb3JyZWN0ZWQpIHtcbiAgICBkZWx0YVJlY3RbZWRnZV0gPSBjb3JyZWN0ZWRbZWRnZV0gLSBwcmV2aW91c1tlZGdlXVxuICB9XG5cbiAgcmVzaXplRXZlbnQuZWRnZXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlc1xuICByZXNpemVFdmVudC5yZWN0ID0gY29ycmVjdGVkXG4gIHJlc2l6ZUV2ZW50LmRlbHRhUmVjdCA9IGRlbHRhUmVjdFxufVxuXG5mdW5jdGlvbiBlbmQoeyBpRXZlbnQsIGludGVyYWN0aW9uIH06IHsgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueSwgYW55PjsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdyZXNpemUnIHx8ICFpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlcykgcmV0dXJuXG5cbiAgY29uc3QgcmVzaXplRXZlbnQgPSBpRXZlbnQgYXMgUmVzaXplRXZlbnRcblxuICByZXNpemVFdmVudC5lZGdlcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzXG4gIHJlc2l6ZUV2ZW50LnJlY3QgPSBpbnRlcmFjdGlvbi5fcmVjdHMuY29ycmVjdGVkXG4gIHJlc2l6ZUV2ZW50LmRlbHRhUmVjdCA9IGludGVyYWN0aW9uLl9yZWN0cy5kZWx0YVxufVxuXG5mdW5jdGlvbiB1cGRhdGVFdmVudEF4ZXMoe1xuICBpRXZlbnQsXG4gIGludGVyYWN0aW9uLFxufToge1xuICBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55LCBhbnk+XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvblxufSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ3Jlc2l6ZScgfHwgIWludGVyYWN0aW9uLnJlc2l6ZUF4ZXMpIHJldHVyblxuXG4gIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9uc1xuICBjb25zdCByZXNpemVFdmVudCA9IGlFdmVudCBhcyBSZXNpemVFdmVudFxuXG4gIGlmIChvcHRpb25zLnJlc2l6ZS5zcXVhcmUpIHtcbiAgICBpZiAoaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9PT0gJ3knKSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS54ID0gcmVzaXplRXZlbnQuZGVsdGEueVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS55ID0gcmVzaXplRXZlbnQuZGVsdGEueFxuICAgIH1cbiAgICByZXNpemVFdmVudC5heGVzID0gJ3h5J1xuICB9IGVsc2Uge1xuICAgIHJlc2l6ZUV2ZW50LmF4ZXMgPSBpbnRlcmFjdGlvbi5yZXNpemVBeGVzXG5cbiAgICBpZiAoaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9PT0gJ3gnKSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS55ID0gMFxuICAgIH0gZWxzZSBpZiAoaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9PT0gJ3knKSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS54ID0gMFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCByZXNpemU6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhY3Rpb25zL3Jlc2l6ZScsXG4gIGJlZm9yZTogWydhY3Rpb25zL2RyYWcnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5yZXNpemVBeGVzID0gJ3h5J1xuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IChhcmcpID0+IHtcbiAgICAgIHN0YXJ0KGFyZylcbiAgICAgIHVwZGF0ZUV2ZW50QXhlcyhhcmcpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogKGFyZykgPT4ge1xuICAgICAgbW92ZShhcmcpXG4gICAgICB1cGRhdGVFdmVudEF4ZXMoYXJnKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tZW5kJzogZW5kLFxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogcmVzaXplQ2hlY2tlcixcbiAgfSxcblxuICBkZWZhdWx0czoge1xuICAgIHNxdWFyZTogZmFsc2UsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgYXhpczogJ3h5JyxcblxuICAgIC8vIHVzZSBkZWZhdWx0IG1hcmdpblxuICAgIG1hcmdpbjogTmFOLFxuXG4gICAgLy8gb2JqZWN0IHdpdGggcHJvcHMgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tIHdoaWNoIGFyZVxuICAgIC8vIHRydWUvZmFsc2UgdmFsdWVzIHRvIHJlc2l6ZSB3aGVuIHRoZSBwb2ludGVyIGlzIG92ZXIgdGhhdCBlZGdlLFxuICAgIC8vIENTUyBzZWxlY3RvcnMgdG8gbWF0Y2ggdGhlIGhhbmRsZXMgZm9yIGVhY2ggZGlyZWN0aW9uXG4gICAgLy8gb3IgdGhlIEVsZW1lbnRzIGZvciBlYWNoIGhhbmRsZVxuICAgIGVkZ2VzOiBudWxsLFxuXG4gICAgLy8gYSB2YWx1ZSBvZiAnbm9uZScgd2lsbCBsaW1pdCB0aGUgcmVzaXplIHJlY3QgdG8gYSBtaW5pbXVtIG9mIDB4MFxuICAgIC8vICduZWdhdGUnIHdpbGwgYWxvdyB0aGUgcmVjdCB0byBoYXZlIG5lZ2F0aXZlIHdpZHRoL2hlaWdodFxuICAgIC8vICdyZXBvc2l0aW9uJyB3aWxsIGtlZXAgdGhlIHdpZHRoL2hlaWdodCBwb3NpdGl2ZSBieSBzd2FwcGluZ1xuICAgIC8vIHRoZSB0b3AgYW5kIGJvdHRvbSBlZGdlcyBhbmQvb3Igc3dhcHBpbmcgdGhlIGxlZnQgYW5kIHJpZ2h0IGVkZ2VzXG4gICAgaW52ZXJ0OiAnbm9uZScsXG4gIH0gYXMgUmVzaXphYmxlT3B0aW9ucyxcblxuICBjdXJzb3JzOiBudWxsIGFzIFJldHVyblR5cGU8dHlwZW9mIGluaXRDdXJzb3JzPixcblxuICBnZXRDdXJzb3IoeyBlZGdlcywgYXhpcywgbmFtZSB9OiBBY3Rpb25Qcm9wcykge1xuICAgIGNvbnN0IGN1cnNvcnMgPSByZXNpemUuY3Vyc29yc1xuICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IG51bGxcblxuICAgIGlmIChheGlzKSB7XG4gICAgICByZXN1bHQgPSBjdXJzb3JzW25hbWUgKyBheGlzXVxuICAgIH0gZWxzZSBpZiAoZWRnZXMpIHtcbiAgICAgIGxldCBjdXJzb3JLZXkgPSAnJ1xuXG4gICAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXSkge1xuICAgICAgICBpZiAoZWRnZXNbZWRnZV0pIHtcbiAgICAgICAgICBjdXJzb3JLZXkgKz0gZWRnZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCA9IGN1cnNvcnNbY3Vyc29yS2V5XVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfSxcblxuICBmaWx0ZXJFdmVudFR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHR5cGUuc2VhcmNoKCdyZXNpemUnKSA9PT0gMCxcblxuICBkZWZhdWx0TWFyZ2luOiBudWxsIGFzIG51bWJlcixcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzaXplXG4iLCAibGV0IGxhc3RUaW1lID0gMFxubGV0IHJlcXVlc3Q6IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmxldCBjYW5jZWw6IHR5cGVvZiBjYW5jZWxBbmltYXRpb25GcmFtZVxuXG5mdW5jdGlvbiBpbml0KGdsb2JhbDogV2luZG93IHwgdHlwZW9mIGdsb2JhbFRoaXMpIHtcbiAgcmVxdWVzdCA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgY2FuY2VsID0gZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cbiAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgY29uc3QgdmVuZG9ycyA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ11cblxuICAgIGZvciAoY29uc3QgdmVuZG9yIG9mIHZlbmRvcnMpIHtcbiAgICAgIHJlcXVlc3QgPSBnbG9iYWxbYCR7dmVuZG9yfVJlcXVlc3RBbmltYXRpb25GcmFtZWAgYXMgJ3JlcXVlc3RBbmltYXRpb25GcmFtZSddXG4gICAgICBjYW5jZWwgPVxuICAgICAgICBnbG9iYWxbYCR7dmVuZG9yfUNhbmNlbEFuaW1hdGlvbkZyYW1lYCBhcyAnY2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fFxuICAgICAgICBnbG9iYWxbYCR7dmVuZG9yfUNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZWAgYXMgJ2NhbmNlbEFuaW1hdGlvbkZyYW1lJ11cbiAgICB9XG4gIH1cblxuICByZXF1ZXN0ID0gcmVxdWVzdCAmJiByZXF1ZXN0LmJpbmQoZ2xvYmFsKVxuICBjYW5jZWwgPSBjYW5jZWwgJiYgY2FuY2VsLmJpbmQoZ2xvYmFsKVxuXG4gIGlmICghcmVxdWVzdCkge1xuICAgIHJlcXVlc3QgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgIGNvbnN0IGN1cnJUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgY29uc3QgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKVxuICAgICAgY29uc3QgdG9rZW4gPSBnbG9iYWwuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuL25vLWNhbGxiYWNrLWxpdGVyYWxcbiAgICAgICAgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKVxuICAgICAgfSwgdGltZVRvQ2FsbClcblxuICAgICAgbGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGxcbiAgICAgIHJldHVybiB0b2tlbiBhcyBhbnlcbiAgICB9XG5cbiAgICBjYW5jZWwgPSAodG9rZW4pID0+IGNsZWFyVGltZW91dCh0b2tlbilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlcXVlc3Q6IChjYWxsYmFjazogRnJhbWVSZXF1ZXN0Q2FsbGJhY2spID0+IHJlcXVlc3QoY2FsbGJhY2spLFxuICBjYW5jZWw6ICh0b2tlbjogbnVtYmVyKSA9PiBjYW5jZWwodG9rZW4pLFxuICBpbml0LFxufVxuIiwgImltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2RyYWcvcGx1Z2luJ1xuaW1wb3J0ICcuL2Ryb3AvcGx1Z2luJ1xuaW1wb3J0ICcuL2dlc3R1cmUvcGx1Z2luJ1xuaW1wb3J0ICcuL3Jlc2l6ZS9wbHVnaW4nXG5cbmltcG9ydCBkcmFnIGZyb20gJy4vZHJhZy9wbHVnaW4nXG5pbXBvcnQgZHJvcCBmcm9tICcuL2Ryb3AvcGx1Z2luJ1xuaW1wb3J0IGdlc3R1cmUgZnJvbSAnLi9nZXN0dXJlL3BsdWdpbidcbmltcG9ydCByZXNpemUgZnJvbSAnLi9yZXNpemUvcGx1Z2luJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnYWN0aW9ucycsXG4gIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gICAgc2NvcGUudXNlUGx1Z2luKGdlc3R1cmUpXG4gICAgc2NvcGUudXNlUGx1Z2luKHJlc2l6ZSlcbiAgICBzY29wZS51c2VQbHVnaW4oZHJhZylcbiAgICBzY29wZS51c2VQbHVnaW4oZHJvcClcbiAgfSxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIFBvaW50ZXJUeXBlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHJhZiBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yYWYnXG5pbXBvcnQgeyBnZXRTdHJpbmdPcHRpb25SZXN1bHQgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvd2luZG93J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIGF1dG9TY3JvbGw6IHR5cGVvZiBhdXRvU2Nyb2xsXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBhdXRvU2Nyb2xsPzogdHlwZW9mIGF1dG9TY3JvbGxcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgYXV0b1Njcm9sbD86IEF1dG9TY3JvbGxPcHRpb25zXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvU2Nyb2xsT3B0aW9ucyB7XG4gIGNvbnRhaW5lcj86IFdpbmRvdyB8IEhUTUxFbGVtZW50IHwgc3RyaW5nXG4gIG1hcmdpbj86IG51bWJlclxuICBkaXN0YW5jZT86IG51bWJlclxuICBpbnRlcnZhbD86IG51bWJlclxuICBzcGVlZD86IG51bWJlclxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGRlZmF1bHRzLCBhY3Rpb25zIH0gPSBzY29wZVxuXG4gIHNjb3BlLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsXG4gIGF1dG9TY3JvbGwubm93ID0gKCkgPT4gc2NvcGUubm93KClcblxuICBhY3Rpb25zLnBoYXNlbGVzc1R5cGVzLmF1dG9zY3JvbGwgPSB0cnVlXG4gIGRlZmF1bHRzLnBlckFjdGlvbi5hdXRvU2Nyb2xsID0gYXV0b1Njcm9sbC5kZWZhdWx0c1xufVxuXG5jb25zdCBhdXRvU2Nyb2xsID0ge1xuICBkZWZhdWx0czoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIG1hcmdpbjogNjAsXG5cbiAgICAvLyB0aGUgaXRlbSB0aGF0IGlzIHNjcm9sbGVkIChXaW5kb3cgb3IgSFRNTEVsZW1lbnQpXG4gICAgY29udGFpbmVyOiBudWxsIGFzIEF1dG9TY3JvbGxPcHRpb25zWydjb250YWluZXInXSxcblxuICAgIC8vIHRoZSBzY3JvbGwgc3BlZWQgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICBzcGVlZDogMzAwLFxuICB9IGFzIEF1dG9TY3JvbGxPcHRpb25zLFxuXG4gIG5vdzogRGF0ZS5ub3csXG5cbiAgaW50ZXJhY3Rpb246IG51bGwgYXMgSW50ZXJhY3Rpb248QWN0aW9uTmFtZT4gfCBudWxsLFxuICBpOiAwLCAvLyB0aGUgaGFuZGxlIHJldHVybmVkIGJ5IHdpbmRvdy5zZXRJbnRlcnZhbFxuXG4gIC8vIERpcmVjdGlvbiBlYWNoIHB1bHNlIGlzIHRvIHNjcm9sbCBpblxuICB4OiAwLFxuICB5OiAwLFxuXG4gIGlzU2Nyb2xsaW5nOiBmYWxzZSxcbiAgcHJldlRpbWU6IDAsXG4gIG1hcmdpbjogMCxcbiAgc3BlZWQ6IDAsXG5cbiAgc3RhcnQoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gICAgYXV0b1Njcm9sbC5pc1Njcm9sbGluZyA9IHRydWVcbiAgICByYWYuY2FuY2VsKGF1dG9TY3JvbGwuaSlcblxuICAgIGludGVyYWN0aW9uLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsXG4gICAgYXV0b1Njcm9sbC5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gICAgYXV0b1Njcm9sbC5wcmV2VGltZSA9IGF1dG9TY3JvbGwubm93KClcbiAgICBhdXRvU2Nyb2xsLmkgPSByYWYucmVxdWVzdChhdXRvU2Nyb2xsLnNjcm9sbClcbiAgfSxcblxuICBzdG9wKCkge1xuICAgIGF1dG9TY3JvbGwuaXNTY3JvbGxpbmcgPSBmYWxzZVxuICAgIGlmIChhdXRvU2Nyb2xsLmludGVyYWN0aW9uKSB7XG4gICAgICBhdXRvU2Nyb2xsLmludGVyYWN0aW9uLmF1dG9TY3JvbGwgPSBudWxsXG4gICAgfVxuICAgIHJhZi5jYW5jZWwoYXV0b1Njcm9sbC5pKVxuICB9LFxuXG4gIC8vIHNjcm9sbCB0aGUgd2luZG93IGJ5IHRoZSB2YWx1ZXMgaW4gc2Nyb2xsLngveVxuICBzY3JvbGwoKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXV0b1Njcm9sbFxuICAgIGNvbnN0IHsgaW50ZXJhY3RhYmxlLCBlbGVtZW50IH0gPSBpbnRlcmFjdGlvblxuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG4gICAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbk5hbWVdLmF1dG9TY3JvbGxcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIob3B0aW9ucy5jb250YWluZXIsIGludGVyYWN0YWJsZSwgZWxlbWVudClcbiAgICBjb25zdCBub3cgPSBhdXRvU2Nyb2xsLm5vdygpXG4gICAgLy8gY2hhbmdlIGluIHRpbWUgaW4gc2Vjb25kc1xuICAgIGNvbnN0IGR0ID0gKG5vdyAtIGF1dG9TY3JvbGwucHJldlRpbWUpIC8gMTAwMFxuICAgIC8vIGRpc3BsYWNlbWVudFxuICAgIGNvbnN0IHMgPSBvcHRpb25zLnNwZWVkICogZHRcblxuICAgIGlmIChzID49IDEpIHtcbiAgICAgIGNvbnN0IHNjcm9sbEJ5ID0ge1xuICAgICAgICB4OiBhdXRvU2Nyb2xsLnggKiBzLFxuICAgICAgICB5OiBhdXRvU2Nyb2xsLnkgKiBzLFxuICAgICAgfVxuXG4gICAgICBpZiAoc2Nyb2xsQnkueCB8fCBzY3JvbGxCeS55KSB7XG4gICAgICAgIGNvbnN0IHByZXZTY3JvbGwgPSBnZXRTY3JvbGwoY29udGFpbmVyKVxuXG4gICAgICAgIGlmIChpcy53aW5kb3coY29udGFpbmVyKSkge1xuICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxCeShzY3JvbGxCeS54LCBzY3JvbGxCeS55KVxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxMZWZ0ICs9IHNjcm9sbEJ5LnhcbiAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wICs9IHNjcm9sbEJ5LnlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1clNjcm9sbCA9IGdldFNjcm9sbChjb250YWluZXIpXG4gICAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICAgIHg6IGN1clNjcm9sbC54IC0gcHJldlNjcm9sbC54LFxuICAgICAgICAgIHk6IGN1clNjcm9sbC55IC0gcHJldlNjcm9sbC55LFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlbHRhLnggfHwgZGVsdGEueSkge1xuICAgICAgICAgIGludGVyYWN0YWJsZS5maXJlKHtcbiAgICAgICAgICAgIHR5cGU6ICdhdXRvc2Nyb2xsJyxcbiAgICAgICAgICAgIHRhcmdldDogZWxlbWVudCxcbiAgICAgICAgICAgIGludGVyYWN0YWJsZSxcbiAgICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhdXRvU2Nyb2xsLnByZXZUaW1lID0gbm93XG4gICAgfVxuXG4gICAgaWYgKGF1dG9TY3JvbGwuaXNTY3JvbGxpbmcpIHtcbiAgICAgIHJhZi5jYW5jZWwoYXV0b1Njcm9sbC5pKVxuICAgICAgYXV0b1Njcm9sbC5pID0gcmFmLnJlcXVlc3QoYXV0b1Njcm9sbC5zY3JvbGwpXG4gICAgfVxuICB9LFxuICBjaGVjayhpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgYWN0aW9uTmFtZTogQWN0aW9uTmFtZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1xuXG4gICAgcmV0dXJuIG9wdGlvbnNbYWN0aW9uTmFtZV0uYXV0b1Njcm9sbD8uZW5hYmxlZFxuICB9LFxuICBvbkludGVyYWN0aW9uTW92ZTxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oe1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gIH06IHtcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD5cbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICB9KSB7XG4gICAgaWYgKFxuICAgICAgIShpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpICYmIGF1dG9TY3JvbGwuY2hlY2soaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lKSlcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5zaW11bGF0aW9uKSB7XG4gICAgICBhdXRvU2Nyb2xsLnggPSBhdXRvU2Nyb2xsLnkgPSAwXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdG9wOiBib29sZWFuXG4gICAgbGV0IHJpZ2h0OiBib29sZWFuXG4gICAgbGV0IGJvdHRvbTogYm9vbGVhblxuICAgIGxldCBsZWZ0OiBib29sZWFuXG5cbiAgICBjb25zdCB7IGludGVyYWN0YWJsZSwgZWxlbWVudCB9ID0gaW50ZXJhY3Rpb25cbiAgICBjb25zdCBhY3Rpb25OYW1lID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZVxuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb25OYW1lXS5hdXRvU2Nyb2xsXG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKG9wdGlvbnMuY29udGFpbmVyLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQpXG5cbiAgICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICAgIGxlZnQgPSBwb2ludGVyLmNsaWVudFggPCBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgdG9wID0gcG9pbnRlci5jbGllbnRZIDwgYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIHJpZ2h0ID0gcG9pbnRlci5jbGllbnRYID4gY29udGFpbmVyLmlubmVyV2lkdGggLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgYm90dG9tID0gcG9pbnRlci5jbGllbnRZID4gY29udGFpbmVyLmlubmVySGVpZ2h0IC0gYXV0b1Njcm9sbC5tYXJnaW5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjdCA9IGRvbVV0aWxzLmdldEVsZW1lbnRDbGllbnRSZWN0KGNvbnRhaW5lcilcblxuICAgICAgbGVmdCA9IHBvaW50ZXIuY2xpZW50WCA8IHJlY3QubGVmdCArIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICB0b3AgPSBwb2ludGVyLmNsaWVudFkgPCByZWN0LnRvcCArIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICByaWdodCA9IHBvaW50ZXIuY2xpZW50WCA+IHJlY3QucmlnaHQgLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgYm90dG9tID0gcG9pbnRlci5jbGllbnRZID4gcmVjdC5ib3R0b20gLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgIH1cblxuICAgIGF1dG9TY3JvbGwueCA9IHJpZ2h0ID8gMSA6IGxlZnQgPyAtMSA6IDBcbiAgICBhdXRvU2Nyb2xsLnkgPSBib3R0b20gPyAxIDogdG9wID8gLTEgOiAwXG5cbiAgICBpZiAoIWF1dG9TY3JvbGwuaXNTY3JvbGxpbmcpIHtcbiAgICAgIC8vIHNldCB0aGUgYXV0b1Njcm9sbCBwcm9wZXJ0aWVzIHRvIHRob3NlIG9mIHRoZSB0YXJnZXRcbiAgICAgIGF1dG9TY3JvbGwubWFyZ2luID0gb3B0aW9ucy5tYXJnaW5cbiAgICAgIGF1dG9TY3JvbGwuc3BlZWQgPSBvcHRpb25zLnNwZWVkXG5cbiAgICAgIGF1dG9TY3JvbGwuc3RhcnQoaW50ZXJhY3Rpb24pXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKHZhbHVlOiBhbnksIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBlbGVtZW50OiBFbGVtZW50KSB7XG4gIHJldHVybiAoXG4gICAgKGlzLnN0cmluZyh2YWx1ZSkgPyBnZXRTdHJpbmdPcHRpb25SZXN1bHQodmFsdWUsIGludGVyYWN0YWJsZSwgZWxlbWVudCkgOiB2YWx1ZSkgfHwgZ2V0V2luZG93KGVsZW1lbnQpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbChjb250YWluZXI6IGFueSkge1xuICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICBjb250YWluZXIgPSB3aW5kb3cuZG9jdW1lbnQuYm9keVxuICB9XG5cbiAgcmV0dXJuIHsgeDogY29udGFpbmVyLnNjcm9sbExlZnQsIHk6IGNvbnRhaW5lci5zY3JvbGxUb3AgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsU2l6ZShjb250YWluZXI6IGFueSkge1xuICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICBjb250YWluZXIgPSB3aW5kb3cuZG9jdW1lbnQuYm9keVxuICB9XG5cbiAgcmV0dXJuIHsgeDogY29udGFpbmVyLnNjcm9sbFdpZHRoLCB5OiBjb250YWluZXIuc2Nyb2xsSGVpZ2h0IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFNpemVEZWx0YTxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oXG4gIHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBlbGVtZW50LFxuICB9OiB7XG4gICAgaW50ZXJhY3Rpb246IFBhcnRpYWw8SW50ZXJhY3Rpb248VD4+XG4gICAgZWxlbWVudDogRWxlbWVudFxuICB9LFxuICBmdW5jOiBhbnksXG4pIHtcbiAgY29uc3Qgc2Nyb2xsT3B0aW9ucyA9IGludGVyYWN0aW9uICYmIGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zW2ludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVdLmF1dG9TY3JvbGxcblxuICBpZiAoIXNjcm9sbE9wdGlvbnMgfHwgIXNjcm9sbE9wdGlvbnMuZW5hYmxlZCkge1xuICAgIGZ1bmMoKVxuICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfVxuICB9XG5cbiAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gZ2V0Q29udGFpbmVyKHNjcm9sbE9wdGlvbnMuY29udGFpbmVyLCBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsIGVsZW1lbnQpXG5cbiAgY29uc3QgcHJldlNpemUgPSBnZXRTY3JvbGwoc2Nyb2xsQ29udGFpbmVyKVxuICBmdW5jKClcbiAgY29uc3QgY3VyU2l6ZSA9IGdldFNjcm9sbChzY3JvbGxDb250YWluZXIpXG5cbiAgcmV0dXJuIHtcbiAgICB4OiBjdXJTaXplLnggLSBwcmV2U2l6ZS54LFxuICAgIHk6IGN1clNpemUueSAtIHByZXZTaXplLnksXG4gIH1cbn1cblxuY29uc3QgYXV0b1Njcm9sbFBsdWdpbjogUGx1Z2luID0ge1xuICBpZDogJ2F1dG8tc2Nyb2xsJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5hdXRvU2Nyb2xsID0gbnVsbFxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmRlc3Ryb3knOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5hdXRvU2Nyb2xsID0gbnVsbFxuICAgICAgYXV0b1Njcm9sbC5zdG9wKClcbiAgICAgIGlmIChhdXRvU2Nyb2xsLmludGVyYWN0aW9uKSB7XG4gICAgICAgIGF1dG9TY3JvbGwuaW50ZXJhY3Rpb24gPSBudWxsXG4gICAgICB9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IGF1dG9TY3JvbGwuc3RvcCxcblxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiAoYXJnOiBhbnkpID0+IGF1dG9TY3JvbGwub25JbnRlcmFjdGlvbk1vdmUoYXJnKSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXV0b1Njcm9sbFBsdWdpblxuIiwgImltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgQWN0aW9uUHJvcHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyB3aW5kb3cgfSBmcm9tICcuL3dpbmRvdydcblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PbmNlPFQ+KHRoaXM6IFQsIG1ldGhvZDogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksIG1lc3NhZ2U6IHN0cmluZykge1xuICBsZXQgd2FybmVkID0gZmFsc2VcblxuICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IFQpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgOyh3aW5kb3cgYXMgYW55KS5jb25zb2xlLndhcm4obWVzc2FnZSlcbiAgICAgIHdhcm5lZCA9IHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weUFjdGlvbjxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oZGVzdDogQWN0aW9uUHJvcHM8YW55Piwgc3JjOiBBY3Rpb25Qcm9wczxUPikge1xuICBkZXN0Lm5hbWUgPSBzcmMubmFtZVxuICBkZXN0LmF4aXMgPSBzcmMuYXhpc1xuICBkZXN0LmVkZ2VzID0gc3JjLmVkZ2VzXG5cbiAgcmV0dXJuIGRlc3Rcbn1cblxuZXhwb3J0IGNvbnN0IHNpZ24gPSAobjogbnVtYmVyKSA9PiAobiA+PSAwID8gMSA6IC0xKVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25Qcm9wcywgUG9pbnRlclR5cGUsIFBvaW50ZXJFdmVudFR5cGUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgd2Fybk9uY2UgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgZ2V0QWN0aW9uOiAoXG4gICAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICApID0+IEFjdGlvblByb3BzIHwgbnVsbFxuICAgIHN0eWxlQ3Vyc29yKG5ld1ZhbHVlOiBib29sZWFuKTogdGhpc1xuICAgIHN0eWxlQ3Vyc29yKCk6IGJvb2xlYW5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgd2hldGhlciB0aGUgdGhlIGN1cnNvciBzaG91bGQgYmUgY2hhbmdlZCBkZXBlbmRpbmcgb24gdGhlXG4gICAgICogYWN0aW9uIHRoYXQgd291bGQgYmUgcGVyZm9ybWVkIGlmIHRoZSBtb3VzZSB3ZXJlIHByZXNzZWQgYW5kIGRyYWdnZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuZXdWYWx1ZV1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFuIHwgSW50ZXJhY3RhYmxlfSBUaGUgY3VycmVudCBzZXR0aW5nIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgc3R5bGVDdXJzb3IobmV3VmFsdWU/OiBib29sZWFuKTogYm9vbGVhbiB8IHRoaXNcbiAgICBhY3Rpb25DaGVja2VyKGNoZWNrZXI6IEZ1bmN0aW9uKTogSW50ZXJhY3RhYmxlXG4gICAgYWN0aW9uQ2hlY2tlcigpOiBGdW5jdGlvblxuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QoJy5yZXNpemUtZHJhZycpXG4gICAgICogICAucmVzaXphYmxlKHRydWUpXG4gICAgICogICAuZHJhZ2dhYmxlKHRydWUpXG4gICAgICogICAuYWN0aW9uQ2hlY2tlcihmdW5jdGlvbiAocG9pbnRlciwgZXZlbnQsIGFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAqXG4gICAgICogICAgIGlmIChpbnRlcmFjdC5tYXRjaGVzU2VsZWN0b3IoZXZlbnQudGFyZ2V0LCAnLmRyYWctaGFuZGxlJykpIHtcbiAgICAgKiAgICAgICAvLyBmb3JjZSBkcmFnIHdpdGggaGFuZGxlIHRhcmdldFxuICAgICAqICAgICAgIGFjdGlvbi5uYW1lID0gZHJhZ1xuICAgICAqICAgICB9XG4gICAgICogICAgIGVsc2Uge1xuICAgICAqICAgICAgIC8vIHJlc2l6ZSBmcm9tIHRoZSB0b3AgYW5kIHJpZ2h0IGVkZ2VzXG4gICAgICogICAgICAgYWN0aW9uLm5hbWUgID0gJ3Jlc2l6ZSdcbiAgICAgKiAgICAgICBhY3Rpb24uZWRnZXMgPSB7IHRvcDogdHJ1ZSwgcmlnaHQ6IHRydWUgfVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgcmV0dXJuIGFjdGlvblxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gY2hlY2sgYWN0aW9uIHRvIGJlIHBlcmZvcm1lZCBvblxuICAgICAqIHBvaW50ZXJEb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hlY2tlciAtIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBwb2ludGVyIGV2ZW50LFxuICAgICAqIGRlZmF1bHRBY3Rpb24gc3RyaW5nLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQgYW5kIGludGVyYWN0aW9uIGFzIHBhcmFtZXRlcnNcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBuYW1lIHByb3BlcnR5ICdkcmFnJyAncmVzaXplJyBvciAnZ2VzdHVyZScgYW5kXG4gICAgICogb3B0aW9uYWxseSBhbiBgZWRnZXNgIG9iamVjdCB3aXRoIGJvb2xlYW4gJ3RvcCcsICdsZWZ0JywgJ2JvdHRvbScgYW5kIHJpZ2h0XG4gICAgICogcHJvcHMuXG4gICAgICogQHJldHVybnMgVGhlIGNoZWNrZXIgZnVuY3Rpb24gb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBhY3Rpb25DaGVja2VyKGNoZWNrZXI/OiBGdW5jdGlvbik6IEludGVyYWN0YWJsZSB8IEZ1bmN0aW9uXG4gICAgLyoqIEByZXR1cm5zIFRoaXMgaW50ZXJhY3RhYmxlICovXG4gICAgaWdub3JlRnJvbShuZXdWYWx1ZTogc3RyaW5nIHwgRWxlbWVudCB8IG51bGwpOiBJbnRlcmFjdGFibGVcbiAgICAvKiogQHJldHVybnMgVGhlIGN1cnJlbnQgaWdub3JlRnJvbSB2YWx1ZSAqL1xuICAgIGlnbm9yZUZyb20oKTogc3RyaW5nIHwgRWxlbWVudCB8IG51bGxcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IG9mIHRoZSBgbW91c2Vkb3duYCwgYHBvaW50ZXJkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQgb3IgYW55XG4gICAgICogb2YgaXQncyBwYXJlbnRzIG1hdGNoIHRoZSBnaXZlbiBDU1Mgc2VsZWN0b3Igb3IgRWxlbWVudCwgbm9cbiAgICAgKiBkcmFnL3Jlc2l6ZS9nZXN0dXJlIGlzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIERvbid0IHVzZSB0aGlzIG1ldGhvZC4gSW5zdGVhZCBzZXQgdGhlIGBpZ25vcmVGcm9tYCBvcHRpb24gZm9yIGVhY2ggYWN0aW9uXG4gICAgICogb3IgZm9yIGBwb2ludGVyRXZlbnRzYFxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCh0YXJnZXR0KVxuICAgICAqICAgLmRyYWdnYWJsZSh7XG4gICAgICogICAgIGlnbm9yZUZyb206ICdpbnB1dCwgdGV4dGFyZWEsIGFbaHJlZl0nJyxcbiAgICAgKiAgIH0pXG4gICAgICogICAucG9pbnRlckV2ZW50cyh7XG4gICAgICogICAgIGlnbm9yZUZyb206ICdbbm8tcG9pbnRlcl0nLFxuICAgICAqICAgfSlcbiAgICAgKiBgYGBcbiAgICAgKiBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBpZ25vcmVGcm9tKFxuICAgICAgLyoqIGEgQ1NTIHNlbGVjdG9yIHN0cmluZywgYW4gRWxlbWVudCBvciBgbnVsbGAgdG8gbm90IGlnbm9yZSBhbnkgZWxlbWVudHMgKi9cbiAgICAgIG5ld1ZhbHVlPzogc3RyaW5nIHwgRWxlbWVudCB8IG51bGwsXG4gICAgKTogSW50ZXJhY3RhYmxlIHwgc3RyaW5nIHwgRWxlbWVudCB8IG51bGxcbiAgICBhbGxvd0Zyb20oKTogYm9vbGVhblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQSBkcmFnL3Jlc2l6ZS9nZXN0dXJlIGlzIHN0YXJ0ZWQgb25seSBJZiB0aGUgdGFyZ2V0IG9mIHRoZSBgbW91c2Vkb3duYCxcbiAgICAgKiBgcG9pbnRlcmRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCBvciBhbnkgb2YgaXQncyBwYXJlbnRzIG1hdGNoIHRoZSBnaXZlblxuICAgICAqIENTUyBzZWxlY3RvciBvciBFbGVtZW50LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBEb24ndCB1c2UgdGhpcyBtZXRob2QuIEluc3RlYWQgc2V0IHRoZSBgYWxsb3dGcm9tYCBvcHRpb24gZm9yIGVhY2ggYWN0aW9uXG4gICAgICogb3IgZm9yIGBwb2ludGVyRXZlbnRzYFxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCh0YXJnZXR0KVxuICAgICAqICAgLnJlc2l6YWJsZSh7XG4gICAgICogICAgIGFsbG93RnJvbTogJy5yZXNpemUtaGFuZGxlJyxcbiAgICAgKiAgIC5wb2ludGVyRXZlbnRzKHtcbiAgICAgKiAgICAgYWxsb3dGcm9tOiAnLmhhbmRsZScsLFxuICAgICAqICAgfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgRWxlbWVudCB8IG51bGx9IFtuZXdWYWx1ZV1cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBFbGVtZW50IHwgb2JqZWN0fSBUaGUgY3VycmVudCBhbGxvd0Zyb20gdmFsdWUgb3IgdGhpc1xuICAgICAqIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIGFsbG93RnJvbShcbiAgICAgIC8qKiBBIENTUyBzZWxlY3RvciBzdHJpbmcsIGFuIEVsZW1lbnQgb3IgYG51bGxgIHRvIGFsbG93IGZyb20gYW55IGVsZW1lbnQgKi9cbiAgICAgIG5ld1ZhbHVlOiBzdHJpbmcgfCBFbGVtZW50IHwgbnVsbCxcbiAgICApOiBJbnRlcmFjdGFibGVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7XG4gICAgSW50ZXJhY3RhYmxlLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZ2V0QWN0aW9uID0gZnVuY3Rpb24gZ2V0QWN0aW9uKFxuICAgIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgKTogQWN0aW9uUHJvcHMge1xuICAgIGNvbnN0IGFjdGlvbiA9IGRlZmF1bHRBY3Rpb25DaGVja2VyKHRoaXMsIGV2ZW50LCBpbnRlcmFjdGlvbiwgZWxlbWVudCwgc2NvcGUpXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlcihwb2ludGVyLCBldmVudCwgYWN0aW9uLCB0aGlzLCBlbGVtZW50LCBpbnRlcmFjdGlvbilcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uXG4gIH1cblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmlnbm9yZUZyb20gPSB3YXJuT25jZShmdW5jdGlvbiAodGhpczogSW50ZXJhY3RhYmxlLCBuZXdWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrQ29tcGF0T3B0aW9uKCdpZ25vcmVGcm9tJywgbmV3VmFsdWUpXG4gIH0sICdJbnRlcmFjdGFibGUuaWdub3JlRnJvbSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBJbnRlcmFjdGJsZS5kcmFnZ2FibGUoe2lnbm9yZUZyb206IG5ld1ZhbHVlfSkuJylcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmFsbG93RnJvbSA9IHdhcm5PbmNlKGZ1bmN0aW9uICh0aGlzOiBJbnRlcmFjdGFibGUsIG5ld1ZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tDb21wYXRPcHRpb24oJ2FsbG93RnJvbScsIG5ld1ZhbHVlKVxuICB9LCAnSW50ZXJhY3RhYmxlLmFsbG93RnJvbSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBJbnRlcmFjdGJsZS5kcmFnZ2FibGUoe2FsbG93RnJvbTogbmV3VmFsdWV9KS4nKVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuYWN0aW9uQ2hlY2tlciA9IGFjdGlvbkNoZWNrZXJcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLnN0eWxlQ3Vyc29yID0gc3R5bGVDdXJzb3Jcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEFjdGlvbkNoZWNrZXIoXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgY29uc3QgcmVjdCA9IGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQpXG4gIGNvbnN0IGJ1dHRvbnMgPVxuICAgIChldmVudCBhcyBNb3VzZUV2ZW50KS5idXR0b25zIHx8XG4gICAge1xuICAgICAgMDogMSxcbiAgICAgIDE6IDQsXG4gICAgICAzOiA4LFxuICAgICAgNDogMTYsXG4gICAgfVsoZXZlbnQgYXMgTW91c2VFdmVudCkuYnV0dG9uIGFzIDAgfCAxIHwgMyB8IDRdXG4gIGNvbnN0IGFyZyA9IHtcbiAgICBhY3Rpb246IG51bGwsXG4gICAgaW50ZXJhY3RhYmxlLFxuICAgIGludGVyYWN0aW9uLFxuICAgIGVsZW1lbnQsXG4gICAgcmVjdCxcbiAgICBidXR0b25zLFxuICB9XG5cbiAgc2NvcGUuZmlyZSgnYXV0by1zdGFydDpjaGVjaycsIGFyZylcblxuICByZXR1cm4gYXJnLmFjdGlvblxufVxuXG5mdW5jdGlvbiBzdHlsZUN1cnNvcih0aGlzOiBJbnRlcmFjdGFibGUsIG5ld1ZhbHVlPzogYm9vbGVhbikge1xuICBpZiAoaXMuYm9vbChuZXdWYWx1ZSkpIHtcbiAgICB0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3IgPSBuZXdWYWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGlmIChuZXdWYWx1ZSA9PT0gbnVsbCkge1xuICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3JcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gdGhpcy5vcHRpb25zLnN0eWxlQ3Vyc29yXG59XG5cbmZ1bmN0aW9uIGFjdGlvbkNoZWNrZXIodGhpczogSW50ZXJhY3RhYmxlLCBjaGVja2VyPzogYW55KSB7XG4gIGlmIChpcy5mdW5jKGNoZWNrZXIpKSB7XG4gICAgdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXIgPSBjaGVja2VyXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKGNoZWNrZXIgPT09IG51bGwpIHtcbiAgICBkZWxldGUgdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXJcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXJcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2F1dG8tc3RhcnQvaW50ZXJhY3RhYmxlTWV0aG9kcycsXG4gIGluc3RhbGwsXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHtcbiAgQ3Vyc29yQ2hlY2tlcixcbiAgUG9pbnRlclR5cGUsXG4gIFBvaW50ZXJFdmVudFR5cGUsXG4gIEVsZW1lbnQsXG4gIEFjdGlvbk5hbWUsXG4gIEFjdGlvblByb3BzLFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCB7IGNvcHlBY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL0ludGVyYWN0YWJsZU1ldGhvZHMnXG5pbXBvcnQgSW50ZXJhY3RhYmxlTWV0aG9kcyBmcm9tICcuL0ludGVyYWN0YWJsZU1ldGhvZHMnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0U3RhdGljJyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgY29uY3VycmVudCBpbnRlcmFjdGlvbnMgYWxsb3dlZC4gIEJ5XG4gICAgICogZGVmYXVsdCBvbmx5IDEgaW50ZXJhY3Rpb24gaXMgYWxsb3dlZCBhdCBhIHRpbWUgKGZvciBiYWNrd2FyZHNcbiAgICAgKiBjb21wYXRpYmlsaXR5KS4gVG8gYWxsb3cgbXVsdGlwbGUgaW50ZXJhY3Rpb25zIG9uIHRoZSBzYW1lIEludGVyYWN0YWJsZXMgYW5kXG4gICAgICogZWxlbWVudHMsIHlvdSBuZWVkIHRvIGVuYWJsZSBpdCBpbiB0aGUgZHJhZ2dhYmxlLCByZXNpemFibGUgYW5kIGdlc3R1cmFibGVcbiAgICAgKiBgJ21heCdgIGFuZCBgJ21heFBlckVsZW1lbnQnYCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuZXdWYWx1ZV0gQW55IG51bWJlci4gbmV3VmFsdWUgPD0gMCBtZWFucyBubyBpbnRlcmFjdGlvbnMuXG4gICAgICovXG4gICAgbWF4SW50ZXJhY3Rpb25zOiAobmV3VmFsdWU6IGFueSkgPT4gYW55XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBhdXRvU3RhcnQ6IEF1dG9TdGFydFxuICB9XG5cbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdhdXRvU3RhcnQ6YmVmb3JlLXN0YXJ0JzogT21pdDxTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLCAnaW50ZXJhY3Rpb24nPiAmIHtcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPlxuICAgIH1cbiAgICAnYXV0b1N0YXJ0OnByZXBhcmVkJzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfVxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogQ2hlY2tTaWduYWxBcmdcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBCYXNlRGVmYXVsdHMge1xuICAgIGFjdGlvbkNoZWNrZXI/OiBhbnlcbiAgICBjdXJzb3JDaGVja2VyPzogYW55XG4gICAgc3R5bGVDdXJzb3I/OiBhbnlcbiAgfVxuXG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgbWFudWFsU3RhcnQ/OiBib29sZWFuXG4gICAgbWF4PzogbnVtYmVyXG4gICAgbWF4UGVyRWxlbWVudD86IG51bWJlclxuICAgIGFsbG93RnJvbT86IHN0cmluZyB8IEVsZW1lbnRcbiAgICBpZ25vcmVGcm9tPzogc3RyaW5nIHwgRWxlbWVudFxuICAgIGN1cnNvckNoZWNrZXI/OiBDdXJzb3JDaGVja2VyXG5cbiAgICAvLyBvbmx5IGFsbG93IGxlZnQgYnV0dG9uIGJ5IGRlZmF1bHRcbiAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9ucyNSZXR1cm5fdmFsdWVcbiAgICAvLyBUT0RPOiBkb2NzdFxuICAgIG1vdXNlQnV0dG9ucz86IDAgfCAxIHwgMiB8IDQgfCA4IHwgMTZcbiAgfVxufVxuXG5pbnRlcmZhY2UgQ2hlY2tTaWduYWxBcmcge1xuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25cbiAgZWxlbWVudDogRWxlbWVudFxuICBhY3Rpb246IEFjdGlvblByb3BzPEFjdGlvbk5hbWU+XG4gIGJ1dHRvbnM6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9TdGFydCB7XG4gIC8vIEFsbG93IHRoaXMgbWFueSBpbnRlcmFjdGlvbnMgdG8gaGFwcGVuIHNpbXVsdGFuZW91c2x5XG4gIG1heEludGVyYWN0aW9uczogbnVtYmVyXG4gIHdpdGhpbkludGVyYWN0aW9uTGltaXQ6IHR5cGVvZiB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0XG4gIGN1cnNvckVsZW1lbnQ6IEVsZW1lbnRcbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QsIGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIHNjb3BlLnVzZVBsdWdpbihJbnRlcmFjdGFibGVNZXRob2RzKVxuXG4gIGRlZmF1bHRzLmJhc2UuYWN0aW9uQ2hlY2tlciA9IG51bGxcbiAgZGVmYXVsdHMuYmFzZS5zdHlsZUN1cnNvciA9IHRydWVcblxuICBleHRlbmQoZGVmYXVsdHMucGVyQWN0aW9uLCB7XG4gICAgbWFudWFsU3RhcnQ6IGZhbHNlLFxuICAgIG1heDogSW5maW5pdHksXG4gICAgbWF4UGVyRWxlbWVudDogMSxcbiAgICBhbGxvd0Zyb206IG51bGwsXG4gICAgaWdub3JlRnJvbTogbnVsbCxcblxuICAgIC8vIG9ubHkgYWxsb3cgbGVmdCBidXR0b24gYnkgZGVmYXVsdFxuICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zI1JldHVybl92YWx1ZVxuICAgIG1vdXNlQnV0dG9uczogMSxcbiAgfSlcblxuICBpbnRlcmFjdC5tYXhJbnRlcmFjdGlvbnMgPSAobmV3VmFsdWU6IG51bWJlcikgPT4gbWF4SW50ZXJhY3Rpb25zKG5ld1ZhbHVlLCBzY29wZSlcblxuICBzY29wZS5hdXRvU3RhcnQgPSB7XG4gICAgLy8gQWxsb3cgdGhpcyBtYW55IGludGVyYWN0aW9ucyB0byBoYXBwZW4gc2ltdWx0YW5lb3VzbHlcbiAgICBtYXhJbnRlcmFjdGlvbnM6IEluZmluaXR5LFxuICAgIHdpdGhpbkludGVyYWN0aW9uTGltaXQsXG4gICAgY3Vyc29yRWxlbWVudDogbnVsbCxcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlT25Eb3duKFxuICB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQgfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOmRvd24nXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSByZXR1cm5cblxuICBjb25zdCBhY3Rpb25JbmZvID0gZ2V0QWN0aW9uSW5mbyhpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBzY29wZSlcbiAgcHJlcGFyZShpbnRlcmFjdGlvbiwgYWN0aW9uSW5mbywgc2NvcGUpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVPbk1vdmUoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnIHx8IGludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gfHwgaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSkgcmV0dXJuXG5cbiAgY29uc3QgYWN0aW9uSW5mbyA9IGdldEFjdGlvbkluZm8oaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCBhcyBFbGVtZW50LCBzY29wZSlcbiAgcHJlcGFyZShpbnRlcmFjdGlvbiwgYWN0aW9uSW5mbywgc2NvcGUpXG59XG5cbmZ1bmN0aW9uIHN0YXJ0T25Nb3ZlKGFyZzogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuXG4gIGlmIChcbiAgICAhaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biB8fFxuICAgIGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgfHxcbiAgICAhaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkIHx8XG4gICAgIWludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBzY29wZS5maXJlKCdhdXRvU3RhcnQ6YmVmb3JlLXN0YXJ0JywgYXJnKVxuXG4gIGNvbnN0IHsgaW50ZXJhY3RhYmxlIH0gPSBpbnRlcmFjdGlvblxuICBjb25zdCBhY3Rpb25OYW1lID0gKGludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+KS5wcmVwYXJlZC5uYW1lXG5cbiAgaWYgKGFjdGlvbk5hbWUgJiYgaW50ZXJhY3RhYmxlKSB7XG4gICAgLy8gY2hlY2sgbWFudWFsU3RhcnQgYW5kIGludGVyYWN0aW9uIGxpbWl0XG4gICAgaWYgKFxuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uTmFtZV0ubWFudWFsU3RhcnQgfHxcbiAgICAgICF3aXRoaW5JbnRlcmFjdGlvbkxpbWl0KGludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudCwgaW50ZXJhY3Rpb24ucHJlcGFyZWQsIHNjb3BlKVxuICAgICkge1xuICAgICAgaW50ZXJhY3Rpb24uc3RvcCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyYWN0aW9uLnN0YXJ0KGludGVyYWN0aW9uLnByZXBhcmVkLCBpbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLmVsZW1lbnQpXG4gICAgICBzZXRJbnRlcmFjdGlvbkN1cnNvcihpbnRlcmFjdGlvbiwgc2NvcGUpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyQ3Vyc29yT25TdG9wKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3RhYmxlIH0gPSBpbnRlcmFjdGlvblxuXG4gIGlmIChpbnRlcmFjdGFibGUgJiYgaW50ZXJhY3RhYmxlLm9wdGlvbnMuc3R5bGVDdXJzb3IpIHtcbiAgICBzZXRDdXJzb3IoaW50ZXJhY3Rpb24uZWxlbWVudCwgJycsIHNjb3BlKVxuICB9XG59XG5cbi8vIENoZWNrIGlmIHRoZSBjdXJyZW50IGludGVyYWN0YWJsZSBzdXBwb3J0cyB0aGUgYWN0aW9uLlxuLy8gSWYgc28sIHJldHVybiB0aGUgdmFsaWRhdGVkIGFjdGlvbi4gT3RoZXJ3aXNlLCByZXR1cm4gbnVsbFxuZnVuY3Rpb24gdmFsaWRhdGVBY3Rpb248VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICBhY3Rpb246IEFjdGlvblByb3BzPFQ+LFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgZXZlbnRUYXJnZXQ6IE5vZGUsXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBpZiAoXG4gICAgaW50ZXJhY3RhYmxlLnRlc3RJZ25vcmVBbGxvdyhpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb24ubmFtZV0sIGVsZW1lbnQsIGV2ZW50VGFyZ2V0KSAmJlxuICAgIGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbi5uYW1lXS5lbmFibGVkICYmXG4gICAgd2l0aGluSW50ZXJhY3Rpb25MaW1pdChpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGFjdGlvbiwgc2NvcGUpXG4gICkge1xuICAgIHJldHVybiBhY3Rpb25cbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTWF0Y2hlcyhcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gIG1hdGNoZXM6IEludGVyYWN0YWJsZVtdLFxuICBtYXRjaEVsZW1lbnRzOiBFbGVtZW50W10sXG4gIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1hdGNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBtYXRjaCA9IG1hdGNoZXNbaV1cbiAgICBjb25zdCBtYXRjaEVsZW1lbnQgPSBtYXRjaEVsZW1lbnRzW2ldXG4gICAgY29uc3QgbWF0Y2hBY3Rpb24gPSBtYXRjaC5nZXRBY3Rpb24ocG9pbnRlciwgZXZlbnQsIGludGVyYWN0aW9uLCBtYXRjaEVsZW1lbnQpXG5cbiAgICBpZiAoIW1hdGNoQWN0aW9uKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGNvbnN0IGFjdGlvbiA9IHZhbGlkYXRlQWN0aW9uPEFjdGlvbk5hbWU+KG1hdGNoQWN0aW9uLCBtYXRjaCwgbWF0Y2hFbGVtZW50LCBldmVudFRhcmdldCwgc2NvcGUpXG5cbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGludGVyYWN0YWJsZTogbWF0Y2gsXG4gICAgICAgIGVsZW1lbnQ6IG1hdGNoRWxlbWVudCxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBhY3Rpb246IG51bGwsIGludGVyYWN0YWJsZTogbnVsbCwgZWxlbWVudDogbnVsbCB9XG59XG5cbmZ1bmN0aW9uIGdldEFjdGlvbkluZm8oXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgcG9pbnRlcjogUG9pbnRlclR5cGUsXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICBldmVudFRhcmdldDogTm9kZSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGxldCBtYXRjaGVzOiBJbnRlcmFjdGFibGVbXSA9IFtdXG4gIGxldCBtYXRjaEVsZW1lbnRzOiBFbGVtZW50W10gPSBbXVxuXG4gIGxldCBlbGVtZW50ID0gZXZlbnRUYXJnZXQgYXMgRWxlbWVudFxuXG4gIGZ1bmN0aW9uIHB1c2hNYXRjaGVzKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKSB7XG4gICAgbWF0Y2hlcy5wdXNoKGludGVyYWN0YWJsZSlcbiAgICBtYXRjaEVsZW1lbnRzLnB1c2goZWxlbWVudClcbiAgfVxuXG4gIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgbWF0Y2hlcyA9IFtdXG4gICAgbWF0Y2hFbGVtZW50cyA9IFtdXG5cbiAgICBzY29wZS5pbnRlcmFjdGFibGVzLmZvckVhY2hNYXRjaChlbGVtZW50LCBwdXNoTWF0Y2hlcylcblxuICAgIGNvbnN0IGFjdGlvbkluZm8gPSB2YWxpZGF0ZU1hdGNoZXMoXG4gICAgICBpbnRlcmFjdGlvbixcbiAgICAgIHBvaW50ZXIsXG4gICAgICBldmVudCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaEVsZW1lbnRzLFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBzY29wZSxcbiAgICApXG5cbiAgICBpZiAoYWN0aW9uSW5mby5hY3Rpb24gJiYgIWFjdGlvbkluZm8uaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uSW5mby5hY3Rpb24ubmFtZV0ubWFudWFsU3RhcnQpIHtcbiAgICAgIHJldHVybiBhY3Rpb25JbmZvXG4gICAgfVxuXG4gICAgZWxlbWVudCA9IGRvbVV0aWxzLnBhcmVudE5vZGUoZWxlbWVudCkgYXMgRWxlbWVudFxuICB9XG5cbiAgcmV0dXJuIHsgYWN0aW9uOiBudWxsLCBpbnRlcmFjdGFibGU6IG51bGwsIGVsZW1lbnQ6IG51bGwgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlKFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gIHtcbiAgICBhY3Rpb24sXG4gICAgaW50ZXJhY3RhYmxlLFxuICAgIGVsZW1lbnQsXG4gIH06IHtcbiAgICBhY3Rpb246IEFjdGlvblByb3BzPGFueT5cbiAgICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICAgIGVsZW1lbnQ6IEVsZW1lbnRcbiAgfSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGFjdGlvbiA9IGFjdGlvbiB8fCB7IG5hbWU6IG51bGwgfVxuXG4gIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICBpbnRlcmFjdGlvbi5lbGVtZW50ID0gZWxlbWVudFxuICBjb3B5QWN0aW9uKGludGVyYWN0aW9uLnByZXBhcmVkLCBhY3Rpb24pXG5cbiAgaW50ZXJhY3Rpb24ucmVjdCA9IGludGVyYWN0YWJsZSAmJiBhY3Rpb24ubmFtZSA/IGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQpIDogbnVsbFxuXG4gIHNldEludGVyYWN0aW9uQ3Vyc29yKGludGVyYWN0aW9uLCBzY29wZSlcblxuICBzY29wZS5maXJlKCdhdXRvU3RhcnQ6cHJlcGFyZWQnLCB7IGludGVyYWN0aW9uIH0pXG59XG5cbmZ1bmN0aW9uIHdpdGhpbkludGVyYWN0aW9uTGltaXQ8VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxUPixcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1xuICBjb25zdCBtYXhBY3Rpb25zID0gb3B0aW9uc1thY3Rpb24ubmFtZV0ubWF4XG4gIGNvbnN0IG1heFBlckVsZW1lbnQgPSBvcHRpb25zW2FjdGlvbi5uYW1lXS5tYXhQZXJFbGVtZW50XG4gIGNvbnN0IGF1dG9TdGFydE1heCA9IHNjb3BlLmF1dG9TdGFydC5tYXhJbnRlcmFjdGlvbnNcbiAgbGV0IGFjdGl2ZUludGVyYWN0aW9ucyA9IDBcbiAgbGV0IGludGVyYWN0YWJsZUNvdW50ID0gMFxuICBsZXQgZWxlbWVudENvdW50ID0gMFxuXG4gIC8vIG5vIGFjdGlvbnMgaWYgYW55IG9mIHRoZXNlIHZhbHVlcyA9PSAwXG4gIGlmICghKG1heEFjdGlvbnMgJiYgbWF4UGVyRWxlbWVudCAmJiBhdXRvU3RhcnRNYXgpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgY29uc3Qgb3RoZXJBY3Rpb24gPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG5cbiAgICBpZiAoIWludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgYWN0aXZlSW50ZXJhY3Rpb25zKytcblxuICAgIGlmIChhY3RpdmVJbnRlcmFjdGlvbnMgPj0gYXV0b1N0YXJ0TWF4KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlICE9PSBpbnRlcmFjdGFibGUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaW50ZXJhY3RhYmxlQ291bnQgKz0gb3RoZXJBY3Rpb24gPT09IGFjdGlvbi5uYW1lID8gMSA6IDBcblxuICAgIGlmIChpbnRlcmFjdGFibGVDb3VudCA+PSBtYXhBY3Rpb25zKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uZWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgZWxlbWVudENvdW50KytcblxuICAgICAgaWYgKG90aGVyQWN0aW9uID09PSBhY3Rpb24ubmFtZSAmJiBlbGVtZW50Q291bnQgPj0gbWF4UGVyRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXV0b1N0YXJ0TWF4ID4gMFxufVxuXG5mdW5jdGlvbiBtYXhJbnRlcmFjdGlvbnMobmV3VmFsdWU6IGFueSwgc2NvcGU6IFNjb3BlKSB7XG4gIGlmIChpcy5udW1iZXIobmV3VmFsdWUpKSB7XG4gICAgc2NvcGUuYXV0b1N0YXJ0Lm1heEludGVyYWN0aW9ucyA9IG5ld1ZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHNjb3BlLmF1dG9TdGFydC5tYXhJbnRlcmFjdGlvbnNcbn1cblxuZnVuY3Rpb24gc2V0Q3Vyc29yKGVsZW1lbnQ6IEVsZW1lbnQsIGN1cnNvcjogc3RyaW5nLCBzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBjdXJzb3JFbGVtZW50OiBwcmV2Q3Vyc29yRWxlbWVudCB9ID0gc2NvcGUuYXV0b1N0YXJ0XG5cbiAgaWYgKHByZXZDdXJzb3JFbGVtZW50ICYmIHByZXZDdXJzb3JFbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgcHJldkN1cnNvckVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJydcbiAgfVxuXG4gIGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3Vyc29yXG4gIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3Vyc29yXG4gIHNjb3BlLmF1dG9TdGFydC5jdXJzb3JFbGVtZW50ID0gY3Vyc29yID8gZWxlbWVudCA6IG51bGxcbn1cblxuZnVuY3Rpb24gc2V0SW50ZXJhY3Rpb25DdXJzb3I8VCBleHRlbmRzIEFjdGlvbk5hbWU+KGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPiwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBwcmVwYXJlZCB9ID0gaW50ZXJhY3Rpb25cblxuICBpZiAoIShpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBpbnRlcmFjdGFibGUgJiYgaW50ZXJhY3RhYmxlLm9wdGlvbnMuc3R5bGVDdXJzb3IpKSB7XG4gICAgLy8gY2xlYXIgcHJldmlvdXMgdGFyZ2V0IGVsZW1lbnQgY3Vyc29yXG4gICAgaWYgKHNjb3BlLmF1dG9TdGFydC5jdXJzb3JFbGVtZW50KSB7XG4gICAgICBzZXRDdXJzb3Ioc2NvcGUuYXV0b1N0YXJ0LmN1cnNvckVsZW1lbnQsICcnLCBzY29wZSlcbiAgICB9XG5cbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCBjdXJzb3IgPSAnJ1xuXG4gIGlmIChwcmVwYXJlZC5uYW1lKSB7XG4gICAgY29uc3QgY3Vyc29yQ2hlY2tlciA9IGludGVyYWN0YWJsZS5vcHRpb25zW3ByZXBhcmVkLm5hbWVdLmN1cnNvckNoZWNrZXJcblxuICAgIGlmIChpcy5mdW5jKGN1cnNvckNoZWNrZXIpKSB7XG4gICAgICBjdXJzb3IgPSBjdXJzb3JDaGVja2VyKHByZXBhcmVkLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGludGVyYWN0aW9uLl9pbnRlcmFjdGluZylcbiAgICB9IGVsc2Uge1xuICAgICAgY3Vyc29yID0gc2NvcGUuYWN0aW9ucy5tYXBbcHJlcGFyZWQubmFtZV0uZ2V0Q3Vyc29yKHByZXBhcmVkKVxuICAgIH1cbiAgfVxuXG4gIHNldEN1cnNvcihpbnRlcmFjdGlvbi5lbGVtZW50LCBjdXJzb3IgfHwgJycsIHNjb3BlKVxufVxuXG5jb25zdCBhdXRvU3RhcnQ6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhdXRvLXN0YXJ0L2Jhc2UnLFxuICBiZWZvcmU6IFsnYWN0aW9ucyddLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOmRvd24nOiBwcmVwYXJlT25Eb3duLFxuICAgICdpbnRlcmFjdGlvbnM6bW92ZSc6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBwcmVwYXJlT25Nb3ZlKGFyZywgc2NvcGUpXG4gICAgICBzdGFydE9uTW92ZShhcmcsIHNjb3BlKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogY2xlYXJDdXJzb3JPblN0b3AsXG4gIH0sXG4gIG1heEludGVyYWN0aW9ucyxcbiAgd2l0aGluSW50ZXJhY3Rpb25MaW1pdCxcbiAgdmFsaWRhdGVBY3Rpb24sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGF1dG9TdGFydFxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTaWduYWxBcmdzLCBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IHsgcGFyZW50Tm9kZSB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5pbXBvcnQgYXV0b1N0YXJ0IGZyb20gJy4vYmFzZSdcblxuZnVuY3Rpb24gYmVmb3JlU3RhcnQoeyBpbnRlcmFjdGlvbiwgZXZlbnRUYXJnZXQsIGR4LCBkeSB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLCBzY29wZTogU2NvcGUpIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykgcmV0dXJuXG5cbiAgLy8gY2hlY2sgaWYgYSBkcmFnIGlzIGluIHRoZSBjb3JyZWN0IGF4aXNcbiAgY29uc3QgYWJzWCA9IE1hdGguYWJzKGR4KVxuICBjb25zdCBhYnNZID0gTWF0aC5hYnMoZHkpXG4gIGNvbnN0IHRhcmdldE9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnXG4gIGNvbnN0IHN0YXJ0QXhpcyA9IHRhcmdldE9wdGlvbnMuc3RhcnRBeGlzXG4gIGNvbnN0IGN1cnJlbnRBeGlzID0gYWJzWCA+IGFic1kgPyAneCcgOiBhYnNYIDwgYWJzWSA/ICd5JyA6ICd4eSdcblxuICBpbnRlcmFjdGlvbi5wcmVwYXJlZC5heGlzID1cbiAgICB0YXJnZXRPcHRpb25zLmxvY2tBeGlzID09PSAnc3RhcnQnXG4gICAgICA/IChjdXJyZW50QXhpc1swXSBhcyAneCcgfCAneScpIC8vIGFsd2F5cyBsb2NrIHRvIG9uZSBheGlzIGV2ZW4gaWYgY3VycmVudEF4aXMgPT09ICd4eSdcbiAgICAgIDogdGFyZ2V0T3B0aW9ucy5sb2NrQXhpc1xuXG4gIC8vIGlmIHRoZSBtb3ZlbWVudCBpc24ndCBpbiB0aGUgc3RhcnRBeGlzIG9mIHRoZSBpbnRlcmFjdGFibGVcbiAgaWYgKGN1cnJlbnRBeGlzICE9PSAneHknICYmIHN0YXJ0QXhpcyAhPT0gJ3h5JyAmJiBzdGFydEF4aXMgIT09IGN1cnJlbnRBeGlzKSB7XG4gICAgLy8gY2FuY2VsIHRoZSBwcmVwYXJlZCBhY3Rpb25cbiAgICA7KGludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+KS5wcmVwYXJlZC5uYW1lID0gbnVsbFxuXG4gICAgLy8gdGhlbiB0cnkgdG8gZ2V0IGEgZHJhZyBmcm9tIGFub3RoZXIgaW5lcmFjdGFibGVcbiAgICBsZXQgZWxlbWVudCA9IGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnRcblxuICAgIGNvbnN0IGdldERyYWdnYWJsZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSk6IEludGVyYWN0YWJsZSB8IHZvaWQge1xuICAgICAgaWYgKGludGVyYWN0YWJsZSA9PT0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlKSByZXR1cm5cblxuICAgICAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zLmRyYWdcblxuICAgICAgaWYgKCFvcHRpb25zLm1hbnVhbFN0YXJ0ICYmIGludGVyYWN0YWJsZS50ZXN0SWdub3JlQWxsb3cob3B0aW9ucywgZWxlbWVudCwgZXZlbnRUYXJnZXQpKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGludGVyYWN0YWJsZS5nZXRBY3Rpb24oXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZG93blBvaW50ZXIsXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZG93bkV2ZW50LFxuICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgIClcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgYWN0aW9uICYmXG4gICAgICAgICAgYWN0aW9uLm5hbWUgPT09ICdkcmFnJyAmJlxuICAgICAgICAgIGNoZWNrU3RhcnRBeGlzKGN1cnJlbnRBeGlzLCBpbnRlcmFjdGFibGUpICYmXG4gICAgICAgICAgYXV0b1N0YXJ0LnZhbGlkYXRlQWN0aW9uKGFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBldmVudFRhcmdldCwgc2NvcGUpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNoZWNrIGFsbCBpbnRlcmFjdGFibGVzXG4gICAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGludGVyYWN0YWJsZSA9IHNjb3BlLmludGVyYWN0YWJsZXMuZm9yRWFjaE1hdGNoKGVsZW1lbnQsIGdldERyYWdnYWJsZSlcblxuICAgICAgaWYgKGludGVyYWN0YWJsZSkge1xuICAgICAgICA7KGludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+KS5wcmVwYXJlZC5uYW1lID0gJ2RyYWcnXG4gICAgICAgIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICAgICAgICBpbnRlcmFjdGlvbi5lbGVtZW50ID0gZWxlbWVudFxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50ID0gcGFyZW50Tm9kZShlbGVtZW50KSBhcyBFbGVtZW50XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrU3RhcnRBeGlzKHN0YXJ0QXhpczogc3RyaW5nLCBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSkge1xuICBpZiAoIWludGVyYWN0YWJsZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgdGhpc0F4aXMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnLnN0YXJ0QXhpc1xuXG4gIHJldHVybiBzdGFydEF4aXMgPT09ICd4eScgfHwgdGhpc0F4aXMgPT09ICd4eScgfHwgdGhpc0F4aXMgPT09IHN0YXJ0QXhpc1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnYXV0by1zdGFydC9kcmFnQXhpcycsXG4gIGxpc3RlbmVyczogeyAnYXV0b1N0YXJ0OmJlZm9yZS1zdGFydCc6IGJlZm9yZVN0YXJ0IH0sXG59XG4iLCAiaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYmFzZSdcbmltcG9ydCBiYXNlUGx1Z2luIGZyb20gJy4vYmFzZSdcbi8qIGVzbGludC1lbmFibGUgKi9cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICAgIGhvbGQ/OiBudW1iZXJcbiAgICBkZWxheT86IG51bWJlclxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgYXV0b1N0YXJ0SG9sZFRpbWVyPzogYW55XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBzY29wZS51c2VQbHVnaW4oYmFzZVBsdWdpbilcblxuICBkZWZhdWx0cy5wZXJBY3Rpb24uaG9sZCA9IDBcbiAgZGVmYXVsdHMucGVyQWN0aW9uLmRlbGF5ID0gMFxufVxuXG5mdW5jdGlvbiBnZXRIb2xkRHVyYXRpb24oaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gIGNvbnN0IGFjdGlvbk5hbWUgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZCAmJiBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG5cbiAgaWYgKCFhY3Rpb25OYW1lKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9uc1xuXG4gIHJldHVybiBvcHRpb25zW2FjdGlvbk5hbWVdLmhvbGQgfHwgb3B0aW9uc1thY3Rpb25OYW1lXS5kZWxheVxufVxuXG5jb25zdCBob2xkOiBQbHVnaW4gPSB7XG4gIGlkOiAnYXV0by1zdGFydC9ob2xkJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIgPSBudWxsXG4gICAgfSxcblxuICAgICdhdXRvU3RhcnQ6cHJlcGFyZWQnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBjb25zdCBob2xkID0gZ2V0SG9sZER1cmF0aW9uKGludGVyYWN0aW9uKVxuXG4gICAgICBpZiAoaG9sZCA+IDApIHtcbiAgICAgICAgaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaW50ZXJhY3Rpb24uc3RhcnQoaW50ZXJhY3Rpb24ucHJlcGFyZWQsIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudClcbiAgICAgICAgfSwgaG9sZClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczptb3ZlJzogKHsgaW50ZXJhY3Rpb24sIGR1cGxpY2F0ZSB9KSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyICYmIGludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCAmJiAhZHVwbGljYXRlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIpXG4gICAgICAgIGludGVyYWN0aW9uLmF1dG9TdGFydEhvbGRUaW1lciA9IG51bGxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gcHJldmVudCByZWd1bGFyIGRvd24tPm1vdmUgYXV0b1N0YXJ0XG4gICAgJ2F1dG9TdGFydDpiZWZvcmUtc3RhcnQnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBjb25zdCBob2xkRHVyYXRpb24gPSBnZXRIb2xkRHVyYXRpb24oaW50ZXJhY3Rpb24pXG5cbiAgICAgIGlmIChob2xkRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgPSBudWxsXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgZ2V0SG9sZER1cmF0aW9uLFxufVxuZXhwb3J0IGRlZmF1bHQgaG9sZFxuIiwgImltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2Jhc2UnXG5pbXBvcnQgJy4vZHJhZ0F4aXMnXG5pbXBvcnQgJy4vaG9sZCdcblxuaW1wb3J0IGF1dG9TdGFydCBmcm9tICcuL2Jhc2UnXG5pbXBvcnQgZHJhZ0F4aXMgZnJvbSAnLi9kcmFnQXhpcydcbmltcG9ydCBob2xkIGZyb20gJy4vaG9sZCdcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2F1dG8tc3RhcnQnLFxuICBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICAgIHNjb3BlLnVzZVBsdWdpbihhdXRvU3RhcnQpXG4gICAgc2NvcGUudXNlUGx1Z2luKGhvbGQpXG4gICAgc2NvcGUudXNlUGx1Z2luKGRyYWdBeGlzKVxuICB9LFxufVxuIiwgImltcG9ydCB7IG1hdGNoZXNTZWxlY3Rvciwgbm9kZUNvbnRhaW5zIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy93aW5kb3cnXG5cbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudFR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG50eXBlIFByZXZlbnREZWZhdWx0VmFsdWUgPSAnYWx3YXlzJyB8ICduZXZlcicgfCAnYXV0bydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIHByZXZlbnREZWZhdWx0KG5ld1ZhbHVlOiBQcmV2ZW50RGVmYXVsdFZhbHVlKTogdGhpc1xuICAgIHByZXZlbnREZWZhdWx0KCk6IFByZXZlbnREZWZhdWx0VmFsdWVcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgd2hldGhlciB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvdXIgaW5cbiAgICAgKiByZXNwb25zZSB0byBwb2ludGVyIGV2ZW50cy4gQ2FuIGJlIHNldCB0bzpcbiAgICAgKiAgLSBgJ2Fsd2F5cydgIHRvIGFsd2F5cyBwcmV2ZW50XG4gICAgICogIC0gYCduZXZlcidgIHRvIG5ldmVyIHByZXZlbnRcbiAgICAgKiAgLSBgJ2F1dG8nYCB0byBsZXQgaW50ZXJhY3QuanMgdHJ5IHRvIGRldGVybWluZSB3aGF0IHdvdWxkIGJlIGJlc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSAtIGAnYWx3YXlzJ2AsIGAnbmV2ZXInYCBvciBgJ2F1dG8nYFxuICAgICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHNldHRpbmcgb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdChuZXdWYWx1ZT86IFByZXZlbnREZWZhdWx0VmFsdWUpOiBQcmV2ZW50RGVmYXVsdFZhbHVlIHwgdGhpc1xuICAgIGNoZWNrQW5kUHJldmVudERlZmF1bHQoZXZlbnQ6IEV2ZW50KTogdm9pZFxuICB9XG59XG5cbmNvbnN0IHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gcHJldmVudERlZmF1bHQodGhpczogSW50ZXJhY3RhYmxlLCBuZXdWYWx1ZT86IFByZXZlbnREZWZhdWx0VmFsdWUpIHtcbiAgaWYgKC9eKGFsd2F5c3xuZXZlcnxhdXRvKSQvLnRlc3QobmV3VmFsdWUpKSB7XG4gICAgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ID0gbmV3VmFsdWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKGlzLmJvb2wobmV3VmFsdWUpKSB7XG4gICAgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ID0gbmV3VmFsdWUgPyAnYWx3YXlzJyA6ICduZXZlcidcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdFxufSBhcyBJbnRlcmFjdGFibGVbJ3ByZXZlbnREZWZhdWx0J11cblxuZnVuY3Rpb24gY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgc2NvcGU6IFNjb3BlLCBldmVudDogRXZlbnQpIHtcbiAgY29uc3Qgc2V0dGluZyA9IGludGVyYWN0YWJsZS5vcHRpb25zLnByZXZlbnREZWZhdWx0XG5cbiAgaWYgKHNldHRpbmcgPT09ICduZXZlcicpIHJldHVyblxuXG4gIGlmIChzZXR0aW5nID09PSAnYWx3YXlzJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIHNldHRpbmcgPT09ICdhdXRvJ1xuXG4gIC8vIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHBhc3NpdmUgZXZlbnQgbGlzdGVuZXJzIGFuZCBpc24ndCBydW5uaW5nIG9uIGlPUyxcbiAgLy8gZG9uJ3QgcHJldmVudERlZmF1bHQgb2YgdG91Y2h7c3RhcnQsbW92ZX0gZXZlbnRzLiBDU1MgdG91Y2gtYWN0aW9uIGFuZFxuICAvLyB1c2VyLXNlbGVjdCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGNhbGxpbmcgZXZlbnQucHJldmVudERlZmF1bHQoKS5cbiAgaWYgKHNjb3BlLmV2ZW50cy5zdXBwb3J0c1Bhc3NpdmUgJiYgL150b3VjaChzdGFydHxtb3ZlKSQvLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICBjb25zdCBkb2MgPSBnZXRXaW5kb3coZXZlbnQudGFyZ2V0KS5kb2N1bWVudFxuICAgIGNvbnN0IGRvY09wdGlvbnMgPSBzY29wZS5nZXREb2NPcHRpb25zKGRvYylcblxuICAgIGlmICghKGRvY09wdGlvbnMgJiYgZG9jT3B0aW9ucy5ldmVudHMpIHx8IGRvY09wdGlvbnMuZXZlbnRzLnBhc3NpdmUgIT09IGZhbHNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBwcmV2ZW50RGVmYXVsdCBvZiBwb2ludGVyZG93biBldmVudHNcbiAgaWYgKC9eKG1vdXNlfHBvaW50ZXJ8dG91Y2gpKihkb3dufHN0YXJ0KS9pLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGRvbid0IHByZXZlbnREZWZhdWx0IG9uIGVkaXRhYmxlIGVsZW1lbnRzXG4gIGlmIChcbiAgICBpcy5lbGVtZW50KGV2ZW50LnRhcmdldCkgJiZcbiAgICBtYXRjaGVzU2VsZWN0b3IoZXZlbnQudGFyZ2V0LCAnaW5wdXQsc2VsZWN0LHRleHRhcmVhLFtjb250ZW50ZWRpdGFibGU9dHJ1ZV0sW2NvbnRlbnRlZGl0YWJsZT10cnVlXSAqJylcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG59XG5cbmZ1bmN0aW9uIG9uSW50ZXJhY3Rpb25FdmVudCh7IGludGVyYWN0aW9uLCBldmVudCB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjsgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfSkge1xuICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlKSB7XG4gICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLmNoZWNrQW5kUHJldmVudERlZmF1bHQoZXZlbnQgYXMgRXZlbnQpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgSW50ZXJhY3RhYmxlIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdFxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuY2hlY2tBbmRQcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBjaGVja0FuZFByZXZlbnREZWZhdWx0KHRoaXMsIHNjb3BlLCBldmVudClcbiAgfVxuXG4gIC8vIHByZXZlbnQgbmF0aXZlIEhUTUw1IGRyYWcgb24gaW50ZXJhY3QuanMgdGFyZ2V0IGVsZW1lbnRzXG4gIHNjb3BlLmludGVyYWN0aW9ucy5kb2NFdmVudHMucHVzaCh7XG4gICAgdHlwZTogJ2RyYWdzdGFydCcsXG4gICAgbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGludGVyYWN0aW9uLmVsZW1lbnQgJiZcbiAgICAgICAgICAoaW50ZXJhY3Rpb24uZWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0IHx8IG5vZGVDb250YWlucyhpbnRlcmFjdGlvbi5lbGVtZW50LCBldmVudC50YXJnZXQpKVxuICAgICAgICApIHtcbiAgICAgICAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUuY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChldmVudClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdjb3JlL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0JyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiBbJ2Rvd24nLCAnbW92ZScsICd1cCcsICdjYW5jZWwnXS5yZWR1Y2UoKGFjYywgZXZlbnRUeXBlKSA9PiB7XG4gICAgYWNjW2BpbnRlcmFjdGlvbnM6JHtldmVudFR5cGV9YF0gPSBvbkludGVyYWN0aW9uRXZlbnRcbiAgICByZXR1cm4gYWNjXG4gIH0sIHt9IGFzIGFueSksXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBY3Rpb25zIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNOb25OYXRpdmVFdmVudCh0eXBlOiBzdHJpbmcsIGFjdGlvbnM6IEFjdGlvbnMpIHtcbiAgaWYgKGFjdGlvbnMucGhhc2VsZXNzVHlwZXNbdHlwZV0pIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZm9yIChjb25zdCBuYW1lIGluIGFjdGlvbnMubWFwKSB7XG4gICAgaWYgKHR5cGUuaW5kZXhPZihuYW1lKSA9PT0gMCAmJiB0eXBlLnN1YnN0cihuYW1lLmxlbmd0aCkgaW4gYWN0aW9ucy5waGFzZXMpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJy4vYXJyJ1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSBiYW4tdHlwZXNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb25lPFQgZXh0ZW5kcyBPYmplY3Q+KHNvdXJjZTogVCk6IFBhcnRpYWw8VD4ge1xuICBjb25zdCBkZXN0ID0ge30gYXMgUGFydGlhbDxUPlxuXG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtwcm9wXVxuXG4gICAgaWYgKGlzLnBsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgZGVzdFtwcm9wXSA9IGNsb25lKHZhbHVlKSBhcyBhbnlcbiAgICB9IGVsc2UgaWYgKGlzLmFycmF5KHZhbHVlKSkge1xuICAgICAgZGVzdFtwcm9wXSA9IGFyci5mcm9tKHZhbHVlKSBhcyB0eXBlb2YgdmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdFtwcm9wXSA9IHZhbHVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlc3Rcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50UGhhc2UgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBEb0FueVBoYXNlQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgRWRnZU9wdGlvbnMsIEZ1bGxSZWN0LCBQb2ludCwgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgY2xvbmUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvY2xvbmUnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyLCBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kaWZpY2F0aW9uUmVzdWx0IHtcbiAgZGVsdGE6IFBvaW50XG4gIHJlY3REZWx0YTogUmVjdFxuICBjb29yZHM6IFBvaW50XG4gIHJlY3Q6IEZ1bGxSZWN0XG4gIGV2ZW50UHJvcHM6IGFueVtdXG4gIGNoYW5nZWQ6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIE1ldGhvZEFyZyB7XG4gIHBoYXNlOiBFdmVudFBoYXNlXG4gIHBhZ2VDb29yZHM6IFBvaW50XG4gIHJlY3Q6IEZ1bGxSZWN0XG4gIGNvb3JkczogUG9pbnRcbiAgcHJlRW5kPzogYm9vbGVhblxuICBza2lwTW9kaWZpZXJzPzogbnVtYmVyXG59XG5cbmV4cG9ydCBjbGFzcyBNb2RpZmljYXRpb24ge1xuICBzdGF0ZXM6IE1vZGlmaWVyU3RhdGVbXSA9IFtdXG4gIHN0YXJ0T2Zmc2V0OiBSZWN0ID0geyBsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLCBib3R0b206IDAgfVxuICBzdGFydERlbHRhITogUG9pbnRcbiAgcmVzdWx0ITogTW9kaWZpY2F0aW9uUmVzdWx0XG4gIGVuZFJlc3VsdCE6IFBvaW50XG4gIHN0YXJ0RWRnZXMhOiBFZGdlT3B0aW9uc1xuICBlZGdlczogRWRnZU9wdGlvbnNcbiAgcmVhZG9ubHkgaW50ZXJhY3Rpb246IFJlYWRvbmx5PEludGVyYWN0aW9uPlxuXG4gIGNvbnN0cnVjdG9yKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvblxuICAgIHRoaXMucmVzdWx0ID0gY3JlYXRlUmVzdWx0KClcbiAgICB0aGlzLmVkZ2VzID0ge1xuICAgICAgbGVmdDogZmFsc2UsXG4gICAgICByaWdodDogZmFsc2UsXG4gICAgICB0b3A6IGZhbHNlLFxuICAgICAgYm90dG9tOiBmYWxzZSxcbiAgICB9XG4gIH1cblxuICBzdGFydCh7IHBoYXNlIH06IHsgcGhhc2U6IEV2ZW50UGhhc2UgfSwgcGFnZUNvb3JkczogUG9pbnQpIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3QgbW9kaWZpZXJMaXN0ID0gZ2V0TW9kaWZpZXJMaXN0KGludGVyYWN0aW9uKVxuICAgIHRoaXMucHJlcGFyZVN0YXRlcyhtb2RpZmllckxpc3QpXG5cbiAgICB0aGlzLnN0YXJ0RWRnZXMgPSBleHRlbmQoe30sIGludGVyYWN0aW9uLmVkZ2VzKVxuICAgIHRoaXMuZWRnZXMgPSBleHRlbmQoe30sIHRoaXMuc3RhcnRFZGdlcylcbiAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gZ2V0UmVjdE9mZnNldChpbnRlcmFjdGlvbi5yZWN0LCBwYWdlQ29vcmRzKVxuICAgIHRoaXMuc3RhcnREZWx0YSA9IHsgeDogMCwgeTogMCB9XG5cbiAgICBjb25zdCBhcmcgPSB0aGlzLmZpbGxBcmcoe1xuICAgICAgcGhhc2UsXG4gICAgICBwYWdlQ29vcmRzLFxuICAgICAgcHJlRW5kOiBmYWxzZSxcbiAgICB9KVxuXG4gICAgdGhpcy5yZXN1bHQgPSBjcmVhdGVSZXN1bHQoKVxuICAgIHRoaXMuc3RhcnRBbGwoYXJnKVxuXG4gICAgY29uc3QgcmVzdWx0ID0gKHRoaXMucmVzdWx0ID0gdGhpcy5zZXRBbGwoYXJnKSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZpbGxBcmcoYXJnOiBQYXJ0aWFsPE1vZGlmaWVyQXJnPikge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcblxuICAgIGFyZy5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gICAgYXJnLmludGVyYWN0YWJsZSA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZVxuICAgIGFyZy5lbGVtZW50ID0gaW50ZXJhY3Rpb24uZWxlbWVudFxuICAgIGFyZy5yZWN0IHx8PSBpbnRlcmFjdGlvbi5yZWN0XG4gICAgYXJnLmVkZ2VzIHx8PSB0aGlzLnN0YXJ0RWRnZXNcbiAgICBhcmcuc3RhcnRPZmZzZXQgPSB0aGlzLnN0YXJ0T2Zmc2V0XG5cbiAgICByZXR1cm4gYXJnIGFzIE1vZGlmaWVyQXJnXG4gIH1cblxuICBzdGFydEFsbChhcmc6IE1ldGhvZEFyZyAmIFBhcnRpYWw8TW9kaWZpZXJBcmc+KSB7XG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiB0aGlzLnN0YXRlcykge1xuICAgICAgaWYgKHN0YXRlLm1ldGhvZHMuc3RhcnQpIHtcbiAgICAgICAgYXJnLnN0YXRlID0gc3RhdGVcbiAgICAgICAgc3RhdGUubWV0aG9kcy5zdGFydChhcmcgYXMgTW9kaWZpZXJBcmcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0QWxsKGFyZzogTWV0aG9kQXJnICYgUGFydGlhbDxNb2RpZmllckFyZz4pOiBNb2RpZmljYXRpb25SZXN1bHQge1xuICAgIGNvbnN0IHsgcGhhc2UsIHByZUVuZCwgc2tpcE1vZGlmaWVycywgcmVjdDogdW5tb2RpZmllZFJlY3QsIGVkZ2VzOiB1bm1vZGlmaWVkRWRnZXMgfSA9IGFyZ1xuXG4gICAgYXJnLmNvb3JkcyA9IGV4dGVuZCh7fSwgYXJnLnBhZ2VDb29yZHMpXG4gICAgYXJnLnJlY3QgPSBleHRlbmQoe30sIHVubW9kaWZpZWRSZWN0KVxuICAgIGFyZy5lZGdlcyA9IGV4dGVuZCh7fSwgdW5tb2RpZmllZEVkZ2VzKVxuXG4gICAgY29uc3Qgc3RhdGVzID0gc2tpcE1vZGlmaWVycyA/IHRoaXMuc3RhdGVzLnNsaWNlKHNraXBNb2RpZmllcnMpIDogdGhpcy5zdGF0ZXNcblxuICAgIGNvbnN0IG5ld1Jlc3VsdCA9IGNyZWF0ZVJlc3VsdChhcmcuY29vcmRzLCBhcmcucmVjdClcblxuICAgIGZvciAoY29uc3Qgc3RhdGUgb2Ygc3RhdGVzKSB7XG4gICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG4gICAgICBjb25zdCBsYXN0TW9kaWZpZXJDb29yZHMgPSBleHRlbmQoe30sIGFyZy5jb29yZHMpXG4gICAgICBsZXQgcmV0dXJuVmFsdWUgPSBudWxsXG5cbiAgICAgIGlmIChzdGF0ZS5tZXRob2RzPy5zZXQgJiYgdGhpcy5zaG91bGREbyhvcHRpb25zLCBwcmVFbmQsIHBoYXNlKSkge1xuICAgICAgICBhcmcuc3RhdGUgPSBzdGF0ZVxuICAgICAgICByZXR1cm5WYWx1ZSA9IHN0YXRlLm1ldGhvZHMuc2V0KGFyZyBhcyBNb2RpZmllckFyZzxuZXZlcj4pXG5cbiAgICAgICAgcmVjdFV0aWxzLmFkZEVkZ2VzKGFyZy5lZGdlcywgYXJnLnJlY3QsIHtcbiAgICAgICAgICB4OiBhcmcuY29vcmRzLnggLSBsYXN0TW9kaWZpZXJDb29yZHMueCxcbiAgICAgICAgICB5OiBhcmcuY29vcmRzLnkgLSBsYXN0TW9kaWZpZXJDb29yZHMueSxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgbmV3UmVzdWx0LmV2ZW50UHJvcHMucHVzaChyZXR1cm5WYWx1ZSlcbiAgICB9XG5cbiAgICBleHRlbmQodGhpcy5lZGdlcywgYXJnLmVkZ2VzKVxuXG4gICAgbmV3UmVzdWx0LmRlbHRhLnggPSBhcmcuY29vcmRzLnggLSBhcmcucGFnZUNvb3Jkcy54XG4gICAgbmV3UmVzdWx0LmRlbHRhLnkgPSBhcmcuY29vcmRzLnkgLSBhcmcucGFnZUNvb3Jkcy55XG5cbiAgICBuZXdSZXN1bHQucmVjdERlbHRhLmxlZnQgPSBhcmcucmVjdC5sZWZ0IC0gdW5tb2RpZmllZFJlY3QubGVmdFxuICAgIG5ld1Jlc3VsdC5yZWN0RGVsdGEucmlnaHQgPSBhcmcucmVjdC5yaWdodCAtIHVubW9kaWZpZWRSZWN0LnJpZ2h0XG4gICAgbmV3UmVzdWx0LnJlY3REZWx0YS50b3AgPSBhcmcucmVjdC50b3AgLSB1bm1vZGlmaWVkUmVjdC50b3BcbiAgICBuZXdSZXN1bHQucmVjdERlbHRhLmJvdHRvbSA9IGFyZy5yZWN0LmJvdHRvbSAtIHVubW9kaWZpZWRSZWN0LmJvdHRvbVxuXG4gICAgY29uc3QgcHJldkNvb3JkcyA9IHRoaXMucmVzdWx0LmNvb3Jkc1xuICAgIGNvbnN0IHByZXZSZWN0ID0gdGhpcy5yZXN1bHQucmVjdFxuXG4gICAgaWYgKHByZXZDb29yZHMgJiYgcHJldlJlY3QpIHtcbiAgICAgIGNvbnN0IHJlY3RDaGFuZ2VkID1cbiAgICAgICAgbmV3UmVzdWx0LnJlY3QubGVmdCAhPT0gcHJldlJlY3QubGVmdCB8fFxuICAgICAgICBuZXdSZXN1bHQucmVjdC5yaWdodCAhPT0gcHJldlJlY3QucmlnaHQgfHxcbiAgICAgICAgbmV3UmVzdWx0LnJlY3QudG9wICE9PSBwcmV2UmVjdC50b3AgfHxcbiAgICAgICAgbmV3UmVzdWx0LnJlY3QuYm90dG9tICE9PSBwcmV2UmVjdC5ib3R0b21cblxuICAgICAgbmV3UmVzdWx0LmNoYW5nZWQgPVxuICAgICAgICByZWN0Q2hhbmdlZCB8fCBwcmV2Q29vcmRzLnggIT09IG5ld1Jlc3VsdC5jb29yZHMueCB8fCBwcmV2Q29vcmRzLnkgIT09IG5ld1Jlc3VsdC5jb29yZHMueVxuICAgIH1cblxuICAgIHJldHVybiBuZXdSZXN1bHRcbiAgfVxuXG4gIGFwcGx5VG9JbnRlcmFjdGlvbihhcmc6IHsgcGhhc2U6IEV2ZW50UGhhc2U7IHJlY3Q/OiBSZWN0IH0pIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3QgeyBwaGFzZSB9ID0gYXJnXG4gICAgY29uc3QgY3VyQ29vcmRzID0gaW50ZXJhY3Rpb24uY29vcmRzLmN1clxuICAgIGNvbnN0IHN0YXJ0Q29vcmRzID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0XG4gICAgY29uc3QgeyByZXN1bHQsIHN0YXJ0RGVsdGEgfSA9IHRoaXNcbiAgICBjb25zdCBjdXJEZWx0YSA9IHJlc3VsdC5kZWx0YVxuXG4gICAgaWYgKHBoYXNlID09PSAnc3RhcnQnKSB7XG4gICAgICBleHRlbmQodGhpcy5zdGFydERlbHRhLCByZXN1bHQuZGVsdGEpXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbY29vcmRzU2V0LCBkZWx0YV0gb2YgW1xuICAgICAgW3N0YXJ0Q29vcmRzLCBzdGFydERlbHRhXSxcbiAgICAgIFtjdXJDb29yZHMsIGN1ckRlbHRhXSxcbiAgICBdIGFzIGNvbnN0KSB7XG4gICAgICBjb29yZHNTZXQucGFnZS54ICs9IGRlbHRhLnhcbiAgICAgIGNvb3Jkc1NldC5wYWdlLnkgKz0gZGVsdGEueVxuICAgICAgY29vcmRzU2V0LmNsaWVudC54ICs9IGRlbHRhLnhcbiAgICAgIGNvb3Jkc1NldC5jbGllbnQueSArPSBkZWx0YS55XG4gICAgfVxuXG4gICAgY29uc3QgeyByZWN0RGVsdGEgfSA9IHRoaXMucmVzdWx0XG4gICAgY29uc3QgcmVjdCA9IGFyZy5yZWN0IHx8IGludGVyYWN0aW9uLnJlY3RcblxuICAgIHJlY3QubGVmdCArPSByZWN0RGVsdGEubGVmdFxuICAgIHJlY3QucmlnaHQgKz0gcmVjdERlbHRhLnJpZ2h0XG4gICAgcmVjdC50b3AgKz0gcmVjdERlbHRhLnRvcFxuICAgIHJlY3QuYm90dG9tICs9IHJlY3REZWx0YS5ib3R0b21cblxuICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gIH1cblxuICBzZXRBbmRBcHBseShcbiAgICBhcmc6IFBhcnRpYWw8RG9BbnlQaGFzZUFyZz4gJiB7XG4gICAgICBwaGFzZTogRXZlbnRQaGFzZVxuICAgICAgcHJlRW5kPzogYm9vbGVhblxuICAgICAgc2tpcE1vZGlmaWVycz86IG51bWJlclxuICAgICAgbW9kaWZpZWRDb29yZHM/OiBQb2ludFxuICAgIH0sXG4gICk6IHZvaWQgfCBmYWxzZSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IHsgcGhhc2UsIHByZUVuZCwgc2tpcE1vZGlmaWVycyB9ID0gYXJnXG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNldEFsbChcbiAgICAgIHRoaXMuZmlsbEFyZyh7XG4gICAgICAgIHByZUVuZCxcbiAgICAgICAgcGhhc2UsXG4gICAgICAgIHBhZ2VDb29yZHM6IGFyZy5tb2RpZmllZENvb3JkcyB8fCBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UsXG4gICAgICB9KSxcbiAgICApXG5cbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdFxuXG4gICAgLy8gZG9uJ3QgZmlyZSBhbiBhY3Rpb24gbW92ZSBpZiBhIG1vZGlmaWVyIHdvdWxkIGtlZXAgdGhlIGV2ZW50IGluIHRoZSBzYW1lXG4gICAgLy8gY29yZGluYXRlcyBhcyBiZWZvcmVcbiAgICBpZiAoXG4gICAgICAhcmVzdWx0LmNoYW5nZWQgJiZcbiAgICAgICghc2tpcE1vZGlmaWVycyB8fCBza2lwTW9kaWZpZXJzIDwgdGhpcy5zdGF0ZXMubGVuZ3RoKSAmJlxuICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGFyZy5tb2RpZmllZENvb3Jkcykge1xuICAgICAgY29uc3QgeyBwYWdlIH0gPSBpbnRlcmFjdGlvbi5jb29yZHMuY3VyXG4gICAgICBjb25zdCBhZGp1c3RtZW50ID0ge1xuICAgICAgICB4OiBhcmcubW9kaWZpZWRDb29yZHMueCAtIHBhZ2UueCxcbiAgICAgICAgeTogYXJnLm1vZGlmaWVkQ29vcmRzLnkgLSBwYWdlLnksXG4gICAgICB9XG5cbiAgICAgIHJlc3VsdC5jb29yZHMueCArPSBhZGp1c3RtZW50LnhcbiAgICAgIHJlc3VsdC5jb29yZHMueSArPSBhZGp1c3RtZW50LnlcbiAgICAgIHJlc3VsdC5kZWx0YS54ICs9IGFkanVzdG1lbnQueFxuICAgICAgcmVzdWx0LmRlbHRhLnkgKz0gYWRqdXN0bWVudC55XG4gICAgfVxuXG4gICAgdGhpcy5hcHBseVRvSW50ZXJhY3Rpb24oYXJnKVxuICB9XG5cbiAgYmVmb3JlRW5kKGFyZzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz4gJiB7IHN0YXRlPzogTW9kaWZpZXJTdGF0ZSB9KTogdm9pZCB8IGZhbHNlIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uLCBldmVudCB9ID0gYXJnXG4gICAgY29uc3Qgc3RhdGVzID0gdGhpcy5zdGF0ZXNcblxuICAgIGlmICghc3RhdGVzIHx8ICFzdGF0ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgZG9QcmVlbmQgPSBmYWxzZVxuXG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiBzdGF0ZXMpIHtcbiAgICAgIGFyZy5zdGF0ZSA9IHN0YXRlXG4gICAgICBjb25zdCB7IG9wdGlvbnMsIG1ldGhvZHMgfSA9IHN0YXRlXG5cbiAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gbWV0aG9kcy5iZWZvcmVFbmQgJiYgbWV0aG9kcy5iZWZvcmVFbmQoYXJnIGFzIHVua25vd24gYXMgTW9kaWZpZXJBcmcpXG5cbiAgICAgIGlmIChlbmRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVuZFJlc3VsdCA9IGVuZFBvc2l0aW9uXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBkb1ByZWVuZCA9IGRvUHJlZW5kIHx8ICghZG9QcmVlbmQgJiYgdGhpcy5zaG91bGREbyhvcHRpb25zLCB0cnVlLCBhcmcucGhhc2UsIHRydWUpKVxuICAgIH1cblxuICAgIGlmIChkb1ByZWVuZCkge1xuICAgICAgLy8gdHJpZ2dlciBhIGZpbmFsIG1vZGlmaWVkIG1vdmUgYmVmb3JlIGVuZGluZ1xuICAgICAgaW50ZXJhY3Rpb24ubW92ZSh7IGV2ZW50LCBwcmVFbmQ6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdG9wKGFyZzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlcyB8fCAhdGhpcy5zdGF0ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBtb2RpZmllckFyZzogUGFydGlhbDxNb2RpZmllckFyZz4gPSBleHRlbmQoXG4gICAgICB7XG4gICAgICAgIHN0YXRlczogdGhpcy5zdGF0ZXMsXG4gICAgICAgIGludGVyYWN0YWJsZTogaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLFxuICAgICAgICBlbGVtZW50OiBpbnRlcmFjdGlvbi5lbGVtZW50LFxuICAgICAgICByZWN0OiBudWxsLFxuICAgICAgfSxcbiAgICAgIGFyZyxcbiAgICApXG5cbiAgICB0aGlzLmZpbGxBcmcobW9kaWZpZXJBcmcpXG5cbiAgICBmb3IgKGNvbnN0IHN0YXRlIG9mIHRoaXMuc3RhdGVzKSB7XG4gICAgICBtb2RpZmllckFyZy5zdGF0ZSA9IHN0YXRlXG5cbiAgICAgIGlmIChzdGF0ZS5tZXRob2RzLnN0b3ApIHtcbiAgICAgICAgc3RhdGUubWV0aG9kcy5zdG9wKG1vZGlmaWVyQXJnIGFzIE1vZGlmaWVyQXJnKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGVzID0gbnVsbFxuICAgIHRoaXMuZW5kUmVzdWx0ID0gbnVsbFxuICB9XG5cbiAgcHJlcGFyZVN0YXRlcyhtb2RpZmllckxpc3Q6IE1vZGlmaWVyW10pIHtcbiAgICB0aGlzLnN0YXRlcyA9IFtdXG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbW9kaWZpZXJMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgeyBvcHRpb25zLCBtZXRob2RzLCBuYW1lIH0gPSBtb2RpZmllckxpc3RbaW5kZXhdXG5cbiAgICAgIHRoaXMuc3RhdGVzLnB1c2goe1xuICAgICAgICBvcHRpb25zLFxuICAgICAgICBtZXRob2RzLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgbmFtZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVzXG4gIH1cblxuICByZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoeyBpbnRlcmFjdGlvbjogeyBjb29yZHMsIHJlY3QsIG1vZGlmaWNhdGlvbiB9IH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgICBpZiAoIW1vZGlmaWNhdGlvbi5yZXN1bHQpIHJldHVyblxuXG4gICAgY29uc3QgeyBzdGFydERlbHRhIH0gPSBtb2RpZmljYXRpb25cbiAgICBjb25zdCB7IGRlbHRhOiBjdXJEZWx0YSwgcmVjdERlbHRhIH0gPSBtb2RpZmljYXRpb24ucmVzdWx0XG5cbiAgICBjb25zdCBjb29yZHNBbmREZWx0YXMgPSBbXG4gICAgICBbY29vcmRzLnN0YXJ0LCBzdGFydERlbHRhXSxcbiAgICAgIFtjb29yZHMuY3VyLCBjdXJEZWx0YV0sXG4gICAgXVxuXG4gICAgZm9yIChjb25zdCBbY29vcmRzU2V0LCBkZWx0YV0gb2YgY29vcmRzQW5kRGVsdGFzIGFzIGFueSkge1xuICAgICAgY29vcmRzU2V0LnBhZ2UueCAtPSBkZWx0YS54XG4gICAgICBjb29yZHNTZXQucGFnZS55IC09IGRlbHRhLnlcbiAgICAgIGNvb3Jkc1NldC5jbGllbnQueCAtPSBkZWx0YS54XG4gICAgICBjb29yZHNTZXQuY2xpZW50LnkgLT0gZGVsdGEueVxuICAgIH1cblxuICAgIHJlY3QubGVmdCAtPSByZWN0RGVsdGEubGVmdFxuICAgIHJlY3QucmlnaHQgLT0gcmVjdERlbHRhLnJpZ2h0XG4gICAgcmVjdC50b3AgLT0gcmVjdERlbHRhLnRvcFxuICAgIHJlY3QuYm90dG9tIC09IHJlY3REZWx0YS5ib3R0b21cbiAgfVxuXG4gIHNob3VsZERvKG9wdGlvbnMsIHByZUVuZD86IGJvb2xlYW4sIHBoYXNlPzogc3RyaW5nLCByZXF1aXJlRW5kT25seT86IGJvb2xlYW4pIHtcbiAgICBpZiAoXG4gICAgICAvLyBpZ25vcmUgZGlzYWJsZWQgbW9kaWZpZXJzXG4gICAgICAhb3B0aW9ucyB8fFxuICAgICAgb3B0aW9ucy5lbmFibGVkID09PSBmYWxzZSB8fFxuICAgICAgLy8gY2hlY2sgaWYgd2UgcmVxdWlyZSBlbmRPbmx5IG9wdGlvbiB0byBmaXJlIG1vdmUgYmVmb3JlIGVuZFxuICAgICAgKHJlcXVpcmVFbmRPbmx5ICYmICFvcHRpb25zLmVuZE9ubHkpIHx8XG4gICAgICAvLyBkb24ndCBhcHBseSBlbmRPbmx5IG1vZGlmaWVycyB3aGVuIG5vdCBlbmRpbmdcbiAgICAgIChvcHRpb25zLmVuZE9ubHkgJiYgIXByZUVuZCkgfHxcbiAgICAgIC8vIGNoZWNrIGlmIG1vZGlmaWVyIHNob3VsZCBydW4gYmUgYXBwbGllZCBvbiBzdGFydFxuICAgICAgKHBoYXNlID09PSAnc3RhcnQnICYmICFvcHRpb25zLnNldFN0YXJ0KVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvcHlGcm9tKG90aGVyOiBNb2RpZmljYXRpb24pIHtcbiAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gb3RoZXIuc3RhcnRPZmZzZXRcbiAgICB0aGlzLnN0YXJ0RGVsdGEgPSBvdGhlci5zdGFydERlbHRhXG4gICAgdGhpcy5zdGFydEVkZ2VzID0gb3RoZXIuc3RhcnRFZGdlc1xuICAgIHRoaXMuZWRnZXMgPSBvdGhlci5lZGdlc1xuICAgIHRoaXMuc3RhdGVzID0gb3RoZXIuc3RhdGVzLm1hcCgocykgPT4gY2xvbmUocykgYXMgTW9kaWZpZXJTdGF0ZSlcbiAgICB0aGlzLnJlc3VsdCA9IGNyZWF0ZVJlc3VsdChleHRlbmQoe30sIG90aGVyLnJlc3VsdC5jb29yZHMpLCBleHRlbmQoe30sIG90aGVyLnJlc3VsdC5yZWN0KSlcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRoaXMpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBudWxsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlc3VsdChjb29yZHM/OiBQb2ludCwgcmVjdD86IEZ1bGxSZWN0KTogTW9kaWZpY2F0aW9uUmVzdWx0IHtcbiAgcmV0dXJuIHtcbiAgICByZWN0LFxuICAgIGNvb3JkcyxcbiAgICBkZWx0YTogeyB4OiAwLCB5OiAwIH0sXG4gICAgcmVjdERlbHRhOiB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBldmVudFByb3BzOiBbXSxcbiAgICBjaGFuZ2VkOiB0cnVlLFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldE1vZGlmaWVyTGlzdChpbnRlcmFjdGlvbikge1xuICBjb25zdCBhY3Rpb25PcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnNbaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZV1cbiAgY29uc3QgYWN0aW9uTW9kaWZpZXJzID0gYWN0aW9uT3B0aW9ucy5tb2RpZmllcnNcblxuICBpZiAoYWN0aW9uTW9kaWZpZXJzICYmIGFjdGlvbk1vZGlmaWVycy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYWN0aW9uTW9kaWZpZXJzXG4gIH1cblxuICByZXR1cm4gWydzbmFwJywgJ3NuYXBTaXplJywgJ3NuYXBFZGdlcycsICdyZXN0cmljdCcsICdyZXN0cmljdEVkZ2VzJywgJ3Jlc3RyaWN0U2l6ZSddXG4gICAgLm1hcCgodHlwZSkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGFjdGlvbk9wdGlvbnNbdHlwZV1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgb3B0aW9ucyAmJlxuICAgICAgICBvcHRpb25zLmVuYWJsZWQgJiYge1xuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgbWV0aG9kczogb3B0aW9ucy5fbWV0aG9kcyxcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pXG4gICAgLmZpbHRlcigobSkgPT4gISFtKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVjdE9mZnNldChyZWN0LCBjb29yZHMpIHtcbiAgcmV0dXJuIHJlY3RcbiAgICA/IHtcbiAgICAgICAgbGVmdDogY29vcmRzLnggLSByZWN0LmxlZnQsXG4gICAgICAgIHRvcDogY29vcmRzLnkgLSByZWN0LnRvcCxcbiAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgLSBjb29yZHMueCxcbiAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSAtIGNvb3Jkcy55LFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuaW1wb3J0IHsgTW9kaWZpY2F0aW9uIH0gZnJvbSAnLi9Nb2RpZmljYXRpb24nXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyLCBNb2RpZmllck1vZHVsZSwgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgbW9kaWZpY2F0aW9uPzogTW9kaWZpY2F0aW9uXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RFdmVudCB7XG4gICAgbW9kaWZpZXJzPzogQXJyYXk8e1xuICAgICAgbmFtZTogc3RyaW5nXG4gICAgICBba2V5OiBzdHJpbmddOiBhbnlcbiAgICB9PlxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgICBtb2RpZmllcnM/OiBNb2RpZmllcltdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VNb2RpZmllcjxcbiAgRGVmYXVsdHMgZXh0ZW5kcyB7IGVuYWJsZWQ/OiBib29sZWFuIH0sXG4gIFN0YXRlIGV4dGVuZHMgTW9kaWZpZXJTdGF0ZSxcbiAgTmFtZSBleHRlbmRzIHN0cmluZyxcbiAgUmVzdWx0LFxuPihtb2R1bGU6IE1vZGlmaWVyTW9kdWxlPERlZmF1bHRzLCBTdGF0ZSwgUmVzdWx0PiwgbmFtZT86IE5hbWUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cyB9ID0gbW9kdWxlXG4gIGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgc3RhcnQ6IG1vZHVsZS5zdGFydCxcbiAgICBzZXQ6IG1vZHVsZS5zZXQsXG4gICAgYmVmb3JlRW5kOiBtb2R1bGUuYmVmb3JlRW5kLFxuICAgIHN0b3A6IG1vZHVsZS5zdG9wLFxuICB9XG5cbiAgY29uc3QgbW9kaWZpZXIgPSAoX29wdGlvbnM/OiBQYXJ0aWFsPERlZmF1bHRzPikgPT4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoX29wdGlvbnMgfHwge30pIGFzIERlZmF1bHRzXG5cbiAgICBvcHRpb25zLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG5cbiAgICAvLyBhZGQgbWlzc2luZyBkZWZhdWx0cyB0byBvcHRpb25zXG4gICAgZm9yIChjb25zdCBwcm9wIGluIGRlZmF1bHRzKSB7XG4gICAgICBpZiAoIShwcm9wIGluIG9wdGlvbnMpKSB7XG4gICAgICAgIDsob3B0aW9ucyBhcyBhbnkpW3Byb3BdID0gZGVmYXVsdHNbcHJvcF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtOiBNb2RpZmllcjxEZWZhdWx0cywgU3RhdGUsIE5hbWUsIFJlc3VsdD4gPSB7XG4gICAgICBvcHRpb25zLFxuICAgICAgbWV0aG9kcyxcbiAgICAgIG5hbWUsXG4gICAgICBlbmFibGU6ICgpID0+IHtcbiAgICAgICAgb3B0aW9ucy5lbmFibGVkID0gdHJ1ZVxuICAgICAgICByZXR1cm4gbVxuICAgICAgfSxcbiAgICAgIGRpc2FibGU6ICgpID0+IHtcbiAgICAgICAgb3B0aW9ucy5lbmFibGVkID0gZmFsc2VcbiAgICAgICAgcmV0dXJuIG1cbiAgICAgIH0sXG4gICAgfVxuXG4gICAgcmV0dXJuIG1cbiAgfVxuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuICAgIC8vIGZvciBiYWNrd3JhZHMgY29tcGF0aWJpbGl0eVxuICAgIG1vZGlmaWVyLl9kZWZhdWx0cyA9IGRlZmF1bHRzXG4gICAgbW9kaWZpZXIuX21ldGhvZHMgPSBtZXRob2RzXG4gIH1cblxuICByZXR1cm4gbW9kaWZpZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TW9kaWZpZXJzKHtcbiAgaUV2ZW50LFxuICBpbnRlcmFjdGlvbixcbn06IHtcbiAgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueT5cbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPGFueT5cbn0pIHtcbiAgY29uc3QgcmVzdWx0ID0gaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uIS5yZXN1bHRcblxuICBpZiAocmVzdWx0KSB7XG4gICAgaUV2ZW50Lm1vZGlmaWVycyA9IHJlc3VsdC5ldmVudFByb3BzXG4gIH1cbn1cblxuY29uc3QgbW9kaWZpZXJzQmFzZTogUGx1Z2luID0ge1xuICBpZDogJ21vZGlmaWVycy9iYXNlJyxcbiAgYmVmb3JlOiBbJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbDogKHNjb3BlKSA9PiB7XG4gICAgc2NvcGUuZGVmYXVsdHMucGVyQWN0aW9uLm1vZGlmaWVycyA9IFtdXG4gIH0sXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uID0gbmV3IE1vZGlmaWNhdGlvbihpbnRlcmFjdGlvbilcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXN0YXJ0JzogKGFyZykgPT4ge1xuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXJnXG4gICAgICBjb25zdCBtb2RpZmljYXRpb24gPSBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uIVxuXG4gICAgICBtb2RpZmljYXRpb24uc3RhcnQoYXJnLCBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZSlcbiAgICAgIGludGVyYWN0aW9uLmVkZ2VzID0gbW9kaWZpY2F0aW9uLmVkZ2VzXG4gICAgICBtb2RpZmljYXRpb24uYXBwbHlUb0ludGVyYWN0aW9uKGFyZylcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLW1vdmUnOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhcmdcbiAgICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uIH0gPSBpbnRlcmFjdGlvblxuICAgICAgY29uc3QgcmV0ID0gbW9kaWZpY2F0aW9uLnNldEFuZEFwcGx5KGFyZylcbiAgICAgIGludGVyYWN0aW9uLmVkZ2VzID0gbW9kaWZpY2F0aW9uLmVkZ2VzXG5cbiAgICAgIHJldHVybiByZXRcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWVuZCc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuICAgICAgY29uc3QgeyBtb2RpZmljYXRpb24gfSA9IGludGVyYWN0aW9uXG4gICAgICBjb25zdCByZXQgPSBtb2RpZmljYXRpb24uYmVmb3JlRW5kKGFyZylcbiAgICAgIGludGVyYWN0aW9uLmVkZ2VzID0gbW9kaWZpY2F0aW9uLnN0YXJ0RWRnZXNcblxuICAgICAgcmV0dXJuIHJldFxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IGFkZEV2ZW50TW9kaWZpZXJzLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiBhZGRFdmVudE1vZGlmaWVycyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiBhZGRFdmVudE1vZGlmaWVycyxcblxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXN0YXJ0JzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1tb3ZlJzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcblxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IChhcmcpID0+IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24uc3RvcChhcmcpLFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtb2RpZmllcnNCYXNlXG4iLCAiaW1wb3J0IHR5cGUgeyBQb2ludCwgTGlzdGVuZXJzLCBPckJvb2xlYW4sIEVsZW1lbnQsIFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHRzIHtcbiAgYmFzZTogQmFzZURlZmF1bHRzXG4gIHBlckFjdGlvbjogUGVyQWN0aW9uRGVmYXVsdHNcbiAgYWN0aW9uczogQWN0aW9uRGVmYXVsdHNcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1pbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge31cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlRGVmYXVsdHMge1xuICBwcmV2ZW50RGVmYXVsdD86ICdhbHdheXMnIHwgJ25ldmVyJyB8ICdhdXRvJ1xuICBkZWx0YVNvdXJjZT86ICdwYWdlJyB8ICdjbGllbnQnXG4gIGNvbnRleHQ/OiBOb2RlXG4gIGdldFJlY3Q/OiAoZWxlbWVudDogRWxlbWVudCkgPT4gUmVjdFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgZW5hYmxlZD86IGJvb2xlYW5cbiAgb3JpZ2luPzogUG9pbnQgfCBzdHJpbmcgfCBFbGVtZW50XG4gIGxpc3RlbmVycz86IExpc3RlbmVyc1xuICBhbGxvd0Zyb20/OiBzdHJpbmcgfCBFbGVtZW50XG4gIGlnbm9yZUZyb20/OiBzdHJpbmcgfCBFbGVtZW50XG59XG5cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSBQYXJ0aWFsPEJhc2VEZWZhdWx0cz4gJlxuICBQYXJ0aWFsPFBlckFjdGlvbkRlZmF1bHRzPiAmIHtcbiAgICBbUCBpbiBrZXlvZiBBY3Rpb25EZWZhdWx0c10/OiBQYXJ0aWFsPEFjdGlvbkRlZmF1bHRzW1BdPlxuICB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uc0FyZyBleHRlbmRzIEJhc2VEZWZhdWx0cywgT3JCb29sZWFuPFBhcnRpYWw8QWN0aW9uRGVmYXVsdHM+PiB7fVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdHM6IERlZmF1bHRzID0ge1xuICBiYXNlOiB7XG4gICAgcHJldmVudERlZmF1bHQ6ICdhdXRvJyxcbiAgICBkZWx0YVNvdXJjZTogJ3BhZ2UnLFxuICB9LFxuXG4gIHBlckFjdGlvbjoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sXG4gIH0sXG5cbiAgYWN0aW9uczoge30gYXMgQWN0aW9uRGVmYXVsdHMsXG59XG4iLCAiaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5cbmltcG9ydCB0eXBlIHsgUG9pbnQsIEZ1bGxSZWN0LCBQb2ludGVyRXZlbnRUeXBlLCBFbGVtZW50LCBBY3Rpb25OYW1lIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnLi9CYXNlRXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnLi9JbnRlcmFjdGlvbidcbmltcG9ydCB7IGRlZmF1bHRzIH0gZnJvbSAnLi9vcHRpb25zJ1xuXG5leHBvcnQgdHlwZSBFdmVudFBoYXNlID0ga2V5b2YgUGhhc2VNYXBcblxuZXhwb3J0IGludGVyZmFjZSBQaGFzZU1hcCB7XG4gIHN0YXJ0OiB0cnVlXG4gIG1vdmU6IHRydWVcbiAgZW5kOiB0cnVlXG59XG5cbi8vIGRlZmluZWQgb3V0c2lkZSBvZiBjbGFzcyBkZWZpbml0aW9uIHRvIGF2b2lkIGFzc2lnbm1lbnQgb2YgdW5kZWZpbmVkIGR1cmluZ1xuLy8gY29uc3RydWN0aW9uXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0RXZlbnQge1xuICBwYWdlWDogbnVtYmVyXG4gIHBhZ2VZOiBudW1iZXJcblxuICBjbGllbnRYOiBudW1iZXJcbiAgY2xpZW50WTogbnVtYmVyXG5cbiAgZHg6IG51bWJlclxuICBkeTogbnVtYmVyXG5cbiAgdmVsb2NpdHlYOiBudW1iZXJcbiAgdmVsb2NpdHlZOiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0RXZlbnQ8XG4gIFQgZXh0ZW5kcyBBY3Rpb25OYW1lID0gbmV2ZXIsXG4gIFAgZXh0ZW5kcyBFdmVudFBoYXNlID0gRXZlbnRQaGFzZSxcbj4gZXh0ZW5kcyBCYXNlRXZlbnQ8VD4ge1xuICBkZWNsYXJlIHRhcmdldDogRWxlbWVudFxuICBkZWNsYXJlIGN1cnJlbnRUYXJnZXQ6IEVsZW1lbnRcbiAgcmVsYXRlZFRhcmdldDogRWxlbWVudCB8IG51bGwgPSBudWxsXG4gIHNjcmVlblg/OiBudW1iZXJcbiAgc2NyZWVuWT86IG51bWJlclxuICBidXR0b246IG51bWJlclxuICBidXR0b25zOiBudW1iZXJcbiAgY3RybEtleTogYm9vbGVhblxuICBzaGlmdEtleTogYm9vbGVhblxuICBhbHRLZXk6IGJvb2xlYW5cbiAgbWV0YUtleTogYm9vbGVhblxuICBwYWdlOiBQb2ludFxuICBjbGllbnQ6IFBvaW50XG4gIGRlbHRhOiBQb2ludFxuICByZWN0OiBGdWxsUmVjdFxuICB4MDogbnVtYmVyXG4gIHkwOiBudW1iZXJcbiAgdDA6IG51bWJlclxuICBkdDogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgY2xpZW50WDA6IG51bWJlclxuICBjbGllbnRZMDogbnVtYmVyXG4gIHZlbG9jaXR5OiBQb2ludFxuICBzcGVlZDogbnVtYmVyXG4gIHN3aXBlOiBSZXR1cm5UeXBlPEludGVyYWN0RXZlbnQ8VD5bJ2dldFN3aXBlJ10+XG4gIC8vIHJlc2l6ZVxuICBheGVzPzogJ3gnIHwgJ3knIHwgJ3h5J1xuICAvKiogQGludGVybmFsICovXG4gIHByZUVuZD86IGJvb2xlYW5cblxuICBjb25zdHJ1Y3RvcihcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD4sXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgYWN0aW9uTmFtZTogVCxcbiAgICBwaGFzZTogUCxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHByZUVuZD86IGJvb2xlYW4sXG4gICAgdHlwZT86IHN0cmluZyxcbiAgKSB7XG4gICAgc3VwZXIoaW50ZXJhY3Rpb24pXG5cbiAgICBlbGVtZW50ID0gZWxlbWVudCB8fCBpbnRlcmFjdGlvbi5lbGVtZW50XG5cbiAgICBjb25zdCB0YXJnZXQgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGVcbiAgICBjb25zdCBkZWx0YVNvdXJjZSA9ICgoKHRhcmdldCAmJiB0YXJnZXQub3B0aW9ucykgfHwgZGVmYXVsdHMpIGFzIGFueSkuZGVsdGFTb3VyY2UgYXMgJ3BhZ2UnIHwgJ2NsaWVudCdcbiAgICBjb25zdCBvcmlnaW4gPSBnZXRPcmlnaW5YWSh0YXJnZXQsIGVsZW1lbnQsIGFjdGlvbk5hbWUpXG4gICAgY29uc3Qgc3RhcnRpbmcgPSBwaGFzZSA9PT0gJ3N0YXJ0J1xuICAgIGNvbnN0IGVuZGluZyA9IHBoYXNlID09PSAnZW5kJ1xuICAgIGNvbnN0IHByZXZFdmVudCA9IHN0YXJ0aW5nID8gdGhpcyA6IGludGVyYWN0aW9uLnByZXZFdmVudFxuICAgIGNvbnN0IGNvb3JkcyA9IHN0YXJ0aW5nXG4gICAgICA/IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydFxuICAgICAgOiBlbmRpbmdcbiAgICAgICAgPyB7IHBhZ2U6IHByZXZFdmVudC5wYWdlLCBjbGllbnQ6IHByZXZFdmVudC5jbGllbnQsIHRpbWVTdGFtcDogaW50ZXJhY3Rpb24uY29vcmRzLmN1ci50aW1lU3RhbXAgfVxuICAgICAgICA6IGludGVyYWN0aW9uLmNvb3Jkcy5jdXJcblxuICAgIHRoaXMucGFnZSA9IGV4dGVuZCh7fSwgY29vcmRzLnBhZ2UpXG4gICAgdGhpcy5jbGllbnQgPSBleHRlbmQoe30sIGNvb3Jkcy5jbGllbnQpXG4gICAgdGhpcy5yZWN0ID0gZXh0ZW5kKHt9LCBpbnRlcmFjdGlvbi5yZWN0KVxuICAgIHRoaXMudGltZVN0YW1wID0gY29vcmRzLnRpbWVTdGFtcFxuXG4gICAgaWYgKCFlbmRpbmcpIHtcbiAgICAgIHRoaXMucGFnZS54IC09IG9yaWdpbi54XG4gICAgICB0aGlzLnBhZ2UueSAtPSBvcmlnaW4ueVxuXG4gICAgICB0aGlzLmNsaWVudC54IC09IG9yaWdpbi54XG4gICAgICB0aGlzLmNsaWVudC55IC09IG9yaWdpbi55XG4gICAgfVxuXG4gICAgdGhpcy5jdHJsS2V5ID0gZXZlbnQuY3RybEtleVxuICAgIHRoaXMuYWx0S2V5ID0gZXZlbnQuYWx0S2V5XG4gICAgdGhpcy5zaGlmdEtleSA9IGV2ZW50LnNoaWZ0S2V5XG4gICAgdGhpcy5tZXRhS2V5ID0gZXZlbnQubWV0YUtleVxuICAgIHRoaXMuYnV0dG9uID0gKGV2ZW50IGFzIE1vdXNlRXZlbnQpLmJ1dHRvblxuICAgIHRoaXMuYnV0dG9ucyA9IChldmVudCBhcyBNb3VzZUV2ZW50KS5idXR0b25zXG4gICAgdGhpcy50YXJnZXQgPSBlbGVtZW50XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMucHJlRW5kID0gcHJlRW5kXG4gICAgdGhpcy50eXBlID0gdHlwZSB8fCBhY3Rpb25OYW1lICsgKHBoYXNlIHx8ICcnKVxuICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gdGFyZ2V0XG5cbiAgICB0aGlzLnQwID0gc3RhcnRpbmcgPyBpbnRlcmFjdGlvbi5wb2ludGVyc1tpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggLSAxXS5kb3duVGltZSA6IHByZXZFdmVudC50MFxuXG4gICAgdGhpcy54MCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLnggLSBvcmlnaW4ueFxuICAgIHRoaXMueTAgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS55IC0gb3JpZ2luLnlcbiAgICB0aGlzLmNsaWVudFgwID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudC54IC0gb3JpZ2luLnhcbiAgICB0aGlzLmNsaWVudFkwID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudC55IC0gb3JpZ2luLnlcblxuICAgIGlmIChzdGFydGluZyB8fCBlbmRpbmcpIHtcbiAgICAgIHRoaXMuZGVsdGEgPSB7IHg6IDAsIHk6IDAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlbHRhID0ge1xuICAgICAgICB4OiB0aGlzW2RlbHRhU291cmNlXS54IC0gcHJldkV2ZW50W2RlbHRhU291cmNlXS54LFxuICAgICAgICB5OiB0aGlzW2RlbHRhU291cmNlXS55IC0gcHJldkV2ZW50W2RlbHRhU291cmNlXS55LFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZHQgPSBpbnRlcmFjdGlvbi5jb29yZHMuZGVsdGEudGltZVN0YW1wXG4gICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMudGltZVN0YW1wIC0gdGhpcy50MFxuXG4gICAgLy8gdmVsb2NpdHkgYW5kIHNwZWVkIGluIHBpeGVscyBwZXIgc2Vjb25kXG4gICAgdGhpcy52ZWxvY2l0eSA9IGV4dGVuZCh7fSwgaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5W2RlbHRhU291cmNlXSlcbiAgICB0aGlzLnNwZWVkID0gaHlwb3QodGhpcy52ZWxvY2l0eS54LCB0aGlzLnZlbG9jaXR5LnkpXG5cbiAgICB0aGlzLnN3aXBlID0gZW5kaW5nIHx8IHBoYXNlID09PSAnaW5lcnRpYXN0YXJ0JyA/IHRoaXMuZ2V0U3dpcGUoKSA6IG51bGxcbiAgfVxuXG4gIGdldFN3aXBlKCkge1xuICAgIGNvbnN0IGludGVyYWN0aW9uID0gdGhpcy5faW50ZXJhY3Rpb25cblxuICAgIGlmIChpbnRlcmFjdGlvbi5wcmV2RXZlbnQuc3BlZWQgPCA2MDAgfHwgdGhpcy50aW1lU3RhbXAgLSBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudGltZVN0YW1wID4gMTUwKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGxldCBhbmdsZSA9ICgxODAgKiBNYXRoLmF0YW4yKGludGVyYWN0aW9uLnByZXZFdmVudC52ZWxvY2l0eVksIGludGVyYWN0aW9uLnByZXZFdmVudC52ZWxvY2l0eVgpKSAvIE1hdGguUElcbiAgICBjb25zdCBvdmVybGFwID0gMjIuNVxuXG4gICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgYW5nbGUgKz0gMzYwXG4gICAgfVxuXG4gICAgY29uc3QgbGVmdCA9IDEzNSAtIG92ZXJsYXAgPD0gYW5nbGUgJiYgYW5nbGUgPCAyMjUgKyBvdmVybGFwXG4gICAgY29uc3QgdXAgPSAyMjUgLSBvdmVybGFwIDw9IGFuZ2xlICYmIGFuZ2xlIDwgMzE1ICsgb3ZlcmxhcFxuXG4gICAgY29uc3QgcmlnaHQgPSAhbGVmdCAmJiAoMzE1IC0gb3ZlcmxhcCA8PSBhbmdsZSB8fCBhbmdsZSA8IDQ1ICsgb3ZlcmxhcClcbiAgICBjb25zdCBkb3duID0gIXVwICYmIDQ1IC0gb3ZlcmxhcCA8PSBhbmdsZSAmJiBhbmdsZSA8IDEzNSArIG92ZXJsYXBcblxuICAgIHJldHVybiB7XG4gICAgICB1cCxcbiAgICAgIGRvd24sXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBhbmdsZSxcbiAgICAgIHNwZWVkOiBpbnRlcmFjdGlvbi5wcmV2RXZlbnQuc3BlZWQsXG4gICAgICB2ZWxvY2l0eToge1xuICAgICAgICB4OiBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudmVsb2NpdHlYLFxuICAgICAgICB5OiBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudmVsb2NpdHlZLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBwcmV2ZW50RGVmYXVsdCgpIHt9XG5cbiAgLyoqXG4gICAqIERvbid0IGNhbGwgbGlzdGVuZXJzIG9uIHRoZSByZW1haW5pbmcgdGFyZ2V0c1xuICAgKi9cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogRG9uJ3QgY2FsbCBhbnkgb3RoZXIgbGlzdGVuZXJzIChldmVuIG9uIHRoZSBjdXJyZW50IHRhcmdldClcbiAgICovXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxufVxuXG4vLyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGRlZmluZWQgaGVyZSB0byBzdXBwb3J0IHR5cGVzY3JpcHQgMy42IGFuZCBiZWxvdyB3aGljaFxuLy8gZG9uJ3Qgc3VwcG9ydCBnZXR0ZXIgYW5kIHNldHRlcnMgaW4gLmQudHMgZmlsZXNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEludGVyYWN0RXZlbnQucHJvdG90eXBlLCB7XG4gIHBhZ2VYOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFnZS54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMucGFnZS54ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuICBwYWdlWToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhZ2UueVxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnBhZ2UueSA9IHZhbHVlXG4gICAgfSxcbiAgfSxcblxuICBjbGllbnRYOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LnhcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5jbGllbnQueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgY2xpZW50WToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC55XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuY2xpZW50LnkgPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG5cbiAgZHg6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWx0YS54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuZGVsdGEueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgZHk6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWx0YS55XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuZGVsdGEueSA9IHZhbHVlXG4gICAgfSxcbiAgfSxcblxuICB2ZWxvY2l0eVg6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgdmVsb2NpdHlZOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmVsb2NpdHkueVxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnZlbG9jaXR5LnkgPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgUG9pbnRlckV2ZW50VHlwZSwgUG9pbnRlclR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgUG9pbnRlckluZm8ge1xuICBpZDogbnVtYmVyXG4gIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlXG4gIGRvd25UaW1lOiBudW1iZXJcbiAgZG93blRhcmdldDogTm9kZVxuXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZG93blRpbWU6IG51bWJlciwgZG93blRhcmdldDogTm9kZSkge1xuICAgIHRoaXMuaWQgPSBpZFxuICAgIHRoaXMucG9pbnRlciA9IHBvaW50ZXJcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLmRvd25UaW1lID0gZG93blRpbWVcbiAgICB0aGlzLmRvd25UYXJnZXQgPSBkb3duVGFyZ2V0XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5pbXBvcnQgeyB3YXJuT25jZSwgY29weUFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL21pc2MnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB0eXBlIHtcbiAgRWxlbWVudCxcbiAgRWRnZU9wdGlvbnMsXG4gIFBvaW50ZXJFdmVudFR5cGUsXG4gIFBvaW50ZXJUeXBlLFxuICBGdWxsUmVjdCxcbiAgQ29vcmRzU2V0LFxuICBBY3Rpb25OYW1lLFxuICBBY3Rpb25Qcm9wcyxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICcuL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgRXZlbnRQaGFzZSB9IGZyb20gJy4vSW50ZXJhY3RFdmVudCdcbmltcG9ydCB7IEludGVyYWN0RXZlbnQgfSBmcm9tICcuL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnLi9vcHRpb25zJ1xuaW1wb3J0IHsgUG9pbnRlckluZm8gfSBmcm9tICcuL1BvaW50ZXJJbmZvJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJy4vc2NvcGUnXG5cbmV4cG9ydCBlbnVtIF9Qcm94eVZhbHVlcyB7XG4gIGludGVyYWN0YWJsZSA9ICcnLFxuICBlbGVtZW50ID0gJycsXG4gIHByZXBhcmVkID0gJycsXG4gIHBvaW50ZXJJc0Rvd24gPSAnJyxcbiAgcG9pbnRlcldhc01vdmVkID0gJycsXG4gIF9wcm94eSA9ICcnLFxufVxuXG5leHBvcnQgZW51bSBfUHJveHlNZXRob2RzIHtcbiAgc3RhcnQgPSAnJyxcbiAgbW92ZSA9ICcnLFxuICBlbmQgPSAnJyxcbiAgc3RvcCA9ICcnLFxuICBpbnRlcmFjdGluZyA9ICcnLFxufVxuXG5leHBvcnQgdHlwZSBQb2ludGVyQXJnUHJvcHM8VCBleHRlbmRzIHt9ID0ge30+ID0ge1xuICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZVxuICBldmVudFRhcmdldDogTm9kZVxuICBwb2ludGVySW5kZXg6IG51bWJlclxuICBwb2ludGVySW5mbzogUG9pbnRlckluZm9cbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG5ldmVyPlxufSAmIFRcblxuZXhwb3J0IGludGVyZmFjZSBEb1BoYXNlQXJnPFQgZXh0ZW5kcyBBY3Rpb25OYW1lLCBQIGV4dGVuZHMgRXZlbnRQaGFzZT4ge1xuICBldmVudDogUG9pbnRlckV2ZW50VHlwZVxuICBwaGFzZTogRXZlbnRQaGFzZVxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD5cbiAgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PFQsIFA+XG4gIHByZUVuZD86IGJvb2xlYW5cbiAgdHlwZT86IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBEb0FueVBoYXNlQXJnID0gRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCBFdmVudFBoYXNlPlxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPiB9XG4gICAgJ2ludGVyYWN0aW9uczpkb3duJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIHR5cGU6ICdkb3duJ1xuICAgIH0+XG4gICAgJ2ludGVyYWN0aW9uczptb3ZlJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIHR5cGU6ICdtb3ZlJ1xuICAgICAgZHg6IG51bWJlclxuICAgICAgZHk6IG51bWJlclxuICAgICAgZHVwbGljYXRlOiBib29sZWFuXG4gICAgfT5cbiAgICAnaW50ZXJhY3Rpb25zOnVwJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIHR5cGU6ICd1cCdcbiAgICAgIGN1ckV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldFxuICAgIH0+XG4gICAgJ2ludGVyYWN0aW9uczpjYW5jZWwnOiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6dXAnXSAmIHtcbiAgICAgIHR5cGU6ICdjYW5jZWwnXG4gICAgICBjdXJFdmVudFRhcmdldDogRXZlbnRUYXJnZXRcbiAgICB9XG4gICAgJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlcic6IFBvaW50ZXJBcmdQcm9wczx7XG4gICAgICBkb3duOiBib29sZWFuXG4gICAgfT5cbiAgICAnaW50ZXJhY3Rpb25zOnJlbW92ZS1wb2ludGVyJzogUG9pbnRlckFyZ1Byb3BzXG4gICAgJ2ludGVyYWN0aW9uczpibHVyJzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248bmV2ZXI+OyBldmVudDogRXZlbnQ7IHR5cGU6ICdibHVyJyB9XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXN0YXJ0JzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1zdGFydCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IE9taXQ8RG9BbnlQaGFzZUFyZywgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1tb3ZlJzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1lbmQnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWVuZCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1lbmQnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEludGVyYWN0aW9uUHJveHk8VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gbmV2ZXI+ID0gUGljazxcbiAgSW50ZXJhY3Rpb248VD4sXG4gIEV4Y2x1ZGU8a2V5b2YgdHlwZW9mIF9Qcm94eVZhbHVlcyB8IGtleW9mIHR5cGVvZiBfUHJveHlNZXRob2RzLCAnX3Byb3h5Jz5cbj5cblxubGV0IGlkQ291bnRlciA9IDBcblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uPFQgZXh0ZW5kcyBBY3Rpb25OYW1lIHwgbnVsbCA9IEFjdGlvbk5hbWU+IHtcbiAgLyoqIGN1cnJlbnQgaW50ZXJhY3RhYmxlIGJlaW5nIGludGVyYWN0ZWQgd2l0aCAqL1xuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSB8IG51bGwgPSBudWxsXG5cbiAgLyoqIHRoZSB0YXJnZXQgZWxlbWVudCBvZiB0aGUgaW50ZXJhY3RhYmxlICovXG4gIGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbFxuICByZWN0OiBGdWxsUmVjdCB8IG51bGwgPSBudWxsXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlY3RzPzoge1xuICAgIHN0YXJ0OiBGdWxsUmVjdFxuICAgIGNvcnJlY3RlZDogRnVsbFJlY3RcbiAgICBwcmV2aW91czogRnVsbFJlY3RcbiAgICBkZWx0YTogRnVsbFJlY3RcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGVkZ2VzOiBFZGdlT3B0aW9ucyB8IG51bGwgPSBudWxsXG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc2NvcGVGaXJlOiBTY29wZVsnZmlyZSddXG5cbiAgLy8gYWN0aW9uIHRoYXQncyByZWFkeSB0byBiZSBmaXJlZCBvbiBuZXh0IG1vdmUgZXZlbnRcbiAgcHJlcGFyZWQ6IEFjdGlvblByb3BzPFQ+ID0ge1xuICAgIG5hbWU6IG51bGwsXG4gICAgYXhpczogbnVsbCxcbiAgICBlZGdlczogbnVsbCxcbiAgfVxuXG4gIHBvaW50ZXJUeXBlOiBzdHJpbmdcblxuICAvKiogQGludGVybmFsIGtlZXAgdHJhY2sgb2YgYWRkZWQgcG9pbnRlcnMgKi9cbiAgcG9pbnRlcnM6IFBvaW50ZXJJbmZvW10gPSBbXVxuXG4gIC8qKiBAaW50ZXJuYWwgcG9pbnRlcmRvd24vbW91c2Vkb3duL3RvdWNoc3RhcnQgZXZlbnQgKi9cbiAgZG93bkV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIHwgbnVsbCA9IG51bGxcblxuICAvKiogQGludGVybmFsICovIGRvd25Qb2ludGVyOiBQb2ludGVyVHlwZSA9IHt9IGFzIFBvaW50ZXJUeXBlXG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbGF0ZXN0UG9pbnRlcjoge1xuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgICBldmVudFRhcmdldDogTm9kZVxuICB9ID0ge1xuICAgIHBvaW50ZXI6IG51bGwsXG4gICAgZXZlbnQ6IG51bGwsXG4gICAgZXZlbnRUYXJnZXQ6IG51bGwsXG4gIH1cblxuICAvKiogQGludGVybmFsICovIHByZXZFdmVudDogSW50ZXJhY3RFdmVudDxULCBFdmVudFBoYXNlPiA9IG51bGxcblxuICBwb2ludGVySXNEb3duID0gZmFsc2VcbiAgcG9pbnRlcldhc01vdmVkID0gZmFsc2VcbiAgLyoqIEBpbnRlcm5hbCAqLyBfaW50ZXJhY3RpbmcgPSBmYWxzZVxuICAvKiogQGludGVybmFsICovIF9lbmRpbmcgPSBmYWxzZVxuICAvKiogQGludGVybmFsICovIF9zdG9wcGVkID0gdHJ1ZVxuICAvKiogQGludGVybmFsICovIF9wcm94eTogSW50ZXJhY3Rpb25Qcm94eTxUPlxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gc2ltdWxhdGlvbiA9IG51bGxcblxuICAvKiogQGludGVybmFsICovIGdldCBwb2ludGVyTW92ZVRvbGVyYW5jZSgpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgZG9Nb3ZlID0gd2Fybk9uY2UoZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0aW9uLCBzaWduYWxBcmc6IGFueSkge1xuICAgIHRoaXMubW92ZShzaWduYWxBcmcpXG4gIH0sICdUaGUgaW50ZXJhY3Rpb24uZG9Nb3ZlKCkgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gaW50ZXJhY3Rpb24ubW92ZSgpJylcblxuICBjb29yZHM6IENvb3Jkc1NldCA9IHtcbiAgICAvLyBTdGFydGluZyBJbnRlcmFjdEV2ZW50IHBvaW50ZXIgY29vcmRpbmF0ZXNcbiAgICBzdGFydDogcG9pbnRlclV0aWxzLm5ld0Nvb3JkcygpLFxuICAgIC8vIFByZXZpb3VzIG5hdGl2ZSBwb2ludGVyIG1vdmUgZXZlbnQgY29vcmRpbmF0ZXNcbiAgICBwcmV2OiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gICAgLy8gY3VycmVudCBuYXRpdmUgcG9pbnRlciBtb3ZlIGV2ZW50IGNvb3JkaW5hdGVzXG4gICAgY3VyOiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gICAgLy8gQ2hhbmdlIGluIGNvb3JkaW5hdGVzIGFuZCB0aW1lIG9mIHRoZSBwb2ludGVyXG4gICAgZGVsdGE6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgICAvLyBwb2ludGVyIHZlbG9jaXR5XG4gICAgdmVsb2NpdHk6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX2lkOiBudW1iZXIgPSBpZENvdW50ZXIrK1xuXG4gIGNvbnN0cnVjdG9yKHsgcG9pbnRlclR5cGUsIHNjb3BlRmlyZSB9OiB7IHBvaW50ZXJUeXBlPzogc3RyaW5nOyBzY29wZUZpcmU6IFNjb3BlWydmaXJlJ10gfSkge1xuICAgIHRoaXMuX3Njb3BlRmlyZSA9IHNjb3BlRmlyZVxuICAgIHRoaXMucG9pbnRlclR5cGUgPSBwb2ludGVyVHlwZVxuXG4gICAgY29uc3QgdGhhdCA9IHRoaXNcblxuICAgIHRoaXMuX3Byb3h5ID0ge30gYXMgSW50ZXJhY3Rpb25Qcm94eTxUPlxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gX1Byb3h5VmFsdWVzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5fcHJveHksIGtleSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoYXRba2V5XVxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBfUHJveHlNZXRob2RzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5fcHJveHksIGtleSwge1xuICAgICAgICB2YWx1ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiB0aGF0W2tleV0oLi4uYXJncyksXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOm5ldycsIHsgaW50ZXJhY3Rpb246IHRoaXMgfSlcbiAgfVxuXG4gIHBvaW50ZXJEb3duKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZXZlbnRUYXJnZXQ6IE5vZGUpIHtcbiAgICBjb25zdCBwb2ludGVySW5kZXggPSB0aGlzLnVwZGF0ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCB0cnVlKVxuICAgIGNvbnN0IHBvaW50ZXJJbmZvID0gdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpkb3duJywge1xuICAgICAgcG9pbnRlcixcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbyxcbiAgICAgIHR5cGU6ICdkb3duJyxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogYGBganNcbiAgICogaW50ZXJhY3QodGFyZ2V0KVxuICAgKiAgIC5kcmFnZ2FibGUoe1xuICAgKiAgICAgLy8gZGlzYWJsZSB0aGUgZGVmYXVsdCBkcmFnIHN0YXJ0IGJ5IGRvd24tPm1vdmVcbiAgICogICAgIG1hbnVhbFN0YXJ0OiB0cnVlXG4gICAqICAgfSlcbiAgICogICAvLyBzdGFydCBkcmFnZ2luZyBhZnRlciB0aGUgdXNlciBob2xkcyB0aGUgcG9pbnRlciBkb3duXG4gICAqICAgLm9uKCdob2xkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAqICAgICB2YXIgaW50ZXJhY3Rpb24gPSBldmVudC5pbnRlcmFjdGlvblxuICAgKlxuICAgKiAgICAgaWYgKCFpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSB7XG4gICAqICAgICAgIGludGVyYWN0aW9uLnN0YXJ0KHsgbmFtZTogJ2RyYWcnIH0sXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmludGVyYWN0YWJsZSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldClcbiAgICogICAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFN0YXJ0IGFuIGFjdGlvbiB3aXRoIHRoZSBnaXZlbiBJbnRlcmFjdGFibGUgYW5kIEVsZW1lbnQgYXMgdGFydGdldHMuIFRoZVxuICAgKiBhY3Rpb24gbXVzdCBiZSBlbmFibGVkIGZvciB0aGUgdGFyZ2V0IEludGVyYWN0YWJsZSBhbmQgYW4gYXBwcm9wcmlhdGVcbiAgICogbnVtYmVyIG9mIHBvaW50ZXJzIG11c3QgYmUgaGVsZCBkb3duIC0gMSBmb3IgZHJhZy9yZXNpemUsIDIgZm9yIGdlc3R1cmUuXG4gICAqXG4gICAqIFVzZSBpdCB3aXRoIGBpbnRlcmFjdGFibGUuPGFjdGlvbj5hYmxlKHsgbWFudWFsU3RhcnQ6IGZhbHNlIH0pYCB0byBhbHdheXNcbiAgICogW3N0YXJ0IGFjdGlvbnMgbWFudWFsbHldKGh0dHBzOi8vZ2l0aHViLmNvbS90YXllL2ludGVyYWN0LmpzL2lzc3Vlcy8xMTQpXG4gICAqXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGJlIHBlcmZvcm1lZCAtIGRyYWcsIHJlc2l6ZSwgZXRjLlxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIEludGVyYWN0YWJsZSB0byB0YXJnZXRcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgRE9NIEVsZW1lbnQgdG8gdGFyZ2V0XG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGludGVyYWN0aW9uIHdhcyBzdWNjZXNzZnVsbHkgc3RhcnRlZFxuICAgKi9cbiAgc3RhcnQ8QSBleHRlbmRzIEFjdGlvbk5hbWU+KGFjdGlvbjogQWN0aW9uUHJvcHM8QT4sIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pbnRlcmFjdGluZygpIHx8XG4gICAgICAhdGhpcy5wb2ludGVySXNEb3duIHx8XG4gICAgICB0aGlzLnBvaW50ZXJzLmxlbmd0aCA8IChhY3Rpb24ubmFtZSA9PT0gJ2dlc3R1cmUnID8gMiA6IDEpIHx8XG4gICAgICAhaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uLm5hbWUgYXMga2V5b2YgQWN0aW9uRGVmYXVsdHNdLmVuYWJsZWRcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvcHlBY3Rpb24odGhpcy5wcmVwYXJlZCwgYWN0aW9uKVxuXG4gICAgdGhpcy5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdGFibGVcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgdGhpcy5yZWN0ID0gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudClcbiAgICB0aGlzLmVkZ2VzID0gdGhpcy5wcmVwYXJlZC5lZGdlc1xuICAgICAgPyBleHRlbmQoe30sIHRoaXMucHJlcGFyZWQuZWRnZXMpXG4gICAgICA6IHsgbGVmdDogdHJ1ZSwgcmlnaHQ6IHRydWUsIHRvcDogdHJ1ZSwgYm90dG9tOiB0cnVlIH1cbiAgICB0aGlzLl9zdG9wcGVkID0gZmFsc2VcbiAgICB0aGlzLl9pbnRlcmFjdGluZyA9XG4gICAgICB0aGlzLl9kb1BoYXNlKHtcbiAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMsXG4gICAgICAgIGV2ZW50OiB0aGlzLmRvd25FdmVudCxcbiAgICAgICAgcGhhc2U6ICdzdGFydCcsXG4gICAgICB9KSAmJiAhdGhpcy5fc3RvcHBlZFxuXG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW5nXG4gIH1cblxuICBwb2ludGVyTW92ZShwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlKSB7XG4gICAgaWYgKCF0aGlzLnNpbXVsYXRpb24gJiYgISh0aGlzLm1vZGlmaWNhdGlvbiAmJiB0aGlzLm1vZGlmaWNhdGlvbi5lbmRSZXN1bHQpKSB7XG4gICAgICB0aGlzLnVwZGF0ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBmYWxzZSlcbiAgICB9XG5cbiAgICBjb25zdCBkdXBsaWNhdGVNb3ZlID1cbiAgICAgIHRoaXMuY29vcmRzLmN1ci5wYWdlLnggPT09IHRoaXMuY29vcmRzLnByZXYucGFnZS54ICYmXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIucGFnZS55ID09PSB0aGlzLmNvb3Jkcy5wcmV2LnBhZ2UueSAmJlxuICAgICAgdGhpcy5jb29yZHMuY3VyLmNsaWVudC54ID09PSB0aGlzLmNvb3Jkcy5wcmV2LmNsaWVudC54ICYmXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIuY2xpZW50LnkgPT09IHRoaXMuY29vcmRzLnByZXYuY2xpZW50LnlcblxuICAgIGxldCBkeDogbnVtYmVyXG4gICAgbGV0IGR5OiBudW1iZXJcblxuICAgIC8vIHJlZ2lzdGVyIG1vdmVtZW50IGdyZWF0ZXIgdGhhbiBwb2ludGVyTW92ZVRvbGVyYW5jZVxuICAgIGlmICh0aGlzLnBvaW50ZXJJc0Rvd24gJiYgIXRoaXMucG9pbnRlcldhc01vdmVkKSB7XG4gICAgICBkeCA9IHRoaXMuY29vcmRzLmN1ci5jbGllbnQueCAtIHRoaXMuY29vcmRzLnN0YXJ0LmNsaWVudC54XG4gICAgICBkeSA9IHRoaXMuY29vcmRzLmN1ci5jbGllbnQueSAtIHRoaXMuY29vcmRzLnN0YXJ0LmNsaWVudC55XG5cbiAgICAgIHRoaXMucG9pbnRlcldhc01vdmVkID0gaHlwb3QoZHgsIGR5KSA+IHRoaXMucG9pbnRlck1vdmVUb2xlcmFuY2VcbiAgICB9XG5cbiAgICBjb25zdCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICAgIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbzogdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdLFxuICAgICAgZXZlbnQsXG4gICAgICB0eXBlOiAnbW92ZScgYXMgY29uc3QsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIGR4LFxuICAgICAgZHksXG4gICAgICBkdXBsaWNhdGU6IGR1cGxpY2F0ZU1vdmUsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9XG5cbiAgICBpZiAoIWR1cGxpY2F0ZU1vdmUpIHtcbiAgICAgIC8vIHNldCBwb2ludGVyIGNvb3JkaW5hdGUsIHRpbWUgY2hhbmdlcyBhbmQgdmVsb2NpdHlcbiAgICAgIHBvaW50ZXJVdGlscy5zZXRDb29yZFZlbG9jaXR5KHRoaXMuY29vcmRzLnZlbG9jaXR5LCB0aGlzLmNvb3Jkcy5kZWx0YSlcbiAgICB9XG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczptb3ZlJywgc2lnbmFsQXJnKVxuXG4gICAgaWYgKCFkdXBsaWNhdGVNb3ZlICYmICF0aGlzLnNpbXVsYXRpb24pIHtcbiAgICAgIC8vIGlmIGludGVyYWN0aW5nLCBmaXJlIGFuICdhY3Rpb24tbW92ZScgc2lnbmFsIGV0Y1xuICAgICAgaWYgKHRoaXMuaW50ZXJhY3RpbmcoKSkge1xuICAgICAgICBzaWduYWxBcmcudHlwZSA9IG51bGxcbiAgICAgICAgdGhpcy5tb3ZlKHNpZ25hbEFyZylcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucG9pbnRlcldhc01vdmVkKSB7XG4gICAgICAgIHBvaW50ZXJVdGlscy5jb3B5Q29vcmRzKHRoaXMuY29vcmRzLnByZXYsIHRoaXMuY29vcmRzLmN1cilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogYGBganNcbiAgICogaW50ZXJhY3QodGFyZ2V0KVxuICAgKiAgIC5kcmFnZ2FibGUodHJ1ZSlcbiAgICogICAub24oJ2RyYWdtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAqICAgICBpZiAoc29tZUNvbmRpdGlvbikge1xuICAgKiAgICAgICAvLyBjaGFuZ2UgdGhlIHNuYXAgc2V0dGluZ3NcbiAgICogICAgICAgZXZlbnQuaW50ZXJhY3RhYmxlLmRyYWdnYWJsZSh7IHNuYXA6IHsgdGFyZ2V0czogW10gfX0pXG4gICAqICAgICAgIC8vIGZpcmUgYW5vdGhlciBtb3ZlIGV2ZW50IHdpdGggcmUtY2FsY3VsYXRlZCBzbmFwXG4gICAqICAgICAgIGV2ZW50LmludGVyYWN0aW9uLm1vdmUoKVxuICAgKiAgICAgfVxuICAgKiAgIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBGb3JjZSBhIG1vdmUgb2YgdGhlIGN1cnJlbnQgYWN0aW9uIGF0IHRoZSBzYW1lIGNvb3JkaW5hdGVzLiBVc2VmdWwgaWZcbiAgICogc25hcC9yZXN0cmljdCBoYXMgYmVlbiBjaGFuZ2VkIGFuZCB5b3Ugd2FudCBhIG1vdmVtZW50IHdpdGggdGhlIG5ld1xuICAgKiBzZXR0aW5ncy5cbiAgICovXG4gIG1vdmUoc2lnbmFsQXJnPzogYW55KSB7XG4gICAgaWYgKCFzaWduYWxBcmcgfHwgIXNpZ25hbEFyZy5ldmVudCkge1xuICAgICAgcG9pbnRlclV0aWxzLnNldFplcm9Db29yZHModGhpcy5jb29yZHMuZGVsdGEpXG4gICAgfVxuXG4gICAgc2lnbmFsQXJnID0gZXh0ZW5kKFxuICAgICAge1xuICAgICAgICBwb2ludGVyOiB0aGlzLl9sYXRlc3RQb2ludGVyLnBvaW50ZXIsXG4gICAgICAgIGV2ZW50OiB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50LFxuICAgICAgICBldmVudFRhcmdldDogdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudFRhcmdldCxcbiAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMsXG4gICAgICB9LFxuICAgICAgc2lnbmFsQXJnIHx8IHt9LFxuICAgIClcblxuICAgIHNpZ25hbEFyZy5waGFzZSA9ICdtb3ZlJ1xuXG4gICAgdGhpcy5fZG9QaGFzZShzaWduYWxBcmcpXG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEVuZCBpbnRlcmFjdCBtb3ZlIGV2ZW50cyBhbmQgc3RvcCBhdXRvLXNjcm9sbCB1bmxlc3Mgc2ltdWxhdGlvbiBpcyBydW5uaW5nXG4gICAqL1xuICBwb2ludGVyVXAocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSwgY3VyRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0KSB7XG4gICAgbGV0IHBvaW50ZXJJbmRleCA9IHRoaXMuZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG5cbiAgICBpZiAocG9pbnRlckluZGV4ID09PSAtMSkge1xuICAgICAgcG9pbnRlckluZGV4ID0gdGhpcy51cGRhdGVQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgZmFsc2UpXG4gICAgfVxuXG4gICAgY29uc3QgdHlwZSA9IC9jYW5jZWwkL2kudGVzdChldmVudC50eXBlKSA/ICdjYW5jZWwnIDogJ3VwJ1xuXG4gICAgdGhpcy5fc2NvcGVGaXJlKGBpbnRlcmFjdGlvbnM6JHt0eXBlfWAgYXMgJ2ludGVyYWN0aW9uczp1cCcgfCAnaW50ZXJhY3Rpb25zOmNhbmNlbCcsIHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbzogdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdLFxuICAgICAgZXZlbnQsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIHR5cGU6IHR5cGUgYXMgYW55LFxuICAgICAgY3VyRXZlbnRUYXJnZXQsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLnNpbXVsYXRpb24pIHtcbiAgICAgIHRoaXMuZW5kKGV2ZW50KVxuICAgIH1cblxuICAgIHRoaXMucmVtb3ZlUG9pbnRlcihwb2ludGVyLCBldmVudClcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZG9jdW1lbnRCbHVyKGV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMuZW5kKGV2ZW50IGFzIGFueSlcbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpibHVyJywge1xuICAgICAgZXZlbnQsXG4gICAgICB0eXBlOiAnYmx1cicsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIGBgYGpzXG4gICAqIGludGVyYWN0KHRhcmdldClcbiAgICogICAuZHJhZ2dhYmxlKHRydWUpXG4gICAqICAgLm9uKCdtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAqICAgICBpZiAoZXZlbnQucGFnZVggPiAxMDAwKSB7XG4gICAqICAgICAgIC8vIGVuZCB0aGUgY3VycmVudCBhY3Rpb25cbiAgICogICAgICAgZXZlbnQuaW50ZXJhY3Rpb24uZW5kKClcbiAgICogICAgICAgLy8gc3RvcCBhbGwgZnVydGhlciBsaXN0ZW5lcnMgZnJvbSBiZWluZyBjYWxsZWRcbiAgICogICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgICogICAgIH1cbiAgICogICB9KVxuICAgKiBgYGBcbiAgICovXG4gIGVuZChldmVudD86IFBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICB0aGlzLl9lbmRpbmcgPSB0cnVlXG4gICAgZXZlbnQgPSBldmVudCB8fCB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50XG4gICAgbGV0IGVuZFBoYXNlUmVzdWx0OiBib29sZWFuXG5cbiAgICBpZiAodGhpcy5pbnRlcmFjdGluZygpKSB7XG4gICAgICBlbmRQaGFzZVJlc3VsdCA9IHRoaXMuX2RvUGhhc2Uoe1xuICAgICAgICBldmVudCxcbiAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMsXG4gICAgICAgIHBoYXNlOiAnZW5kJyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy5fZW5kaW5nID0gZmFsc2VcblxuICAgIGlmIChlbmRQaGFzZVJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zdG9wKClcbiAgICB9XG4gIH1cblxuICBjdXJyZW50QWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGluZyA/IHRoaXMucHJlcGFyZWQubmFtZSA6IG51bGxcbiAgfVxuXG4gIGludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGluZ1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpzdG9wJywgeyBpbnRlcmFjdGlvbjogdGhpcyB9KVxuXG4gICAgdGhpcy5pbnRlcmFjdGFibGUgPSB0aGlzLmVsZW1lbnQgPSBudWxsXG5cbiAgICB0aGlzLl9pbnRlcmFjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5fc3RvcHBlZCA9IHRydWVcbiAgICB0aGlzLnByZXBhcmVkLm5hbWUgPSB0aGlzLnByZXZFdmVudCA9IG51bGxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0UG9pbnRlckluZGV4KHBvaW50ZXI6IGFueSkge1xuICAgIGNvbnN0IHBvaW50ZXJJZCA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQocG9pbnRlcilcblxuICAgIC8vIG1vdXNlIGFuZCBwZW4gaW50ZXJhY3Rpb25zIG1heSBoYXZlIG9ubHkgb25lIHBvaW50ZXJcbiAgICByZXR1cm4gdGhpcy5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCB0aGlzLnBvaW50ZXJUeXBlID09PSAncGVuJ1xuICAgICAgPyB0aGlzLnBvaW50ZXJzLmxlbmd0aCAtIDFcbiAgICAgIDogYXJyLmZpbmRJbmRleCh0aGlzLnBvaW50ZXJzLCAoY3VyUG9pbnRlcikgPT4gY3VyUG9pbnRlci5pZCA9PT0gcG9pbnRlcklkKVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRQb2ludGVySW5mbyhwb2ludGVyOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludGVyc1t0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKV1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdXBkYXRlUG9pbnRlcihwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlLCBkb3duPzogYm9vbGVhbikge1xuICAgIGNvbnN0IGlkID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJJZChwb2ludGVyKVxuICAgIGxldCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICAgIGxldCBwb2ludGVySW5mbyA9IHRoaXMucG9pbnRlcnNbcG9pbnRlckluZGV4XVxuXG4gICAgZG93biA9IGRvd24gPT09IGZhbHNlID8gZmFsc2UgOiBkb3duIHx8IC8oZG93bnxzdGFydCkkL2kudGVzdChldmVudC50eXBlKVxuXG4gICAgaWYgKCFwb2ludGVySW5mbykge1xuICAgICAgcG9pbnRlckluZm8gPSBuZXcgUG9pbnRlckluZm8oaWQsIHBvaW50ZXIsIGV2ZW50LCBudWxsLCBudWxsKVxuXG4gICAgICBwb2ludGVySW5kZXggPSB0aGlzLnBvaW50ZXJzLmxlbmd0aFxuICAgICAgdGhpcy5wb2ludGVycy5wdXNoKHBvaW50ZXJJbmZvKVxuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludGVySW5mby5wb2ludGVyID0gcG9pbnRlclxuICAgIH1cblxuICAgIHBvaW50ZXJVdGlscy5zZXRDb29yZHMoXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIsXG4gICAgICB0aGlzLnBvaW50ZXJzLm1hcCgocCkgPT4gcC5wb2ludGVyKSxcbiAgICAgIHRoaXMuX25vdygpLFxuICAgIClcbiAgICBwb2ludGVyVXRpbHMuc2V0Q29vcmREZWx0YXModGhpcy5jb29yZHMuZGVsdGEsIHRoaXMuY29vcmRzLnByZXYsIHRoaXMuY29vcmRzLmN1cilcblxuICAgIGlmIChkb3duKSB7XG4gICAgICB0aGlzLnBvaW50ZXJJc0Rvd24gPSB0cnVlXG5cbiAgICAgIHBvaW50ZXJJbmZvLmRvd25UaW1lID0gdGhpcy5jb29yZHMuY3VyLnRpbWVTdGFtcFxuICAgICAgcG9pbnRlckluZm8uZG93blRhcmdldCA9IGV2ZW50VGFyZ2V0XG4gICAgICBwb2ludGVyVXRpbHMucG9pbnRlckV4dGVuZCh0aGlzLmRvd25Qb2ludGVyLCBwb2ludGVyKVxuXG4gICAgICBpZiAoIXRoaXMuaW50ZXJhY3RpbmcoKSkge1xuICAgICAgICBwb2ludGVyVXRpbHMuY29weUNvb3Jkcyh0aGlzLmNvb3Jkcy5zdGFydCwgdGhpcy5jb29yZHMuY3VyKVxuICAgICAgICBwb2ludGVyVXRpbHMuY29weUNvb3Jkcyh0aGlzLmNvb3Jkcy5wcmV2LCB0aGlzLmNvb3Jkcy5jdXIpXG5cbiAgICAgICAgdGhpcy5kb3duRXZlbnQgPSBldmVudFxuICAgICAgICB0aGlzLnBvaW50ZXJXYXNNb3ZlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlTGF0ZXN0UG9pbnRlcihwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQpXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlcicsIHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBldmVudCxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgZG93bixcbiAgICAgIHBvaW50ZXJJbmZvLFxuICAgICAgcG9pbnRlckluZGV4LFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfSlcblxuICAgIHJldHVybiBwb2ludGVySW5kZXhcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmVtb3ZlUG9pbnRlcihwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICBjb25zdCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuXG4gICAgaWYgKHBvaW50ZXJJbmRleCA9PT0gLTEpIHJldHVyblxuXG4gICAgY29uc3QgcG9pbnRlckluZm8gPSB0aGlzLnBvaW50ZXJzW3BvaW50ZXJJbmRleF1cblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOnJlbW92ZS1wb2ludGVyJywge1xuICAgICAgcG9pbnRlcixcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnRUYXJnZXQ6IG51bGwsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbyxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG5cbiAgICB0aGlzLnBvaW50ZXJzLnNwbGljZShwb2ludGVySW5kZXgsIDEpXG4gICAgdGhpcy5wb2ludGVySXNEb3duID0gZmFsc2VcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3VwZGF0ZUxhdGVzdFBvaW50ZXIocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSkge1xuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIucG9pbnRlciA9IHBvaW50ZXJcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXRcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5wb2ludGVyID0gbnVsbFxuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnQgPSBudWxsXG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudFRhcmdldCA9IG51bGxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NyZWF0ZVByZXBhcmVkRXZlbnQ8UCBleHRlbmRzIEV2ZW50UGhhc2U+KFxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgIHBoYXNlOiBQLFxuICAgIHByZUVuZD86IGJvb2xlYW4sXG4gICAgdHlwZT86IHN0cmluZyxcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBJbnRlcmFjdEV2ZW50PFQsIFA+KHRoaXMsIGV2ZW50LCB0aGlzLnByZXBhcmVkLm5hbWUsIHBoYXNlLCB0aGlzLmVsZW1lbnQsIHByZUVuZCwgdHlwZSlcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2ZpcmVFdmVudDxQIGV4dGVuZHMgRXZlbnRQaGFzZT4oaUV2ZW50OiBJbnRlcmFjdEV2ZW50PFQsIFA+KSB7XG4gICAgdGhpcy5pbnRlcmFjdGFibGU/LmZpcmUoaUV2ZW50KVxuXG4gICAgaWYgKCF0aGlzLnByZXZFdmVudCB8fCBpRXZlbnQudGltZVN0YW1wID49IHRoaXMucHJldkV2ZW50LnRpbWVTdGFtcCkge1xuICAgICAgdGhpcy5wcmV2RXZlbnQgPSBpRXZlbnRcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9kb1BoYXNlPFAgZXh0ZW5kcyBFdmVudFBoYXNlPihcbiAgICBzaWduYWxBcmc6IE9taXQ8RG9QaGFzZUFyZzxULCBQPiwgJ2lFdmVudCc+ICYgeyBpRXZlbnQ/OiBJbnRlcmFjdEV2ZW50PFQsIFA+IH0sXG4gICkge1xuICAgIGNvbnN0IHsgZXZlbnQsIHBoYXNlLCBwcmVFbmQsIHR5cGUgfSA9IHNpZ25hbEFyZ1xuICAgIGNvbnN0IHsgcmVjdCB9ID0gdGhpc1xuXG4gICAgaWYgKHJlY3QgJiYgcGhhc2UgPT09ICdtb3ZlJykge1xuICAgICAgLy8gdXBkYXRlIHRoZSByZWN0IGNoYW5nZXMgZHVlIHRvIHBvaW50ZXIgbW92ZVxuICAgICAgcmVjdFV0aWxzLmFkZEVkZ2VzKHRoaXMuZWRnZXMsIHJlY3QsIHRoaXMuY29vcmRzLmRlbHRhW3RoaXMuaW50ZXJhY3RhYmxlLm9wdGlvbnMuZGVsdGFTb3VyY2VdKVxuXG4gICAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICAgICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgfVxuXG4gICAgY29uc3QgYmVmb3JlUmVzdWx0ID0gdGhpcy5fc2NvcGVGaXJlKGBpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi0ke3BoYXNlfWAgYXMgYW55LCBzaWduYWxBcmcpXG5cbiAgICBpZiAoYmVmb3JlUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgaUV2ZW50ID0gKHNpZ25hbEFyZy5pRXZlbnQgPSB0aGlzLl9jcmVhdGVQcmVwYXJlZEV2ZW50KGV2ZW50LCBwaGFzZSwgcHJlRW5kLCB0eXBlKSlcblxuICAgIHRoaXMuX3Njb3BlRmlyZShgaW50ZXJhY3Rpb25zOmFjdGlvbi0ke3BoYXNlfWAgYXMgYW55LCBzaWduYWxBcmcpXG5cbiAgICBpZiAocGhhc2UgPT09ICdzdGFydCcpIHtcbiAgICAgIHRoaXMucHJldkV2ZW50ID0gaUV2ZW50XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZUV2ZW50KGlFdmVudClcblxuICAgIHRoaXMuX3Njb3BlRmlyZShgaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi0ke3BoYXNlfWAgYXMgYW55LCBzaWduYWxBcmcpXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbm93KCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJhY3Rpb25cbmV4cG9ydCB7IFBvaW50ZXJJbmZvIH1cbiIsICJpbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHsgX1Byb3h5TWV0aG9kcyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFBvaW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIG9mZnNldEJ5PzogdHlwZW9mIG9mZnNldEJ5XG4gICAgb2Zmc2V0OiB7XG4gICAgICB0b3RhbDogUG9pbnRcbiAgICAgIHBlbmRpbmc6IFBvaW50XG4gICAgfVxuICB9XG5cbiAgZW51bSBfUHJveHlNZXRob2RzIHtcbiAgICBvZmZzZXRCeSA9ICcnLFxuICB9XG59XG5cbjsoX1Byb3h5TWV0aG9kcyBhcyBhbnkpLm9mZnNldEJ5ID0gJydcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvdGFsKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICBpZiAoIWludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24pIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGFkZFRvQ29vcmRzKGludGVyYWN0aW9uLmNvb3Jkcy5jdXIsIGludGVyYWN0aW9uLm9mZnNldC50b3RhbClcblxuICBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy54ID0gMFxuICBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy55ID0gMFxufVxuXG5mdW5jdGlvbiBiZWZvcmVBY3Rpb24oeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGFwcGx5UGVuZGluZyhpbnRlcmFjdGlvbilcbn1cblxuZnVuY3Rpb24gYmVmb3JlRW5kKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSk6IGJvb2xlYW4gfCB2b2lkIHtcbiAgY29uc3QgaGFkUGVuZGluZyA9IGFwcGx5UGVuZGluZyhpbnRlcmFjdGlvbilcblxuICBpZiAoIWhhZFBlbmRpbmcpIHJldHVyblxuXG4gIGludGVyYWN0aW9uLm1vdmUoeyBvZmZzZXQ6IHRydWUgfSlcbiAgaW50ZXJhY3Rpb24uZW5kKClcblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gZW5kKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBpbnRlcmFjdGlvbi5vZmZzZXQudG90YWwueCA9IDBcbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnRvdGFsLnkgPSAwXG4gIGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnggPSAwXG4gIGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnkgPSAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVBlbmRpbmcoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gIGlmICghaGFzUGVuZGluZyhpbnRlcmFjdGlvbikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgcGVuZGluZyB9ID0gaW50ZXJhY3Rpb24ub2Zmc2V0XG5cbiAgYWRkVG9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmN1ciwgcGVuZGluZylcbiAgYWRkVG9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmRlbHRhLCBwZW5kaW5nKVxuICByZWN0VXRpbHMuYWRkRWRnZXMoaW50ZXJhY3Rpb24uZWRnZXMsIGludGVyYWN0aW9uLnJlY3QsIHBlbmRpbmcpXG5cbiAgcGVuZGluZy54ID0gMFxuICBwZW5kaW5nLnkgPSAwXG5cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gb2Zmc2V0QnkodGhpczogSW50ZXJhY3Rpb24sIHsgeCwgeSB9OiBQb2ludCkge1xuICB0aGlzLm9mZnNldC5wZW5kaW5nLnggKz0geFxuICB0aGlzLm9mZnNldC5wZW5kaW5nLnkgKz0geVxuXG4gIHRoaXMub2Zmc2V0LnRvdGFsLnggKz0geFxuICB0aGlzLm9mZnNldC50b3RhbC55ICs9IHlcbn1cblxuZnVuY3Rpb24gYWRkVG9Db29yZHMoeyBwYWdlLCBjbGllbnQgfSwgeyB4LCB5IH06IFBvaW50KSB7XG4gIHBhZ2UueCArPSB4XG4gIHBhZ2UueSArPSB5XG4gIGNsaWVudC54ICs9IHhcbiAgY2xpZW50LnkgKz0geVxufVxuXG5mdW5jdGlvbiBoYXNQZW5kaW5nKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICByZXR1cm4gISEoaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueCB8fCBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy55KVxufVxuXG5jb25zdCBvZmZzZXQ6IFBsdWdpbiA9IHtcbiAgaWQ6ICdvZmZzZXQnLFxuICBiZWZvcmU6IFsnbW9kaWZpZXJzJywgJ3BvaW50ZXItZXZlbnRzJywgJ2FjdGlvbnMnLCAnaW5lcnRpYSddLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgc2NvcGUuSW50ZXJhY3Rpb24ucHJvdG90eXBlLm9mZnNldEJ5ID0gb2Zmc2V0QnlcbiAgfSxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXQgPSB7XG4gICAgICAgIHRvdGFsOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgcGVuZGluZzogeyB4OiAwLCB5OiAwIH0sXG4gICAgICB9XG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOnVwZGF0ZS1wb2ludGVyJzogKHsgaW50ZXJhY3Rpb24gfSkgPT4gYWRkVG90YWwoaW50ZXJhY3Rpb24pLFxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1zdGFydCc6IGJlZm9yZUFjdGlvbixcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IGJlZm9yZUFjdGlvbixcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tZW5kJzogYmVmb3JlRW5kLFxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IGVuZCxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgb2Zmc2V0XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9QaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBQb2ludCwgUG9pbnRlckV2ZW50VHlwZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZSdcbmltcG9ydCAnQGludGVyYWN0anMvb2Zmc2V0L3BsdWdpbidcbmltcG9ydCAqIGFzIG1vZGlmaWVycyBmcm9tICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZSdcbmltcG9ydCB7IE1vZGlmaWNhdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9Nb2RpZmljYXRpb24nXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnIH0gZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL3R5cGVzJ1xuaW1wb3J0IG9mZnNldCBmcm9tICdAaW50ZXJhY3Rqcy9vZmZzZXQvcGx1Z2luJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGh5cG90IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2h5cG90J1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgY29weUNvb3JkcyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcbmltcG9ydCByYWYgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmFmJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50JyB7XG4gIGludGVyZmFjZSBQaGFzZU1hcCB7XG4gICAgcmVzdW1lPzogdHJ1ZVxuICAgIGluZXJ0aWFzdGFydD86IHRydWVcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGluZXJ0aWE/OiBJbmVydGlhU3RhdGVcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgaW5lcnRpYT86IHtcbiAgICAgIGVuYWJsZWQ/OiBib29sZWFuXG4gICAgICByZXNpc3RhbmNlPzogbnVtYmVyIC8vIHRoZSBsYW1iZGEgaW4gZXhwb25lbnRpYWwgZGVjYXlcbiAgICAgIG1pblNwZWVkPzogbnVtYmVyIC8vIHRhcmdldCBzcGVlZCBtdXN0IGJlIGFib3ZlIHRoaXMgZm9yIGluZXJ0aWEgdG8gc3RhcnRcbiAgICAgIGVuZFNwZWVkPzogbnVtYmVyIC8vIHRoZSBzcGVlZCBhdCB3aGljaCBpbmVydGlhIGlzIHNsb3cgZW5vdWdoIHRvIHN0b3BcbiAgICAgIGFsbG93UmVzdW1lPzogdHJ1ZSAvLyBhbGxvdyByZXN1bWluZyBhbiBhY3Rpb24gaW4gaW5lcnRpYSBwaGFzZVxuICAgICAgc21vb3RoRW5kRHVyYXRpb24/OiBudW1iZXIgLy8gYW5pbWF0ZSB0byBzbmFwL3Jlc3RyaWN0IGVuZE9ubHkgaWYgdGhlcmUncyBubyBpbmVydGlhXG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24taW5lcnRpYXN0YXJ0JzogT21pdDxEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdpbmVydGlhc3RhcnQnPiwgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24taW5lcnRpYXN0YXJ0JzogRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAnaW5lcnRpYXN0YXJ0Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1pbmVydGlhc3RhcnQnOiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdpbmVydGlhc3RhcnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1yZXN1bWUnOiBPbWl0PERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ3Jlc3VtZSc+LCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1yZXN1bWUnOiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdyZXN1bWUnPlxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXJlc3VtZSc6IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ3Jlc3VtZSc+XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBzY29wZS51c2VQbHVnaW4ob2Zmc2V0KVxuICBzY29wZS51c2VQbHVnaW4obW9kaWZpZXJzLmRlZmF1bHQpXG4gIHNjb3BlLmFjdGlvbnMucGhhc2VzLmluZXJ0aWFzdGFydCA9IHRydWVcbiAgc2NvcGUuYWN0aW9ucy5waGFzZXMucmVzdW1lID0gdHJ1ZVxuXG4gIGRlZmF1bHRzLnBlckFjdGlvbi5pbmVydGlhID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHJlc2lzdGFuY2U6IDEwLCAvLyB0aGUgbGFtYmRhIGluIGV4cG9uZW50aWFsIGRlY2F5XG4gICAgbWluU3BlZWQ6IDEwMCwgLy8gdGFyZ2V0IHNwZWVkIG11c3QgYmUgYWJvdmUgdGhpcyBmb3IgaW5lcnRpYSB0byBzdGFydFxuICAgIGVuZFNwZWVkOiAxMCwgLy8gdGhlIHNwZWVkIGF0IHdoaWNoIGluZXJ0aWEgaXMgc2xvdyBlbm91Z2ggdG8gc3RvcFxuICAgIGFsbG93UmVzdW1lOiB0cnVlLCAvLyBhbGxvdyByZXN1bWluZyBhbiBhY3Rpb24gaW4gaW5lcnRpYSBwaGFzZVxuICAgIHNtb290aEVuZER1cmF0aW9uOiAzMDAsIC8vIGFuaW1hdGUgdG8gc25hcC9yZXN0cmljdCBlbmRPbmx5IGlmIHRoZXJlJ3Mgbm8gaW5lcnRpYVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmVydGlhU3RhdGUge1xuICBhY3RpdmUgPSBmYWxzZVxuICBpc01vZGlmaWVkID0gZmFsc2VcbiAgc21vb3RoRW5kID0gZmFsc2VcbiAgYWxsb3dSZXN1bWUgPSBmYWxzZVxuXG4gIG1vZGlmaWNhdGlvbiE6IE1vZGlmaWNhdGlvblxuICBtb2RpZmllckNvdW50ID0gMFxuICBtb2RpZmllckFyZyE6IE1vZGlmaWVyQXJnXG5cbiAgc3RhcnRDb29yZHMhOiBQb2ludFxuICB0MCA9IDBcbiAgdjAgPSAwXG5cbiAgdGUgPSAwXG4gIHRhcmdldE9mZnNldCE6IFBvaW50XG4gIG1vZGlmaWVkT2Zmc2V0ITogUG9pbnRcbiAgY3VycmVudE9mZnNldCE6IFBvaW50XG5cbiAgbGFtYmRhX3YwPyA9IDAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbiAgb25lX3ZlX3YwPyA9IDAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbiAgdGltZW91dCE6IG51bWJlclxuICByZWFkb25seSBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25cblxuICBjb25zdHJ1Y3RvcihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgICB0aGlzLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25cbiAgfVxuXG4gIHN0YXJ0KGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKGludGVyYWN0aW9uKVxuXG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHsgY2xpZW50OiB2ZWxvY2l0eUNsaWVudCB9ID0gaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5XG4gICAgY29uc3QgcG9pbnRlclNwZWVkID0gaHlwb3QodmVsb2NpdHlDbGllbnQueCwgdmVsb2NpdHlDbGllbnQueSlcbiAgICBjb25zdCBtb2RpZmljYXRpb24gPSB0aGlzLm1vZGlmaWNhdGlvbiB8fCAodGhpcy5tb2RpZmljYXRpb24gPSBuZXcgTW9kaWZpY2F0aW9uKGludGVyYWN0aW9uKSlcblxuICAgIG1vZGlmaWNhdGlvbi5jb3B5RnJvbShpbnRlcmFjdGlvbi5tb2RpZmljYXRpb24pXG5cbiAgICB0aGlzLnQwID0gaW50ZXJhY3Rpb24uX25vdygpXG4gICAgdGhpcy5hbGxvd1Jlc3VtZSA9IG9wdGlvbnMuYWxsb3dSZXN1bWVcbiAgICB0aGlzLnYwID0gcG9pbnRlclNwZWVkXG4gICAgdGhpcy5jdXJyZW50T2Zmc2V0ID0geyB4OiAwLCB5OiAwIH1cbiAgICB0aGlzLnN0YXJ0Q29vcmRzID0gaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlXG5cbiAgICB0aGlzLm1vZGlmaWVyQXJnID0gbW9kaWZpY2F0aW9uLmZpbGxBcmcoe1xuICAgICAgcGFnZUNvb3JkczogdGhpcy5zdGFydENvb3JkcyxcbiAgICAgIHByZUVuZDogdHJ1ZSxcbiAgICAgIHBoYXNlOiAnaW5lcnRpYXN0YXJ0JyxcbiAgICB9KVxuXG4gICAgY29uc3QgdGhyb3duID1cbiAgICAgIHRoaXMudDAgLSBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnRpbWVTdGFtcCA8IDUwICYmXG4gICAgICBwb2ludGVyU3BlZWQgPiBvcHRpb25zLm1pblNwZWVkICYmXG4gICAgICBwb2ludGVyU3BlZWQgPiBvcHRpb25zLmVuZFNwZWVkXG5cbiAgICBpZiAodGhyb3duKSB7XG4gICAgICB0aGlzLnN0YXJ0SW5lcnRpYSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGlmaWNhdGlvbi5yZXN1bHQgPSBtb2RpZmljYXRpb24uc2V0QWxsKHRoaXMubW9kaWZpZXJBcmcpXG5cbiAgICAgIGlmICghbW9kaWZpY2F0aW9uLnJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0U21vb3RoRW5kKClcbiAgICB9XG5cbiAgICAvLyBmb3JjZSBtb2RpZmljYXRpb24gY2hhbmdlXG4gICAgaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3VsdC5yZWN0ID0gbnVsbFxuXG4gICAgLy8gYnJpbmcgaW5lcnRpYXN0YXJ0IGV2ZW50IHRvIHRoZSB0YXJnZXQgY29vcmRzXG4gICAgaW50ZXJhY3Rpb24ub2Zmc2V0QnkodGhpcy50YXJnZXRPZmZzZXQpXG4gICAgaW50ZXJhY3Rpb24uX2RvUGhhc2Uoe1xuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBldmVudCxcbiAgICAgIHBoYXNlOiAnaW5lcnRpYXN0YXJ0JyxcbiAgICB9KVxuICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KHsgeDogLXRoaXMudGFyZ2V0T2Zmc2V0LngsIHk6IC10aGlzLnRhcmdldE9mZnNldC55IH0pXG4gICAgLy8gZm9yY2UgbW9kaWZpY2F0aW9uIGNoYW5nZVxuICAgIGludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN1bHQucmVjdCA9IG51bGxcblxuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZVxuICAgIGludGVyYWN0aW9uLnNpbXVsYXRpb24gPSB0aGlzXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc3RhcnRJbmVydGlhKCkge1xuICAgIGNvbnN0IHN0YXJ0VmVsb2NpdHkgPSB0aGlzLmludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5jbGllbnRcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyh0aGlzLmludGVyYWN0aW9uKVxuICAgIGNvbnN0IGxhbWJkYSA9IG9wdGlvbnMucmVzaXN0YW5jZVxuICAgIGNvbnN0IGluZXJ0aWFEdXIgPSAtTWF0aC5sb2cob3B0aW9ucy5lbmRTcGVlZCAvIHRoaXMudjApIC8gbGFtYmRhXG5cbiAgICB0aGlzLnRhcmdldE9mZnNldCA9IHtcbiAgICAgIHg6IChzdGFydFZlbG9jaXR5LnggLSBpbmVydGlhRHVyKSAvIGxhbWJkYSxcbiAgICAgIHk6IChzdGFydFZlbG9jaXR5LnkgLSBpbmVydGlhRHVyKSAvIGxhbWJkYSxcbiAgICB9XG5cbiAgICB0aGlzLnRlID0gaW5lcnRpYUR1clxuICAgIHRoaXMubGFtYmRhX3YwID0gbGFtYmRhIC8gdGhpcy52MFxuICAgIHRoaXMub25lX3ZlX3YwID0gMSAtIG9wdGlvbnMuZW5kU3BlZWQgLyB0aGlzLnYwXG5cbiAgICBjb25zdCB7IG1vZGlmaWNhdGlvbiwgbW9kaWZpZXJBcmcgfSA9IHRoaXNcblxuICAgIG1vZGlmaWVyQXJnLnBhZ2VDb29yZHMgPSB7XG4gICAgICB4OiB0aGlzLnN0YXJ0Q29vcmRzLnggKyB0aGlzLnRhcmdldE9mZnNldC54LFxuICAgICAgeTogdGhpcy5zdGFydENvb3Jkcy55ICsgdGhpcy50YXJnZXRPZmZzZXQueSxcbiAgICB9XG5cbiAgICBtb2RpZmljYXRpb24ucmVzdWx0ID0gbW9kaWZpY2F0aW9uLnNldEFsbChtb2RpZmllckFyZylcblxuICAgIGlmIChtb2RpZmljYXRpb24ucmVzdWx0LmNoYW5nZWQpIHtcbiAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWVcbiAgICAgIHRoaXMubW9kaWZpZWRPZmZzZXQgPSB7XG4gICAgICAgIHg6IHRoaXMudGFyZ2V0T2Zmc2V0LnggKyBtb2RpZmljYXRpb24ucmVzdWx0LmRlbHRhLngsXG4gICAgICAgIHk6IHRoaXMudGFyZ2V0T2Zmc2V0LnkgKyBtb2RpZmljYXRpb24ucmVzdWx0LmRlbHRhLnksXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vbk5leHRGcmFtZSgoKSA9PiB0aGlzLmluZXJ0aWFUaWNrKCkpXG4gIH1cblxuICBzdGFydFNtb290aEVuZCgpIHtcbiAgICB0aGlzLnNtb290aEVuZCA9IHRydWVcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlXG4gICAgdGhpcy50YXJnZXRPZmZzZXQgPSB7XG4gICAgICB4OiB0aGlzLm1vZGlmaWNhdGlvbi5yZXN1bHQuZGVsdGEueCxcbiAgICAgIHk6IHRoaXMubW9kaWZpY2F0aW9uLnJlc3VsdC5kZWx0YS55LFxuICAgIH1cblxuICAgIHRoaXMub25OZXh0RnJhbWUoKCkgPT4gdGhpcy5zbW9vdGhFbmRUaWNrKCkpXG4gIH1cblxuICBvbk5leHRGcmFtZSh0aWNrRm46ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLnRpbWVvdXQgPSByYWYucmVxdWVzdCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgdGlja0ZuKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaW5lcnRpYVRpY2soKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKGludGVyYWN0aW9uKVxuICAgIGNvbnN0IGxhbWJkYSA9IG9wdGlvbnMucmVzaXN0YW5jZVxuICAgIGNvbnN0IHQgPSAoaW50ZXJhY3Rpb24uX25vdygpIC0gdGhpcy50MCkgLyAxMDAwXG5cbiAgICBpZiAodCA8IHRoaXMudGUpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gMSAtIChNYXRoLmV4cCgtbGFtYmRhICogdCkgLSB0aGlzLmxhbWJkYV92MCkgLyB0aGlzLm9uZV92ZV92MFxuICAgICAgbGV0IG5ld09mZnNldDogUG9pbnRcblxuICAgICAgaWYgKHRoaXMuaXNNb2RpZmllZCkge1xuICAgICAgICBuZXdPZmZzZXQgPSBnZXRRdWFkcmF0aWNDdXJ2ZVBvaW50KFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMCxcbiAgICAgICAgICB0aGlzLnRhcmdldE9mZnNldC54LFxuICAgICAgICAgIHRoaXMudGFyZ2V0T2Zmc2V0LnksXG4gICAgICAgICAgdGhpcy5tb2RpZmllZE9mZnNldC54LFxuICAgICAgICAgIHRoaXMubW9kaWZpZWRPZmZzZXQueSxcbiAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3T2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IHRoaXMudGFyZ2V0T2Zmc2V0LnggKiBwcm9ncmVzcyxcbiAgICAgICAgICB5OiB0aGlzLnRhcmdldE9mZnNldC55ICogcHJvZ3Jlc3MsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZGVsdGEgPSB7IHg6IG5ld09mZnNldC54IC0gdGhpcy5jdXJyZW50T2Zmc2V0LngsIHk6IG5ld09mZnNldC55IC0gdGhpcy5jdXJyZW50T2Zmc2V0LnkgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueCArPSBkZWx0YS54XG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueSArPSBkZWx0YS55XG5cbiAgICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KGRlbHRhKVxuICAgICAgaW50ZXJhY3Rpb24ubW92ZSgpXG5cbiAgICAgIHRoaXMub25OZXh0RnJhbWUoKCkgPT4gdGhpcy5pbmVydGlhVGljaygpKVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh7XG4gICAgICAgIHg6IHRoaXMubW9kaWZpZWRPZmZzZXQueCAtIHRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgICB5OiB0aGlzLm1vZGlmaWVkT2Zmc2V0LnkgLSB0aGlzLmN1cnJlbnRPZmZzZXQueSxcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuZW5kKClcbiAgICB9XG4gIH1cblxuICBzbW9vdGhFbmRUaWNrKCkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCB0ID0gaW50ZXJhY3Rpb24uX25vdygpIC0gdGhpcy50MFxuICAgIGNvbnN0IHsgc21vb3RoRW5kRHVyYXRpb246IGR1cmF0aW9uIH0gPSBnZXRPcHRpb25zKGludGVyYWN0aW9uKVxuXG4gICAgaWYgKHQgPCBkdXJhdGlvbikge1xuICAgICAgY29uc3QgbmV3T2Zmc2V0ID0ge1xuICAgICAgICB4OiBlYXNlT3V0UXVhZCh0LCAwLCB0aGlzLnRhcmdldE9mZnNldC54LCBkdXJhdGlvbiksXG4gICAgICAgIHk6IGVhc2VPdXRRdWFkKHQsIDAsIHRoaXMudGFyZ2V0T2Zmc2V0LnksIGR1cmF0aW9uKSxcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICB4OiBuZXdPZmZzZXQueCAtIHRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgICB5OiBuZXdPZmZzZXQueSAtIHRoaXMuY3VycmVudE9mZnNldC55LFxuICAgICAgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueCArPSBkZWx0YS54XG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueSArPSBkZWx0YS55XG5cbiAgICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KGRlbHRhKVxuICAgICAgaW50ZXJhY3Rpb24ubW92ZSh7IHNraXBNb2RpZmllcnM6IHRoaXMubW9kaWZpZXJDb3VudCB9KVxuXG4gICAgICB0aGlzLm9uTmV4dEZyYW1lKCgpID0+IHRoaXMuc21vb3RoRW5kVGljaygpKVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh7XG4gICAgICAgIHg6IHRoaXMudGFyZ2V0T2Zmc2V0LnggLSB0aGlzLmN1cnJlbnRPZmZzZXQueCxcbiAgICAgICAgeTogdGhpcy50YXJnZXRPZmZzZXQueSAtIHRoaXMuY3VycmVudE9mZnNldC55LFxuICAgICAgfSlcblxuICAgICAgdGhpcy5lbmQoKVxuICAgIH1cbiAgfVxuXG4gIHJlc3VtZSh7IHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6ZG93biddKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuXG4gICAgLy8gdW5kbyBpbmVydGlhIGNoYW5nZXMgdG8gaW50ZXJhY3Rpb24gY29vcmRzXG4gICAgaW50ZXJhY3Rpb24ub2Zmc2V0Qnkoe1xuICAgICAgeDogLXRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgeTogLXRoaXMuY3VycmVudE9mZnNldC55LFxuICAgIH0pXG5cbiAgICAvLyB1cGRhdGUgcG9pbnRlciBhdCBwb2ludGVyIGRvd24gcG9zaXRpb25cbiAgICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgdHJ1ZSlcblxuICAgIC8vIGZpcmUgcmVzdW1lIHNpZ25hbHMgYW5kIGV2ZW50XG4gICAgaW50ZXJhY3Rpb24uX2RvUGhhc2Uoe1xuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBldmVudCxcbiAgICAgIHBoYXNlOiAncmVzdW1lJyxcbiAgICB9KVxuICAgIGNvcHlDb29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLnByZXYsIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIpXG5cbiAgICB0aGlzLnN0b3AoKVxuICB9XG5cbiAgZW5kKCkge1xuICAgIHRoaXMuaW50ZXJhY3Rpb24ubW92ZSgpXG4gICAgdGhpcy5pbnRlcmFjdGlvbi5lbmQoKVxuICAgIHRoaXMuc3RvcCgpXG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuYWN0aXZlID0gdGhpcy5zbW9vdGhFbmQgPSBmYWxzZVxuICAgIHRoaXMuaW50ZXJhY3Rpb24uc2ltdWxhdGlvbiA9IG51bGxcbiAgICByYWYuY2FuY2VsKHRoaXMudGltZW91dClcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydCh7IGludGVyYWN0aW9uLCBldmVudCB9OiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdlbmQnPikge1xuICBpZiAoIWludGVyYWN0aW9uLl9pbnRlcmFjdGluZyB8fCBpbnRlcmFjdGlvbi5zaW11bGF0aW9uKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0ZWQgPSBpbnRlcmFjdGlvbi5pbmVydGlhLnN0YXJ0KGV2ZW50KVxuXG4gIC8vIHByZXZlbnQgYWN0aW9uIGVuZCBpZiBpbmVydGlhIG9yIHNtb290aEVuZFxuICByZXR1cm4gc3RhcnRlZCA/IGZhbHNlIDogbnVsbFxufVxuXG4vLyBDaGVjayBpZiB0aGUgZG93biBldmVudCBoaXRzIHRoZSBjdXJyZW50IGluZXJ0aWEgdGFyZ2V0XG4vLyBjb250cm9sIHNob3VsZCBiZSByZXR1cm4gdG8gdGhlIHVzZXJcbmZ1bmN0aW9uIHJlc3VtZShhcmc6IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczpkb3duJ10pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgZXZlbnRUYXJnZXQgfSA9IGFyZ1xuICBjb25zdCBzdGF0ZSA9IGludGVyYWN0aW9uLmluZXJ0aWFcblxuICBpZiAoIXN0YXRlLmFjdGl2ZSkgcmV0dXJuXG5cbiAgbGV0IGVsZW1lbnQgPSBldmVudFRhcmdldCBhcyBOb2RlXG5cbiAgLy8gY2xpbWIgdXAgdGhlIERPTSB0cmVlIGZyb20gdGhlIGV2ZW50IHRhcmdldFxuICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIC8vIGlmIGludGVyYWN0aW9uIGVsZW1lbnQgaXMgdGhlIGN1cnJlbnQgaW5lcnRpYSB0YXJnZXQgZWxlbWVudFxuICAgIGlmIChlbGVtZW50ID09PSBpbnRlcmFjdGlvbi5lbGVtZW50KSB7XG4gICAgICBzdGF0ZS5yZXN1bWUoYXJnKVxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBlbGVtZW50ID0gZG9tLnBhcmVudE5vZGUoZWxlbWVudClcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBjb25zdCBzdGF0ZSA9IGludGVyYWN0aW9uLmluZXJ0aWFcblxuICBpZiAoc3RhdGUuYWN0aXZlKSB7XG4gICAgc3RhdGUuc3RvcCgpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0T3B0aW9ucyh7IGludGVyYWN0YWJsZSwgcHJlcGFyZWQgfTogSW50ZXJhY3Rpb24pIHtcbiAgcmV0dXJuIGludGVyYWN0YWJsZSAmJiBpbnRlcmFjdGFibGUub3B0aW9ucyAmJiBwcmVwYXJlZC5uYW1lICYmIGludGVyYWN0YWJsZS5vcHRpb25zW3ByZXBhcmVkLm5hbWVdLmluZXJ0aWFcbn1cblxuY29uc3QgaW5lcnRpYTogUGx1Z2luID0ge1xuICBpZDogJ2luZXJ0aWEnLFxuICBiZWZvcmU6IFsnbW9kaWZpZXJzJywgJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5pbmVydGlhID0gbmV3IEluZXJ0aWFTdGF0ZShpbnRlcmFjdGlvbilcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWVuZCc6IHN0YXJ0LFxuICAgICdpbnRlcmFjdGlvbnM6ZG93bic6IHJlc3VtZSxcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiBzdG9wLFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXJlc3VtZSc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uIH0gPSBhcmcuaW50ZXJhY3Rpb25cblxuICAgICAgbW9kaWZpY2F0aW9uLnN0b3AoYXJnKVxuICAgICAgbW9kaWZpY2F0aW9uLnN0YXJ0KGFyZywgYXJnLmludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZSlcbiAgICAgIG1vZGlmaWNhdGlvbi5hcHBseVRvSW50ZXJhY3Rpb24oYXJnKVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24taW5lcnRpYXN0YXJ0JzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5zZXRBbmRBcHBseShhcmcpLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXJlc3VtZSc6IG1vZGlmaWVycy5hZGRFdmVudE1vZGlmaWVycyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1pbmVydGlhc3RhcnQnOiBtb2RpZmllcnMuYWRkRXZlbnRNb2RpZmllcnMsXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24taW5lcnRpYXN0YXJ0JzogKGFyZykgPT5cbiAgICAgIGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdG9yZUludGVyYWN0aW9uQ29vcmRzKGFyZyksXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tcmVzdW1lJzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcbiAgfSxcbn1cblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYzNDUyOC8yMjgwODg4XG5mdW5jdGlvbiBfZ2V0UUJlemllclZhbHVlKHQ6IG51bWJlciwgcDE6IG51bWJlciwgcDI6IG51bWJlciwgcDM6IG51bWJlcikge1xuICBjb25zdCBpVCA9IDEgLSB0XG4gIHJldHVybiBpVCAqIGlUICogcDEgKyAyICogaVQgKiB0ICogcDIgKyB0ICogdCAqIHAzXG59XG5cbmZ1bmN0aW9uIGdldFF1YWRyYXRpY0N1cnZlUG9pbnQoXG4gIHN0YXJ0WDogbnVtYmVyLFxuICBzdGFydFk6IG51bWJlcixcbiAgY3BYOiBudW1iZXIsXG4gIGNwWTogbnVtYmVyLFxuICBlbmRYOiBudW1iZXIsXG4gIGVuZFk6IG51bWJlcixcbiAgcG9zaXRpb246IG51bWJlcixcbikge1xuICByZXR1cm4ge1xuICAgIHg6IF9nZXRRQmV6aWVyVmFsdWUocG9zaXRpb24sIHN0YXJ0WCwgY3BYLCBlbmRYKSxcbiAgICB5OiBfZ2V0UUJlemllclZhbHVlKHBvc2l0aW9uLCBzdGFydFksIGNwWSwgZW5kWSksXG4gIH1cbn1cblxuLy8gaHR0cDovL2dpem1hLmNvbS9lYXNpbmcvXG5mdW5jdGlvbiBlYXNlT3V0UXVhZCh0OiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpIHtcbiAgdCAvPSBkXG4gIHJldHVybiAtYyAqIHQgKiAodCAtIDIpICsgYlxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmVydGlhXG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IHR5cGUgeyBOb3JtYWxpemVkTGlzdGVuZXJzIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzJ1xuaW1wb3J0IG5vcm1hbGl6ZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9ub3JtYWxpemVMaXN0ZW5lcnMnXG5cbmltcG9ydCB0eXBlIHsgTGlzdGVuZXIsIExpc3RlbmVyc0FyZywgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmZ1bmN0aW9uIGZpcmVVbnRpbEltbWVkaWF0ZVN0b3BwZWQoZXZlbnQ6IGFueSwgbGlzdGVuZXJzOiBMaXN0ZW5lcltdKSB7XG4gIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgaWYgKGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcihldmVudClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRhYmxlIHtcbiAgb3B0aW9uczogYW55XG4gIHR5cGVzOiBOb3JtYWxpemVkTGlzdGVuZXJzID0ge31cbiAgcHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgZ2xvYmFsOiBhbnlcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogeyBbaW5kZXg6IHN0cmluZ106IGFueSB9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zIHx8IHt9KVxuICB9XG5cbiAgZmlyZTxUIGV4dGVuZHMgeyB0eXBlOiBzdHJpbmc7IHByb3BhZ2F0aW9uU3RvcHBlZD86IGJvb2xlYW4gfT4oZXZlbnQ6IFQpIHtcbiAgICBsZXQgbGlzdGVuZXJzOiBMaXN0ZW5lcltdXG4gICAgY29uc3QgZ2xvYmFsID0gdGhpcy5nbG9iYWxcblxuICAgIC8vIEludGVyYWN0YWJsZSNvbigpIGxpc3RlbmVyc1xuICAgIC8vIHRzbGludDpkaXNhYmxlIG5vLWNvbmRpdGlvbmFsLWFzc2lnbm1lbnRcbiAgICBpZiAoKGxpc3RlbmVycyA9IHRoaXMudHlwZXNbZXZlbnQudHlwZV0pKSB7XG4gICAgICBmaXJlVW50aWxJbW1lZGlhdGVTdG9wcGVkKGV2ZW50LCBsaXN0ZW5lcnMpXG4gICAgfVxuXG4gICAgLy8gaW50ZXJhY3Qub24oKSBsaXN0ZW5lcnNcbiAgICBpZiAoIWV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCAmJiBnbG9iYWwgJiYgKGxpc3RlbmVycyA9IGdsb2JhbFtldmVudC50eXBlXSkpIHtcbiAgICAgIGZpcmVVbnRpbEltbWVkaWF0ZVN0b3BwZWQoZXZlbnQsIGxpc3RlbmVycylcbiAgICB9XG4gIH1cblxuICBvbih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBMaXN0ZW5lcnNBcmcpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBub3JtYWxpemUodHlwZSwgbGlzdGVuZXIpXG5cbiAgICBmb3IgKHR5cGUgaW4gbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLnR5cGVzW3R5cGVdID0gYXJyLm1lcmdlKHRoaXMudHlwZXNbdHlwZV0gfHwgW10sIGxpc3RlbmVyc1t0eXBlXSlcbiAgICB9XG4gIH1cblxuICBvZmYodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogTGlzdGVuZXJzQXJnKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gbm9ybWFsaXplKHR5cGUsIGxpc3RlbmVyKVxuXG4gICAgZm9yICh0eXBlIGluIGxpc3RlbmVycykge1xuICAgICAgY29uc3QgZXZlbnRMaXN0ID0gdGhpcy50eXBlc1t0eXBlXVxuXG4gICAgICBpZiAoIWV2ZW50TGlzdCB8fCAhZXZlbnRMaXN0Lmxlbmd0aCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHN1Ykxpc3RlbmVyIG9mIGxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50TGlzdC5pbmRleE9mKHN1Ykxpc3RlbmVyKVxuXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBldmVudExpc3Quc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVjdChfZWxlbWVudDogRWxlbWVudCk6IFJlY3Qge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgcEV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyRXh0ZW5kJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IE5hdGl2ZUV2ZW50VGFyZ2V0IH0gZnJvbSAnLi9OYXRpdmVUeXBlcydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBldmVudHM6IFJldHVyblR5cGU8dHlwZW9mIGluc3RhbGw+XG4gIH1cbn1cblxuaW50ZXJmYWNlIEV2ZW50T3B0aW9ucyB7XG4gIGNhcHR1cmU6IGJvb2xlYW5cbiAgcGFzc2l2ZTogYm9vbGVhblxufVxuXG50eXBlIFBhcnRpYWxFdmVudFRhcmdldCA9IFBhcnRpYWw8TmF0aXZlRXZlbnRUYXJnZXQ+XG5cbnR5cGUgTGlzdGVuZXJFbnRyeSA9IHsgZnVuYzogKGV2ZW50OiBFdmVudCB8IEZha2VFdmVudCkgPT4gYW55OyBvcHRpb25zOiBFdmVudE9wdGlvbnMgfVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB0YXJnZXRzOiBBcnJheTx7XG4gICAgZXZlbnRUYXJnZXQ6IFBhcnRpYWxFdmVudFRhcmdldFxuICAgIGV2ZW50czogeyBbdHlwZTogc3RyaW5nXTogTGlzdGVuZXJFbnRyeVtdIH1cbiAgfT4gPSBbXVxuXG4gIGNvbnN0IGRlbGVnYXRlZEV2ZW50czoge1xuICAgIFt0eXBlOiBzdHJpbmddOiBBcnJheTx7XG4gICAgICBzZWxlY3Rvcjogc3RyaW5nXG4gICAgICBjb250ZXh0OiBOb2RlXG4gICAgICBsaXN0ZW5lcnM6IExpc3RlbmVyRW50cnlbXVxuICAgIH0+XG4gIH0gPSB7fVxuICBjb25zdCBkb2N1bWVudHM6IERvY3VtZW50W10gPSBbXVxuXG4gIGNvbnN0IGV2ZW50c01ldGhvZHMgPSB7XG4gICAgYWRkLFxuICAgIHJlbW92ZSxcblxuICAgIGFkZERlbGVnYXRlLFxuICAgIHJlbW92ZURlbGVnYXRlLFxuXG4gICAgZGVsZWdhdGVMaXN0ZW5lcixcbiAgICBkZWxlZ2F0ZVVzZUNhcHR1cmUsXG4gICAgZGVsZWdhdGVkRXZlbnRzLFxuICAgIGRvY3VtZW50cyxcblxuICAgIHRhcmdldHMsXG5cbiAgICBzdXBwb3J0c09wdGlvbnM6IGZhbHNlLFxuICAgIHN1cHBvcnRzUGFzc2l2ZTogZmFsc2UsXG4gIH1cblxuICAvLyBjaGVjayBpZiBicm93c2VyIHN1cHBvcnRzIHBhc3NpdmUgZXZlbnRzIGFuZCBvcHRpb25zIGFyZ1xuICBzY29wZS5kb2N1bWVudD8uY3JlYXRlRWxlbWVudCgnZGl2JykuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIHtcbiAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgIHJldHVybiAoZXZlbnRzTWV0aG9kcy5zdXBwb3J0c09wdGlvbnMgPSB0cnVlKVxuICAgIH0sXG4gICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICByZXR1cm4gKGV2ZW50c01ldGhvZHMuc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZSlcbiAgICB9LFxuICB9KVxuXG4gIHNjb3BlLmV2ZW50cyA9IGV2ZW50c01ldGhvZHNcblxuICBmdW5jdGlvbiBhZGQoXG4gICAgZXZlbnRUYXJnZXQ6IFBhcnRpYWxFdmVudFRhcmdldCxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IExpc3RlbmVyRW50cnlbJ2Z1bmMnXSxcbiAgICBvcHRpb25hbEFyZz86IGJvb2xlYW4gfCBFdmVudE9wdGlvbnMsXG4gICkge1xuICAgIGlmICghZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgcmV0dXJuXG5cbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBsZXQgdGFyZ2V0ID0gYXJyLmZpbmQodGFyZ2V0cywgKHQpID0+IHQuZXZlbnRUYXJnZXQgPT09IGV2ZW50VGFyZ2V0KVxuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRhcmdldCA9IHtcbiAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgIGV2ZW50czoge30sXG4gICAgICB9XG5cbiAgICAgIHRhcmdldHMucHVzaCh0YXJnZXQpXG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQuZXZlbnRzW3R5cGVdKSB7XG4gICAgICB0YXJnZXQuZXZlbnRzW3R5cGVdID0gW11cbiAgICB9XG5cbiAgICBpZiAoIWFyci5maW5kKHRhcmdldC5ldmVudHNbdHlwZV0sIChsKSA9PiBsLmZ1bmMgPT09IGxpc3RlbmVyICYmIG9wdGlvbnNNYXRjaChsLm9wdGlvbnMsIG9wdGlvbnMpKSkge1xuICAgICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbGlzdGVuZXIgYXMgYW55LFxuICAgICAgICBldmVudHNNZXRob2RzLnN1cHBvcnRzT3B0aW9ucyA/IG9wdGlvbnMgOiBvcHRpb25zLmNhcHR1cmUsXG4gICAgICApXG4gICAgICB0YXJnZXQuZXZlbnRzW3R5cGVdLnB1c2goeyBmdW5jOiBsaXN0ZW5lciwgb3B0aW9ucyB9KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZShcbiAgICBldmVudFRhcmdldDogUGFydGlhbEV2ZW50VGFyZ2V0LFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcj86ICdhbGwnIHwgTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYm9vbGVhbiB8IEV2ZW50T3B0aW9ucyxcbiAgKSB7XG4gICAgaWYgKCFldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyIHx8ICFldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKSByZXR1cm5cblxuICAgIGNvbnN0IHRhcmdldEluZGV4ID0gYXJyLmZpbmRJbmRleCh0YXJnZXRzLCAodCkgPT4gdC5ldmVudFRhcmdldCA9PT0gZXZlbnRUYXJnZXQpXG4gICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1t0YXJnZXRJbmRleF1cblxuICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuZXZlbnRzKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2FsbCcpIHtcbiAgICAgIGZvciAodHlwZSBpbiB0YXJnZXQuZXZlbnRzKSB7XG4gICAgICAgIGlmICh0YXJnZXQuZXZlbnRzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgICAgcmVtb3ZlKGV2ZW50VGFyZ2V0LCB0eXBlLCAnYWxsJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHR5cGVJc0VtcHR5ID0gZmFsc2VcbiAgICBjb25zdCB0eXBlTGlzdGVuZXJzID0gdGFyZ2V0LmV2ZW50c1t0eXBlXVxuXG4gICAgaWYgKHR5cGVMaXN0ZW5lcnMpIHtcbiAgICAgIGlmIChsaXN0ZW5lciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHR5cGVMaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IHR5cGVMaXN0ZW5lcnNbaV1cbiAgICAgICAgICByZW1vdmUoZXZlbnRUYXJnZXQsIHR5cGUsIGVudHJ5LmZ1bmMsIGVudHJ5Lm9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IHR5cGVMaXN0ZW5lcnNbaV1cbiAgICAgICAgICBpZiAoZW50cnkuZnVuYyA9PT0gbGlzdGVuZXIgJiYgb3B0aW9uc01hdGNoKGVudHJ5Lm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBsaXN0ZW5lciBhcyBhbnksXG4gICAgICAgICAgICAgIGV2ZW50c01ldGhvZHMuc3VwcG9ydHNPcHRpb25zID8gb3B0aW9ucyA6IG9wdGlvbnMuY2FwdHVyZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHR5cGVMaXN0ZW5lcnMuc3BsaWNlKGksIDEpXG5cbiAgICAgICAgICAgIGlmICh0eXBlTGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0LmV2ZW50c1t0eXBlXVxuICAgICAgICAgICAgICB0eXBlSXNFbXB0eSA9IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZUlzRW1wdHkgJiYgIU9iamVjdC5rZXlzKHRhcmdldC5ldmVudHMpLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0cy5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkRGVsZWdhdGUoXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcbiAgICBjb250ZXh0OiBOb2RlLFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYW55LFxuICApIHtcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBpZiAoIWRlbGVnYXRlZEV2ZW50c1t0eXBlXSkge1xuICAgICAgZGVsZWdhdGVkRXZlbnRzW3R5cGVdID0gW11cblxuICAgICAgLy8gYWRkIGRlbGVnYXRlIGxpc3RlbmVyIGZ1bmN0aW9uc1xuICAgICAgZm9yIChjb25zdCBkb2Mgb2YgZG9jdW1lbnRzKSB7XG4gICAgICAgIGFkZChkb2MsIHR5cGUsIGRlbGVnYXRlTGlzdGVuZXIpXG4gICAgICAgIGFkZChkb2MsIHR5cGUsIGRlbGVnYXRlVXNlQ2FwdHVyZSwgdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkZWxlZ2F0ZXMgPSBkZWxlZ2F0ZWRFdmVudHNbdHlwZV1cbiAgICBsZXQgZGVsZWdhdGUgPSBhcnIuZmluZChkZWxlZ2F0ZXMsIChkKSA9PiBkLnNlbGVjdG9yID09PSBzZWxlY3RvciAmJiBkLmNvbnRleHQgPT09IGNvbnRleHQpXG5cbiAgICBpZiAoIWRlbGVnYXRlKSB7XG4gICAgICBkZWxlZ2F0ZSA9IHsgc2VsZWN0b3IsIGNvbnRleHQsIGxpc3RlbmVyczogW10gfVxuICAgICAgZGVsZWdhdGVzLnB1c2goZGVsZWdhdGUpXG4gICAgfVxuXG4gICAgZGVsZWdhdGUubGlzdGVuZXJzLnB1c2goeyBmdW5jOiBsaXN0ZW5lciwgb3B0aW9ucyB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRGVsZWdhdGUoXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcbiAgICBjb250ZXh0OiBEb2N1bWVudCB8IEVsZW1lbnQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyPzogTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYW55LFxuICApIHtcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBjb25zdCBkZWxlZ2F0ZXMgPSBkZWxlZ2F0ZWRFdmVudHNbdHlwZV1cbiAgICBsZXQgbWF0Y2hGb3VuZCA9IGZhbHNlXG4gICAgbGV0IGluZGV4OiBudW1iZXJcblxuICAgIGlmICghZGVsZWdhdGVzKSByZXR1cm5cblxuICAgIC8vIGNvdW50IGZyb20gbGFzdCBpbmRleCBvZiBkZWxlZ2F0ZWQgdG8gMFxuICAgIGZvciAoaW5kZXggPSBkZWxlZ2F0ZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgY29uc3QgY3VyID0gZGVsZWdhdGVzW2luZGV4XVxuICAgICAgLy8gbG9vayBmb3IgbWF0Y2hpbmcgc2VsZWN0b3IgYW5kIGNvbnRleHQgTm9kZVxuICAgICAgaWYgKGN1ci5zZWxlY3RvciA9PT0gc2VsZWN0b3IgJiYgY3VyLmNvbnRleHQgPT09IGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBsaXN0ZW5lcnMgfSA9IGN1clxuXG4gICAgICAgIC8vIGVhY2ggaXRlbSBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGlzIGFuIGFycmF5OiBbZnVuY3Rpb24sIGNhcHR1cmUsIHBhc3NpdmVdXG4gICAgICAgIGZvciAobGV0IGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGxpc3RlbmVyc1tpXVxuXG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGxpc3RlbmVyIGZ1bmN0aW9ucyBhbmQgY2FwdHVyZSBhbmQgcGFzc2l2ZSBmbGFncyBtYXRjaFxuICAgICAgICAgIGlmIChlbnRyeS5mdW5jID09PSBsaXN0ZW5lciAmJiBvcHRpb25zTWF0Y2goZW50cnkub3B0aW9ucywgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbSB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpXG5cbiAgICAgICAgICAgIC8vIGlmIGFsbCBsaXN0ZW5lcnMgZm9yIHRoaXMgdGFyZ2V0IGhhdmUgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIHRhcmdldCBmcm9tIHRoZSBkZWxlZ2F0ZXMgYXJyYXlcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBkZWxlZ2F0ZXMuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxlZ2F0ZSBmdW5jdGlvbiBmcm9tIGNvbnRleHRcbiAgICAgICAgICAgICAgcmVtb3ZlKGNvbnRleHQsIHR5cGUsIGRlbGVnYXRlTGlzdGVuZXIpXG4gICAgICAgICAgICAgIHJlbW92ZShjb250ZXh0LCB0eXBlLCBkZWxlZ2F0ZVVzZUNhcHR1cmUsIHRydWUpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgcmVtb3ZlIG9uZSBsaXN0ZW5lclxuICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWVcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoRm91bmQpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYm91bmQgdG8gdGhlIGludGVyYWN0YWJsZSBjb250ZXh0IHdoZW4gYSBET00gZXZlbnRcbiAgLy8gbGlzdGVuZXIgaXMgYWRkZWQgdG8gYSBzZWxlY3RvciBpbnRlcmFjdGFibGVcbiAgZnVuY3Rpb24gZGVsZWdhdGVMaXN0ZW5lcihldmVudDogRXZlbnQgfCBGYWtlRXZlbnQsIG9wdGlvbmFsQXJnPzogYW55KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9uYWxBcmcpXG4gICAgY29uc3QgZmFrZUV2ZW50ID0gbmV3IEZha2VFdmVudChldmVudCBhcyBFdmVudClcbiAgICBjb25zdCBkZWxlZ2F0ZXMgPSBkZWxlZ2F0ZWRFdmVudHNbZXZlbnQudHlwZV1cbiAgICBjb25zdCBbZXZlbnRUYXJnZXRdID0gcG9pbnRlclV0aWxzLmdldEV2ZW50VGFyZ2V0cyhldmVudCBhcyBFdmVudClcbiAgICBsZXQgZWxlbWVudDogTm9kZSA9IGV2ZW50VGFyZ2V0XG5cbiAgICAvLyBjbGltYiB1cCBkb2N1bWVudCB0cmVlIGxvb2tpbmcgZm9yIHNlbGVjdG9yIG1hdGNoZXNcbiAgICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxlZ2F0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VyID0gZGVsZWdhdGVzW2ldXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IsIGNvbnRleHQgfSA9IGN1clxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBkb21VdGlscy5tYXRjaGVzU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IpICYmXG4gICAgICAgICAgZG9tVXRpbHMubm9kZUNvbnRhaW5zKGNvbnRleHQsIGV2ZW50VGFyZ2V0KSAmJlxuICAgICAgICAgIGRvbVV0aWxzLm5vZGVDb250YWlucyhjb250ZXh0LCBlbGVtZW50KVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gY3VyXG5cbiAgICAgICAgICBmYWtlRXZlbnQuY3VycmVudFRhcmdldCA9IGVsZW1lbnRcblxuICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uc01hdGNoKGVudHJ5Lm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgIGVudHJ5LmZ1bmMoZmFrZUV2ZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlbGVtZW50ID0gZG9tVXRpbHMucGFyZW50Tm9kZShlbGVtZW50KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGVnYXRlVXNlQ2FwdHVyZSh0aGlzOiBFbGVtZW50LCBldmVudDogRXZlbnQgfCBGYWtlRXZlbnQpIHtcbiAgICByZXR1cm4gZGVsZWdhdGVMaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0cnVlKVxuICB9XG5cbiAgLy8gZm9yIHR5cGUgaW5mZXJyZW5jZVxuICByZXR1cm4gZXZlbnRzTWV0aG9kc1xufVxuXG5jbGFzcyBGYWtlRXZlbnQgaW1wbGVtZW50cyBQYXJ0aWFsPEV2ZW50PiB7XG4gIGN1cnJlbnRUYXJnZXQ6IE5vZGVcbiAgb3JpZ2luYWxFdmVudDogRXZlbnRcbiAgdHlwZTogc3RyaW5nXG5cbiAgY29uc3RydWN0b3Iob3JpZ2luYWxFdmVudDogRXZlbnQpIHtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50XG4gICAgLy8gZHVwbGljYXRlIHRoZSBldmVudCBzbyB0aGF0IGN1cnJlbnRUYXJnZXQgY2FuIGJlIGNoYW5nZWRcbiAgICBwRXh0ZW5kKHRoaXMsIG9yaWdpbmFsRXZlbnQpXG4gIH1cblxuICBwcmV2ZW50T3JpZ2luYWxEZWZhdWx0KCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gIH1cblxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0T3B0aW9ucyhwYXJhbTogeyBbaW5kZXg6IHN0cmluZ106IGFueSB9IHwgYm9vbGVhbik6IHsgY2FwdHVyZTogYm9vbGVhbjsgcGFzc2l2ZTogYm9vbGVhbiB9IHtcbiAgaWYgKCFpcy5vYmplY3QocGFyYW0pKSB7XG4gICAgcmV0dXJuIHsgY2FwdHVyZTogISFwYXJhbSwgcGFzc2l2ZTogZmFsc2UgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjYXB0dXJlOiAhIXBhcmFtLmNhcHR1cmUsXG4gICAgcGFzc2l2ZTogISFwYXJhbS5wYXNzaXZlLFxuICB9XG59XG5cbmZ1bmN0aW9uIG9wdGlvbnNNYXRjaChhOiBQYXJ0aWFsPEV2ZW50T3B0aW9ucz4gfCBib29sZWFuLCBiOiBQYXJ0aWFsPEV2ZW50T3B0aW9ucz4pIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlXG5cbiAgaWYgKHR5cGVvZiBhID09PSAnYm9vbGVhbicpIHJldHVybiAhIWIuY2FwdHVyZSA9PT0gYSAmJiAhIWIucGFzc2l2ZSA9PT0gZmFsc2VcblxuICByZXR1cm4gISFhLmNhcHR1cmUgPT09ICEhYi5jYXB0dXJlICYmICEhYS5wYXNzaXZlID09PSAhIWIucGFzc2l2ZVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnZXZlbnRzJyxcbiAgaW5zdGFsbCxcbn1cbiIsICJpbXBvcnQgKiBhcyBkb20gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5cbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUG9pbnRlclR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaERldGFpbHMge1xuICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICBwb2ludGVySWQ6IG51bWJlclxuICBwb2ludGVyVHlwZTogc3RyaW5nXG4gIGV2ZW50VHlwZTogc3RyaW5nXG4gIGV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldFxuICBjdXJFdmVudFRhcmdldDogRXZlbnRUYXJnZXRcbiAgc2NvcGU6IFNjb3BlXG59XG5cbmNvbnN0IGZpbmRlciA9IHtcbiAgbWV0aG9kT3JkZXI6IFsnc2ltdWxhdGlvblJlc3VtZScsICdtb3VzZU9yUGVuJywgJ2hhc1BvaW50ZXInLCAnaWRsZSddIGFzIGNvbnN0LFxuXG4gIHNlYXJjaChkZXRhaWxzOiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgZmluZGVyLm1ldGhvZE9yZGVyKSB7XG4gICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGZpbmRlclttZXRob2RdKGRldGFpbHMpXG5cbiAgICAgIGlmIChpbnRlcmFjdGlvbikge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIHRyeSB0byByZXN1bWUgc2ltdWxhdGlvbiB3aXRoIGEgbmV3IHBvaW50ZXJcbiAgc2ltdWxhdGlvblJlc3VtZSh7IHBvaW50ZXJUeXBlLCBldmVudFR5cGUsIGV2ZW50VGFyZ2V0LCBzY29wZSB9OiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgaWYgKCEvZG93bnxzdGFydC9pLnRlc3QoZXZlbnRUeXBlKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBsZXQgZWxlbWVudCA9IGV2ZW50VGFyZ2V0IGFzIE5vZGVcblxuICAgICAgaWYgKFxuICAgICAgICBpbnRlcmFjdGlvbi5zaW11bGF0aW9uICYmXG4gICAgICAgIGludGVyYWN0aW9uLnNpbXVsYXRpb24uYWxsb3dSZXN1bWUgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09IHBvaW50ZXJUeXBlXG4gICAgICApIHtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBpcyB0aGUgaW50ZXJhY3Rpb24gZWxlbWVudFxuICAgICAgICAgIGlmIChlbGVtZW50ID09PSBpbnRlcmFjdGlvbi5lbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudCA9IGRvbS5wYXJlbnROb2RlKGVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIGlmIGl0J3MgYSBtb3VzZSBvciBwZW4gaW50ZXJhY3Rpb25cbiAgbW91c2VPclBlbih7IHBvaW50ZXJJZCwgcG9pbnRlclR5cGUsIGV2ZW50VHlwZSwgc2NvcGUgfTogU2VhcmNoRGV0YWlscykge1xuICAgIGlmIChwb2ludGVyVHlwZSAhPT0gJ21vdXNlJyAmJiBwb2ludGVyVHlwZSAhPT0gJ3BlbicpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgbGV0IGZpcnN0Tm9uQWN0aXZlXG5cbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09IHBvaW50ZXJUeXBlKSB7XG4gICAgICAgIC8vIGlmIGl0J3MgYSBkb3duIGV2ZW50LCBza2lwIGludGVyYWN0aW9ucyB3aXRoIHJ1bm5pbmcgc2ltdWxhdGlvbnNcbiAgICAgICAgaWYgKGludGVyYWN0aW9uLnNpbXVsYXRpb24gJiYgIWhhc1BvaW50ZXJJZChpbnRlcmFjdGlvbiwgcG9pbnRlcklkKSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCByZXR1cm4gaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2Ugc2F2ZSBpdCBhbmQgbG9vayBmb3IgYW5vdGhlciBhY3RpdmUgaW50ZXJhY3Rpb25cbiAgICAgICAgZWxzZSBpZiAoIWZpcnN0Tm9uQWN0aXZlKSB7XG4gICAgICAgICAgZmlyc3ROb25BY3RpdmUgPSBpbnRlcmFjdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgbm8gYWN0aXZlIG1vdXNlIGludGVyYWN0aW9uIHdhcyBmb3VuZCB1c2UgdGhlIGZpcnN0IGluYWN0aXZlIG1vdXNlXG4gICAgLy8gaW50ZXJhY3Rpb25cbiAgICBpZiAoZmlyc3ROb25BY3RpdmUpIHtcbiAgICAgIHJldHVybiBmaXJzdE5vbkFjdGl2ZVxuICAgIH1cblxuICAgIC8vIGZpbmQgYW55IG1vdXNlIG9yIHBlbiBpbnRlcmFjdGlvbi5cbiAgICAvLyBpZ25vcmUgdGhlIGludGVyYWN0aW9uIGlmIHRoZSBldmVudFR5cGUgaXMgYSAqZG93biwgYW5kIGEgc2ltdWxhdGlvblxuICAgIC8vIGlzIGFjdGl2ZVxuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gcG9pbnRlclR5cGUgJiYgISgvZG93bi9pLnRlc3QoZXZlbnRUeXBlKSAmJiBpbnRlcmFjdGlvbi5zaW11bGF0aW9uKSkge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIGdldCBpbnRlcmFjdGlvbiB0aGF0IGhhcyB0aGlzIHBvaW50ZXJcbiAgaGFzUG9pbnRlcih7IHBvaW50ZXJJZCwgc2NvcGUgfTogU2VhcmNoRGV0YWlscykge1xuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGlmIChoYXNQb2ludGVySWQoaW50ZXJhY3Rpb24sIHBvaW50ZXJJZCkpIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvLyBnZXQgZmlyc3QgaWRsZSBpbnRlcmFjdGlvbiB3aXRoIGEgbWF0Y2hpbmcgcG9pbnRlclR5cGVcbiAgaWRsZSh7IHBvaW50ZXJUeXBlLCBzY29wZSB9OiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgLy8gaWYgdGhlcmUncyBhbHJlYWR5IGEgcG9pbnRlciBoZWxkIGRvd25cbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlXG4gICAgICAgIC8vIGRvbid0IGFkZCB0aGlzIHBvaW50ZXIgaWYgdGhlcmUgaXMgYSB0YXJnZXQgaW50ZXJhY3RhYmxlIGFuZCBpdFxuICAgICAgICAvLyBpc24ndCBnZXN0dXJhYmxlXG4gICAgICAgIGlmICh0YXJnZXQgJiYgISh0YXJnZXQub3B0aW9ucy5nZXN0dXJlICYmIHRhcmdldC5vcHRpb25zLmdlc3R1cmUuZW5hYmxlZCkpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBtYXhpbXVtIG9mIDIgcG9pbnRlcnMgcGVyIGludGVyYWN0aW9uXG4gICAgICBlbHNlIGlmIChpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPj0gMikge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAoIWludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgJiYgcG9pbnRlclR5cGUgPT09IGludGVyYWN0aW9uLnBvaW50ZXJUeXBlKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH0sXG59XG5cbmZ1bmN0aW9uIGhhc1BvaW50ZXJJZChpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sIHBvaW50ZXJJZDogbnVtYmVyKSB7XG4gIHJldHVybiBpbnRlcmFjdGlvbi5wb2ludGVycy5zb21lKCh7IGlkIH0pID0+IGlkID09PSBwb2ludGVySWQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmRlclxuIiwgImltcG9ydCBicm93c2VyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInXG5pbXBvcnQgZG9tT2JqZWN0cyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzJ1xuaW1wb3J0IHsgbm9kZUNvbnRhaW5zIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBMaXN0ZW5lciB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQnXG5pbXBvcnQgaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQgZnJvbSAnLi9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCdcbmltcG9ydCBJbnRlcmFjdGlvbkJhc2UgZnJvbSAnLi9JbnRlcmFjdGlvbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cbmltcG9ydCB0eXBlIHsgU2VhcmNoRGV0YWlscyB9IGZyb20gJy4vaW50ZXJhY3Rpb25GaW5kZXInXG5pbXBvcnQgZmluZGVyIGZyb20gJy4vaW50ZXJhY3Rpb25GaW5kZXInXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgSW50ZXJhY3Rpb246IHR5cGVvZiBJbnRlcmFjdGlvbkJhc2VcbiAgICBpbnRlcmFjdGlvbnM6IHtcbiAgICAgIG5ldzogPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihvcHRpb25zOiBhbnkpID0+IEludGVyYWN0aW9uQmFzZTxUPlxuICAgICAgbGlzdDogQXJyYXk8SW50ZXJhY3Rpb25CYXNlPEFjdGlvbk5hbWU+PlxuICAgICAgbGlzdGVuZXJzOiB7IFt0eXBlOiBzdHJpbmddOiBMaXN0ZW5lciB9XG4gICAgICBkb2NFdmVudHM6IEFycmF5PHsgdHlwZTogc3RyaW5nOyBsaXN0ZW5lcjogTGlzdGVuZXIgfT5cbiAgICAgIHBvaW50ZXJNb3ZlVG9sZXJhbmNlOiBudW1iZXJcbiAgICB9XG4gICAgcHJldlRvdWNoVGltZTogbnVtYmVyXG4gIH1cblxuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0aW9uczpmaW5kJzoge1xuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uQmFzZVxuICAgICAgc2VhcmNoRGV0YWlsczogU2VhcmNoRGV0YWlsc1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtZXRob2ROYW1lcyA9IFtcbiAgJ3BvaW50ZXJEb3duJyxcbiAgJ3BvaW50ZXJNb3ZlJyxcbiAgJ3BvaW50ZXJVcCcsXG4gICd1cGRhdGVQb2ludGVyJyxcbiAgJ3JlbW92ZVBvaW50ZXInLFxuICAnd2luZG93Qmx1cicsXG5dXG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IGxpc3RlbmVycyA9IHt9IGFzIGFueVxuXG4gIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZE5hbWVzKSB7XG4gICAgbGlzdGVuZXJzW21ldGhvZF0gPSBkb09uSW50ZXJhY3Rpb25zKG1ldGhvZCwgc2NvcGUpXG4gIH1cblxuICBjb25zdCBwRXZlbnRUeXBlcyA9IGJyb3dzZXIucEV2ZW50VHlwZXNcbiAgbGV0IGRvY0V2ZW50czogdHlwZW9mIHNjb3BlLmludGVyYWN0aW9ucy5kb2NFdmVudHNcblxuICBpZiAoZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnQpIHtcbiAgICBkb2NFdmVudHMgPSBbXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLmRvd24sIGxpc3RlbmVyOiByZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMgfSxcbiAgICAgIHsgdHlwZTogcEV2ZW50VHlwZXMuZG93biwgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyRG93biB9LFxuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy5tb3ZlLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJNb3ZlIH0sXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLnVwLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy5jYW5jZWwsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlclVwIH0sXG4gICAgXVxuICB9IGVsc2Uge1xuICAgIGRvY0V2ZW50cyA9IFtcbiAgICAgIHsgdHlwZTogJ21vdXNlZG93bicsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlckRvd24gfSxcbiAgICAgIHsgdHlwZTogJ21vdXNlbW92ZScsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlck1vdmUgfSxcbiAgICAgIHsgdHlwZTogJ21vdXNldXAnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuXG4gICAgICB7IHR5cGU6ICd0b3VjaHN0YXJ0JywgbGlzdGVuZXI6IHJlbGVhc2VQb2ludGVyc09uUmVtb3ZlZEVscyB9LFxuICAgICAgeyB0eXBlOiAndG91Y2hzdGFydCcsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlckRvd24gfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNobW92ZScsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlck1vdmUgfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNoZW5kJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNoY2FuY2VsJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcbiAgICBdXG4gIH1cblxuICBkb2NFdmVudHMucHVzaCh7XG4gICAgdHlwZTogJ2JsdXInLFxuICAgIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICAgIGludGVyYWN0aW9uLmRvY3VtZW50Qmx1cihldmVudClcbiAgICAgIH1cbiAgICB9LFxuICB9KVxuXG4gIC8vIGZvciBpZ25vcmluZyBicm93c2VyJ3Mgc2ltdWxhdGVkIG1vdXNlIGV2ZW50c1xuICBzY29wZS5wcmV2VG91Y2hUaW1lID0gMFxuXG4gIHNjb3BlLkludGVyYWN0aW9uID0gY2xhc3M8VCBleHRlbmRzIEFjdGlvbk5hbWU+IGV4dGVuZHMgSW50ZXJhY3Rpb25CYXNlPFQ+IHtcbiAgICBnZXQgcG9pbnRlck1vdmVUb2xlcmFuY2UoKSB7XG4gICAgICByZXR1cm4gc2NvcGUuaW50ZXJhY3Rpb25zLnBvaW50ZXJNb3ZlVG9sZXJhbmNlXG4gICAgfVxuXG4gICAgc2V0IHBvaW50ZXJNb3ZlVG9sZXJhbmNlKHZhbHVlKSB7XG4gICAgICBzY29wZS5pbnRlcmFjdGlvbnMucG9pbnRlck1vdmVUb2xlcmFuY2UgPSB2YWx1ZVxuICAgIH1cblxuICAgIF9ub3coKSB7XG4gICAgICByZXR1cm4gc2NvcGUubm93KClcbiAgICB9XG4gIH1cblxuICBzY29wZS5pbnRlcmFjdGlvbnMgPSB7XG4gICAgLy8gYWxsIGFjdGl2ZSBhbmQgaWRsZSBpbnRlcmFjdGlvbnNcbiAgICBsaXN0OiBbXSxcbiAgICBuZXc8VCBleHRlbmRzIEFjdGlvbk5hbWU+KG9wdGlvbnM6IHsgcG9pbnRlclR5cGU/OiBzdHJpbmc7IHNjb3BlRmlyZT86IFNjb3BlWydmaXJlJ10gfSkge1xuICAgICAgb3B0aW9ucy5zY29wZUZpcmUgPSAobmFtZSwgYXJnKSA9PiBzY29wZS5maXJlKG5hbWUsIGFyZylcblxuICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBuZXcgc2NvcGUuSW50ZXJhY3Rpb248VD4ob3B0aW9ucyBhcyBSZXF1aXJlZDx0eXBlb2Ygb3B0aW9ucz4pXG5cbiAgICAgIHNjb3BlLmludGVyYWN0aW9ucy5saXN0LnB1c2goaW50ZXJhY3Rpb24pXG4gICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICB9LFxuICAgIGxpc3RlbmVycyxcbiAgICBkb2NFdmVudHMsXG4gICAgcG9pbnRlck1vdmVUb2xlcmFuY2U6IDEsXG4gIH1cblxuICBmdW5jdGlvbiByZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMoKSB7XG4gICAgLy8gZm9yIGFsbCBpbmFjdGl2ZSB0b3VjaCBpbnRlcmFjdGlvbnMgd2l0aCBwb2ludGVycyBkb3duXG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgaWYgKCFpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duIHx8IGludGVyYWN0aW9uLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnIHx8IGludGVyYWN0aW9uLl9pbnRlcmFjdGluZykge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyBpZiBhIHBvaW50ZXIgaXMgZG93biBvbiBhbiBlbGVtZW50IHRoYXQgaXMgbm8gbG9uZ2VyIGluIHRoZSBET00gdHJlZVxuICAgICAgZm9yIChjb25zdCBwb2ludGVyIG9mIGludGVyYWN0aW9uLnBvaW50ZXJzKSB7XG4gICAgICAgIGlmICghc2NvcGUuZG9jdW1lbnRzLnNvbWUoKHsgZG9jIH0pID0+IG5vZGVDb250YWlucyhkb2MsIHBvaW50ZXIuZG93blRhcmdldCkpKSB7XG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZSBwb2ludGVyIGZyb20gdGhlIGludGVyYWN0aW9uXG4gICAgICAgICAgaW50ZXJhY3Rpb24ucmVtb3ZlUG9pbnRlcihwb2ludGVyLnBvaW50ZXIsIHBvaW50ZXIuZXZlbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzY29wZS51c2VQbHVnaW4oaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQpXG59XG5cbmZ1bmN0aW9uIGRvT25JbnRlcmFjdGlvbnMobWV0aG9kOiBzdHJpbmcsIHNjb3BlOiBTY29wZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50OiBFdmVudCkge1xuICAgIGNvbnN0IGludGVyYWN0aW9ucyA9IHNjb3BlLmludGVyYWN0aW9ucy5saXN0XG5cbiAgICBjb25zdCBwb2ludGVyVHlwZSA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVyVHlwZShldmVudClcbiAgICBjb25zdCBbZXZlbnRUYXJnZXQsIGN1ckV2ZW50VGFyZ2V0XSA9IHBvaW50ZXJVdGlscy5nZXRFdmVudFRhcmdldHMoZXZlbnQpXG4gICAgY29uc3QgbWF0Y2hlczogYW55W10gPSBbXSAvLyBbIFtwb2ludGVyLCBpbnRlcmFjdGlvbl0sIC4uLl1cblxuICAgIGlmICgvXnRvdWNoLy50ZXN0KGV2ZW50LnR5cGUpKSB7XG4gICAgICBzY29wZS5wcmV2VG91Y2hUaW1lID0gc2NvcGUubm93KClcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgZm9yIChjb25zdCBjaGFuZ2VkVG91Y2ggb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IGNoYW5nZWRUb3VjaFxuICAgICAgICBjb25zdCBwb2ludGVySWQgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKHBvaW50ZXIpXG4gICAgICAgIGNvbnN0IHNlYXJjaERldGFpbHM6IFNlYXJjaERldGFpbHMgPSB7XG4gICAgICAgICAgcG9pbnRlcixcbiAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgICAgcG9pbnRlclR5cGUsXG4gICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50eXBlLFxuICAgICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICAgIGN1ckV2ZW50VGFyZ2V0LFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gZ2V0SW50ZXJhY3Rpb24oc2VhcmNoRGV0YWlscylcblxuICAgICAgICBtYXRjaGVzLnB1c2goW1xuICAgICAgICAgIHNlYXJjaERldGFpbHMucG9pbnRlcixcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLmV2ZW50VGFyZ2V0LFxuICAgICAgICAgIHNlYXJjaERldGFpbHMuY3VyRXZlbnRUYXJnZXQsXG4gICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIF0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbnZhbGlkUG9pbnRlciA9IGZhbHNlXG5cbiAgICAgIGlmICghYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudCAmJiAvbW91c2UvLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICAgICAgLy8gaWdub3JlIG1vdXNlIGV2ZW50cyB3aGlsZSB0b3VjaCBpbnRlcmFjdGlvbnMgYXJlIGFjdGl2ZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVyYWN0aW9ucy5sZW5ndGggJiYgIWludmFsaWRQb2ludGVyOyBpKyspIHtcbiAgICAgICAgICBpbnZhbGlkUG9pbnRlciA9IGludGVyYWN0aW9uc1tpXS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJyAmJiBpbnRlcmFjdGlvbnNbaV0ucG9pbnRlcklzRG93blxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJ5IHRvIGlnbm9yZSBtb3VzZSBldmVudHMgdGhhdCBhcmUgc2ltdWxhdGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICAgIC8vIGFmdGVyIGEgdG91Y2ggZXZlbnRcbiAgICAgICAgaW52YWxpZFBvaW50ZXIgPVxuICAgICAgICAgIGludmFsaWRQb2ludGVyIHx8XG4gICAgICAgICAgc2NvcGUubm93KCkgLSBzY29wZS5wcmV2VG91Y2hUaW1lIDwgNTAwIHx8XG4gICAgICAgICAgLy8gb24gaU9TIGFuZCBGaXJlZm94IE1vYmlsZSwgTW91c2VFdmVudC50aW1lU3RhbXAgaXMgemVybyBpZiBzaW11bGF0ZWRcbiAgICAgICAgICBldmVudC50aW1lU3RhbXAgPT09IDBcbiAgICAgIH1cblxuICAgICAgaWYgKCFpbnZhbGlkUG9pbnRlcikge1xuICAgICAgICBjb25zdCBzZWFyY2hEZXRhaWxzID0ge1xuICAgICAgICAgIHBvaW50ZXI6IGV2ZW50IGFzIFBvaW50ZXJFdmVudCxcbiAgICAgICAgICBwb2ludGVySWQ6IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQoZXZlbnQgYXMgUG9pbnRlckV2ZW50KSxcbiAgICAgICAgICBwb2ludGVyVHlwZSxcbiAgICAgICAgICBldmVudFR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgY3VyRXZlbnRUYXJnZXQsXG4gICAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGdldEludGVyYWN0aW9uKHNlYXJjaERldGFpbHMpXG5cbiAgICAgICAgbWF0Y2hlcy5wdXNoKFtcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLnBvaW50ZXIsXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5ldmVudFRhcmdldCxcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLmN1ckV2ZW50VGFyZ2V0LFxuICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBdKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICBmb3IgKGNvbnN0IFtwb2ludGVyLCBldmVudFRhcmdldCwgY3VyRXZlbnRUYXJnZXQsIGludGVyYWN0aW9uXSBvZiBtYXRjaGVzKSB7XG4gICAgICBpbnRlcmFjdGlvblttZXRob2RdKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgY3VyRXZlbnRUYXJnZXQpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEludGVyYWN0aW9uKHNlYXJjaERldGFpbHM6IFNlYXJjaERldGFpbHMpIHtcbiAgY29uc3QgeyBwb2ludGVyVHlwZSwgc2NvcGUgfSA9IHNlYXJjaERldGFpbHNcblxuICBjb25zdCBmb3VuZEludGVyYWN0aW9uID0gZmluZGVyLnNlYXJjaChzZWFyY2hEZXRhaWxzKVxuICBjb25zdCBzaWduYWxBcmcgPSB7IGludGVyYWN0aW9uOiBmb3VuZEludGVyYWN0aW9uLCBzZWFyY2hEZXRhaWxzIH1cblxuICBzY29wZS5maXJlKCdpbnRlcmFjdGlvbnM6ZmluZCcsIHNpZ25hbEFyZylcblxuICByZXR1cm4gc2lnbmFsQXJnLmludGVyYWN0aW9uIHx8IHNjb3BlLmludGVyYWN0aW9ucy5uZXcoeyBwb2ludGVyVHlwZSB9KVxufVxuXG5mdW5jdGlvbiBvbkRvY1NpZ25hbDxUIGV4dGVuZHMgJ3Njb3BlOmFkZC1kb2N1bWVudCcgfCAnc2NvcGU6cmVtb3ZlLWRvY3VtZW50Jz4oXG4gIHsgZG9jLCBzY29wZSwgb3B0aW9ucyB9OiBTaWduYWxBcmdzW1RdLFxuICBldmVudE1ldGhvZE5hbWU6ICdhZGQnIHwgJ3JlbW92ZScsXG4pIHtcbiAgY29uc3Qge1xuICAgIGludGVyYWN0aW9uczogeyBkb2NFdmVudHMgfSxcbiAgICBldmVudHMsXG4gIH0gPSBzY29wZVxuICBjb25zdCBldmVudE1ldGhvZCA9IGV2ZW50c1tldmVudE1ldGhvZE5hbWVdXG5cbiAgaWYgKHNjb3BlLmJyb3dzZXIuaXNJT1MgJiYgIW9wdGlvbnMuZXZlbnRzKSB7XG4gICAgb3B0aW9ucy5ldmVudHMgPSB7IHBhc3NpdmU6IGZhbHNlIH1cbiAgfVxuXG4gIC8vIGRlbGVnYXRlIGV2ZW50IGxpc3RlbmVyXG4gIGZvciAoY29uc3QgZXZlbnRUeXBlIGluIGV2ZW50cy5kZWxlZ2F0ZWRFdmVudHMpIHtcbiAgICBldmVudE1ldGhvZChkb2MsIGV2ZW50VHlwZSwgZXZlbnRzLmRlbGVnYXRlTGlzdGVuZXIpXG4gICAgZXZlbnRNZXRob2QoZG9jLCBldmVudFR5cGUsIGV2ZW50cy5kZWxlZ2F0ZVVzZUNhcHR1cmUsIHRydWUpXG4gIH1cblxuICBjb25zdCBldmVudE9wdGlvbnMgPSBvcHRpb25zICYmIG9wdGlvbnMuZXZlbnRzXG5cbiAgZm9yIChjb25zdCB7IHR5cGUsIGxpc3RlbmVyIH0gb2YgZG9jRXZlbnRzKSB7XG4gICAgZXZlbnRNZXRob2QoZG9jLCB0eXBlLCBsaXN0ZW5lciwgZXZlbnRPcHRpb25zKVxuICB9XG59XG5cbmNvbnN0IGludGVyYWN0aW9uczogUGx1Z2luID0ge1xuICBpZDogJ2NvcmUvaW50ZXJhY3Rpb25zJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ3Njb3BlOmFkZC1kb2N1bWVudCc6IChhcmcpID0+IG9uRG9jU2lnbmFsKGFyZywgJ2FkZCcpLFxuICAgICdzY29wZTpyZW1vdmUtZG9jdW1lbnQnOiAoYXJnKSA9PiBvbkRvY1NpZ25hbChhcmcsICdyZW1vdmUnKSxcbiAgICAnaW50ZXJhY3RhYmxlOnVuc2V0JzogKHsgaW50ZXJhY3RhYmxlIH0sIHNjb3BlKSA9PiB7XG4gICAgICAvLyBTdG9wIGFuZCBkZXN0cm95IHJlbGF0ZWQgaW50ZXJhY3Rpb25zIHdoZW4gYW4gSW50ZXJhY3RhYmxlIGlzIHVuc2V0XG4gICAgICBmb3IgKGxldCBpID0gc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBzY29wZS5pbnRlcmFjdGlvbnMubGlzdFtpXVxuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgIT09IGludGVyYWN0YWJsZSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbi5zdG9wKClcbiAgICAgICAgc2NvcGUuZmlyZSgnaW50ZXJhY3Rpb25zOmRlc3Ryb3knLCB7IGludGVyYWN0aW9uIH0pXG4gICAgICAgIGludGVyYWN0aW9uLmRlc3Ryb3koKVxuXG4gICAgICAgIGlmIChzY29wZS5pbnRlcmFjdGlvbnMubGlzdC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3Quc3BsaWNlKGksIDEpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBvbkRvY1NpZ25hbCxcbiAgZG9PbkludGVyYWN0aW9ucyxcbiAgbWV0aG9kTmFtZXMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyYWN0aW9uc1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWR1cGUtY2xhc3MtbWVtYmVycyAqL1xuaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCBicm93c2VyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInXG5pbXBvcnQgY2xvbmUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvY2xvbmUnXG5pbXBvcnQgeyBnZXRFbGVtZW50UmVjdCwgbWF0Y2hlc1VwVG8sIG5vZGVDb250YWlucywgdHJ5U2VsZWN0b3IgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IGlzTm9uTmF0aXZlRXZlbnQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXNOb25OYXRpdmVFdmVudCdcbmltcG9ydCBub3JtYWxpemVMaXN0ZW5lcnMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzJ1xuaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvd2luZG93J1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHtcbiAgQWN0aW9uTWFwLFxuICBBY3Rpb25NZXRob2QsXG4gIEFjdGlvbk5hbWUsXG4gIEFjdGlvbnMsXG4gIENvbnRleHQsXG4gIEVsZW1lbnQsXG4gIEV2ZW50VHlwZXMsXG4gIExpc3RlbmVycyxcbiAgTGlzdGVuZXJzQXJnLFxuICBPckJvb2xlYW4sXG4gIFRhcmdldCxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgRXZlbnRhYmxlIH0gZnJvbSAnLi9FdmVudGFibGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbkRlZmF1bHRzLCBEZWZhdWx0cywgT3B0aW9uc0FyZywgUGVyQWN0aW9uRGVmYXVsdHMsIE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnXG5cbnR5cGUgSWdub3JlVmFsdWUgPSBzdHJpbmcgfCBFbGVtZW50IHwgYm9vbGVhblxudHlwZSBEZWx0YVNvdXJjZSA9ICdwYWdlJyB8ICdjbGllbnQnXG5cbmNvbnN0IGVudW0gT25PZmZNZXRob2Qge1xuICBPbixcbiAgT2ZmLFxufVxuXG4vKipcbiAqIGBgYHRzXG4gKiBjb25zdCBpbnRlcmFjdGFibGUgPSBpbnRlcmFjdCgnLmNhcmRzJylcbiAqICAgLmRyYWdnYWJsZSh7XG4gKiAgICAgbGlzdGVuZXJzOiB7IG1vdmU6IGV2ZW50ID0+IGNvbnNvbGUubG9nKGV2ZW50LnR5cGUsIGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSkgfVxuICogICB9KVxuICogICAucmVzaXphYmxlKHtcbiAqICAgICBsaXN0ZW5lcnM6IHsgbW92ZTogZXZlbnQgPT4gY29uc29sZS5sb2coZXZlbnQucmVjdCkgfSxcbiAqICAgICBtb2RpZmllcnM6IFtpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RFZGdlcyh7IG91dGVyOiAncGFyZW50JyB9KV1cbiAqICAgfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RhYmxlIGltcGxlbWVudHMgUGFydGlhbDxFdmVudGFibGU+IHtcbiAgLyoqIEBpbnRlcm5hbCAqLyBnZXQgX2RlZmF1bHRzKCk6IERlZmF1bHRzIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZToge30sXG4gICAgICBwZXJBY3Rpb246IHt9LFxuICAgICAgYWN0aW9uczoge30gYXMgQWN0aW9uRGVmYXVsdHMsXG4gICAgfVxuICB9XG5cbiAgcmVhZG9ubHkgdGFyZ2V0OiBUYXJnZXRcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBvcHRpb25zITogUmVxdWlyZWQ8T3B0aW9ucz5cbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfYWN0aW9uczogQWN0aW9uc1xuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IGV2ZW50cyA9IG5ldyBFdmVudGFibGUoKVxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF9jb250ZXh0OiBDb250ZXh0XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX3dpbjogV2luZG93XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX2RvYzogRG9jdW1lbnRcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfc2NvcGVFdmVudHM6IFNjb3BlWydldmVudHMnXVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHRhcmdldDogVGFyZ2V0LFxuICAgIG9wdGlvbnM6IGFueSxcbiAgICBkZWZhdWx0Q29udGV4dDogRG9jdW1lbnQgfCBFbGVtZW50LFxuICAgIHNjb3BlRXZlbnRzOiBTY29wZVsnZXZlbnRzJ10sXG4gICkge1xuICAgIHRoaXMuX2FjdGlvbnMgPSBvcHRpb25zLmFjdGlvbnNcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIHRoaXMuX2NvbnRleHQgPSBvcHRpb25zLmNvbnRleHQgfHwgZGVmYXVsdENvbnRleHRcbiAgICB0aGlzLl93aW4gPSBnZXRXaW5kb3codHJ5U2VsZWN0b3IodGFyZ2V0KSA/IHRoaXMuX2NvbnRleHQgOiB0YXJnZXQpXG4gICAgdGhpcy5fZG9jID0gdGhpcy5fd2luLmRvY3VtZW50XG4gICAgdGhpcy5fc2NvcGVFdmVudHMgPSBzY29wZUV2ZW50c1xuXG4gICAgdGhpcy5zZXQob3B0aW9ucylcbiAgfVxuXG4gIHNldE9uRXZlbnRzKGFjdGlvbk5hbWU6IEFjdGlvbk5hbWUsIHBoYXNlczogTm9uTnVsbGFibGU8YW55Pikge1xuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbnN0YXJ0KSkge1xuICAgICAgdGhpcy5vbihgJHthY3Rpb25OYW1lfXN0YXJ0YCwgcGhhc2VzLm9uc3RhcnQpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbm1vdmUpKSB7XG4gICAgICB0aGlzLm9uKGAke2FjdGlvbk5hbWV9bW92ZWAsIHBoYXNlcy5vbm1vdmUpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbmVuZCkpIHtcbiAgICAgIHRoaXMub24oYCR7YWN0aW9uTmFtZX1lbmRgLCBwaGFzZXMub25lbmQpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbmluZXJ0aWFzdGFydCkpIHtcbiAgICAgIHRoaXMub24oYCR7YWN0aW9uTmFtZX1pbmVydGlhc3RhcnRgLCBwaGFzZXMub25pbmVydGlhc3RhcnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHVwZGF0ZVBlckFjdGlvbkxpc3RlbmVycyhhY3Rpb25OYW1lOiBBY3Rpb25OYW1lLCBwcmV2OiBMaXN0ZW5lcnMgfCB1bmRlZmluZWQsIGN1cjogTGlzdGVuZXJzIHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgYWN0aW9uRmlsdGVyID0gKHRoaXMuX2FjdGlvbnMubWFwW2FjdGlvbk5hbWVdIGFzIHsgZmlsdGVyRXZlbnRUeXBlPzogKHR5cGU6IHN0cmluZykgPT4gYm9vbGVhbiB9KVxuICAgICAgPy5maWx0ZXJFdmVudFR5cGVcbiAgICBjb25zdCBmaWx0ZXIgPSAodHlwZTogc3RyaW5nKSA9PlxuICAgICAgKGFjdGlvbkZpbHRlciA9PSBudWxsIHx8IGFjdGlvbkZpbHRlcih0eXBlKSkgJiYgaXNOb25OYXRpdmVFdmVudCh0eXBlLCB0aGlzLl9hY3Rpb25zKVxuXG4gICAgaWYgKGlzLmFycmF5KHByZXYpIHx8IGlzLm9iamVjdChwcmV2KSkge1xuICAgICAgdGhpcy5fb25PZmYoT25PZmZNZXRob2QuT2ZmLCBhY3Rpb25OYW1lLCBwcmV2LCB1bmRlZmluZWQsIGZpbHRlcilcbiAgICB9XG5cbiAgICBpZiAoaXMuYXJyYXkoY3VyKSB8fCBpcy5vYmplY3QoY3VyKSkge1xuICAgICAgdGhpcy5fb25PZmYoT25PZmZNZXRob2QuT24sIGFjdGlvbk5hbWUsIGN1ciwgdW5kZWZpbmVkLCBmaWx0ZXIpXG4gICAgfVxuICB9XG5cbiAgc2V0UGVyQWN0aW9uKGFjdGlvbk5hbWU6IEFjdGlvbk5hbWUsIG9wdGlvbnM6IE9yQm9vbGVhbjxPcHRpb25zPikge1xuICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5fZGVmYXVsdHNcblxuICAgIC8vIGZvciBhbGwgdGhlIGRlZmF1bHQgcGVyLWFjdGlvbiBvcHRpb25zXG4gICAgZm9yIChjb25zdCBvcHRpb25OYW1lXyBpbiBvcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHRpb25OYW1lID0gb3B0aW9uTmFtZV8gYXMga2V5b2YgUGVyQWN0aW9uRGVmYXVsdHNcbiAgICAgIGNvbnN0IGFjdGlvbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnNbYWN0aW9uTmFtZV1cbiAgICAgIGNvbnN0IG9wdGlvblZhbHVlOiBhbnkgPSBvcHRpb25zW29wdGlvbk5hbWVdXG5cbiAgICAgIC8vIHJlbW92ZSBvbGQgZXZlbnQgbGlzdGVuZXJzIGFuZCBhZGQgbmV3IG9uZXNcbiAgICAgIGlmIChvcHRpb25OYW1lID09PSAnbGlzdGVuZXJzJykge1xuICAgICAgICB0aGlzLnVwZGF0ZVBlckFjdGlvbkxpc3RlbmVycyhhY3Rpb25OYW1lLCBhY3Rpb25PcHRpb25zLmxpc3RlbmVycywgb3B0aW9uVmFsdWUgYXMgTGlzdGVuZXJzKVxuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGUgb3B0aW9uIHZhbHVlIGlzIGFuIGFycmF5XG4gICAgICBpZiAoaXMuYXJyYXkob3B0aW9uVmFsdWUpKSB7XG4gICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpID0gYXJyLmZyb20ob3B0aW9uVmFsdWUpXG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgb3B0aW9uIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgICAgZWxzZSBpZiAoaXMucGxhaW5PYmplY3Qob3B0aW9uVmFsdWUpKSB7XG4gICAgICAgIC8vIGNvcHkgdGhlIG9iamVjdFxuICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KSA9IGV4dGVuZChcbiAgICAgICAgICBhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIHx8ICh7fSBhcyBhbnkpLFxuICAgICAgICAgIGNsb25lKG9wdGlvblZhbHVlKSxcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIHNldCBhbmFibGVkIGZpZWxkIHRvIHRydWUgaWYgaXQgZXhpc3RzIGluIHRoZSBkZWZhdWx0c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXMub2JqZWN0KGRlZmF1bHRzLnBlckFjdGlvbltvcHRpb25OYW1lXSkgJiZcbiAgICAgICAgICAnZW5hYmxlZCcgaW4gKGRlZmF1bHRzLnBlckFjdGlvbltvcHRpb25OYW1lXSBhcyBhbnkpXG4gICAgICAgICkge1xuICAgICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpLmVuYWJsZWQgPSBvcHRpb25WYWx1ZS5lbmFibGVkICE9PSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgb3B0aW9uIHZhbHVlIGlzIGEgYm9vbGVhbiBhbmQgdGhlIGRlZmF1bHQgaXMgYW4gb2JqZWN0XG4gICAgICBlbHNlIGlmIChpcy5ib29sKG9wdGlvblZhbHVlKSAmJiBpcy5vYmplY3QoZGVmYXVsdHMucGVyQWN0aW9uW29wdGlvbk5hbWVdKSkge1xuICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KS5lbmFibGVkID0gb3B0aW9uVmFsdWVcbiAgICAgIH1cbiAgICAgIC8vIGlmIGl0J3MgYW55dGhpbmcgZWxzZSwgZG8gYSBwbGFpbiBhc3NpZ25tZW50XG4gICAgICBlbHNlIHtcbiAgICAgICAgOyhhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkgPSBvcHRpb25WYWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBmdW5jdGlvbiB0byBnZXQgYW4gSW50ZXJhY3RhYmxlcyBib3VuZGluZyByZWN0LiBDYW4gYmVcbiAgICogb3ZlcnJpZGRlbiB1c2luZyB7QGxpbmsgSW50ZXJhY3RhYmxlLnJlY3RDaGVja2VyfS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBbZWxlbWVudF0gVGhlIGVsZW1lbnQgdG8gbWVhc3VyZS5cbiAgICogQHJldHVybiB7UmVjdH0gVGhlIG9iamVjdCdzIGJvdW5kaW5nIHJlY3RhbmdsZS5cbiAgICovXG4gIGdldFJlY3QoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IChpcy5lbGVtZW50KHRoaXMudGFyZ2V0KSA/IHRoaXMudGFyZ2V0IDogbnVsbClcblxuICAgIGlmIChpcy5zdHJpbmcodGhpcy50YXJnZXQpKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudCB8fCB0aGlzLl9jb250ZXh0LnF1ZXJ5U2VsZWN0b3IodGhpcy50YXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGdldEVsZW1lbnRSZWN0KGVsZW1lbnQpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBvciBzZXRzIHRoZSBmdW5jdGlvbiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW50ZXJhY3RhYmxlJ3NcbiAgICogZWxlbWVudCdzIHJlY3RhbmdsZVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2hlY2tlcl0gQSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoaXMgSW50ZXJhY3RhYmxlJ3NcbiAgICogYm91bmRpbmcgcmVjdGFuZ2xlLiBTZWUge0BsaW5rIEludGVyYWN0YWJsZS5nZXRSZWN0fVxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbiB8IG9iamVjdH0gVGhlIGNoZWNrZXIgZnVuY3Rpb24gb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIHJlY3RDaGVja2VyKCk6IChlbGVtZW50OiBFbGVtZW50KSA9PiBhbnkgfCBudWxsXG4gIHJlY3RDaGVja2VyKGNoZWNrZXI6IChlbGVtZW50OiBFbGVtZW50KSA9PiBhbnkpOiB0aGlzXG4gIHJlY3RDaGVja2VyKGNoZWNrZXI/OiAoZWxlbWVudDogRWxlbWVudCkgPT4gYW55KSB7XG4gICAgaWYgKGlzLmZ1bmMoY2hlY2tlcikpIHtcbiAgICAgIHRoaXMuZ2V0UmVjdCA9IChlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBleHRlbmQoe30sIGNoZWNrZXIuYXBwbHkodGhpcywgZWxlbWVudCkpXG5cbiAgICAgICAgaWYgKCEoKCd3aWR0aCcgaW4gcmVjdCkgYXMgdW5rbm93bikpIHtcbiAgICAgICAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICAgICAgICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlY3RcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoY2hlY2tlciA9PT0gbnVsbCkge1xuICAgICAgZGVsZXRlICh0aGlzIGFzIFBhcnRpYWw8dHlwZW9mIHRoaXM+KS5nZXRSZWN0XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVjdFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYmFja0NvbXBhdE9wdGlvbihvcHRpb25OYW1lOiBrZXlvZiBPcHRpb25zLCBuZXdWYWx1ZTogYW55KSB7XG4gICAgaWYgKHRyeVNlbGVjdG9yKG5ld1ZhbHVlKSB8fCBpcy5vYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICA7KHRoaXMub3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpID0gbmV3VmFsdWVcblxuICAgICAgZm9yIChjb25zdCBhY3Rpb24gaW4gdGhpcy5fYWN0aW9ucy5tYXApIHtcbiAgICAgICAgOyh0aGlzLm9wdGlvbnNbYWN0aW9uIGFzIGtleW9mIEFjdGlvbk1hcF0gYXMgYW55KVtvcHRpb25OYW1lXSA9IG5ld1ZhbHVlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25OYW1lXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgb3JpZ2luIG9mIHRoZSBJbnRlcmFjdGFibGUncyBlbGVtZW50LiAgVGhlIHggYW5kIHlcbiAgICogb2YgdGhlIG9yaWdpbiB3aWxsIGJlIHN1YnRyYWN0ZWQgZnJvbSBhY3Rpb24gZXZlbnQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudCB8IG9iamVjdCB8IHN0cmluZ30gW29yaWdpbl0gQW4gSFRNTCBvciBTVkcgRWxlbWVudCB3aG9zZVxuICAgKiByZWN0IHdpbGwgYmUgdXNlZCwgYW4gb2JqZWN0IGVnLiB7IHg6IDAsIHk6IDAgfSBvciBzdHJpbmcgJ3BhcmVudCcsICdzZWxmJ1xuICAgKiBvciBhbnkgQ1NTIHNlbGVjdG9yXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhlIGN1cnJlbnQgb3JpZ2luIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBvcmlnaW4obmV3VmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrQ29tcGF0T3B0aW9uKCdvcmlnaW4nLCBuZXdWYWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIG1vdXNlIGNvb3JkaW5hdGUgdHlwZXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlXG4gICAqIG1vdmVtZW50IG9mIHRoZSBwb2ludGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25ld1ZhbHVlXSBVc2UgJ2NsaWVudCcgaWYgeW91IHdpbGwgYmUgc2Nyb2xsaW5nIHdoaWxlXG4gICAqIGludGVyYWN0aW5nOyBVc2UgJ3BhZ2UnIGlmIHlvdSB3YW50IGF1dG9TY3JvbGwgdG8gd29ya1xuICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBvYmplY3R9IFRoZSBjdXJyZW50IGRlbHRhU291cmNlIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBkZWx0YVNvdXJjZSgpOiBEZWx0YVNvdXJjZVxuICBkZWx0YVNvdXJjZShuZXdWYWx1ZTogRGVsdGFTb3VyY2UpOiB0aGlzXG4gIGRlbHRhU291cmNlKG5ld1ZhbHVlPzogRGVsdGFTb3VyY2UpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09ICdwYWdlJyB8fCBuZXdWYWx1ZSA9PT0gJ2NsaWVudCcpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWx0YVNvdXJjZSA9IG5ld1ZhbHVlXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kZWx0YVNvdXJjZVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBbGxFbGVtZW50cygpOiBFbGVtZW50W10ge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSB0aGlzXG5cbiAgICBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2NvbnRleHQucXVlcnlTZWxlY3RvckFsbCh0YXJnZXQpKVxuICAgIH1cblxuICAgIGlmIChpcy5mdW5jKHRhcmdldCkgJiYgKHRhcmdldCBhcyBhbnkpLmdldEFsbEVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gKHRhcmdldCBhcyBhbnkpLmdldEFsbEVsZW1lbnRzKClcbiAgICB9XG5cbiAgICByZXR1cm4gaXMuZWxlbWVudCh0YXJnZXQpID8gW3RhcmdldF0gOiBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNlbGVjdG9yIGNvbnRleHQgTm9kZSBvZiB0aGUgSW50ZXJhY3RhYmxlLiBUaGUgZGVmYXVsdCBpc1xuICAgKiBgd2luZG93LmRvY3VtZW50YC5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX0gVGhlIGNvbnRleHQgTm9kZSBvZiB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgY29udGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udGV4dFxuICB9XG5cbiAgaW5Db250ZXh0KGVsZW1lbnQ6IERvY3VtZW50IHwgTm9kZSkge1xuICAgIHJldHVybiB0aGlzLl9jb250ZXh0ID09PSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgbm9kZUNvbnRhaW5zKHRoaXMuX2NvbnRleHQsIGVsZW1lbnQpXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHRlc3RJZ25vcmVBbGxvdyhcbiAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgb3B0aW9uczogeyBpZ25vcmVGcm9tPzogSWdub3JlVmFsdWU7IGFsbG93RnJvbT86IElnbm9yZVZhbHVlIH0sXG4gICAgdGFyZ2V0Tm9kZTogTm9kZSxcbiAgICBldmVudFRhcmdldDogTm9kZSxcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLnRlc3RJZ25vcmUob3B0aW9ucy5pZ25vcmVGcm9tLCB0YXJnZXROb2RlLCBldmVudFRhcmdldCkgJiZcbiAgICAgIHRoaXMudGVzdEFsbG93KG9wdGlvbnMuYWxsb3dGcm9tLCB0YXJnZXROb2RlLCBldmVudFRhcmdldClcbiAgICApXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHRlc3RBbGxvdyh0aGlzOiBJbnRlcmFjdGFibGUsIGFsbG93RnJvbTogSWdub3JlVmFsdWUgfCB1bmRlZmluZWQsIHRhcmdldE5vZGU6IE5vZGUsIGVsZW1lbnQ6IE5vZGUpIHtcbiAgICBpZiAoIWFsbG93RnJvbSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAoIWlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpcy5zdHJpbmcoYWxsb3dGcm9tKSkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNVcFRvKGVsZW1lbnQsIGFsbG93RnJvbSwgdGFyZ2V0Tm9kZSlcbiAgICB9IGVsc2UgaWYgKGlzLmVsZW1lbnQoYWxsb3dGcm9tKSkge1xuICAgICAgcmV0dXJuIG5vZGVDb250YWlucyhhbGxvd0Zyb20sIGVsZW1lbnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHRlc3RJZ25vcmUodGhpczogSW50ZXJhY3RhYmxlLCBpZ25vcmVGcm9tOiBJZ25vcmVWYWx1ZSB8IHVuZGVmaW5lZCwgdGFyZ2V0Tm9kZTogTm9kZSwgZWxlbWVudDogTm9kZSkge1xuICAgIGlmICghaWdub3JlRnJvbSB8fCAhaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGlzLnN0cmluZyhpZ25vcmVGcm9tKSkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNVcFRvKGVsZW1lbnQsIGlnbm9yZUZyb20sIHRhcmdldE5vZGUpXG4gICAgfSBlbHNlIGlmIChpcy5lbGVtZW50KGlnbm9yZUZyb20pKSB7XG4gICAgICByZXR1cm4gbm9kZUNvbnRhaW5zKGlnbm9yZUZyb20sIGVsZW1lbnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgbGlzdGVuZXJzIGZvciB0aGUgZ2l2ZW4gSW50ZXJhY3RFdmVudCB0eXBlIGJvdW5kIGdsb2JhbGx5XG4gICAqIGFuZCBkaXJlY3RseSB0byB0aGlzIEludGVyYWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge0ludGVyYWN0RXZlbnR9IGlFdmVudCBUaGUgSW50ZXJhY3RFdmVudCBvYmplY3QgdG8gYmUgZmlyZWQgb24gdGhpc1xuICAgKiBJbnRlcmFjdGFibGVcbiAgICogQHJldHVybiB7SW50ZXJhY3RhYmxlfSB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgZmlyZTxFIGV4dGVuZHMgeyB0eXBlOiBzdHJpbmcgfT4oaUV2ZW50OiBFKSB7XG4gICAgdGhpcy5ldmVudHMuZmlyZShpRXZlbnQpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfb25PZmYoXG4gICAgbWV0aG9kOiBPbk9mZk1ldGhvZCxcbiAgICB0eXBlQXJnOiBFdmVudFR5cGVzLFxuICAgIGxpc3RlbmVyQXJnPzogTGlzdGVuZXJzQXJnIHwgbnVsbCxcbiAgICBvcHRpb25zPzogYW55LFxuICAgIGZpbHRlcj86ICh0eXBlOiBzdHJpbmcpID0+IGJvb2xlYW4sXG4gICkge1xuICAgIGlmIChpcy5vYmplY3QodHlwZUFyZykgJiYgIWlzLmFycmF5KHR5cGVBcmcpKSB7XG4gICAgICBvcHRpb25zID0gbGlzdGVuZXJBcmdcbiAgICAgIGxpc3RlbmVyQXJnID0gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IG5vcm1hbGl6ZUxpc3RlbmVycyh0eXBlQXJnLCBsaXN0ZW5lckFyZywgZmlsdGVyKVxuXG4gICAgZm9yIChsZXQgdHlwZSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgIGlmICh0eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgIHR5cGUgPSBicm93c2VyLndoZWVsRXZlbnRcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgLy8gaWYgaXQgaXMgYW4gYWN0aW9uIGV2ZW50IHR5cGVcbiAgICAgICAgaWYgKGlzTm9uTmF0aXZlRXZlbnQodHlwZSwgdGhpcy5fYWN0aW9ucykpIHtcbiAgICAgICAgICB0aGlzLmV2ZW50c1ttZXRob2QgPT09IE9uT2ZmTWV0aG9kLk9uID8gJ29uJyA6ICdvZmYnXSh0eXBlLCBsaXN0ZW5lcilcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWxlZ2F0ZWQgZXZlbnRcbiAgICAgICAgZWxzZSBpZiAoaXMuc3RyaW5nKHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgIHRoaXMuX3Njb3BlRXZlbnRzW21ldGhvZCA9PT0gT25PZmZNZXRob2QuT24gPyAnYWRkRGVsZWdhdGUnIDogJ3JlbW92ZURlbGVnYXRlJ10oXG4gICAgICAgICAgICB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXIgZnJvbSB0aGlzIEludGVyYWN0YWJsZSdzIGVsZW1lbnRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2NvcGVFdmVudHNbbWV0aG9kID09PSBPbk9mZk1ldGhvZC5PbiA/ICdhZGQnIDogJ3JlbW92ZSddKFxuICAgICAgICAgICAgdGhpcy50YXJnZXQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQmluZHMgYSBsaXN0ZW5lciBmb3IgYW4gSW50ZXJhY3RFdmVudCwgcG9pbnRlckV2ZW50IG9yIERPTSBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBhcnJheSB8IG9iamVjdH0gdHlwZXMgVGhlIHR5cGVzIG9mIGV2ZW50cyB0byBsaXN0ZW5cbiAgICogZm9yXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24gfCBhcnJheSB8IG9iamVjdH0gW2xpc3RlbmVyXSBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24ocylcbiAgICogQHBhcmFtIHtvYmplY3QgfCBib29sZWFufSBbb3B0aW9uc10gb3B0aW9ucyBvYmplY3Qgb3IgdXNlQ2FwdHVyZSBmbGFnIGZvclxuICAgKiBhZGRFdmVudExpc3RlbmVyXG4gICAqIEByZXR1cm4ge0ludGVyYWN0YWJsZX0gVGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIG9uKHR5cGVzOiBFdmVudFR5cGVzLCBsaXN0ZW5lcj86IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IGFueSkge1xuICAgIHJldHVybiB0aGlzLl9vbk9mZihPbk9mZk1ldGhvZC5PbiwgdHlwZXMsIGxpc3RlbmVyLCBvcHRpb25zKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gSW50ZXJhY3RFdmVudCwgcG9pbnRlckV2ZW50IG9yIERPTSBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBhcnJheSB8IG9iamVjdH0gdHlwZXMgVGhlIHR5cGVzIG9mIGV2ZW50cyB0aGF0IHdlcmVcbiAgICogbGlzdGVuZWQgZm9yXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24gfCBhcnJheSB8IG9iamVjdH0gW2xpc3RlbmVyXSBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24ocylcbiAgICogQHBhcmFtIHtvYmplY3QgfCBib29sZWFufSBbb3B0aW9uc10gb3B0aW9ucyBvYmplY3Qgb3IgdXNlQ2FwdHVyZSBmbGFnIGZvclxuICAgKiByZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIEByZXR1cm4ge0ludGVyYWN0YWJsZX0gVGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIG9mZih0eXBlczogc3RyaW5nIHwgc3RyaW5nW10gfCBFdmVudFR5cGVzLCBsaXN0ZW5lcj86IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IGFueSkge1xuICAgIHJldHVybiB0aGlzLl9vbk9mZihPbk9mZk1ldGhvZC5PZmYsIHR5cGVzLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgb3B0aW9ucyBvZiB0aGlzIEludGVyYWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgbmV3IHNldHRpbmdzIHRvIGFwcGx5XG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIHNldChvcHRpb25zOiBPcHRpb25zQXJnKSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB0aGlzLl9kZWZhdWx0c1xuXG4gICAgaWYgKCFpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIDsodGhpcy5vcHRpb25zIGFzIFJlcXVpcmVkPE9wdGlvbnM+KSA9IGNsb25lKGRlZmF1bHRzLmJhc2UpIGFzIFJlcXVpcmVkPE9wdGlvbnM+XG5cbiAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWVfIGluIHRoaXMuX2FjdGlvbnMubWV0aG9kRGljdCkge1xuICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFjdGlvbk5hbWVfIGFzIEFjdGlvbk5hbWVcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSB0aGlzLl9hY3Rpb25zLm1ldGhvZERpY3RbYWN0aW9uTmFtZV1cblxuICAgICAgdGhpcy5vcHRpb25zW2FjdGlvbk5hbWVdID0ge31cbiAgICAgIHRoaXMuc2V0UGVyQWN0aW9uKGFjdGlvbk5hbWUsIGV4dGVuZChleHRlbmQoe30sIGRlZmF1bHRzLnBlckFjdGlvbiksIGRlZmF1bHRzLmFjdGlvbnNbYWN0aW9uTmFtZV0pKVxuICAgICAgOyh0aGlzW21ldGhvZE5hbWVdIGFzIEFjdGlvbk1ldGhvZDx1bmtub3duPikob3B0aW9uc1thY3Rpb25OYW1lXSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHNldHRpbmcgaW4gb3B0aW9ucykge1xuICAgICAgaWYgKHNldHRpbmcgPT09ICdnZXRSZWN0Jykge1xuICAgICAgICB0aGlzLnJlY3RDaGVja2VyKG9wdGlvbnMuZ2V0UmVjdClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKGlzLmZ1bmMoKHRoaXMgYXMgYW55KVtzZXR0aW5nXSkpIHtcbiAgICAgICAgOyh0aGlzIGFzIGFueSlbc2V0dGluZ10ob3B0aW9uc1tzZXR0aW5nIGFzIGtleW9mIHR5cGVvZiBvcHRpb25zXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGlzIGludGVyYWN0YWJsZSBmcm9tIHRoZSBsaXN0IG9mIGludGVyYWN0YWJsZXMgYW5kIHJlbW92ZSBpdCdzXG4gICAqIGFjdGlvbiBjYXBhYmlsaXRpZXMgYW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cbiAgdW5zZXQoKSB7XG4gICAgaWYgKGlzLnN0cmluZyh0aGlzLnRhcmdldCkpIHtcbiAgICAgIC8vIHJlbW92ZSBkZWxlZ2F0ZWQgZXZlbnRzXG4gICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy5fc2NvcGVFdmVudHMuZGVsZWdhdGVkRXZlbnRzKSB7XG4gICAgICAgIGNvbnN0IGRlbGVnYXRlZCA9IHRoaXMuX3Njb3BlRXZlbnRzLmRlbGVnYXRlZEV2ZW50c1t0eXBlXVxuXG4gICAgICAgIGZvciAobGV0IGkgPSBkZWxlZ2F0ZWQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCB7IHNlbGVjdG9yLCBjb250ZXh0LCBsaXN0ZW5lcnMgfSA9IGRlbGVnYXRlZFtpXVxuXG4gICAgICAgICAgaWYgKHNlbGVjdG9yID09PSB0aGlzLnRhcmdldCAmJiBjb250ZXh0ID09PSB0aGlzLl9jb250ZXh0KSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZWQuc3BsaWNlKGksIDEpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChsZXQgbCA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgdGhpcy5fc2NvcGVFdmVudHMucmVtb3ZlRGVsZWdhdGUoXG4gICAgICAgICAgICAgIHRoaXMudGFyZ2V0LFxuICAgICAgICAgICAgICB0aGlzLl9jb250ZXh0LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBsaXN0ZW5lcnNbbF1bMF0sXG4gICAgICAgICAgICAgIGxpc3RlbmVyc1tsXVsxXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2NvcGVFdmVudHMucmVtb3ZlKHRoaXMudGFyZ2V0LCAnYWxsJylcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcblxuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgT3B0aW9uc0FyZywgT3B0aW9ucyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBUYXJnZXQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0YWJsZTpuZXcnOiB7XG4gICAgICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICAgICAgdGFyZ2V0OiBUYXJnZXRcbiAgICAgIG9wdGlvbnM6IE9wdGlvbnNBcmdcbiAgICAgIHdpbjogV2luZG93XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGFibGVTZXQge1xuICAvLyBhbGwgc2V0IGludGVyYWN0YWJsZXNcbiAgbGlzdDogSW50ZXJhY3RhYmxlW10gPSBbXVxuXG4gIHNlbGVjdG9yTWFwOiB7XG4gICAgW3NlbGVjdG9yOiBzdHJpbmddOiBJbnRlcmFjdGFibGVbXVxuICB9ID0ge31cblxuICBzY29wZTogU2NvcGVcblxuICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUpIHtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGVcbiAgICBzY29wZS5hZGRMaXN0ZW5lcnMoe1xuICAgICAgJ2ludGVyYWN0YWJsZTp1bnNldCc6ICh7IGludGVyYWN0YWJsZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBpbnRlcmFjdGFibGVcbiAgICAgICAgY29uc3QgaW50ZXJhY3RhYmxlc09uVGFyZ2V0OiBJbnRlcmFjdGFibGVbXSA9IGlzLnN0cmluZyh0YXJnZXQpXG4gICAgICAgICAgPyB0aGlzLnNlbGVjdG9yTWFwW3RhcmdldF1cbiAgICAgICAgICA6ICh0YXJnZXQgYXMgYW55KVt0aGlzLnNjb3BlLmlkXVxuXG4gICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gYXJyLmZpbmRJbmRleChpbnRlcmFjdGFibGVzT25UYXJnZXQsIChpKSA9PiBpID09PSBpbnRlcmFjdGFibGUpXG4gICAgICAgIGludGVyYWN0YWJsZXNPblRhcmdldC5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICBuZXcodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM/OiBhbnkpOiBJbnRlcmFjdGFibGUge1xuICAgIG9wdGlvbnMgPSBleHRlbmQob3B0aW9ucyB8fCB7fSwge1xuICAgICAgYWN0aW9uczogdGhpcy5zY29wZS5hY3Rpb25zLFxuICAgIH0pXG4gICAgY29uc3QgaW50ZXJhY3RhYmxlID0gbmV3IHRoaXMuc2NvcGUuSW50ZXJhY3RhYmxlKHRhcmdldCwgb3B0aW9ucywgdGhpcy5zY29wZS5kb2N1bWVudCwgdGhpcy5zY29wZS5ldmVudHMpXG5cbiAgICB0aGlzLnNjb3BlLmFkZERvY3VtZW50KGludGVyYWN0YWJsZS5fZG9jKVxuICAgIHRoaXMubGlzdC5wdXNoKGludGVyYWN0YWJsZSlcblxuICAgIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgaWYgKCF0aGlzLnNlbGVjdG9yTWFwW3RhcmdldF0pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvck1hcFt0YXJnZXRdID0gW11cbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0XS5wdXNoKGludGVyYWN0YWJsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEoaW50ZXJhY3RhYmxlLnRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHRoaXMuc2NvcGUuaWQsIHtcbiAgICAgICAgICB2YWx1ZTogW10sXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICA7KHRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdLnB1c2goaW50ZXJhY3RhYmxlKVxuICAgIH1cblxuICAgIHRoaXMuc2NvcGUuZmlyZSgnaW50ZXJhY3RhYmxlOm5ldycsIHtcbiAgICAgIHRhcmdldCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBpbnRlcmFjdGFibGUsXG4gICAgICB3aW46IHRoaXMuc2NvcGUuX3dpbixcbiAgICB9KVxuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9XG5cbiAgZ2V0RXhpc3RpbmcodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgY29uc3QgY29udGV4dCA9IChvcHRpb25zICYmIG9wdGlvbnMuY29udGV4dCkgfHwgdGhpcy5zY29wZS5kb2N1bWVudFxuICAgIGNvbnN0IGlzU2VsZWN0b3IgPSBpcy5zdHJpbmcodGFyZ2V0KVxuICAgIGNvbnN0IGludGVyYWN0YWJsZXNPblRhcmdldDogSW50ZXJhY3RhYmxlW10gPSBpc1NlbGVjdG9yXG4gICAgICA/IHRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0IGFzIHN0cmluZ11cbiAgICAgIDogKHRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdXG5cbiAgICBpZiAoIWludGVyYWN0YWJsZXNPblRhcmdldCkgcmV0dXJuIHVuZGVmaW5lZFxuXG4gICAgcmV0dXJuIGFyci5maW5kKFxuICAgICAgaW50ZXJhY3RhYmxlc09uVGFyZ2V0LFxuICAgICAgKGludGVyYWN0YWJsZSkgPT5cbiAgICAgICAgaW50ZXJhY3RhYmxlLl9jb250ZXh0ID09PSBjb250ZXh0ICYmIChpc1NlbGVjdG9yIHx8IGludGVyYWN0YWJsZS5pbkNvbnRleHQodGFyZ2V0IGFzIGFueSkpLFxuICAgIClcbiAgfVxuXG4gIGZvckVhY2hNYXRjaDxUPihub2RlOiBOb2RlLCBjYWxsYmFjazogKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKSA9PiBUKTogVCB8IHZvaWQge1xuICAgIGZvciAoY29uc3QgaW50ZXJhY3RhYmxlIG9mIHRoaXMubGlzdCkge1xuICAgICAgbGV0IHJldDogVFxuXG4gICAgICBpZiAoXG4gICAgICAgIChpcy5zdHJpbmcoaW50ZXJhY3RhYmxlLnRhcmdldClcbiAgICAgICAgICA/IC8vIHRhcmdldCBpcyBhIHNlbGVjdG9yIGFuZCB0aGUgZWxlbWVudCBtYXRjaGVzXG4gICAgICAgICAgICBpcy5lbGVtZW50KG5vZGUpICYmIGRvbVV0aWxzLm1hdGNoZXNTZWxlY3Rvcihub2RlLCBpbnRlcmFjdGFibGUudGFyZ2V0KVxuICAgICAgICAgIDogLy8gdGFyZ2V0IGlzIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBub2RlID09PSBpbnRlcmFjdGFibGUudGFyZ2V0KSAmJlxuICAgICAgICAvLyB0aGUgZWxlbWVudCBpcyBpbiBjb250ZXh0XG4gICAgICAgIGludGVyYWN0YWJsZS5pbkNvbnRleHQobm9kZSlcbiAgICAgICkge1xuICAgICAgICByZXQgPSBjYWxsYmFjayhpbnRlcmFjdGFibGUpXG4gICAgICB9XG5cbiAgICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmV0XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IGJyb3dzZXIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcidcbmltcG9ydCBjbG9uZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9jbG9uZSdcbmltcG9ydCBkb21PYmplY3RzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbU9iamVjdHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCByYWYgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmFmJ1xuaW1wb3J0ICogYXMgd2luIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3dpbmRvdydcblxuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcblxuaW1wb3J0IHsgRXZlbnRhYmxlIH0gZnJvbSAnLi9FdmVudGFibGUnXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2V2ZW50cydcbmltcG9ydCAnLi9pbnRlcmFjdGlvbnMnXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJ1xuaW1wb3J0IHsgSW50ZXJhY3RhYmxlIGFzIEludGVyYWN0YWJsZUJhc2UgfSBmcm9tICcuL0ludGVyYWN0YWJsZSdcbmltcG9ydCB7IEludGVyYWN0YWJsZVNldCB9IGZyb20gJy4vSW50ZXJhY3RhYmxlU2V0J1xuaW1wb3J0IHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJy4vSW50ZXJhY3RFdmVudCdcbmltcG9ydCBpbnRlcmFjdGlvbnMgZnJvbSAnLi9pbnRlcmFjdGlvbnMnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5pbXBvcnQgeyBjcmVhdGVJbnRlcmFjdFN0YXRpYyB9IGZyb20gJy4vSW50ZXJhY3RTdGF0aWMnXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnNBcmcgfSBmcm9tICcuL29wdGlvbnMnXG5pbXBvcnQgeyBkZWZhdWx0cyB9IGZyb20gJy4vb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgQWN0aW9ucyB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICdzY29wZTphZGQtZG9jdW1lbnQnOiBEb2NTaWduYWxBcmdcbiAgJ3Njb3BlOnJlbW92ZS1kb2N1bWVudCc6IERvY1NpZ25hbEFyZ1xuICAnaW50ZXJhY3RhYmxlOnVuc2V0JzogeyBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZUJhc2UgfVxuICAnaW50ZXJhY3RhYmxlOnNldCc6IHsgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVCYXNlOyBvcHRpb25zOiBPcHRpb25zQXJnIH1cbiAgJ2ludGVyYWN0aW9uczpkZXN0cm95JzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfVxufVxuXG5leHBvcnQgdHlwZSBMaXN0ZW5lck5hbWUgPSBrZXlvZiBTaWduYWxBcmdzXG5cbmV4cG9ydCB0eXBlIExpc3RlbmVyTWFwID0ge1xuICBbUCBpbiBMaXN0ZW5lck5hbWVdPzogKGFyZzogU2lnbmFsQXJnc1tQXSwgc2NvcGU6IFNjb3BlLCBzaWduYWxOYW1lOiBQKSA9PiB2b2lkIHwgYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgRG9jU2lnbmFsQXJnIHtcbiAgZG9jOiBEb2N1bWVudFxuICB3aW5kb3c6IFdpbmRvd1xuICBzY29wZTogU2NvcGVcbiAgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpbiB7XG4gIFtrZXk6IHN0cmluZ106IGFueVxuICBpZD86IHN0cmluZ1xuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lck1hcFxuICBiZWZvcmU/OiBzdHJpbmdbXVxuICBpbnN0YWxsPyhzY29wZTogU2NvcGUsIG9wdGlvbnM/OiBhbnkpOiB2b2lkXG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBTY29wZSB7XG4gIGlkID0gYF9faW50ZXJhY3Rfc2NvcGVfJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApfWBcbiAgaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIGxpc3RlbmVyTWFwczogQXJyYXk8e1xuICAgIG1hcDogTGlzdGVuZXJNYXBcbiAgICBpZD86IHN0cmluZ1xuICB9PiA9IFtdXG5cbiAgYnJvd3NlciA9IGJyb3dzZXJcbiAgZGVmYXVsdHMgPSBjbG9uZShkZWZhdWx0cykgYXMgdHlwZW9mIGRlZmF1bHRzXG4gIEV2ZW50YWJsZSA9IEV2ZW50YWJsZVxuICBhY3Rpb25zOiBBY3Rpb25zID0ge1xuICAgIG1hcDoge30sXG4gICAgcGhhc2VzOiB7XG4gICAgICBzdGFydDogdHJ1ZSxcbiAgICAgIG1vdmU6IHRydWUsXG4gICAgICBlbmQ6IHRydWUsXG4gICAgfSxcbiAgICBtZXRob2REaWN0OiB7fSBhcyBhbnksXG4gICAgcGhhc2VsZXNzVHlwZXM6IHt9LFxuICB9XG5cbiAgaW50ZXJhY3RTdGF0aWMgPSBjcmVhdGVJbnRlcmFjdFN0YXRpYyh0aGlzKVxuICBJbnRlcmFjdEV2ZW50ID0gSW50ZXJhY3RFdmVudFxuICBJbnRlcmFjdGFibGU6IHR5cGVvZiBJbnRlcmFjdGFibGVCYXNlXG4gIGludGVyYWN0YWJsZXMgPSBuZXcgSW50ZXJhY3RhYmxlU2V0KHRoaXMpXG5cbiAgLy8gbWFpbiB3aW5kb3dcbiAgX3dpbiE6IFdpbmRvd1xuXG4gIC8vIG1haW4gZG9jdW1lbnRcbiAgZG9jdW1lbnQhOiBEb2N1bWVudFxuXG4gIC8vIG1haW4gd2luZG93XG4gIHdpbmRvdyE6IFdpbmRvd1xuXG4gIC8vIGFsbCBkb2N1bWVudHMgYmVpbmcgbGlzdGVuZWQgdG9cbiAgZG9jdW1lbnRzOiBBcnJheTx7IGRvYzogRG9jdW1lbnQ7IG9wdGlvbnM6IGFueSB9PiA9IFtdXG5cbiAgX3BsdWdpbnM6IHtcbiAgICBsaXN0OiBQbHVnaW5bXVxuICAgIG1hcDogeyBbaWQ6IHN0cmluZ106IFBsdWdpbiB9XG4gIH0gPSB7XG4gICAgbGlzdDogW10sXG4gICAgbWFwOiB7fSxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpc1xuXG4gICAgdGhpcy5JbnRlcmFjdGFibGUgPSBjbGFzcyBleHRlbmRzIEludGVyYWN0YWJsZUJhc2Uge1xuICAgICAgZ2V0IF9kZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlLmRlZmF1bHRzXG4gICAgICB9XG5cbiAgICAgIHNldDxUIGV4dGVuZHMgSW50ZXJhY3RhYmxlQmFzZT4odGhpczogVCwgb3B0aW9uczogT3B0aW9uc0FyZykge1xuICAgICAgICBzdXBlci5zZXQob3B0aW9ucylcblxuICAgICAgICBzY29wZS5maXJlKCdpbnRlcmFjdGFibGU6c2V0Jywge1xuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgaW50ZXJhY3RhYmxlOiB0aGlzLFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgICB9XG5cbiAgICAgIHVuc2V0KHRoaXM6IEludGVyYWN0YWJsZUJhc2UpIHtcbiAgICAgICAgc3VwZXIudW5zZXQoKVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5saXN0LmluZGV4T2YodGhpcylcbiAgICAgICAgaWYgKGluZGV4IDwgMCkgcmV0dXJuXG5cbiAgICAgICAgc2NvcGUuaW50ZXJhY3RhYmxlcy5saXN0LnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgc2NvcGUuZmlyZSgnaW50ZXJhY3RhYmxlOnVuc2V0JywgeyBpbnRlcmFjdGFibGU6IHRoaXMgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRMaXN0ZW5lcnMobWFwOiBMaXN0ZW5lck1hcCwgaWQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmxpc3RlbmVyTWFwcy5wdXNoKHsgaWQsIG1hcCB9KVxuICB9XG5cbiAgZmlyZTxUIGV4dGVuZHMgTGlzdGVuZXJOYW1lPihuYW1lOiBULCBhcmc6IFNpZ25hbEFyZ3NbVF0pOiB2b2lkIHwgZmFsc2Uge1xuICAgIGZvciAoY29uc3Qge1xuICAgICAgbWFwOiB7IFtuYW1lXTogbGlzdGVuZXIgfSxcbiAgICB9IG9mIHRoaXMubGlzdGVuZXJNYXBzKSB7XG4gICAgICBpZiAoISFsaXN0ZW5lciAmJiBsaXN0ZW5lcihhcmcgYXMgYW55LCB0aGlzLCBuYW1lIGFzIG5ldmVyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25XaW5kb3dVbmxvYWQgPSAoZXZlbnQ6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB0aGlzLnJlbW92ZURvY3VtZW50KGV2ZW50LnRhcmdldCBhcyBEb2N1bWVudClcblxuICBpbml0KHdpbmRvdzogV2luZG93IHwgdHlwZW9mIGdsb2JhbFRoaXMpIHtcbiAgICByZXR1cm4gdGhpcy5pc0luaXRpYWxpemVkID8gdGhpcyA6IGluaXRTY29wZSh0aGlzLCB3aW5kb3cpXG4gIH1cblxuICBwbHVnaW5Jc0luc3RhbGxlZChwbHVnaW46IFBsdWdpbikge1xuICAgIGNvbnN0IHsgaWQgfSA9IHBsdWdpblxuICAgIHJldHVybiBpZCA/ICEhdGhpcy5fcGx1Z2lucy5tYXBbaWRdIDogdGhpcy5fcGx1Z2lucy5saXN0LmluZGV4T2YocGx1Z2luKSAhPT0gLTFcbiAgfVxuXG4gIHVzZVBsdWdpbihwbHVnaW46IFBsdWdpbiwgb3B0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wbHVnaW5Jc0luc3RhbGxlZChwbHVnaW4pKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChwbHVnaW4uaWQpIHtcbiAgICAgIHRoaXMuX3BsdWdpbnMubWFwW3BsdWdpbi5pZF0gPSBwbHVnaW5cbiAgICB9XG4gICAgdGhpcy5fcGx1Z2lucy5saXN0LnB1c2gocGx1Z2luKVxuXG4gICAgaWYgKHBsdWdpbi5pbnN0YWxsKSB7XG4gICAgICBwbHVnaW4uaW5zdGFsbCh0aGlzLCBvcHRpb25zKVxuICAgIH1cblxuICAgIGlmIChwbHVnaW4ubGlzdGVuZXJzICYmIHBsdWdpbi5iZWZvcmUpIHtcbiAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMubGlzdGVuZXJNYXBzLmxlbmd0aFxuICAgICAgY29uc3QgYmVmb3JlID0gcGx1Z2luLmJlZm9yZS5yZWR1Y2UoKGFjYywgaWQpID0+IHtcbiAgICAgICAgYWNjW2lkXSA9IHRydWVcbiAgICAgICAgYWNjW3BsdWdpbklkUm9vdChpZCldID0gdHJ1ZVxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSlcblxuICAgICAgZm9yICg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IG90aGVySWQgPSB0aGlzLmxpc3RlbmVyTWFwc1tpbmRleF0uaWRcblxuICAgICAgICBpZiAob3RoZXJJZCAmJiAoYmVmb3JlW290aGVySWRdIHx8IGJlZm9yZVtwbHVnaW5JZFJvb3Qob3RoZXJJZCldKSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5saXN0ZW5lck1hcHMuc3BsaWNlKGluZGV4LCAwLCB7IGlkOiBwbHVnaW4uaWQsIG1hcDogcGx1Z2luLmxpc3RlbmVycyB9KVxuICAgIH0gZWxzZSBpZiAocGx1Z2luLmxpc3RlbmVycykge1xuICAgICAgdGhpcy5saXN0ZW5lck1hcHMucHVzaCh7IGlkOiBwbHVnaW4uaWQsIG1hcDogcGx1Z2luLmxpc3RlbmVycyB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBhZGREb2N1bWVudChkb2M6IERvY3VtZW50LCBvcHRpb25zPzogYW55KTogdm9pZCB8IGZhbHNlIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIGRvY3VtZW50IGlzIGFscmVhZHkga25vd25cbiAgICBpZiAodGhpcy5nZXREb2NJbmRleChkb2MpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3Qgd2luZG93ID0gd2luLmdldFdpbmRvdyhkb2MpXG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IGV4dGVuZCh7fSwgb3B0aW9ucykgOiB7fVxuXG4gICAgdGhpcy5kb2N1bWVudHMucHVzaCh7IGRvYywgb3B0aW9ucyB9KVxuICAgIHRoaXMuZXZlbnRzLmRvY3VtZW50cy5wdXNoKGRvYylcblxuICAgIC8vIGRvbid0IGFkZCBhbiB1bmxvYWQgZXZlbnQgZm9yIHRoZSBtYWluIGRvY3VtZW50XG4gICAgLy8gc28gdGhhdCB0aGUgcGFnZSBtYXkgYmUgY2FjaGVkIGluIGJyb3dzZXIgaGlzdG9yeVxuICAgIGlmIChkb2MgIT09IHRoaXMuZG9jdW1lbnQpIHtcbiAgICAgIHRoaXMuZXZlbnRzLmFkZCh3aW5kb3csICd1bmxvYWQnLCB0aGlzLm9uV2luZG93VW5sb2FkKVxuICAgIH1cblxuICAgIHRoaXMuZmlyZSgnc2NvcGU6YWRkLWRvY3VtZW50JywgeyBkb2MsIHdpbmRvdywgc2NvcGU6IHRoaXMsIG9wdGlvbnMgfSlcbiAgfVxuXG4gIHJlbW92ZURvY3VtZW50KGRvYzogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2V0RG9jSW5kZXgoZG9jKVxuXG4gICAgY29uc3Qgd2luZG93ID0gd2luLmdldFdpbmRvdyhkb2MpXG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZG9jdW1lbnRzW2luZGV4XS5vcHRpb25zXG5cbiAgICB0aGlzLmV2ZW50cy5yZW1vdmUod2luZG93LCAndW5sb2FkJywgdGhpcy5vbldpbmRvd1VubG9hZClcblxuICAgIHRoaXMuZG9jdW1lbnRzLnNwbGljZShpbmRleCwgMSlcbiAgICB0aGlzLmV2ZW50cy5kb2N1bWVudHMuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgdGhpcy5maXJlKCdzY29wZTpyZW1vdmUtZG9jdW1lbnQnLCB7IGRvYywgd2luZG93LCBzY29wZTogdGhpcywgb3B0aW9ucyB9KVxuICB9XG5cbiAgZ2V0RG9jSW5kZXgoZG9jOiBEb2N1bWVudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb2N1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50c1tpXS5kb2MgPT09IGRvYykge1xuICAgICAgICByZXR1cm4gaVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMVxuICB9XG5cbiAgZ2V0RG9jT3B0aW9ucyhkb2M6IERvY3VtZW50KSB7XG4gICAgY29uc3QgZG9jSW5kZXggPSB0aGlzLmdldERvY0luZGV4KGRvYylcblxuICAgIHJldHVybiBkb2NJbmRleCA9PT0gLTEgPyBudWxsIDogdGhpcy5kb2N1bWVudHNbZG9jSW5kZXhdLm9wdGlvbnNcbiAgfVxuXG4gIG5vdygpIHtcbiAgICByZXR1cm4gKCgodGhpcy53aW5kb3cgYXMgYW55KS5EYXRlIGFzIHR5cGVvZiBEYXRlKSB8fCBEYXRlKS5ub3coKVxuICB9XG59XG5cbi8vIEtlZXAgU2NvcGUgY2xhc3MgaW50ZXJuYWwsIGJ1dCBleHBvc2UgbWluaW1hbCBpbnRlcmZhY2UgdG8gYXZvaWQgYnJva2VuIHR5cGVzIHdoZW4gU2NvcGUgaXMgc3RyaXBwZWQgb3V0XG5leHBvcnQgaW50ZXJmYWNlIFNjb3BlIHtcbiAgZmlyZTxUIGV4dGVuZHMgTGlzdGVuZXJOYW1lPihuYW1lOiBULCBhcmc6IFNpZ25hbEFyZ3NbVF0pOiB2b2lkIHwgZmFsc2Vcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTY29wZShzY29wZTogU2NvcGUsIHdpbmRvdzogV2luZG93IHwgdHlwZW9mIGdsb2JhbFRoaXMpIHtcbiAgc2NvcGUuaXNJbml0aWFsaXplZCA9IHRydWVcblxuICBpZiAoaXMud2luZG93KHdpbmRvdykpIHtcbiAgICB3aW4uaW5pdCh3aW5kb3cpXG4gIH1cblxuICBkb21PYmplY3RzLmluaXQod2luZG93KVxuICBicm93c2VyLmluaXQod2luZG93KVxuICByYWYuaW5pdCh3aW5kb3cpXG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICBzY29wZS53aW5kb3cgPSB3aW5kb3dcbiAgc2NvcGUuZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnRcblxuICBzY29wZS51c2VQbHVnaW4oaW50ZXJhY3Rpb25zKVxuICBzY29wZS51c2VQbHVnaW4oZXZlbnRzKVxuXG4gIHJldHVybiBzY29wZVxufVxuXG5mdW5jdGlvbiBwbHVnaW5JZFJvb3QoaWQ6IHN0cmluZykge1xuICByZXR1cm4gaWQgJiYgaWQucmVwbGFjZSgvXFwvLiokLywgJycpXG59XG4iLCAiaW1wb3J0IGJyb3dzZXIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcidcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IGlzTm9uTmF0aXZlRXZlbnQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXNOb25OYXRpdmVFdmVudCdcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IENvbnRleHQsIEV2ZW50VHlwZXMsIExpc3RlbmVyLCBMaXN0ZW5lcnNBcmcsIFRhcmdldCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnLi9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnXG5cbi8qKlxuICogYGBganNcbiAqIGludGVyYWN0KCcjZHJhZ2dhYmxlJykuZHJhZ2dhYmxlKHRydWUpXG4gKlxuICogdmFyIHJlY3RhYmxlcyA9IGludGVyYWN0KCdyZWN0JylcbiAqIHJlY3RhYmxlc1xuICogICAuZ2VzdHVyYWJsZSh0cnVlKVxuICogICAub24oJ2dlc3R1cmVtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgICAvLyAuLi5cbiAqICAgfSlcbiAqIGBgYFxuICpcbiAqIFRoZSBtZXRob2RzIG9mIHRoaXMgdmFyaWFibGUgY2FuIGJlIHVzZWQgdG8gc2V0IGVsZW1lbnRzIGFzIGludGVyYWN0YWJsZXNcbiAqIGFuZCBhbHNvIHRvIGNoYW5nZSB2YXJpb3VzIGRlZmF1bHQgc2V0dGluZ3MuXG4gKlxuICogQ2FsbGluZyBpdCBhcyBhIGZ1bmN0aW9uIGFuZCBwYXNzaW5nIGFuIGVsZW1lbnQgb3IgYSB2YWxpZCBDU1Mgc2VsZWN0b3JcbiAqIHN0cmluZyByZXR1cm5zIGFuIEludGVyYWN0YWJsZSBvYmplY3Qgd2hpY2ggaGFzIHZhcmlvdXMgbWV0aG9kcyB0byBjb25maWd1cmVcbiAqIGl0LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudCB8IHN0cmluZ30gdGFyZ2V0IFRoZSBIVE1MIG9yIFNWRyBFbGVtZW50IHRvIGludGVyYWN0IHdpdGhcbiAqIG9yIENTUyBzZWxlY3RvclxuICogQHJldHVybiB7SW50ZXJhY3RhYmxlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgKHRhcmdldDogVGFyZ2V0LCBvcHRpb25zPzogT3B0aW9ucyk6IEludGVyYWN0YWJsZVxuICBnZXRQb2ludGVyQXZlcmFnZTogdHlwZW9mIHBvaW50ZXJVdGlscy5wb2ludGVyQXZlcmFnZVxuICBnZXRUb3VjaEJCb3g6IHR5cGVvZiBwb2ludGVyVXRpbHMudG91Y2hCQm94XG4gIGdldFRvdWNoRGlzdGFuY2U6IHR5cGVvZiBwb2ludGVyVXRpbHMudG91Y2hEaXN0YW5jZVxuICBnZXRUb3VjaEFuZ2xlOiB0eXBlb2YgcG9pbnRlclV0aWxzLnRvdWNoQW5nbGVcbiAgZ2V0RWxlbWVudFJlY3Q6IHR5cGVvZiBkb21VdGlscy5nZXRFbGVtZW50UmVjdFxuICBnZXRFbGVtZW50Q2xpZW50UmVjdDogdHlwZW9mIGRvbVV0aWxzLmdldEVsZW1lbnRDbGllbnRSZWN0XG4gIG1hdGNoZXNTZWxlY3RvcjogdHlwZW9mIGRvbVV0aWxzLm1hdGNoZXNTZWxlY3RvclxuICBjbG9zZXN0OiB0eXBlb2YgZG9tVXRpbHMuY2xvc2VzdFxuICAvKiogQGludGVybmFsICovIGdsb2JhbEV2ZW50czogYW55XG4gIHZlcnNpb246IHN0cmluZ1xuICAvKiogQGludGVybmFsICovIHNjb3BlOiBTY29wZVxuICAvKipcbiAgICogVXNlIGEgcGx1Z2luXG4gICAqL1xuICB1c2UoXG4gICAgcGx1Z2luOiBQbHVnaW4sXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IGFueVxuICAgIH0sXG4gICk6IGFueVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZWxlbWVudCBvciBzZWxlY3RvciBoYXMgYmVlbiBzZXQgd2l0aCB0aGUgYGludGVyYWN0KHRhcmdldClgXG4gICAqIGZ1bmN0aW9uXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEluZGljYXRlcyBpZiB0aGUgZWxlbWVudCBvciBDU1Mgc2VsZWN0b3Igd2FzIHByZXZpb3VzbHlcbiAgICogcGFzc2VkIHRvIGludGVyYWN0XG4gICAqL1xuICBpc1NldChcbiAgICAvKiBUaGUgRWxlbWVudCBvciBzdHJpbmcgYmVpbmcgc2VhcmNoZWQgZm9yICovXG4gICAgdGFyZ2V0OiBUYXJnZXQsXG4gICAgb3B0aW9ucz86IGFueSxcbiAgKTogYm9vbGVhblxuICBvbih0eXBlOiBzdHJpbmcgfCBFdmVudFR5cGVzLCBsaXN0ZW5lcjogTGlzdGVuZXJzQXJnLCBvcHRpb25zPzogb2JqZWN0KTogYW55XG4gIG9mZih0eXBlOiBFdmVudFR5cGVzLCBsaXN0ZW5lcjogYW55LCBvcHRpb25zPzogb2JqZWN0KTogYW55XG4gIGRlYnVnKCk6IGFueVxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdG91Y2ggaW5wdXRcbiAgICovXG4gIHN1cHBvcnRzVG91Y2goKTogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgc3VwcG9ydHMgUG9pbnRlckV2ZW50c1xuICAgKi9cbiAgc3VwcG9ydHNQb2ludGVyRXZlbnQoKTogYm9vbGVhblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgaW50ZXJhY3Rpb25zIChlbmQgZXZlbnRzIGFyZSBub3QgZmlyZWQpXG4gICAqL1xuICBzdG9wKCk6IEludGVyYWN0U3RhdGljXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIGRpc3RhbmNlIHRoZSBwb2ludGVyIG11c3QgYmUgbW92ZWQgYmVmb3JlIGFuIGFjdGlvblxuICAgKiBzZXF1ZW5jZSBvY2N1cnMuIFRoaXMgYWxzbyBhZmZlY3RzIHRvbGVyYW5jZSBmb3IgdGFwIGV2ZW50cy5cbiAgICovXG4gIHBvaW50ZXJNb3ZlVG9sZXJhbmNlKFxuICAgIC8qKiBUaGUgbW92ZW1lbnQgZnJvbSB0aGUgc3RhcnQgcG9zaXRpb24gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhpcyB2YWx1ZSAqL1xuICAgIG5ld1ZhbHVlPzogbnVtYmVyLFxuICApOiBJbnRlcmFjdFN0YXRpYyB8IG51bWJlclxuICBhZGREb2N1bWVudChkb2M6IERvY3VtZW50LCBvcHRpb25zPzogb2JqZWN0KTogdm9pZFxuICByZW1vdmVEb2N1bWVudChkb2M6IERvY3VtZW50KTogdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJhY3RTdGF0aWMoc2NvcGU6IFNjb3BlKTogSW50ZXJhY3RTdGF0aWMge1xuICBjb25zdCBpbnRlcmFjdCA9ICgodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM6IE9wdGlvbnMpID0+IHtcbiAgICBsZXQgaW50ZXJhY3RhYmxlID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5nZXRFeGlzdGluZyh0YXJnZXQsIG9wdGlvbnMpXG5cbiAgICBpZiAoIWludGVyYWN0YWJsZSkge1xuICAgICAgaW50ZXJhY3RhYmxlID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5uZXcodGFyZ2V0LCBvcHRpb25zKVxuICAgICAgaW50ZXJhY3RhYmxlLmV2ZW50cy5nbG9iYWwgPSBpbnRlcmFjdC5nbG9iYWxFdmVudHNcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH0pIGFzIEludGVyYWN0U3RhdGljXG5cbiAgLy8gZXhwb3NlIHRoZSBmdW5jdGlvbnMgdXNlZCB0byBjYWxjdWxhdGUgbXVsdGktdG91Y2ggcHJvcGVydGllc1xuICBpbnRlcmFjdC5nZXRQb2ludGVyQXZlcmFnZSA9IHBvaW50ZXJVdGlscy5wb2ludGVyQXZlcmFnZVxuICBpbnRlcmFjdC5nZXRUb3VjaEJCb3ggPSBwb2ludGVyVXRpbHMudG91Y2hCQm94XG4gIGludGVyYWN0LmdldFRvdWNoRGlzdGFuY2UgPSBwb2ludGVyVXRpbHMudG91Y2hEaXN0YW5jZVxuICBpbnRlcmFjdC5nZXRUb3VjaEFuZ2xlID0gcG9pbnRlclV0aWxzLnRvdWNoQW5nbGVcblxuICBpbnRlcmFjdC5nZXRFbGVtZW50UmVjdCA9IGRvbVV0aWxzLmdldEVsZW1lbnRSZWN0XG4gIGludGVyYWN0LmdldEVsZW1lbnRDbGllbnRSZWN0ID0gZG9tVXRpbHMuZ2V0RWxlbWVudENsaWVudFJlY3RcbiAgaW50ZXJhY3QubWF0Y2hlc1NlbGVjdG9yID0gZG9tVXRpbHMubWF0Y2hlc1NlbGVjdG9yXG4gIGludGVyYWN0LmNsb3Nlc3QgPSBkb21VdGlscy5jbG9zZXN0XG5cbiAgaW50ZXJhY3QuZ2xvYmFsRXZlbnRzID0ge30gYXMgYW55XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGludGVyYWN0LnZlcnNpb24gPSBwcm9jZXNzLmVudi5ucG1fcGFja2FnZV92ZXJzaW9uXG4gIGludGVyYWN0LnNjb3BlID0gc2NvcGVcbiAgaW50ZXJhY3QudXNlID0gZnVuY3Rpb24gKHBsdWdpbiwgb3B0aW9ucykge1xuICAgIHRoaXMuc2NvcGUudXNlUGx1Z2luKHBsdWdpbiwgb3B0aW9ucylcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpbnRlcmFjdC5pc1NldCA9IGZ1bmN0aW9uICh0YXJnZXQ6IFRhcmdldCwgb3B0aW9ucz86IHsgY29udGV4dD86IENvbnRleHQgfSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuc2NvcGUuaW50ZXJhY3RhYmxlcy5nZXQodGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuY29udGV4dClcbiAgfVxuXG4gIGludGVyYWN0Lm9uID0gd2Fybk9uY2UoZnVuY3Rpb24gb24odHlwZTogc3RyaW5nIHwgRXZlbnRUeXBlcywgbGlzdGVuZXI6IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IG9iamVjdCkge1xuICAgIGlmIChpcy5zdHJpbmcodHlwZSkgJiYgdHlwZS5zZWFyY2goJyAnKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgPSB0eXBlLnRyaW0oKS5zcGxpdCgvICsvKVxuICAgIH1cblxuICAgIGlmIChpcy5hcnJheSh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBldmVudFR5cGUgb2YgdHlwZSBhcyBhbnlbXSkge1xuICAgICAgICB0aGlzLm9uKGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLm9iamVjdCh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHR5cGUpIHtcbiAgICAgICAgdGhpcy5vbihwcm9wLCAodHlwZSBhcyBhbnkpW3Byb3BdLCBsaXN0ZW5lcilcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvLyBpZiBpdCBpcyBhbiBJbnRlcmFjdEV2ZW50IHR5cGUsIGFkZCBsaXN0ZW5lciB0byBnbG9iYWxFdmVudHNcbiAgICBpZiAoaXNOb25OYXRpdmVFdmVudCh0eXBlLCB0aGlzLnNjb3BlLmFjdGlvbnMpKSB7XG4gICAgICAvLyBpZiB0aGlzIHR5cGUgb2YgZXZlbnQgd2FzIG5ldmVyIGJvdW5kXG4gICAgICBpZiAoIXRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdID0gW2xpc3RlbmVyXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcilcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgbm9uIEludGVyYWN0RXZlbnQgdHlwZSwgYWRkRXZlbnRMaXN0ZW5lciB0byBkb2N1bWVudFxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zY29wZS5ldmVudHMuYWRkKHRoaXMuc2NvcGUuZG9jdW1lbnQsIHR5cGUsIGxpc3RlbmVyIGFzIExpc3RlbmVyLCB7IG9wdGlvbnMgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9LCAnVGhlIGludGVyYWN0Lm9uKCkgbWV0aG9kIGlzIGJlaW5nIGRlcHJlY2F0ZWQnKVxuXG4gIGludGVyYWN0Lm9mZiA9IHdhcm5PbmNlKGZ1bmN0aW9uIG9mZih0eXBlOiBFdmVudFR5cGVzLCBsaXN0ZW5lcjogYW55LCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgaWYgKGlzLnN0cmluZyh0eXBlKSAmJiB0eXBlLnNlYXJjaCgnICcpICE9PSAtMSkge1xuICAgICAgdHlwZSA9IHR5cGUudHJpbSgpLnNwbGl0KC8gKy8pXG4gICAgfVxuXG4gICAgaWYgKGlzLmFycmF5KHR5cGUpKSB7XG4gICAgICBmb3IgKGNvbnN0IGV2ZW50VHlwZSBvZiB0eXBlKSB7XG4gICAgICAgIHRoaXMub2ZmKGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLm9iamVjdCh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHR5cGUpIHtcbiAgICAgICAgdGhpcy5vZmYocHJvcCwgdHlwZVtwcm9wXSwgbGlzdGVuZXIpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzTm9uTmF0aXZlRXZlbnQodHlwZSwgdGhpcy5zY29wZS5hY3Rpb25zKSkge1xuICAgICAgbGV0IGluZGV4OiBudW1iZXJcblxuICAgICAgaWYgKHR5cGUgaW4gdGhpcy5nbG9iYWxFdmVudHMgJiYgKGluZGV4ID0gdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcikpICE9PSAtMSkge1xuICAgICAgICB0aGlzLmdsb2JhbEV2ZW50c1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2NvcGUuZXZlbnRzLnJlbW92ZSh0aGlzLnNjb3BlLmRvY3VtZW50LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9LCAnVGhlIGludGVyYWN0Lm9mZigpIG1ldGhvZCBpcyBiZWluZyBkZXByZWNhdGVkJylcblxuICBpbnRlcmFjdC5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZVxuICB9XG5cbiAgaW50ZXJhY3Quc3VwcG9ydHNUb3VjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdXBwb3J0c1RvdWNoXG4gIH1cblxuICBpbnRlcmFjdC5zdXBwb3J0c1BvaW50ZXJFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudFxuICB9XG5cbiAgaW50ZXJhY3Quc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHRoaXMuc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGludGVyYWN0aW9uLnN0b3AoKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpbnRlcmFjdC5wb2ludGVyTW92ZVRvbGVyYW5jZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZT86IG51bWJlcikge1xuICAgIGlmIChpcy5udW1iZXIobmV3VmFsdWUpKSB7XG4gICAgICB0aGlzLnNjb3BlLmludGVyYWN0aW9ucy5wb2ludGVyTW92ZVRvbGVyYW5jZSA9IG5ld1ZhbHVlXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2NvcGUuaW50ZXJhY3Rpb25zLnBvaW50ZXJNb3ZlVG9sZXJhbmNlXG4gIH1cblxuICBpbnRlcmFjdC5hZGREb2N1bWVudCA9IGZ1bmN0aW9uIChkb2M6IERvY3VtZW50LCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgdGhpcy5zY29wZS5hZGREb2N1bWVudChkb2MsIG9wdGlvbnMpXG4gIH1cblxuICBpbnRlcmFjdC5yZW1vdmVEb2N1bWVudCA9IGZ1bmN0aW9uIChkb2M6IERvY3VtZW50KSB7XG4gICAgdGhpcy5zY29wZS5yZW1vdmVEb2N1bWVudChkb2MpXG4gIH1cblxuICByZXR1cm4gaW50ZXJhY3Rcbn1cbiIsICJpbXBvcnQgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbmNvbnN0IHNjb3BlID0gbmV3IFNjb3BlKClcblxuY29uc3QgaW50ZXJhY3QgPSBzY29wZS5pbnRlcmFjdFN0YXRpY1xuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmFjdFxuXG5jb25zdCBfZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpc1xuc2NvcGUuaW5pdChfZ2xvYmFsKVxuIiwgImV4cG9ydCBkZWZhdWx0ICgpID0+IHt9XG4iLCAiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge31cbiIsICJpbXBvcnQgdHlwZSB7IFJlY3QsIFBvaW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCB0eXBlIHsgU25hcEZ1bmN0aW9uLCBTbmFwVGFyZ2V0IH0gZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL3NuYXAvcG9pbnRlcidcblxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9uc0Jhc2Uge1xuICByYW5nZT86IG51bWJlclxuICBsaW1pdHM/OiBSZWN0XG4gIG9mZnNldD86IFBvaW50XG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zWFkgZXh0ZW5kcyBHcmlkT3B0aW9uc0Jhc2Uge1xuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zVG9wTGVmdCBleHRlbmRzIEdyaWRPcHRpb25zQmFzZSB7XG4gIHRvcD86IG51bWJlclxuICBsZWZ0PzogbnVtYmVyXG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zQm90dG9tUmlnaHQgZXh0ZW5kcyBHcmlkT3B0aW9uc0Jhc2Uge1xuICBib3R0b20/OiBudW1iZXJcbiAgcmlnaHQ/OiBudW1iZXJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnNXaWR0aEhlaWdodCBleHRlbmRzIEdyaWRPcHRpb25zQmFzZSB7XG4gIHdpZHRoPzogbnVtYmVyXG4gIGhlaWdodD86IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBHcmlkT3B0aW9ucyA9IEdyaWRPcHRpb25zWFkgfCBHcmlkT3B0aW9uc1RvcExlZnQgfCBHcmlkT3B0aW9uc0JvdHRvbVJpZ2h0IHwgR3JpZE9wdGlvbnNXaWR0aEhlaWdodFxuXG5leHBvcnQgZGVmYXVsdCAoZ3JpZDogR3JpZE9wdGlvbnMpID0+IHtcbiAgY29uc3QgY29vcmRGaWVsZHMgPSAoXG4gICAgW1xuICAgICAgWyd4JywgJ3knXSxcbiAgICAgIFsnbGVmdCcsICd0b3AnXSxcbiAgICAgIFsncmlnaHQnLCAnYm90dG9tJ10sXG4gICAgICBbJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgIF0gYXMgY29uc3RcbiAgKS5maWx0ZXIoKFt4RmllbGQsIHlGaWVsZF0pID0+IHhGaWVsZCBpbiBncmlkIHx8IHlGaWVsZCBpbiBncmlkKVxuXG4gIGNvbnN0IGdyaWRGdW5jOiBTbmFwRnVuY3Rpb24gJiB7XG4gICAgZ3JpZDogdHlwZW9mIGdyaWRcbiAgICBjb29yZEZpZWxkczogdHlwZW9mIGNvb3JkRmllbGRzXG4gIH0gPSAoeCwgeSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHJhbmdlLFxuICAgICAgbGltaXRzID0ge1xuICAgICAgICBsZWZ0OiAtSW5maW5pdHksXG4gICAgICAgIHJpZ2h0OiBJbmZpbml0eSxcbiAgICAgICAgdG9wOiAtSW5maW5pdHksXG4gICAgICAgIGJvdHRvbTogSW5maW5pdHksXG4gICAgICB9LFxuICAgICAgb2Zmc2V0ID0geyB4OiAwLCB5OiAwIH0sXG4gICAgfSA9IGdyaWRcblxuICAgIGNvbnN0IHJlc3VsdDogU25hcFRhcmdldCAmIHtcbiAgICAgIGdyaWQ6IHR5cGVvZiBncmlkXG4gICAgfSA9IHsgcmFuZ2UsIGdyaWQsIHg6IG51bGwgYXMgbnVtYmVyLCB5OiBudWxsIGFzIG51bWJlciB9XG5cbiAgICBmb3IgKGNvbnN0IFt4RmllbGQsIHlGaWVsZF0gb2YgY29vcmRGaWVsZHMpIHtcbiAgICAgIGNvbnN0IGdyaWR4ID0gTWF0aC5yb3VuZCgoeCAtIG9mZnNldC54KSAvIChncmlkIGFzIGFueSlbeEZpZWxkXSlcbiAgICAgIGNvbnN0IGdyaWR5ID0gTWF0aC5yb3VuZCgoeSAtIG9mZnNldC55KSAvIChncmlkIGFzIGFueSlbeUZpZWxkXSlcblxuICAgICAgcmVzdWx0W3hGaWVsZF0gPSBNYXRoLm1heChsaW1pdHMubGVmdCwgTWF0aC5taW4obGltaXRzLnJpZ2h0LCBncmlkeCAqIChncmlkIGFzIGFueSlbeEZpZWxkXSArIG9mZnNldC54KSlcbiAgICAgIHJlc3VsdFt5RmllbGRdID0gTWF0aC5tYXgobGltaXRzLnRvcCwgTWF0aC5taW4obGltaXRzLmJvdHRvbSwgZ3JpZHkgKiAoZ3JpZCBhcyBhbnkpW3lGaWVsZF0gKyBvZmZzZXQueSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZ3JpZEZ1bmMuZ3JpZCA9IGdyaWRcbiAgZ3JpZEZ1bmMuY29vcmRGaWVsZHMgPSBjb29yZEZpZWxkc1xuXG4gIHJldHVybiBncmlkRnVuY1xufVxuIiwgImltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuXG5pbXBvcnQgKiBhcyBhbGxTbmFwcGVycyBmcm9tICcuL2FsbCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMnIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdFN0YXRpYyB7XG4gICAgc25hcHBlcnM6IHR5cGVvZiBhbGxTbmFwcGVyc1xuICAgIGNyZWF0ZVNuYXBHcmlkOiB0eXBlb2YgYWxsU25hcHBlcnMuZ3JpZFxuICB9XG59XG5cbmNvbnN0IHNuYXBwZXJzUGx1Z2luOiBQbHVnaW4gPSB7XG4gIGlkOiAnc25hcHBlcnMnLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QgfSA9IHNjb3BlXG5cbiAgICBpbnRlcmFjdC5zbmFwcGVycyA9IGV4dGVuZChpbnRlcmFjdC5zbmFwcGVycyB8fCB7fSwgYWxsU25hcHBlcnMpXG4gICAgaW50ZXJhY3QuY3JlYXRlU25hcEdyaWQgPSBpbnRlcmFjdC5zbmFwcGVycy5ncmlkXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHNuYXBwZXJzUGx1Z2luXG4iLCAiLyoqXG4gKiBAbW9kdWxlIG1vZGlmaWVycy9hc3BlY3RSYXRpb1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBtb2RpZmllciBmb3JjZXMgZWxlbWVudHMgdG8gYmUgcmVzaXplZCB3aXRoIGEgc3BlY2lmaWVkIGR4L2R5IHJhdGlvLlxuICpcbiAqIGBgYGpzXG4gKiBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6YWJsZSh7XG4gKiAgIG1vZGlmaWVyczogW1xuICogICAgIGludGVyYWN0Lm1vZGlmaWVycy5zbmFwU2l6ZSh7XG4gKiAgICAgICB0YXJnZXRzOiBbIGludGVyYWN0LnNuYXBwZXJzLmdyaWQoeyB4OiAyMCwgeTogMjAgfSkgXSxcbiAqICAgICB9KSxcbiAqICAgICBpbnRlcmFjdC5hc3BlY3RSYXRpbyh7IHJhdGlvOiAncHJlc2VydmUnIH0pLFxuICogICBdLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IFBvaW50LCBSZWN0LCBFZGdlT3B0aW9ucyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCB7IGFkZEVkZ2VzIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi9iYXNlJ1xuaW1wb3J0IHsgTW9kaWZpY2F0aW9uIH0gZnJvbSAnLi9Nb2RpZmljYXRpb24nXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyLCBNb2RpZmllck1vZHVsZSwgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNwZWN0UmF0aW9PcHRpb25zIHtcbiAgcmF0aW8/OiBudW1iZXIgfCAncHJlc2VydmUnXG4gIGVxdWFsRGVsdGE/OiBib29sZWFuXG4gIG1vZGlmaWVycz86IE1vZGlmaWVyW11cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgQXNwZWN0UmF0aW9TdGF0ZSA9IE1vZGlmaWVyU3RhdGU8XG4gIEFzcGVjdFJhdGlvT3B0aW9ucyxcbiAge1xuICAgIHN0YXJ0Q29vcmRzOiBQb2ludFxuICAgIHN0YXJ0UmVjdDogUmVjdFxuICAgIGxpbmtlZEVkZ2VzOiBFZGdlT3B0aW9uc1xuICAgIHJhdGlvOiBudW1iZXJcbiAgICBlcXVhbERlbHRhOiBib29sZWFuXG4gICAgeElzUHJpbWFyeUF4aXM6IGJvb2xlYW5cbiAgICBlZGdlU2lnbjoge1xuICAgICAgeDogbnVtYmVyXG4gICAgICB5OiBudW1iZXJcbiAgICB9XG4gICAgc3ViTW9kaWZpY2F0aW9uOiBNb2RpZmljYXRpb25cbiAgfVxuPlxuXG5jb25zdCBhc3BlY3RSYXRpbzogTW9kaWZpZXJNb2R1bGU8QXNwZWN0UmF0aW9PcHRpb25zLCBBc3BlY3RSYXRpb1N0YXRlPiA9IHtcbiAgc3RhcnQoYXJnKSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgcmVjdCwgZWRnZXMsIHBhZ2VDb29yZHM6IGNvb3JkcyB9ID0gYXJnXG4gICAgbGV0IHsgcmF0aW8sIGVuYWJsZWQgfSA9IHN0YXRlLm9wdGlvbnNcbiAgICBjb25zdCB7IGVxdWFsRGVsdGEsIG1vZGlmaWVycyB9ID0gc3RhdGUub3B0aW9uc1xuXG4gICAgaWYgKHJhdGlvID09PSAncHJlc2VydmUnKSB7XG4gICAgICByYXRpbyA9IHJlY3Qud2lkdGggLyByZWN0LmhlaWdodFxuICAgIH1cblxuICAgIHN0YXRlLnN0YXJ0Q29vcmRzID0gZXh0ZW5kKHt9LCBjb29yZHMpXG4gICAgc3RhdGUuc3RhcnRSZWN0ID0gZXh0ZW5kKHt9LCByZWN0KVxuICAgIHN0YXRlLnJhdGlvID0gcmF0aW9cbiAgICBzdGF0ZS5lcXVhbERlbHRhID0gZXF1YWxEZWx0YVxuXG4gICAgY29uc3QgbGlua2VkRWRnZXMgPSAoc3RhdGUubGlua2VkRWRnZXMgPSB7XG4gICAgICB0b3A6IGVkZ2VzLnRvcCB8fCAoZWRnZXMubGVmdCAmJiAhZWRnZXMuYm90dG9tKSxcbiAgICAgIGxlZnQ6IGVkZ2VzLmxlZnQgfHwgKGVkZ2VzLnRvcCAmJiAhZWRnZXMucmlnaHQpLFxuICAgICAgYm90dG9tOiBlZGdlcy5ib3R0b20gfHwgKGVkZ2VzLnJpZ2h0ICYmICFlZGdlcy50b3ApLFxuICAgICAgcmlnaHQ6IGVkZ2VzLnJpZ2h0IHx8IChlZGdlcy5ib3R0b20gJiYgIWVkZ2VzLmxlZnQpLFxuICAgIH0pXG5cbiAgICBzdGF0ZS54SXNQcmltYXJ5QXhpcyA9ICEhKGVkZ2VzLmxlZnQgfHwgZWRnZXMucmlnaHQpXG5cbiAgICBpZiAoc3RhdGUuZXF1YWxEZWx0YSkge1xuICAgICAgY29uc3Qgc2lnbiA9IChsaW5rZWRFZGdlcy5sZWZ0ID8gMSA6IC0xKSAqIChsaW5rZWRFZGdlcy50b3AgPyAxIDogLTEpXG4gICAgICBzdGF0ZS5lZGdlU2lnbiA9IHtcbiAgICAgICAgeDogc2lnbixcbiAgICAgICAgeTogc2lnbixcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuZWRnZVNpZ24gPSB7XG4gICAgICAgIHg6IGxpbmtlZEVkZ2VzLmxlZnQgPyAtMSA6IDEsXG4gICAgICAgIHk6IGxpbmtlZEVkZ2VzLnRvcCA/IC0xIDogMSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW5hYmxlZCAhPT0gZmFsc2UpIHtcbiAgICAgIGV4dGVuZChlZGdlcywgbGlua2VkRWRnZXMpXG4gICAgfVxuXG4gICAgaWYgKCFtb2RpZmllcnM/Lmxlbmd0aCkgcmV0dXJuXG5cbiAgICBjb25zdCBzdWJNb2RpZmljYXRpb24gPSBuZXcgTW9kaWZpY2F0aW9uKGFyZy5pbnRlcmFjdGlvbilcblxuICAgIHN1Yk1vZGlmaWNhdGlvbi5jb3B5RnJvbShhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uKVxuICAgIHN1Yk1vZGlmaWNhdGlvbi5wcmVwYXJlU3RhdGVzKG1vZGlmaWVycylcblxuICAgIHN0YXRlLnN1Yk1vZGlmaWNhdGlvbiA9IHN1Yk1vZGlmaWNhdGlvblxuICAgIHN1Yk1vZGlmaWNhdGlvbi5zdGFydEFsbCh7IC4uLmFyZyB9KVxuICB9LFxuXG4gIHNldChhcmcpIHtcbiAgICBjb25zdCB7IHN0YXRlLCByZWN0LCBjb29yZHMgfSA9IGFyZ1xuICAgIGNvbnN0IHsgbGlua2VkRWRnZXMgfSA9IHN0YXRlXG4gICAgY29uc3QgaW5pdGlhbENvb3JkcyA9IGV4dGVuZCh7fSwgY29vcmRzKVxuICAgIGNvbnN0IGFzcGVjdE1ldGhvZCA9IHN0YXRlLmVxdWFsRGVsdGEgPyBzZXRFcXVhbERlbHRhIDogc2V0UmF0aW9cblxuICAgIGV4dGVuZChhcmcuZWRnZXMsIGxpbmtlZEVkZ2VzKVxuICAgIGFzcGVjdE1ldGhvZChzdGF0ZSwgc3RhdGUueElzUHJpbWFyeUF4aXMsIGNvb3JkcywgcmVjdClcblxuICAgIGlmICghc3RhdGUuc3ViTW9kaWZpY2F0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGNvcnJlY3RlZFJlY3QgPSBleHRlbmQoe30sIHJlY3QpXG5cbiAgICBhZGRFZGdlcyhsaW5rZWRFZGdlcywgY29ycmVjdGVkUmVjdCwge1xuICAgICAgeDogY29vcmRzLnggLSBpbml0aWFsQ29vcmRzLngsXG4gICAgICB5OiBjb29yZHMueSAtIGluaXRpYWxDb29yZHMueSxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzdWx0ID0gc3RhdGUuc3ViTW9kaWZpY2F0aW9uLnNldEFsbCh7XG4gICAgICAuLi5hcmcsXG4gICAgICByZWN0OiBjb3JyZWN0ZWRSZWN0LFxuICAgICAgZWRnZXM6IGxpbmtlZEVkZ2VzLFxuICAgICAgcGFnZUNvb3JkczogY29vcmRzLFxuICAgICAgcHJldkNvb3JkczogY29vcmRzLFxuICAgICAgcHJldlJlY3Q6IGNvcnJlY3RlZFJlY3QsXG4gICAgfSlcblxuICAgIGNvbnN0IHsgZGVsdGEgfSA9IHJlc3VsdFxuXG4gICAgaWYgKHJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICBjb25zdCB4SXNDcml0aWNhbEF4aXMgPSBNYXRoLmFicyhkZWx0YS54KSA+IE1hdGguYWJzKGRlbHRhLnkpXG5cbiAgICAgIC8vIGRvIGFzcGVjdCBtb2RpZmljYXRpb24gYWdhaW4gd2l0aCBjcml0aWNhbCBlZGdlIGF4aXMgYXMgcHJpbWFyeVxuICAgICAgYXNwZWN0TWV0aG9kKHN0YXRlLCB4SXNDcml0aWNhbEF4aXMsIHJlc3VsdC5jb29yZHMsIHJlc3VsdC5yZWN0KVxuICAgICAgZXh0ZW5kKGNvb3JkcywgcmVzdWx0LmNvb3JkcylcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0LmV2ZW50UHJvcHNcbiAgfSxcblxuICBkZWZhdWx0czoge1xuICAgIHJhdGlvOiAncHJlc2VydmUnLFxuICAgIGVxdWFsRGVsdGE6IGZhbHNlLFxuICAgIG1vZGlmaWVyczogW10sXG4gICAgZW5hYmxlZDogZmFsc2UsXG4gIH0sXG59XG5cbmZ1bmN0aW9uIHNldEVxdWFsRGVsdGEoeyBzdGFydENvb3JkcywgZWRnZVNpZ24gfTogQXNwZWN0UmF0aW9TdGF0ZSwgeElzUHJpbWFyeUF4aXM6IGJvb2xlYW4sIGNvb3JkczogUG9pbnQpIHtcbiAgaWYgKHhJc1ByaW1hcnlBeGlzKSB7XG4gICAgY29vcmRzLnkgPSBzdGFydENvb3Jkcy55ICsgKGNvb3Jkcy54IC0gc3RhcnRDb29yZHMueCkgKiBlZGdlU2lnbi55XG4gIH0gZWxzZSB7XG4gICAgY29vcmRzLnggPSBzdGFydENvb3Jkcy54ICsgKGNvb3Jkcy55IC0gc3RhcnRDb29yZHMueSkgKiBlZGdlU2lnbi54XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UmF0aW8oXG4gIHsgc3RhcnRSZWN0LCBzdGFydENvb3JkcywgcmF0aW8sIGVkZ2VTaWduIH06IEFzcGVjdFJhdGlvU3RhdGUsXG4gIHhJc1ByaW1hcnlBeGlzOiBib29sZWFuLFxuICBjb29yZHM6IFBvaW50LFxuICByZWN0OiBSZWN0LFxuKSB7XG4gIGlmICh4SXNQcmltYXJ5QXhpcykge1xuICAgIGNvbnN0IG5ld0hlaWdodCA9IHJlY3Qud2lkdGggLyByYXRpb1xuXG4gICAgY29vcmRzLnkgPSBzdGFydENvb3Jkcy55ICsgKG5ld0hlaWdodCAtIHN0YXJ0UmVjdC5oZWlnaHQpICogZWRnZVNpZ24ueVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5ld1dpZHRoID0gcmVjdC5oZWlnaHQgKiByYXRpb1xuXG4gICAgY29vcmRzLnggPSBzdGFydENvb3Jkcy54ICsgKG5ld1dpZHRoIC0gc3RhcnRSZWN0LndpZHRoKSAqIGVkZ2VTaWduLnhcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIoYXNwZWN0UmF0aW8sICdhc3BlY3RSYXRpbycpXG5leHBvcnQgeyBhc3BlY3RSYXRpbyB9XG4iLCAiaW1wb3J0IHR5cGUgeyBNb2RpZmllckZ1bmN0aW9uIH0gZnJvbSAnLi90eXBlcydcblxuY29uc3Qgbm9vcCA9ICgoKSA9PiB7fSkgYXMgdW5rbm93biBhcyBNb2RpZmllckZ1bmN0aW9uPGFueSwgYW55LCAnbm9vcCc+XG5cbm5vb3AuX2RlZmF1bHRzID0ge31cblxuZXhwb3J0IGRlZmF1bHQgbm9vcFxuIiwgImltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFJlY3RSZXNvbHZhYmxlLCBSZWN0LCBQb2ludCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJNb2R1bGUsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBSZXN0cmljdE9wdGlvbnMge1xuICAvLyB3aGVyZSB0byBkcmFnIG92ZXJcbiAgcmVzdHJpY3Rpb246IFJlY3RSZXNvbHZhYmxlPFtudW1iZXIsIG51bWJlciwgSW50ZXJhY3Rpb25dPlxuICAvLyB3aGF0IHBhcnQgb2Ygc2VsZiBpcyBhbGxvd2VkIHRvIGRyYWcgb3ZlclxuICBlbGVtZW50UmVjdDogUmVjdFxuICBvZmZzZXQ6IFJlY3RcbiAgLy8gcmVzdHJpY3QganVzdCBiZWZvcmUgdGhlIGVuZCBkcmFnXG4gIGVuZE9ubHk6IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgUmVzdHJpY3RTdGF0ZSA9IE1vZGlmaWVyU3RhdGU8XG4gIFJlc3RyaWN0T3B0aW9ucyxcbiAge1xuICAgIG9mZnNldDogUmVjdFxuICB9XG4+XG5cbmZ1bmN0aW9uIHN0YXJ0KHsgcmVjdCwgc3RhcnRPZmZzZXQsIHN0YXRlLCBpbnRlcmFjdGlvbiwgcGFnZUNvb3JkcyB9OiBNb2RpZmllckFyZzxSZXN0cmljdFN0YXRlPikge1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG4gIGNvbnN0IHsgZWxlbWVudFJlY3QgfSA9IG9wdGlvbnNcbiAgY29uc3Qgb2Zmc2V0OiBSZWN0ID0gZXh0ZW5kKFxuICAgIHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICB9LFxuICAgIG9wdGlvbnMub2Zmc2V0IHx8IHt9LFxuICApXG5cbiAgaWYgKHJlY3QgJiYgZWxlbWVudFJlY3QpIHtcbiAgICBjb25zdCByZXN0cmljdGlvbiA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLnJlc3RyaWN0aW9uLCBpbnRlcmFjdGlvbiwgcGFnZUNvb3JkcylcblxuICAgIGlmIChyZXN0cmljdGlvbikge1xuICAgICAgY29uc3Qgd2lkdGhEaWZmID0gcmVzdHJpY3Rpb24ucmlnaHQgLSByZXN0cmljdGlvbi5sZWZ0IC0gcmVjdC53aWR0aFxuICAgICAgY29uc3QgaGVpZ2h0RGlmZiA9IHJlc3RyaWN0aW9uLmJvdHRvbSAtIHJlc3RyaWN0aW9uLnRvcCAtIHJlY3QuaGVpZ2h0XG5cbiAgICAgIGlmICh3aWR0aERpZmYgPCAwKSB7XG4gICAgICAgIG9mZnNldC5sZWZ0ICs9IHdpZHRoRGlmZlxuICAgICAgICBvZmZzZXQucmlnaHQgKz0gd2lkdGhEaWZmXG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0RGlmZiA8IDApIHtcbiAgICAgICAgb2Zmc2V0LnRvcCArPSBoZWlnaHREaWZmXG4gICAgICAgIG9mZnNldC5ib3R0b20gKz0gaGVpZ2h0RGlmZlxuICAgICAgfVxuICAgIH1cblxuICAgIG9mZnNldC5sZWZ0ICs9IHN0YXJ0T2Zmc2V0LmxlZnQgLSByZWN0LndpZHRoICogZWxlbWVudFJlY3QubGVmdFxuICAgIG9mZnNldC50b3AgKz0gc3RhcnRPZmZzZXQudG9wIC0gcmVjdC5oZWlnaHQgKiBlbGVtZW50UmVjdC50b3BcblxuICAgIG9mZnNldC5yaWdodCArPSBzdGFydE9mZnNldC5yaWdodCAtIHJlY3Qud2lkdGggKiAoMSAtIGVsZW1lbnRSZWN0LnJpZ2h0KVxuICAgIG9mZnNldC5ib3R0b20gKz0gc3RhcnRPZmZzZXQuYm90dG9tIC0gcmVjdC5oZWlnaHQgKiAoMSAtIGVsZW1lbnRSZWN0LmJvdHRvbSlcbiAgfVxuXG4gIHN0YXRlLm9mZnNldCA9IG9mZnNldFxufVxuXG5mdW5jdGlvbiBzZXQoeyBjb29yZHMsIGludGVyYWN0aW9uLCBzdGF0ZSB9OiBNb2RpZmllckFyZzxSZXN0cmljdFN0YXRlPikge1xuICBjb25zdCB7IG9wdGlvbnMsIG9mZnNldCB9ID0gc3RhdGVcblxuICBjb25zdCByZXN0cmljdGlvbiA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLnJlc3RyaWN0aW9uLCBpbnRlcmFjdGlvbiwgY29vcmRzKVxuXG4gIGlmICghcmVzdHJpY3Rpb24pIHJldHVyblxuXG4gIGNvbnN0IHJlY3QgPSByZWN0VXRpbHMueHl3aFRvVGxicihyZXN0cmljdGlvbilcblxuICBjb29yZHMueCA9IE1hdGgubWF4KE1hdGgubWluKHJlY3QucmlnaHQgLSBvZmZzZXQucmlnaHQsIGNvb3Jkcy54KSwgcmVjdC5sZWZ0ICsgb2Zmc2V0LmxlZnQpXG4gIGNvb3Jkcy55ID0gTWF0aC5tYXgoTWF0aC5taW4ocmVjdC5ib3R0b20gLSBvZmZzZXQuYm90dG9tLCBjb29yZHMueSksIHJlY3QudG9wICsgb2Zmc2V0LnRvcClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3RyaWN0aW9uUmVjdChcbiAgdmFsdWU6IFJlY3RSZXNvbHZhYmxlPFtudW1iZXIsIG51bWJlciwgSW50ZXJhY3Rpb25dPixcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBjb29yZHM/OiBQb2ludCxcbikge1xuICBpZiAoaXMuZnVuYyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gcmVjdFV0aWxzLnJlc29sdmVSZWN0TGlrZSh2YWx1ZSwgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50LCBbXG4gICAgICBjb29yZHMueCxcbiAgICAgIGNvb3Jkcy55LFxuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgXSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVjdFV0aWxzLnJlc29sdmVSZWN0TGlrZSh2YWx1ZSwgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50KVxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRzOiBSZXN0cmljdE9wdGlvbnMgPSB7XG4gIHJlc3RyaWN0aW9uOiBudWxsLFxuICBlbGVtZW50UmVjdDogbnVsbCxcbiAgb2Zmc2V0OiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5cbmNvbnN0IHJlc3RyaWN0OiBNb2RpZmllck1vZHVsZTxSZXN0cmljdE9wdGlvbnMsIFJlc3RyaWN0U3RhdGU+ID0ge1xuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHJlc3RyaWN0LCAncmVzdHJpY3QnKVxuZXhwb3J0IHsgcmVzdHJpY3QgfVxuIiwgIi8vIFRoaXMgbW9kaWZpZXIgYWRkcyB0aGUgb3B0aW9ucy5yZXNpemUucmVzdHJpY3RFZGdlcyBzZXR0aW5nIHdoaWNoIHNldHMgbWluIGFuZFxuLy8gbWF4IGZvciB0aGUgdG9wLCBsZWZ0LCBib3R0b20gYW5kIHJpZ2h0IGVkZ2VzIG9mIHRoZSB0YXJnZXQgYmVpbmcgcmVzaXplZC5cbi8vXG4vLyBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6ZSh7XG4vLyAgIGVkZ2VzOiB7IHRvcDogdHJ1ZSwgbGVmdDogdHJ1ZSB9LFxuLy8gICByZXN0cmljdEVkZ2VzOiB7XG4vLyAgICAgaW5uZXI6IHsgdG9wOiAyMDAsIGxlZnQ6IDIwMCwgcmlnaHQ6IDQwMCwgYm90dG9tOiA0MDAgfSxcbi8vICAgICBvdXRlcjogeyB0b3A6ICAgMCwgbGVmdDogICAwLCByaWdodDogNjAwLCBib3R0b206IDYwMCB9LFxuLy8gICB9LFxuLy8gfSlcblxuaW1wb3J0IHR5cGUgeyBQb2ludCwgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFJlc3RyaWN0T3B0aW9ucyB9IGZyb20gJy4vcG9pbnRlcidcbmltcG9ydCB7IGdldFJlc3RyaWN0aW9uUmVjdCB9IGZyb20gJy4vcG9pbnRlcidcblxuZXhwb3J0IGludGVyZmFjZSBSZXN0cmljdEVkZ2VzT3B0aW9ucyB7XG4gIGlubmVyOiBSZXN0cmljdE9wdGlvbnNbJ3Jlc3RyaWN0aW9uJ11cbiAgb3V0ZXI6IFJlc3RyaWN0T3B0aW9uc1sncmVzdHJpY3Rpb24nXVxuICBvZmZzZXQ/OiBSZXN0cmljdE9wdGlvbnNbJ29mZnNldCddXG4gIGVuZE9ubHk6IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgUmVzdHJpY3RFZGdlc1N0YXRlID0gTW9kaWZpZXJTdGF0ZTxcbiAgUmVzdHJpY3RFZGdlc09wdGlvbnMsXG4gIHtcbiAgICBpbm5lcjogUmVjdFxuICAgIG91dGVyOiBSZWN0XG4gICAgb2Zmc2V0OiBSZXN0cmljdEVkZ2VzT3B0aW9uc1snb2Zmc2V0J11cbiAgfVxuPlxuXG5jb25zdCBub0lubmVyID0geyB0b3A6ICtJbmZpbml0eSwgbGVmdDogK0luZmluaXR5LCBib3R0b206IC1JbmZpbml0eSwgcmlnaHQ6IC1JbmZpbml0eSB9XG5jb25zdCBub091dGVyID0geyB0b3A6IC1JbmZpbml0eSwgbGVmdDogLUluZmluaXR5LCBib3R0b206ICtJbmZpbml0eSwgcmlnaHQ6ICtJbmZpbml0eSB9XG5cbmZ1bmN0aW9uIHN0YXJ0KHsgaW50ZXJhY3Rpb24sIHN0YXJ0T2Zmc2V0LCBzdGF0ZSB9OiBNb2RpZmllckFyZzxSZXN0cmljdEVkZ2VzU3RhdGU+KSB7XG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcbiAgbGV0IG9mZnNldDogUG9pbnRcblxuICBpZiAob3B0aW9ucykge1xuICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5vZmZzZXQsIGludGVyYWN0aW9uLCBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZSlcblxuICAgIG9mZnNldCA9IHJlY3RVdGlscy5yZWN0VG9YWShvZmZzZXRSZWN0KVxuICB9XG5cbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IHsgeDogMCwgeTogMCB9XG5cbiAgc3RhdGUub2Zmc2V0ID0ge1xuICAgIHRvcDogb2Zmc2V0LnkgKyBzdGFydE9mZnNldC50b3AsXG4gICAgbGVmdDogb2Zmc2V0LnggKyBzdGFydE9mZnNldC5sZWZ0LFxuICAgIGJvdHRvbTogb2Zmc2V0LnkgLSBzdGFydE9mZnNldC5ib3R0b20sXG4gICAgcmlnaHQ6IG9mZnNldC54IC0gc3RhcnRPZmZzZXQucmlnaHQsXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHsgY29vcmRzLCBlZGdlcywgaW50ZXJhY3Rpb24sIHN0YXRlIH06IE1vZGlmaWVyQXJnPFJlc3RyaWN0RWRnZXNTdGF0ZT4pIHtcbiAgY29uc3QgeyBvZmZzZXQsIG9wdGlvbnMgfSA9IHN0YXRlXG5cbiAgaWYgKCFlZGdlcykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgcGFnZSA9IGV4dGVuZCh7fSwgY29vcmRzKVxuICBjb25zdCBpbm5lciA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLmlubmVyLCBpbnRlcmFjdGlvbiwgcGFnZSkgfHwgKHt9IGFzIFJlY3QpXG4gIGNvbnN0IG91dGVyID0gZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMub3V0ZXIsIGludGVyYWN0aW9uLCBwYWdlKSB8fCAoe30gYXMgUmVjdClcblxuICBmaXhSZWN0KGlubmVyLCBub0lubmVyKVxuICBmaXhSZWN0KG91dGVyLCBub091dGVyKVxuXG4gIGlmIChlZGdlcy50b3ApIHtcbiAgICBjb29yZHMueSA9IE1hdGgubWluKE1hdGgubWF4KG91dGVyLnRvcCArIG9mZnNldC50b3AsIHBhZ2UueSksIGlubmVyLnRvcCArIG9mZnNldC50b3ApXG4gIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgY29vcmRzLnkgPSBNYXRoLm1heChNYXRoLm1pbihvdXRlci5ib3R0b20gKyBvZmZzZXQuYm90dG9tLCBwYWdlLnkpLCBpbm5lci5ib3R0b20gKyBvZmZzZXQuYm90dG9tKVxuICB9XG4gIGlmIChlZGdlcy5sZWZ0KSB7XG4gICAgY29vcmRzLnggPSBNYXRoLm1pbihNYXRoLm1heChvdXRlci5sZWZ0ICsgb2Zmc2V0LmxlZnQsIHBhZ2UueCksIGlubmVyLmxlZnQgKyBvZmZzZXQubGVmdClcbiAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgIGNvb3Jkcy54ID0gTWF0aC5tYXgoTWF0aC5taW4ob3V0ZXIucmlnaHQgKyBvZmZzZXQucmlnaHQsIHBhZ2UueCksIGlubmVyLnJpZ2h0ICsgb2Zmc2V0LnJpZ2h0KVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpeFJlY3QocmVjdDogUmVjdCwgZGVmYXVsdHM6IFJlY3QpIHtcbiAgZm9yIChjb25zdCBlZGdlIG9mIFsndG9wJywgJ2xlZnQnLCAnYm90dG9tJywgJ3JpZ2h0J10pIHtcbiAgICBpZiAoIShlZGdlIGluIHJlY3QpKSB7XG4gICAgICByZWN0W2VkZ2VdID0gZGVmYXVsdHNbZWRnZV1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjdFxufVxuXG5jb25zdCBkZWZhdWx0czogUmVzdHJpY3RFZGdlc09wdGlvbnMgPSB7XG4gIGlubmVyOiBudWxsLFxuICBvdXRlcjogbnVsbCxcbiAgb2Zmc2V0OiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5cbmNvbnN0IHJlc3RyaWN0RWRnZXMgPSB7XG4gIG5vSW5uZXIsXG4gIG5vT3V0ZXIsXG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIocmVzdHJpY3RFZGdlcywgJ3Jlc3RyaWN0RWRnZXMnKVxuZXhwb3J0IHsgcmVzdHJpY3RFZGdlcyB9XG4iLCAiaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5cbmltcG9ydCB7IHJlc3RyaWN0IH0gZnJvbSAnLi9wb2ludGVyJ1xuXG5jb25zdCBkZWZhdWx0cyA9IGV4dGVuZChcbiAge1xuICAgIGdldCBlbGVtZW50UmVjdCgpIHtcbiAgICAgIHJldHVybiB7IHRvcDogMCwgbGVmdDogMCwgYm90dG9tOiAxLCByaWdodDogMSB9XG4gICAgfSxcbiAgICBzZXQgZWxlbWVudFJlY3QoXykge30sXG4gIH0sXG4gIHJlc3RyaWN0LmRlZmF1bHRzLFxuKVxuXG5jb25zdCByZXN0cmljdFJlY3QgPSB7XG4gIHN0YXJ0OiByZXN0cmljdC5zdGFydCxcbiAgc2V0OiByZXN0cmljdC5zZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIocmVzdHJpY3RSZWN0LCAncmVzdHJpY3RSZWN0JylcbmV4cG9ydCB7IHJlc3RyaWN0UmVjdCB9XG4iLCAiaW1wb3J0IHR5cGUgeyBQb2ludCwgUmVjdCwgU2l6ZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFJlc3RyaWN0RWRnZXNTdGF0ZSB9IGZyb20gJy4vZWRnZXMnXG5pbXBvcnQgeyByZXN0cmljdEVkZ2VzIH0gZnJvbSAnLi9lZGdlcydcbmltcG9ydCB0eXBlIHsgUmVzdHJpY3RPcHRpb25zIH0gZnJvbSAnLi9wb2ludGVyJ1xuaW1wb3J0IHsgZ2V0UmVzdHJpY3Rpb25SZWN0IH0gZnJvbSAnLi9wb2ludGVyJ1xuXG5jb25zdCBub01pbiA9IHsgd2lkdGg6IC1JbmZpbml0eSwgaGVpZ2h0OiAtSW5maW5pdHkgfVxuY29uc3Qgbm9NYXggPSB7IHdpZHRoOiArSW5maW5pdHksIGhlaWdodDogK0luZmluaXR5IH1cblxuZXhwb3J0IGludGVyZmFjZSBSZXN0cmljdFNpemVPcHRpb25zIHtcbiAgbWluPzogU2l6ZSB8IFBvaW50IHwgUmVzdHJpY3RPcHRpb25zWydyZXN0cmljdGlvbiddXG4gIG1heD86IFNpemUgfCBQb2ludCB8IFJlc3RyaWN0T3B0aW9uc1sncmVzdHJpY3Rpb24nXVxuICBlbmRPbmx5OiBib29sZWFuXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmZ1bmN0aW9uIHN0YXJ0KGFyZzogTW9kaWZpZXJBcmc8UmVzdHJpY3RFZGdlc1N0YXRlPikge1xuICByZXR1cm4gcmVzdHJpY3RFZGdlcy5zdGFydChhcmcpXG59XG5cbmV4cG9ydCB0eXBlIFJlc3RyaWN0U2l6ZVN0YXRlID0gUmVzdHJpY3RFZGdlc1N0YXRlICZcbiAgTW9kaWZpZXJTdGF0ZTxcbiAgICBSZXN0cmljdFNpemVPcHRpb25zICYgeyBpbm5lcjogUmVjdDsgb3V0ZXI6IFJlY3QgfSxcbiAgICB7XG4gICAgICBtaW46IFJlY3RcbiAgICAgIG1heDogUmVjdFxuICAgIH1cbiAgPlxuXG5mdW5jdGlvbiBzZXQoYXJnOiBNb2RpZmllckFyZzxSZXN0cmljdFNpemVTdGF0ZT4pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgc3RhdGUsIHJlY3QsIGVkZ2VzIH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IG1pblNpemUgPVxuICAgIHJlY3RVdGlscy50bGJyVG9YeXdoKGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLm1pbiBhcyBhbnksIGludGVyYWN0aW9uLCBhcmcuY29vcmRzKSkgfHwgbm9NaW5cbiAgY29uc3QgbWF4U2l6ZSA9XG4gICAgcmVjdFV0aWxzLnRsYnJUb1h5d2goZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMubWF4IGFzIGFueSwgaW50ZXJhY3Rpb24sIGFyZy5jb29yZHMpKSB8fCBub01heFxuXG4gIHN0YXRlLm9wdGlvbnMgPSB7XG4gICAgZW5kT25seTogb3B0aW9ucy5lbmRPbmx5LFxuICAgIGlubmVyOiBleHRlbmQoe30sIHJlc3RyaWN0RWRnZXMubm9Jbm5lciksXG4gICAgb3V0ZXI6IGV4dGVuZCh7fSwgcmVzdHJpY3RFZGdlcy5ub091dGVyKSxcbiAgfVxuXG4gIGlmIChlZGdlcy50b3ApIHtcbiAgICBzdGF0ZS5vcHRpb25zLmlubmVyLnRvcCA9IHJlY3QuYm90dG9tIC0gbWluU2l6ZS5oZWlnaHRcbiAgICBzdGF0ZS5vcHRpb25zLm91dGVyLnRvcCA9IHJlY3QuYm90dG9tIC0gbWF4U2l6ZS5oZWlnaHRcbiAgfSBlbHNlIGlmIChlZGdlcy5ib3R0b20pIHtcbiAgICBzdGF0ZS5vcHRpb25zLmlubmVyLmJvdHRvbSA9IHJlY3QudG9wICsgbWluU2l6ZS5oZWlnaHRcbiAgICBzdGF0ZS5vcHRpb25zLm91dGVyLmJvdHRvbSA9IHJlY3QudG9wICsgbWF4U2l6ZS5oZWlnaHRcbiAgfVxuICBpZiAoZWRnZXMubGVmdCkge1xuICAgIHN0YXRlLm9wdGlvbnMuaW5uZXIubGVmdCA9IHJlY3QucmlnaHQgLSBtaW5TaXplLndpZHRoXG4gICAgc3RhdGUub3B0aW9ucy5vdXRlci5sZWZ0ID0gcmVjdC5yaWdodCAtIG1heFNpemUud2lkdGhcbiAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgIHN0YXRlLm9wdGlvbnMuaW5uZXIucmlnaHQgPSByZWN0LmxlZnQgKyBtaW5TaXplLndpZHRoXG4gICAgc3RhdGUub3B0aW9ucy5vdXRlci5yaWdodCA9IHJlY3QubGVmdCArIG1heFNpemUud2lkdGhcbiAgfVxuXG4gIHJlc3RyaWN0RWRnZXMuc2V0KGFyZylcblxuICBzdGF0ZS5vcHRpb25zID0gb3B0aW9uc1xufVxuXG5jb25zdCBkZWZhdWx0czogUmVzdHJpY3RTaXplT3B0aW9ucyA9IHtcbiAgbWluOiBudWxsLFxuICBtYXg6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cblxuY29uc3QgcmVzdHJpY3RTaXplID0ge1xuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHJlc3RyaWN0U2l6ZSwgJ3Jlc3RyaWN0U2l6ZScpXG5leHBvcnQgeyByZXN0cmljdFNpemUgfVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIEludGVyYWN0aW9uUHJveHkgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBQb2ludCwgUmVjdFJlc29sdmFibGUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyByZXNvbHZlUmVjdExpa2UsIHJlY3RUb1hZIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBPZmZzZXQge1xuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG4gIGluZGV4OiBudW1iZXJcbiAgcmVsYXRpdmVQb2ludD86IFBvaW50IHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBQb3NpdGlvbiB7XG4gIHg/OiBudW1iZXJcbiAgeT86IG51bWJlclxuICByYW5nZT86IG51bWJlclxuICBvZmZzZXQ/OiBPZmZzZXRcbiAgW2luZGV4OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IHR5cGUgU25hcEZ1bmN0aW9uID0gKFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uUHJveHk8QWN0aW9uTmFtZT4sXG4gIG9mZnNldDogT2Zmc2V0LFxuICBpbmRleDogbnVtYmVyLFxuKSA9PiBTbmFwUG9zaXRpb25cbmV4cG9ydCB0eXBlIFNuYXBUYXJnZXQgPSBTbmFwUG9zaXRpb24gfCBTbmFwRnVuY3Rpb25cbmV4cG9ydCBpbnRlcmZhY2UgU25hcE9wdGlvbnMge1xuICB0YXJnZXRzPzogU25hcFRhcmdldFtdXG4gIC8vIHRhcmdldCByYW5nZVxuICByYW5nZT86IG51bWJlclxuICAvLyBzZWxmIHBvaW50cyBmb3Igc25hcHBpbmcuIFswLDBdID0gdG9wIGxlZnQsIFsxLDFdID0gYm90dG9tIHJpZ2h0XG4gIHJlbGF0aXZlUG9pbnRzPzogUG9pbnRbXVxuICAvLyBzdGFydENvb3JkcyA9IG9mZnNldCBzbmFwcGluZyBmcm9tIGRyYWcgc3RhcnQgcGFnZSBwb3NpdGlvblxuICBvZmZzZXQ/OiBQb2ludCB8IFJlY3RSZXNvbHZhYmxlPFtJbnRlcmFjdGlvbl0+IHwgJ3N0YXJ0Q29vcmRzJ1xuICBvZmZzZXRXaXRoT3JpZ2luPzogYm9vbGVhblxuICBvcmlnaW4/OiBSZWN0UmVzb2x2YWJsZTxbRWxlbWVudF0+IHwgUG9pbnRcbiAgZW5kT25seT86IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgU25hcFN0YXRlID0gTW9kaWZpZXJTdGF0ZTxcbiAgU25hcE9wdGlvbnMsXG4gIHtcbiAgICBvZmZzZXRzPzogT2Zmc2V0W11cbiAgICBjbG9zZXN0PzogYW55XG4gICAgdGFyZ2V0RmllbGRzPzogc3RyaW5nW11bXVxuICB9XG4+XG5cbmZ1bmN0aW9uIHN0YXJ0KGFyZzogTW9kaWZpZXJBcmc8U25hcFN0YXRlPikge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIHJlY3QsIHN0YXRlLCBzdGFydE9mZnNldCB9ID0gYXJnXG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcbiAgY29uc3Qgb3JpZ2luID0gb3B0aW9ucy5vZmZzZXRXaXRoT3JpZ2luID8gZ2V0T3JpZ2luKGFyZykgOiB7IHg6IDAsIHk6IDAgfVxuXG4gIGxldCBzbmFwT2Zmc2V0OiBQb2ludFxuXG4gIGlmIChvcHRpb25zLm9mZnNldCA9PT0gJ3N0YXJ0Q29vcmRzJykge1xuICAgIHNuYXBPZmZzZXQgPSB7XG4gICAgICB4OiBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS54LFxuICAgICAgeTogaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueSxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgb2Zmc2V0UmVjdCA9IHJlc29sdmVSZWN0TGlrZShvcHRpb25zLm9mZnNldCBhcyBhbnksIGludGVyYWN0YWJsZSwgZWxlbWVudCwgW2ludGVyYWN0aW9uXSlcblxuICAgIHNuYXBPZmZzZXQgPSByZWN0VG9YWShvZmZzZXRSZWN0KSB8fCB7IHg6IDAsIHk6IDAgfVxuICAgIHNuYXBPZmZzZXQueCArPSBvcmlnaW4ueFxuICAgIHNuYXBPZmZzZXQueSArPSBvcmlnaW4ueVxuICB9XG5cbiAgY29uc3QgeyByZWxhdGl2ZVBvaW50cyB9ID0gb3B0aW9uc1xuXG4gIHN0YXRlLm9mZnNldHMgPVxuICAgIHJlY3QgJiYgcmVsYXRpdmVQb2ludHMgJiYgcmVsYXRpdmVQb2ludHMubGVuZ3RoXG4gICAgICA/IHJlbGF0aXZlUG9pbnRzLm1hcCgocmVsYXRpdmVQb2ludCwgaW5kZXgpID0+ICh7XG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgcmVsYXRpdmVQb2ludCxcbiAgICAgICAgICB4OiBzdGFydE9mZnNldC5sZWZ0IC0gcmVjdC53aWR0aCAqIHJlbGF0aXZlUG9pbnQueCArIHNuYXBPZmZzZXQueCxcbiAgICAgICAgICB5OiBzdGFydE9mZnNldC50b3AgLSByZWN0LmhlaWdodCAqIHJlbGF0aXZlUG9pbnQueSArIHNuYXBPZmZzZXQueSxcbiAgICAgICAgfSkpXG4gICAgICA6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgIHJlbGF0aXZlUG9pbnQ6IG51bGwsXG4gICAgICAgICAgICB4OiBzbmFwT2Zmc2V0LngsXG4gICAgICAgICAgICB5OiBzbmFwT2Zmc2V0LnksXG4gICAgICAgICAgfSxcbiAgICAgICAgXVxufVxuXG5mdW5jdGlvbiBzZXQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGNvb3Jkcywgc3RhdGUgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMsIG9mZnNldHMgfSA9IHN0YXRlXG5cbiAgY29uc3Qgb3JpZ2luID0gZ2V0T3JpZ2luWFkoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlISwgaW50ZXJhY3Rpb24uZWxlbWVudCEsIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUpXG4gIGNvbnN0IHBhZ2UgPSBleHRlbmQoe30sIGNvb3JkcylcbiAgY29uc3QgdGFyZ2V0czogU25hcFBvc2l0aW9uW10gPSBbXVxuXG4gIGlmICghb3B0aW9ucy5vZmZzZXRXaXRoT3JpZ2luKSB7XG4gICAgcGFnZS54IC09IG9yaWdpbi54XG4gICAgcGFnZS55IC09IG9yaWdpbi55XG4gIH1cblxuICBmb3IgKGNvbnN0IG9mZnNldCBvZiBvZmZzZXRzISkge1xuICAgIGNvbnN0IHJlbGF0aXZlWCA9IHBhZ2UueCAtIG9mZnNldC54XG4gICAgY29uc3QgcmVsYXRpdmVZID0gcGFnZS55IC0gb2Zmc2V0LnlcblxuICAgIGZvciAobGV0IGluZGV4ID0gMCwgbGVuID0gb3B0aW9ucy50YXJnZXRzIS5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBzbmFwVGFyZ2V0ID0gb3B0aW9ucy50YXJnZXRzIVtpbmRleF1cbiAgICAgIGxldCB0YXJnZXQ6IFNuYXBQb3NpdGlvblxuXG4gICAgICBpZiAoaXMuZnVuYyhzbmFwVGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBzbmFwVGFyZ2V0KHJlbGF0aXZlWCwgcmVsYXRpdmVZLCBpbnRlcmFjdGlvbi5fcHJveHksIG9mZnNldCwgaW5kZXgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBzbmFwVGFyZ2V0XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHRhcmdldHMucHVzaCh7XG4gICAgICAgIHg6IChpcy5udW1iZXIodGFyZ2V0LngpID8gdGFyZ2V0LnggOiByZWxhdGl2ZVgpICsgb2Zmc2V0LngsXG4gICAgICAgIHk6IChpcy5udW1iZXIodGFyZ2V0LnkpID8gdGFyZ2V0LnkgOiByZWxhdGl2ZVkpICsgb2Zmc2V0LnksXG5cbiAgICAgICAgcmFuZ2U6IGlzLm51bWJlcih0YXJnZXQucmFuZ2UpID8gdGFyZ2V0LnJhbmdlIDogb3B0aW9ucy5yYW5nZSxcbiAgICAgICAgc291cmNlOiBzbmFwVGFyZ2V0LFxuICAgICAgICBpbmRleCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBjbG9zZXN0ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBpblJhbmdlOiBmYWxzZSxcbiAgICBkaXN0YW5jZTogMCxcbiAgICByYW5nZTogMCxcbiAgICBkZWx0YTogeyB4OiAwLCB5OiAwIH0sXG4gIH1cblxuICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgY29uc3QgcmFuZ2UgPSB0YXJnZXQucmFuZ2VcbiAgICBjb25zdCBkeCA9IHRhcmdldC54IC0gcGFnZS54XG4gICAgY29uc3QgZHkgPSB0YXJnZXQueSAtIHBhZ2UueVxuICAgIGNvbnN0IGRpc3RhbmNlID0gaHlwb3QoZHgsIGR5KVxuICAgIGxldCBpblJhbmdlID0gZGlzdGFuY2UgPD0gcmFuZ2VcblxuICAgIC8vIEluZmluaXRlIHRhcmdldHMgY291bnQgYXMgYmVpbmcgb3V0IG9mIHJhbmdlXG4gICAgLy8gY29tcGFyZWQgdG8gbm9uIGluZmluaXRlIG9uZXMgdGhhdCBhcmUgaW4gcmFuZ2VcbiAgICBpZiAocmFuZ2UgPT09IEluZmluaXR5ICYmIGNsb3Nlc3QuaW5SYW5nZSAmJiBjbG9zZXN0LnJhbmdlICE9PSBJbmZpbml0eSkge1xuICAgICAgaW5SYW5nZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIWNsb3Nlc3QudGFyZ2V0IHx8XG4gICAgICAoaW5SYW5nZVxuICAgICAgICA/IC8vIGlzIHRoZSBjbG9zZXN0IHRhcmdldCBpbiByYW5nZT9cbiAgICAgICAgICBjbG9zZXN0LmluUmFuZ2UgJiYgcmFuZ2UgIT09IEluZmluaXR5XG4gICAgICAgICAgPyAvLyB0aGUgcG9pbnRlciBpcyByZWxhdGl2ZWx5IGRlZXBlciBpbiB0aGlzIHRhcmdldFxuICAgICAgICAgICAgZGlzdGFuY2UgLyByYW5nZSA8IGNsb3Nlc3QuZGlzdGFuY2UgLyBjbG9zZXN0LnJhbmdlXG4gICAgICAgICAgOiAvLyB0aGlzIHRhcmdldCBoYXMgSW5maW5pdGUgcmFuZ2UgYW5kIHRoZSBjbG9zZXN0IGRvZXNuJ3RcbiAgICAgICAgICAgIChyYW5nZSA9PT0gSW5maW5pdHkgJiYgY2xvc2VzdC5yYW5nZSAhPT0gSW5maW5pdHkpIHx8XG4gICAgICAgICAgICAvLyBPUiB0aGlzIHRhcmdldCBpcyBjbG9zZXIgdGhhdCB0aGUgcHJldmlvdXMgY2xvc2VzdFxuICAgICAgICAgICAgZGlzdGFuY2UgPCBjbG9zZXN0LmRpc3RhbmNlXG4gICAgICAgIDogLy8gVGhlIG90aGVyIGlzIG5vdCBpbiByYW5nZSBhbmQgdGhlIHBvaW50ZXIgaXMgY2xvc2VyIHRvIHRoaXMgdGFyZ2V0XG4gICAgICAgICAgIWNsb3Nlc3QuaW5SYW5nZSAmJiBkaXN0YW5jZSA8IGNsb3Nlc3QuZGlzdGFuY2UpXG4gICAgKSB7XG4gICAgICBjbG9zZXN0LnRhcmdldCA9IHRhcmdldFxuICAgICAgY2xvc2VzdC5kaXN0YW5jZSA9IGRpc3RhbmNlXG4gICAgICBjbG9zZXN0LnJhbmdlID0gcmFuZ2VcbiAgICAgIGNsb3Nlc3QuaW5SYW5nZSA9IGluUmFuZ2VcbiAgICAgIGNsb3Nlc3QuZGVsdGEueCA9IGR4XG4gICAgICBjbG9zZXN0LmRlbHRhLnkgPSBkeVxuICAgIH1cbiAgfVxuXG4gIGlmIChjbG9zZXN0LmluUmFuZ2UpIHtcbiAgICBjb29yZHMueCA9IGNsb3Nlc3QudGFyZ2V0LnhcbiAgICBjb29yZHMueSA9IGNsb3Nlc3QudGFyZ2V0LnlcbiAgfVxuXG4gIHN0YXRlLmNsb3Nlc3QgPSBjbG9zZXN0XG4gIHJldHVybiBjbG9zZXN0XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbihhcmc6IFBhcnRpYWw8TW9kaWZpZXJBcmc8U25hcFN0YXRlPj4pIHtcbiAgY29uc3QgeyBlbGVtZW50IH0gPSBhcmcuaW50ZXJhY3Rpb25cbiAgY29uc3Qgb3B0aW9uc09yaWdpbiA9IHJlY3RUb1hZKHJlc29sdmVSZWN0TGlrZShhcmcuc3RhdGUub3B0aW9ucy5vcmlnaW4gYXMgYW55LCBudWxsLCBudWxsLCBbZWxlbWVudF0pKVxuICBjb25zdCBvcmlnaW4gPSBvcHRpb25zT3JpZ2luIHx8IGdldE9yaWdpblhZKGFyZy5pbnRlcmFjdGFibGUsIGVsZW1lbnQsIGFyZy5pbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lKVxuXG4gIHJldHVybiBvcmlnaW5cbn1cblxuY29uc3QgZGVmYXVsdHM6IFNuYXBPcHRpb25zID0ge1xuICByYW5nZTogSW5maW5pdHksXG4gIHRhcmdldHM6IG51bGwsXG4gIG9mZnNldDogbnVsbCxcbiAgb2Zmc2V0V2l0aE9yaWdpbjogdHJ1ZSxcbiAgb3JpZ2luOiBudWxsLFxuICByZWxhdGl2ZVBvaW50czogbnVsbCxcbiAgZW5kT25seTogZmFsc2UsXG4gIGVuYWJsZWQ6IGZhbHNlLFxufVxuY29uc3Qgc25hcCA9IHtcbiAgc3RhcnQsXG4gIHNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihzbmFwLCAnc25hcCcpXG5leHBvcnQgeyBzbmFwIH1cbiIsICIvLyBUaGlzIG1vZGlmaWVyIGFsbG93cyBzbmFwcGluZyBvZiB0aGUgc2l6ZSBvZiB0YXJnZXRzIGR1cmluZyByZXNpemVcbi8vIGludGVyYWN0aW9ucy5cblxuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgU25hcE9wdGlvbnMsIFNuYXBTdGF0ZSB9IGZyb20gJy4vcG9pbnRlcidcbmltcG9ydCB7IHNuYXAgfSBmcm9tICcuL3BvaW50ZXInXG5cbmV4cG9ydCB0eXBlIFNuYXBTaXplT3B0aW9ucyA9IFBpY2s8U25hcE9wdGlvbnMsICd0YXJnZXRzJyB8ICdvZmZzZXQnIHwgJ2VuZE9ubHknIHwgJ3JhbmdlJyB8ICdlbmFibGVkJz5cblxuZnVuY3Rpb24gc3RhcnQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgc3RhdGUsIGVkZ2VzIH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXJnLnN0YXRlID0ge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHRhcmdldHM6IG51bGwsXG4gICAgICByZWxhdGl2ZVBvaW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgeDogZWRnZXMubGVmdCA/IDAgOiAxLFxuICAgICAgICAgIHk6IGVkZ2VzLnRvcCA/IDAgOiAxLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIG9mZnNldDogb3B0aW9ucy5vZmZzZXQgfHwgJ3NlbGYnLFxuICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgIHJhbmdlOiBvcHRpb25zLnJhbmdlLFxuICAgIH0sXG4gIH1cblxuICBzdGF0ZS50YXJnZXRGaWVsZHMgPSBzdGF0ZS50YXJnZXRGaWVsZHMgfHwgW1xuICAgIFsnd2lkdGgnLCAnaGVpZ2h0J10sXG4gICAgWyd4JywgJ3knXSxcbiAgXVxuXG4gIHNuYXAuc3RhcnQoYXJnKVxuICBzdGF0ZS5vZmZzZXRzID0gYXJnLnN0YXRlLm9mZnNldHNcblxuICBhcmcuc3RhdGUgPSBzdGF0ZVxufVxuXG5mdW5jdGlvbiBzZXQoYXJnKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIHN0YXRlLCBjb29yZHMgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMsIG9mZnNldHMgfSA9IHN0YXRlXG4gIGNvbnN0IHJlbGF0aXZlID0ge1xuICAgIHg6IGNvb3Jkcy54IC0gb2Zmc2V0c1swXS54LFxuICAgIHk6IGNvb3Jkcy55IC0gb2Zmc2V0c1swXS55LFxuICB9XG5cbiAgc3RhdGUub3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucylcbiAgc3RhdGUub3B0aW9ucy50YXJnZXRzID0gW11cblxuICBmb3IgKGNvbnN0IHNuYXBUYXJnZXQgb2Ygb3B0aW9ucy50YXJnZXRzIHx8IFtdKSB7XG4gICAgbGV0IHRhcmdldFxuXG4gICAgaWYgKGlzLmZ1bmMoc25hcFRhcmdldCkpIHtcbiAgICAgIHRhcmdldCA9IHNuYXBUYXJnZXQocmVsYXRpdmUueCwgcmVsYXRpdmUueSwgaW50ZXJhY3Rpb24pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldCA9IHNuYXBUYXJnZXRcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFt4RmllbGQsIHlGaWVsZF0gb2Ygc3RhdGUudGFyZ2V0RmllbGRzKSB7XG4gICAgICBpZiAoeEZpZWxkIGluIHRhcmdldCB8fCB5RmllbGQgaW4gdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldC54ID0gdGFyZ2V0W3hGaWVsZF1cbiAgICAgICAgdGFyZ2V0LnkgPSB0YXJnZXRbeUZpZWxkXVxuXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGUub3B0aW9ucy50YXJnZXRzLnB1c2godGFyZ2V0KVxuICB9XG5cbiAgY29uc3QgcmV0dXJuVmFsdWUgPSBzbmFwLnNldChhcmcpXG5cbiAgc3RhdGUub3B0aW9ucyA9IG9wdGlvbnNcblxuICByZXR1cm4gcmV0dXJuVmFsdWVcbn1cblxuY29uc3QgZGVmYXVsdHM6IFNuYXBTaXplT3B0aW9ucyA9IHtcbiAgcmFuZ2U6IEluZmluaXR5LFxuICB0YXJnZXRzOiBudWxsLFxuICBvZmZzZXQ6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cblxuY29uc3Qgc25hcFNpemUgPSB7XG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIoc25hcFNpemUsICdzbmFwU2l6ZScpXG5leHBvcnQgeyBzbmFwU2l6ZSB9XG4iLCAiLyoqXG4gKiBAbW9kdWxlIG1vZGlmaWVycy9zbmFwRWRnZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgbW9kaWZpZXIgYWxsb3dzIHNuYXBwaW5nIG9mIHRoZSBlZGdlcyBvZiB0YXJnZXRzIGR1cmluZyByZXNpemVcbiAqIGludGVyYWN0aW9ucy5cbiAqXG4gKiBgYGBqc1xuICogaW50ZXJhY3QodGFyZ2V0KS5yZXNpemFibGUoe1xuICogICBzbmFwRWRnZXM6IHtcbiAqICAgICB0YXJnZXRzOiBbaW50ZXJhY3Quc25hcHBlcnMuZ3JpZCh7IHg6IDEwMCwgeTogNTAgfSldLFxuICogICB9LFxuICogfSlcbiAqXG4gKiBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6YWJsZSh7XG4gKiAgIHNuYXBFZGdlczoge1xuICogICAgIHRhcmdldHM6IFtcbiAqICAgICAgIGludGVyYWN0LnNuYXBwZXJzLmdyaWQoe1xuICogICAgICAgIHRvcDogNTAsXG4gKiAgICAgICAgbGVmdDogNTAsXG4gKiAgICAgICAgYm90dG9tOiAxMDAsXG4gKiAgICAgICAgcmlnaHQ6IDEwMCxcbiAqICAgICAgIH0pLFxuICogICAgIF0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cblxuaW1wb3J0IGNsb25lIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnLCBNb2RpZmllck1vZHVsZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFNuYXBPcHRpb25zLCBTbmFwU3RhdGUgfSBmcm9tICcuL3BvaW50ZXInXG5pbXBvcnQgeyBzbmFwU2l6ZSB9IGZyb20gJy4vc2l6ZSdcblxuZXhwb3J0IHR5cGUgU25hcEVkZ2VzT3B0aW9ucyA9IFBpY2s8U25hcE9wdGlvbnMsICd0YXJnZXRzJyB8ICdyYW5nZScgfCAnb2Zmc2V0JyB8ICdlbmRPbmx5JyB8ICdlbmFibGVkJz5cblxuZnVuY3Rpb24gc3RhcnQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgZWRnZXMgfSA9IGFyZ1xuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXJnLnN0YXRlLnRhcmdldEZpZWxkcyA9IGFyZy5zdGF0ZS50YXJnZXRGaWVsZHMgfHwgW1xuICAgIFtlZGdlcy5sZWZ0ID8gJ2xlZnQnIDogJ3JpZ2h0JywgZWRnZXMudG9wID8gJ3RvcCcgOiAnYm90dG9tJ10sXG4gIF1cblxuICByZXR1cm4gc25hcFNpemUuc3RhcnQoYXJnKVxufVxuXG5jb25zdCBzbmFwRWRnZXM6IE1vZGlmaWVyTW9kdWxlPFNuYXBFZGdlc09wdGlvbnMsIFNuYXBTdGF0ZSwgUmV0dXJuVHlwZTx0eXBlb2Ygc25hcFNpemUuc2V0Pj4gPSB7XG4gIHN0YXJ0LFxuICBzZXQ6IHNuYXBTaXplLnNldCxcbiAgZGVmYXVsdHM6IGV4dGVuZChjbG9uZShzbmFwU2l6ZS5kZWZhdWx0cyksIHtcbiAgICB0YXJnZXRzOiB1bmRlZmluZWQsXG4gICAgcmFuZ2U6IHVuZGVmaW5lZCxcbiAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICB9IGFzIGNvbnN0KSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHNuYXBFZGdlcywgJ3NuYXBFZGdlcycpXG5leHBvcnQgeyBzbmFwRWRnZXMgfVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIG4vbm8tZXh0cmFuZW91cy1pbXBvcnQsIGltcG9ydC9uby11bnJlc29sdmVkICovXG5pbXBvcnQgYXNwZWN0UmF0aW8gZnJvbSAnLi9hc3BlY3RSYXRpbydcbmltcG9ydCBhdm9pZCBmcm9tICcuL2F2b2lkL2F2b2lkJ1xuaW1wb3J0IHJlc3RyaWN0RWRnZXMgZnJvbSAnLi9yZXN0cmljdC9lZGdlcydcbmltcG9ydCByZXN0cmljdCBmcm9tICcuL3Jlc3RyaWN0L3BvaW50ZXInXG5pbXBvcnQgcmVzdHJpY3RSZWN0IGZyb20gJy4vcmVzdHJpY3QvcmVjdCdcbmltcG9ydCByZXN0cmljdFNpemUgZnJvbSAnLi9yZXN0cmljdC9zaXplJ1xuaW1wb3J0IHJ1YmJlcmJhbmQgZnJvbSAnLi9ydWJiZXJiYW5kL3J1YmJlcmJhbmQnXG5pbXBvcnQgc25hcEVkZ2VzIGZyb20gJy4vc25hcC9lZGdlcydcbmltcG9ydCBzbmFwIGZyb20gJy4vc25hcC9wb2ludGVyJ1xuaW1wb3J0IHNuYXBTaXplIGZyb20gJy4vc25hcC9zaXplJ1xuaW1wb3J0IHNwcmluZyBmcm9tICcuL3NwcmluZy9zcHJpbmcnXG5pbXBvcnQgdHJhbnNmb3JtIGZyb20gJy4vdHJhbnNmb3JtL3RyYW5zZm9ybSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3BlY3RSYXRpbyxcbiAgcmVzdHJpY3RFZGdlcyxcbiAgcmVzdHJpY3QsXG4gIHJlc3RyaWN0UmVjdCxcbiAgcmVzdHJpY3RTaXplLFxuICBzbmFwRWRnZXMsXG4gIHNuYXAsXG4gIHNuYXBTaXplLFxuXG4gIHNwcmluZyxcbiAgYXZvaWQsXG4gIHRyYW5zZm9ybSxcbiAgcnViYmVyYmFuZCxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgc25hcHBlcnMgZnJvbSAnQGludGVyYWN0anMvc25hcHBlcnMvcGx1Z2luJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2FsbCdcbmltcG9ydCAnLi9iYXNlJ1xuXG5pbXBvcnQgYWxsIGZyb20gJy4vYWxsJ1xuaW1wb3J0IGJhc2UgZnJvbSAnLi9iYXNlJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdFN0YXRpYycge1xuICBleHBvcnQgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgICBtb2RpZmllcnM6IHR5cGVvZiBhbGxcbiAgfVxufVxuXG5jb25zdCBtb2RpZmllcnM6IFBsdWdpbiA9IHtcbiAgaWQ6ICdtb2RpZmllcnMnLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QgfSA9IHNjb3BlXG5cbiAgICBzY29wZS51c2VQbHVnaW4oYmFzZSlcbiAgICBzY29wZS51c2VQbHVnaW4oc25hcHBlcnMpXG5cbiAgICBpbnRlcmFjdC5tb2RpZmllcnMgPSBhbGxcblxuICAgIC8vIGZvciBiYWNrd3JhZHMgY29tcGF0aWJpbGl0eVxuICAgIGZvciAoY29uc3QgdHlwZSBpbiBhbGwpIHtcbiAgICAgIGNvbnN0IHsgX2RlZmF1bHRzLCBfbWV0aG9kcyB9ID0gYWxsW3R5cGUgYXMga2V5b2YgdHlwZW9mIGFsbF1cblxuICAgICAgOyhfZGVmYXVsdHMgYXMgYW55KS5fbWV0aG9kcyA9IF9tZXRob2RzXG4gICAgICA7KHNjb3BlLmRlZmF1bHRzLnBlckFjdGlvbiBhcyBhbnkpW3R5cGVdID0gX2RlZmF1bHRzXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtb2RpZmllcnNcbiIsICJpbXBvcnQgeyBCYXNlRXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudCdcbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudFR5cGUsIFBvaW50ZXJUeXBlLCBQb2ludCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5leHBvcnQgY2xhc3MgUG9pbnRlckV2ZW50PFQgZXh0ZW5kcyBzdHJpbmcgPSBhbnk+IGV4dGVuZHMgQmFzZUV2ZW50PG5ldmVyPiB7XG4gIGRlY2xhcmUgdHlwZTogVFxuICBkZWNsYXJlIG9yaWdpbmFsRXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgZGVjbGFyZSBwb2ludGVySWQ6IG51bWJlclxuICBkZWNsYXJlIHBvaW50ZXJUeXBlOiBzdHJpbmdcbiAgZGVjbGFyZSBkb3VibGU6IGJvb2xlYW5cbiAgZGVjbGFyZSBwYWdlWDogbnVtYmVyXG4gIGRlY2xhcmUgcGFnZVk6IG51bWJlclxuICBkZWNsYXJlIGNsaWVudFg6IG51bWJlclxuICBkZWNsYXJlIGNsaWVudFk6IG51bWJlclxuICBkZWNsYXJlIGR0OiBudW1iZXJcbiAgZGVjbGFyZSBldmVudGFibGU6IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdHlwZTogVCxcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+LFxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgdGltZVN0YW1wOiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKGludGVyYWN0aW9uKVxuICAgIHBvaW50ZXJVdGlscy5wb2ludGVyRXh0ZW5kKHRoaXMsIGV2ZW50KVxuXG4gICAgaWYgKGV2ZW50ICE9PSBwb2ludGVyKSB7XG4gICAgICBwb2ludGVyVXRpbHMucG9pbnRlckV4dGVuZCh0aGlzLCBwb2ludGVyKVxuICAgIH1cblxuICAgIHRoaXMudGltZVN0YW1wID0gdGltZVN0YW1wXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgdGhpcy5wb2ludGVySWQgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKHBvaW50ZXIpXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVyVHlwZShwb2ludGVyKVxuICAgIHRoaXMudGFyZ2V0ID0gZXZlbnRUYXJnZXRcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsXG5cbiAgICBpZiAodHlwZSA9PT0gJ3RhcCcpIHtcbiAgICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IGludGVyYWN0aW9uLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICAgICAgdGhpcy5kdCA9IHRoaXMudGltZVN0YW1wIC0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XS5kb3duVGltZVxuXG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMudGltZVN0YW1wIC0gaW50ZXJhY3Rpb24udGFwVGltZVxuXG4gICAgICB0aGlzLmRvdWJsZSA9XG4gICAgICAgICEhaW50ZXJhY3Rpb24ucHJldlRhcCAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5wcmV2VGFwLnR5cGUgIT09ICdkb3VibGV0YXAnICYmXG4gICAgICAgIGludGVyYWN0aW9uLnByZXZUYXAudGFyZ2V0ID09PSB0aGlzLnRhcmdldCAmJlxuICAgICAgICBpbnRlcnZhbCA8IDUwMFxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RvdWJsZXRhcCcpIHtcbiAgICAgIHRoaXMuZHQgPSAocG9pbnRlciBhcyBQb2ludGVyRXZlbnQ8J3RhcCc+KS50aW1lU3RhbXAgLSBpbnRlcmFjdGlvbi50YXBUaW1lXG4gICAgICB0aGlzLmRvdWJsZSA9IHRydWVcbiAgICB9XG4gIH1cblxuICBfc3VidHJhY3RPcmlnaW4oeyB4OiBvcmlnaW5YLCB5OiBvcmlnaW5ZIH06IFBvaW50KSB7XG4gICAgdGhpcy5wYWdlWCAtPSBvcmlnaW5YXG4gICAgdGhpcy5wYWdlWSAtPSBvcmlnaW5ZXG4gICAgdGhpcy5jbGllbnRYIC09IG9yaWdpblhcbiAgICB0aGlzLmNsaWVudFkgLT0gb3JpZ2luWVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIF9hZGRPcmlnaW4oeyB4OiBvcmlnaW5YLCB5OiBvcmlnaW5ZIH06IFBvaW50KSB7XG4gICAgdGhpcy5wYWdlWCArPSBvcmlnaW5YXG4gICAgdGhpcy5wYWdlWSArPSBvcmlnaW5ZXG4gICAgdGhpcy5jbGllbnRYICs9IG9yaWdpblhcbiAgICB0aGlzLmNsaWVudFkgKz0gb3JpZ2luWVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50IHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiB0aGUgb3JpZ2luYWwgRXZlbnRcbiAgICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvRXZlbnRhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUG9pbnQsIFBvaW50ZXJUeXBlLCBQb2ludGVyRXZlbnRUeXBlLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5cbmltcG9ydCB7IFBvaW50ZXJFdmVudCB9IGZyb20gJy4vUG9pbnRlckV2ZW50J1xuXG5leHBvcnQgdHlwZSBFdmVudFRhcmdldExpc3QgPSBBcnJheTx7XG4gIG5vZGU6IE5vZGVcbiAgZXZlbnRhYmxlOiBFdmVudGFibGVcbiAgcHJvcHM6IHsgW2tleTogc3RyaW5nXTogYW55IH1cbn0+XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRlckV2ZW50T3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgZW5hYmxlZD86IHVuZGVmaW5lZCAvLyBub3QgdXNlZFxuICBob2xkRHVyYXRpb24/OiBudW1iZXJcbiAgaWdub3JlRnJvbT86IGFueVxuICBhbGxvd0Zyb20/OiBhbnlcbiAgb3JpZ2luPzogUG9pbnQgfCBzdHJpbmcgfCBFbGVtZW50XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgcG9pbnRlckV2ZW50czogdHlwZW9mIHBvaW50ZXJFdmVudHNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIHByZXZUYXA/OiBQb2ludGVyRXZlbnQ8c3RyaW5nPlxuICAgIHRhcFRpbWU/OiBudW1iZXJcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9Qb2ludGVySW5mbycge1xuICBpbnRlcmZhY2UgUG9pbnRlckluZm8ge1xuICAgIGhvbGQ/OiB7XG4gICAgICBkdXJhdGlvbjogbnVtYmVyXG4gICAgICB0aW1lb3V0OiBhbnlcbiAgICB9XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIHBvaW50ZXJFdmVudHM6IE9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ3BvaW50ZXJFdmVudHM6bmV3JzogeyBwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudDxhbnk+IH1cbiAgICAncG9pbnRlckV2ZW50czpmaXJlZCc6IHtcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxudWxsPlxuICAgICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICAgIHBvaW50ZXJFdmVudDogUG9pbnRlckV2ZW50PGFueT5cbiAgICAgIHRhcmdldHM/OiBFdmVudFRhcmdldExpc3RcbiAgICAgIHR5cGU6IHN0cmluZ1xuICAgIH1cbiAgICAncG9pbnRlckV2ZW50czpjb2xsZWN0LXRhcmdldHMnOiB7XG4gICAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248YW55PlxuICAgICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICAgIHRhcmdldHM/OiBFdmVudFRhcmdldExpc3RcbiAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgcGF0aDogTm9kZVtdXG4gICAgICBub2RlOiBudWxsXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRzOiBQb2ludGVyRXZlbnRPcHRpb25zID0ge1xuICBob2xkRHVyYXRpb246IDYwMCxcbiAgaWdub3JlRnJvbTogbnVsbCxcbiAgYWxsb3dGcm9tOiBudWxsLFxuICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxufVxuXG5jb25zdCBwb2ludGVyRXZlbnRzOiBQbHVnaW4gPSB7XG4gIGlkOiAncG9pbnRlci1ldmVudHMvYmFzZScsXG4gIGJlZm9yZTogWydpbmVydGlhJywgJ21vZGlmaWVycycsICdhdXRvLXN0YXJ0JywgJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiBhZGRJbnRlcmFjdGlvblByb3BzLFxuICAgICdpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInOiBhZGRIb2xkSW5mbyxcbiAgICAnaW50ZXJhY3Rpb25zOm1vdmUnOiBtb3ZlQW5kQ2xlYXJIb2xkLFxuICAgICdpbnRlcmFjdGlvbnM6ZG93bic6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBkb3duQW5kU3RhcnRIb2xkKGFyZywgc2NvcGUpXG4gICAgICBmaXJlKGFyZywgc2NvcGUpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOnVwJzogKGFyZywgc2NvcGUpID0+IHtcbiAgICAgIGNsZWFySG9sZChhcmcpXG4gICAgICBmaXJlKGFyZywgc2NvcGUpXG4gICAgICB0YXBBZnRlclVwKGFyZywgc2NvcGUpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOmNhbmNlbCc6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBjbGVhckhvbGQoYXJnKVxuICAgICAgZmlyZShhcmcsIHNjb3BlKVxuICAgIH0sXG4gIH0sXG4gIFBvaW50ZXJFdmVudCxcbiAgZmlyZSxcbiAgY29sbGVjdEV2ZW50VGFyZ2V0cyxcbiAgZGVmYXVsdHMsXG4gIHR5cGVzOiB7XG4gICAgZG93bjogdHJ1ZSxcbiAgICBtb3ZlOiB0cnVlLFxuICAgIHVwOiB0cnVlLFxuICAgIGNhbmNlbDogdHJ1ZSxcbiAgICB0YXA6IHRydWUsXG4gICAgZG91YmxldGFwOiB0cnVlLFxuICAgIGhvbGQ6IHRydWUsXG4gIH0gYXMgeyBbdHlwZTogc3RyaW5nXTogdHJ1ZSB9LFxufVxuXG5mdW5jdGlvbiBmaXJlPFQgZXh0ZW5kcyBzdHJpbmc+KFxuICBhcmc6IHtcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlXG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG5ldmVyPlxuICAgIHR5cGU6IFRcbiAgICB0YXJnZXRzPzogRXZlbnRUYXJnZXRMaXN0XG4gIH0sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIHR5cGUsIHRhcmdldHMgPSBjb2xsZWN0RXZlbnRUYXJnZXRzKGFyZywgc2NvcGUpIH0gPSBhcmdcblxuICBjb25zdCBwb2ludGVyRXZlbnQgPSBuZXcgUG9pbnRlckV2ZW50KHR5cGUsIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgaW50ZXJhY3Rpb24sIHNjb3BlLm5vdygpKVxuXG4gIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6bmV3JywgeyBwb2ludGVyRXZlbnQgfSlcblxuICBjb25zdCBzaWduYWxBcmcgPSB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcG9pbnRlcixcbiAgICBldmVudCxcbiAgICBldmVudFRhcmdldCxcbiAgICB0YXJnZXRzLFxuICAgIHR5cGUsXG4gICAgcG9pbnRlckV2ZW50LFxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1tpXVxuXG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRhcmdldC5wcm9wcyB8fCB7fSkge1xuICAgICAgOyhwb2ludGVyRXZlbnQgYXMgYW55KVtwcm9wXSA9IHRhcmdldC5wcm9wc1twcm9wXVxuICAgIH1cblxuICAgIGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpblhZKHRhcmdldC5ldmVudGFibGUsIHRhcmdldC5ub2RlKVxuXG4gICAgcG9pbnRlckV2ZW50Ll9zdWJ0cmFjdE9yaWdpbihvcmlnaW4pXG4gICAgcG9pbnRlckV2ZW50LmV2ZW50YWJsZSA9IHRhcmdldC5ldmVudGFibGVcbiAgICBwb2ludGVyRXZlbnQuY3VycmVudFRhcmdldCA9IHRhcmdldC5ub2RlXG5cbiAgICB0YXJnZXQuZXZlbnRhYmxlLmZpcmUocG9pbnRlckV2ZW50KVxuXG4gICAgcG9pbnRlckV2ZW50Ll9hZGRPcmlnaW4ob3JpZ2luKVxuXG4gICAgaWYgKFxuICAgICAgcG9pbnRlckV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCB8fFxuICAgICAgKHBvaW50ZXJFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQgJiZcbiAgICAgICAgaSArIDEgPCB0YXJnZXRzLmxlbmd0aCAmJlxuICAgICAgICB0YXJnZXRzW2kgKyAxXS5ub2RlICE9PSBwb2ludGVyRXZlbnQuY3VycmVudFRhcmdldClcbiAgICApIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgc2NvcGUuZmlyZSgncG9pbnRlckV2ZW50czpmaXJlZCcsIHNpZ25hbEFyZylcblxuICBpZiAodHlwZSA9PT0gJ3RhcCcpIHtcbiAgICAvLyBpZiBwb2ludGVyRXZlbnQgc2hvdWxkIG1ha2UgYSBkb3VibGUgdGFwLCBjcmVhdGUgYW5kIGZpcmUgYSBkb3VibGV0YXBcbiAgICAvLyBQb2ludGVyRXZlbnQgYW5kIHVzZSB0aGF0IGFzIHRoZSBwcmV2VGFwXG4gICAgY29uc3QgcHJldlRhcCA9IHBvaW50ZXJFdmVudC5kb3VibGVcbiAgICAgID8gZmlyZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgICAgIHBvaW50ZXIsXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgdHlwZTogJ2RvdWJsZXRhcCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgKVxuICAgICAgOiBwb2ludGVyRXZlbnRcblxuICAgIGludGVyYWN0aW9uLnByZXZUYXAgPSBwcmV2VGFwXG4gICAgaW50ZXJhY3Rpb24udGFwVGltZSA9IHByZXZUYXAudGltZVN0YW1wXG4gIH1cblxuICByZXR1cm4gcG9pbnRlckV2ZW50XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RFdmVudFRhcmdldHM8VCBleHRlbmRzIHN0cmluZz4oXG4gIHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICAgIGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0LFxuICAgIHR5cGUsXG4gIH06IHtcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248YW55PlxuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICB0eXBlOiBUXG4gIH0sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCBwb2ludGVySW5kZXggPSBpbnRlcmFjdGlvbi5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcbiAgY29uc3QgcG9pbnRlckluZm8gPSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdXG5cbiAgLy8gZG8gbm90IGZpcmUgYSB0YXAgZXZlbnQgaWYgdGhlIHBvaW50ZXIgd2FzIG1vdmVkIGJlZm9yZSBiZWluZyBsaWZ0ZWRcbiAgaWYgKFxuICAgIHR5cGUgPT09ICd0YXAnICYmXG4gICAgKGludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCB8fFxuICAgICAgLy8gb3IgaWYgdGhlIHBvaW50ZXJ1cCB0YXJnZXQgaXMgZGlmZmVyZW50IHRvIHRoZSBwb2ludGVyZG93biB0YXJnZXRcbiAgICAgICEocG9pbnRlckluZm8gJiYgcG9pbnRlckluZm8uZG93blRhcmdldCA9PT0gZXZlbnRUYXJnZXQpKVxuICApIHtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbnN0IHBhdGggPSBkb21VdGlscy5nZXRQYXRoKGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQgfCBEb2N1bWVudClcbiAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUYXJnZXQsXG4gICAgdHlwZSxcbiAgICBwYXRoLFxuICAgIHRhcmdldHM6IFtdIGFzIEV2ZW50VGFyZ2V0TGlzdCxcbiAgICBub2RlOiBudWxsLFxuICB9XG5cbiAgZm9yIChjb25zdCBub2RlIG9mIHBhdGgpIHtcbiAgICBzaWduYWxBcmcubm9kZSA9IG5vZGVcblxuICAgIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJywgc2lnbmFsQXJnKVxuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdob2xkJykge1xuICAgIHNpZ25hbEFyZy50YXJnZXRzID0gc2lnbmFsQXJnLnRhcmdldHMuZmlsdGVyKFxuICAgICAgKHRhcmdldCkgPT5cbiAgICAgICAgdGFyZ2V0LmV2ZW50YWJsZS5vcHRpb25zLmhvbGREdXJhdGlvbiA9PT0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XT8uaG9sZD8uZHVyYXRpb24sXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHNpZ25hbEFyZy50YXJnZXRzXG59XG5cbmZ1bmN0aW9uIGFkZEludGVyYWN0aW9uUHJvcHMoeyBpbnRlcmFjdGlvbiB9KSB7XG4gIGludGVyYWN0aW9uLnByZXZUYXAgPSBudWxsIC8vIHRoZSBtb3N0IHJlY2VudCB0YXAgZXZlbnQgb24gdGhpcyBpbnRlcmFjdGlvblxuICBpbnRlcmFjdGlvbi50YXBUaW1lID0gMCAvLyB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudCB0YXAgZXZlbnRcbn1cblxuZnVuY3Rpb24gYWRkSG9sZEluZm8oeyBkb3duLCBwb2ludGVySW5mbyB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInXSkge1xuICBpZiAoIWRvd24gJiYgcG9pbnRlckluZm8uaG9sZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcG9pbnRlckluZm8uaG9sZCA9IHsgZHVyYXRpb246IEluZmluaXR5LCB0aW1lb3V0OiBudWxsIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJIb2xkKHsgaW50ZXJhY3Rpb24sIHBvaW50ZXJJbmRleCB9KSB7XG4gIGNvbnN0IGhvbGQgPSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdLmhvbGRcblxuICBpZiAoaG9sZCAmJiBob2xkLnRpbWVvdXQpIHtcbiAgICBjbGVhclRpbWVvdXQoaG9sZC50aW1lb3V0KVxuICAgIGhvbGQudGltZW91dCA9IG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiBtb3ZlQW5kQ2xlYXJIb2xkKGFyZzogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgZHVwbGljYXRlIH0gPSBhcmdcblxuICBpZiAoIWR1cGxpY2F0ZSAmJiAoIWludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gfHwgaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkKSkge1xuICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duKSB7XG4gICAgICBjbGVhckhvbGQoYXJnKVxuICAgIH1cblxuICAgIGZpcmUoXG4gICAgICB7XG4gICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBwb2ludGVyLFxuICAgICAgICBldmVudCxcbiAgICAgICAgZXZlbnRUYXJnZXQ6IGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQsXG4gICAgICAgIHR5cGU6ICdtb3ZlJyxcbiAgICAgIH0sXG4gICAgICBzY29wZSxcbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gZG93bkFuZFN0YXJ0SG9sZChcbiAgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBwb2ludGVySW5kZXggfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOmRvd24nXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IHRpbWVyID0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XS5ob2xkIVxuICBjb25zdCBwYXRoID0gZG9tVXRpbHMuZ2V0UGF0aChldmVudFRhcmdldCBhcyBFbGVtZW50IHwgRG9jdW1lbnQpXG4gIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICAgIGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0LFxuICAgIHR5cGU6ICdob2xkJyxcbiAgICB0YXJnZXRzOiBbXSBhcyBFdmVudFRhcmdldExpc3QsXG4gICAgcGF0aCxcbiAgICBub2RlOiBudWxsLFxuICB9XG5cbiAgZm9yIChjb25zdCBub2RlIG9mIHBhdGgpIHtcbiAgICBzaWduYWxBcmcubm9kZSA9IG5vZGVcblxuICAgIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJywgc2lnbmFsQXJnKVxuICB9XG5cbiAgaWYgKCFzaWduYWxBcmcudGFyZ2V0cy5sZW5ndGgpIHJldHVyblxuXG4gIGxldCBtaW5EdXJhdGlvbiA9IEluZmluaXR5XG5cbiAgZm9yIChjb25zdCB0YXJnZXQgb2Ygc2lnbmFsQXJnLnRhcmdldHMpIHtcbiAgICBjb25zdCBob2xkRHVyYXRpb24gPSB0YXJnZXQuZXZlbnRhYmxlLm9wdGlvbnMuaG9sZER1cmF0aW9uXG5cbiAgICBpZiAoaG9sZER1cmF0aW9uIDwgbWluRHVyYXRpb24pIHtcbiAgICAgIG1pbkR1cmF0aW9uID0gaG9sZER1cmF0aW9uXG4gICAgfVxuICB9XG5cbiAgdGltZXIuZHVyYXRpb24gPSBtaW5EdXJhdGlvblxuICB0aW1lci50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZmlyZShcbiAgICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICBwb2ludGVyLFxuICAgICAgICBldmVudCxcbiAgICAgICAgdHlwZTogJ2hvbGQnLFxuICAgICAgfSxcbiAgICAgIHNjb3BlLFxuICAgIClcbiAgfSwgbWluRHVyYXRpb24pXG59XG5cbmZ1bmN0aW9uIHRhcEFmdGVyVXAoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6dXAnXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmICghaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkKSB7XG4gICAgZmlyZSh7IGludGVyYWN0aW9uLCBldmVudFRhcmdldCwgcG9pbnRlciwgZXZlbnQsIHR5cGU6ICd0YXAnIH0sIHNjb3BlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIHNjb3BlLnBvaW50ZXJFdmVudHMgPSBwb2ludGVyRXZlbnRzXG4gIHNjb3BlLmRlZmF1bHRzLmFjdGlvbnMucG9pbnRlckV2ZW50cyA9IHBvaW50ZXJFdmVudHMuZGVmYXVsdHNcbiAgZXh0ZW5kKHNjb3BlLmFjdGlvbnMucGhhc2VsZXNzVHlwZXMsIHBvaW50ZXJFdmVudHMudHlwZXMpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50ZXJFdmVudHNcbiIsICJpbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBMaXN0ZW5lck1hcCwgU2NvcGUsIFNpZ25hbEFyZ3MsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYmFzZSdcbmltcG9ydCBiYXNlUGx1Z2luIGZyb20gJy4vYmFzZSdcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cbmltcG9ydCB7IHR5cGUgUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9Qb2ludGVyRXZlbnQnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgaG9sZEludGVydmFsSGFuZGxlPzogYW55XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL1BvaW50ZXJFdmVudCcge1xuICBpbnRlcmZhY2UgUG9pbnRlckV2ZW50PFQgZXh0ZW5kcyBzdHJpbmcgPSBhbnk+IHtcbiAgICBjb3VudD86IG51bWJlclxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9iYXNlJyB7XG4gIGludGVyZmFjZSBQb2ludGVyRXZlbnRPcHRpb25zIHtcbiAgICBob2xkUmVwZWF0SW50ZXJ2YWw/OiBudW1iZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBzY29wZS51c2VQbHVnaW4oYmFzZVBsdWdpbilcblxuICBjb25zdCB7IHBvaW50ZXJFdmVudHMgfSA9IHNjb3BlXG5cbiAgLy8gZG9uJ3QgcmVwZWF0IGJ5IGRlZmF1bHRcbiAgcG9pbnRlckV2ZW50cy5kZWZhdWx0cy5ob2xkUmVwZWF0SW50ZXJ2YWwgPSAwXG4gIHBvaW50ZXJFdmVudHMudHlwZXMuaG9sZHJlcGVhdCA9IHNjb3BlLmFjdGlvbnMucGhhc2VsZXNzVHlwZXMuaG9sZHJlcGVhdCA9IHRydWVcbn1cblxuZnVuY3Rpb24gb25OZXcoeyBwb2ludGVyRXZlbnQgfTogeyBwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudDxhbnk+IH0pIHtcbiAgaWYgKHBvaW50ZXJFdmVudC50eXBlICE9PSAnaG9sZCcpIHJldHVyblxuXG4gIHBvaW50ZXJFdmVudC5jb3VudCA9IChwb2ludGVyRXZlbnQuY291bnQgfHwgMCkgKyAxXG59XG5cbmZ1bmN0aW9uIG9uRmlyZWQoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXJFdmVudCwgZXZlbnRUYXJnZXQsIHRhcmdldHMgfTogU2lnbmFsQXJnc1sncG9pbnRlckV2ZW50czpmaXJlZCddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKHBvaW50ZXJFdmVudC50eXBlICE9PSAnaG9sZCcgfHwgIXRhcmdldHMubGVuZ3RoKSByZXR1cm5cblxuICAvLyBnZXQgdGhlIHJlcGVhdCBpbnRlcnZhbCBmcm9tIHRoZSBmaXJzdCBldmVudGFibGVcbiAgY29uc3QgaW50ZXJ2YWwgPSB0YXJnZXRzWzBdLmV2ZW50YWJsZS5vcHRpb25zLmhvbGRSZXBlYXRJbnRlcnZhbFxuXG4gIC8vIGRvbid0IHJlcGVhdCBpZiB0aGUgaW50ZXJ2YWwgaXMgMCBvciBsZXNzXG4gIGlmIChpbnRlcnZhbCA8PSAwKSByZXR1cm5cblxuICAvLyBzZXQgYSB0aW1lb3V0IHRvIGZpcmUgdGhlIGhvbGRyZXBlYXQgZXZlbnRcbiAgaW50ZXJhY3Rpb24uaG9sZEludGVydmFsSGFuZGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgc2NvcGUucG9pbnRlckV2ZW50cy5maXJlKFxuICAgICAge1xuICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgIHR5cGU6ICdob2xkJyxcbiAgICAgICAgcG9pbnRlcjogcG9pbnRlckV2ZW50LFxuICAgICAgICBldmVudDogcG9pbnRlckV2ZW50LFxuICAgICAgfSxcbiAgICAgIHNjb3BlLFxuICAgIClcbiAgfSwgaW50ZXJ2YWwpXG59XG5cbmZ1bmN0aW9uIGVuZEhvbGRSZXBlYXQoeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIC8vIHNldCB0aGUgaW50ZXJhY3Rpb24ncyBob2xkU3RvcFRpbWUgcHJvcGVydHlcbiAgLy8gdG8gc3RvcCBmdXJ0aGVyIGhvbGRSZXBlYXQgZXZlbnRzXG4gIGlmIChpbnRlcmFjdGlvbi5ob2xkSW50ZXJ2YWxIYW5kbGUpIHtcbiAgICBjbGVhckludGVydmFsKGludGVyYWN0aW9uLmhvbGRJbnRlcnZhbEhhbmRsZSlcbiAgICBpbnRlcmFjdGlvbi5ob2xkSW50ZXJ2YWxIYW5kbGUgPSBudWxsXG4gIH1cbn1cblxuY29uc3QgaG9sZFJlcGVhdDogUGx1Z2luID0ge1xuICBpZDogJ3BvaW50ZXItZXZlbnRzL2hvbGRSZXBlYXQnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IFsnbW92ZScsICd1cCcsICdjYW5jZWwnLCAnZW5kYWxsJ10ucmVkdWNlKFxuICAgIChhY2MsIGVuZGVyVHlwZXMpID0+IHtcbiAgICAgIDsoYWNjIGFzIGFueSlbYHBvaW50ZXJFdmVudHM6JHtlbmRlclR5cGVzfWBdID0gZW5kSG9sZFJlcGVhdFxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sXG4gICAge1xuICAgICAgJ3BvaW50ZXJFdmVudHM6bmV3Jzogb25OZXcsXG4gICAgICAncG9pbnRlckV2ZW50czpmaXJlZCc6IG9uRmlyZWQsXG4gICAgfSBhcyBMaXN0ZW5lck1hcCxcbiAgKSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgaG9sZFJlcGVhdFxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudE9wdGlvbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9iYXNlJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgcG9pbnRlckV2ZW50cyhvcHRpb25zOiBQYXJ0aWFsPFBvaW50ZXJFdmVudE9wdGlvbnM+KTogdGhpc1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfX2JhY2tDb21wYXRPcHRpb246IChvcHRpb25OYW1lOiBzdHJpbmcsIG5ld1ZhbHVlOiBhbnkpID0+IGFueVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgSW50ZXJhY3RhYmxlIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucG9pbnRlckV2ZW50cyA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgb3B0aW9uczogUGFydGlhbDxQb2ludGVyRXZlbnRPcHRpb25zPixcbiAgKSB7XG4gICAgZXh0ZW5kKHRoaXMuZXZlbnRzLm9wdGlvbnMsIG9wdGlvbnMpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgY29uc3QgX19iYWNrQ29tcGF0T3B0aW9uID0gSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5fYmFja0NvbXBhdE9wdGlvblxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuX2JhY2tDb21wYXRPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uTmFtZSwgbmV3VmFsdWUpIHtcbiAgICBjb25zdCByZXQgPSBfX2JhY2tDb21wYXRPcHRpb24uY2FsbCh0aGlzLCBvcHRpb25OYW1lLCBuZXdWYWx1ZSlcblxuICAgIGlmIChyZXQgPT09IHRoaXMpIHtcbiAgICAgIHRoaXMuZXZlbnRzLm9wdGlvbnNbb3B0aW9uTmFtZV0gPSBuZXdWYWx1ZVxuICAgIH1cblxuICAgIHJldHVybiByZXRcbiAgfVxufVxuXG5jb25zdCBwbHVnaW46IFBsdWdpbiA9IHtcbiAgaWQ6ICdwb2ludGVyLWV2ZW50cy9pbnRlcmFjdGFibGVUYXJnZXRzJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJzogKHsgdGFyZ2V0cywgbm9kZSwgdHlwZSwgZXZlbnRUYXJnZXQgfSwgc2NvcGUpID0+IHtcbiAgICAgIHNjb3BlLmludGVyYWN0YWJsZXMuZm9yRWFjaE1hdGNoKG5vZGUsIChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSkgPT4ge1xuICAgICAgICBjb25zdCBldmVudGFibGUgPSBpbnRlcmFjdGFibGUuZXZlbnRzXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBldmVudGFibGUub3B0aW9uc1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBldmVudGFibGUudHlwZXNbdHlwZV0gJiZcbiAgICAgICAgICBldmVudGFibGUudHlwZXNbdHlwZV0ubGVuZ3RoICYmXG4gICAgICAgICAgaW50ZXJhY3RhYmxlLnRlc3RJZ25vcmVBbGxvdyhvcHRpb25zLCBub2RlLCBldmVudFRhcmdldClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFyZ2V0cy5wdXNoKHtcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBldmVudGFibGUsXG4gICAgICAgICAgICBwcm9wczogeyBpbnRlcmFjdGFibGUgfSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3RhYmxlOm5ldyc6ICh7IGludGVyYWN0YWJsZSB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGFibGUuZXZlbnRzLmdldFJlY3QgPSBmdW5jdGlvbiAoZWxlbWVudDogRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0YWJsZTpzZXQnOiAoeyBpbnRlcmFjdGFibGUsIG9wdGlvbnMgfSwgc2NvcGUpID0+IHtcbiAgICAgIGV4dGVuZChpbnRlcmFjdGFibGUuZXZlbnRzLm9wdGlvbnMsIHNjb3BlLnBvaW50ZXJFdmVudHMuZGVmYXVsdHMpXG4gICAgICBleHRlbmQoaW50ZXJhY3RhYmxlLmV2ZW50cy5vcHRpb25zLCBvcHRpb25zLnBvaW50ZXJFdmVudHMgfHwge30pXG4gICAgfSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luXG4iLCAiaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2Jhc2UnXG5pbXBvcnQgJy4vaG9sZFJlcGVhdCdcbmltcG9ydCAnLi9pbnRlcmFjdGFibGVUYXJnZXRzJ1xuXG5pbXBvcnQgKiBhcyBwb2ludGVyRXZlbnRzIGZyb20gJy4vYmFzZSdcbmltcG9ydCBob2xkUmVwZWF0IGZyb20gJy4vaG9sZFJlcGVhdCdcbmltcG9ydCBpbnRlcmFjdGFibGVUYXJnZXRzIGZyb20gJy4vaW50ZXJhY3RhYmxlVGFyZ2V0cydcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuY29uc3QgcGx1Z2luOiBQbHVnaW4gPSB7XG4gIGlkOiAncG9pbnRlci1ldmVudHMnLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgc2NvcGUudXNlUGx1Z2luKHBvaW50ZXJFdmVudHMpXG4gICAgc2NvcGUudXNlUGx1Z2luKGhvbGRSZXBlYXQpXG4gICAgc2NvcGUudXNlUGx1Z2luKGludGVyYWN0YWJsZVRhcmdldHMpXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpblxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IERvQW55UGhhc2VBcmcsIEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEFjdGlvblByb3BzLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgeyBjb3B5QWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgeyB0bGJyVG9YeXdoIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1yZWZsb3cnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXJlZmxvdyc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1yZWZsb3cnOiBEb0FueVBoYXNlQXJnXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgaW50ZXJhY3RhYmxlID0gaW50ZXJhY3QodGFyZ2V0KVxuICAgICAqIGNvbnN0IGRyYWcgPSB7IG5hbWU6IGRyYWcsIGF4aXM6ICd4JyB9XG4gICAgICogY29uc3QgcmVzaXplID0geyBuYW1lOiByZXNpemUsIGVkZ2VzOiB7IGxlZnQ6IHRydWUsIGJvdHRvbTogdHJ1ZSB9XG4gICAgICpcbiAgICAgKiBpbnRlcmFjdGFibGUucmVmbG93KGRyYWcpXG4gICAgICogaW50ZXJhY3RhYmxlLnJlZmxvdyhyZXNpemUpXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTdGFydCBhbiBhY3Rpb24gc2VxdWVuY2UgdG8gcmUtYXBwbHkgbW9kaWZpZXJzLCBjaGVjayBkcm9wcywgZXRjLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsgT2JqZWN0IH0gYWN0aW9uIFRoZSBhY3Rpb24gdG8gYmVnaW5cbiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSBhY3Rpb24ubmFtZSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uXG4gICAgICogQHJldHVybnMgeyBQcm9taXNlIH0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGBJbnRlcmFjdGFibGVgIHdoZW4gYWN0aW9ucyBvbiBhbGwgdGFyZ2V0cyBoYXZlIGVuZGVkXG4gICAgICovXG4gICAgcmVmbG93PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihhY3Rpb246IEFjdGlvblByb3BzPFQ+KTogUmV0dXJuVHlwZTx0eXBlb2YgZG9SZWZsb3c+XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBfcmVmbG93UHJvbWlzZTogUHJvbWlzZTx2b2lkPlxuICAgIF9yZWZsb3dSZXNvbHZlOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgUGhhc2VNYXAge1xuICAgIHJlZmxvdz86IHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IEludGVyYWN0YWJsZSB9ID0gc2NvcGVcblxuICBzY29wZS5hY3Rpb25zLnBoYXNlcy5yZWZsb3cgPSB0cnVlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5yZWZsb3cgPSBmdW5jdGlvbiAoYWN0aW9uOiBBY3Rpb25Qcm9wcykge1xuICAgIHJldHVybiBkb1JlZmxvdyh0aGlzLCBhY3Rpb24sIHNjb3BlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGRvUmVmbG93PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGFjdGlvbjogQWN0aW9uUHJvcHM8VD4sXG4gIHNjb3BlOiBTY29wZSxcbik6IFByb21pc2U8SW50ZXJhY3RhYmxlPiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gaW50ZXJhY3RhYmxlLmdldEFsbEVsZW1lbnRzKClcblxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgdmFyaWFibGUtbmFtZVxuICBjb25zdCBQcm9taXNlID0gKHNjb3BlLndpbmRvdyBhcyBhbnkpLlByb21pc2VcbiAgY29uc3QgcHJvbWlzZXM6IEFycmF5PFByb21pc2U8bnVsbD4+IHwgbnVsbCA9IFByb21pc2UgPyBbXSA6IG51bGxcblxuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBjb25zdCByZWN0ID0gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudCBhcyBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQpXG5cbiAgICBpZiAoIXJlY3QpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY29uc3QgcnVubmluZ0ludGVyYWN0aW9uID0gYXJyLmZpbmQoc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QsIChpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlID09PSBpbnRlcmFjdGFibGUgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24uZWxlbWVudCA9PT0gZWxlbWVudCAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lID09PSBhY3Rpb24ubmFtZVxuICAgICAgKVxuICAgIH0pXG4gICAgbGV0IHJlZmxvd1Byb21pc2U6IFByb21pc2U8bnVsbD5cblxuICAgIGlmIChydW5uaW5nSW50ZXJhY3Rpb24pIHtcbiAgICAgIHJ1bm5pbmdJbnRlcmFjdGlvbi5tb3ZlKClcblxuICAgICAgaWYgKHByb21pc2VzKSB7XG4gICAgICAgIHJlZmxvd1Byb21pc2UgPVxuICAgICAgICAgIHJ1bm5pbmdJbnRlcmFjdGlvbi5fcmVmbG93UHJvbWlzZSB8fFxuICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJ1bm5pbmdJbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSA9IHJlc29sdmVcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB4eXdoID0gdGxiclRvWHl3aChyZWN0KVxuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICBwYWdlOiB7IHg6IHh5d2gueCwgeTogeHl3aC55IH0sXG4gICAgICAgIGNsaWVudDogeyB4OiB4eXdoLngsIHk6IHh5d2gueSB9LFxuICAgICAgICB0aW1lU3RhbXA6IHNjb3BlLm5vdygpLFxuICAgICAgfVxuXG4gICAgICBjb25zdCBldmVudCA9IHBvaW50ZXJVdGlscy5jb29yZHNUb0V2ZW50KGNvb3JkcylcbiAgICAgIHJlZmxvd1Byb21pc2UgPSBzdGFydFJlZmxvdzxUPihzY29wZSwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBhY3Rpb24sIGV2ZW50KVxuICAgIH1cblxuICAgIGlmIChwcm9taXNlcykge1xuICAgICAgcHJvbWlzZXMucHVzaChyZWZsb3dQcm9taXNlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcm9taXNlcyAmJiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiBpbnRlcmFjdGFibGUpXG59XG5cbmZ1bmN0aW9uIHN0YXJ0UmVmbG93PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAgc2NvcGU6IFNjb3BlLFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxUPixcbiAgZXZlbnQ6IGFueSxcbikge1xuICBjb25zdCBpbnRlcmFjdGlvbiA9IHNjb3BlLmludGVyYWN0aW9ucy5uZXcoeyBwb2ludGVyVHlwZTogJ3JlZmxvdycgfSlcbiAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgIGludGVyYWN0aW9uLFxuICAgIGV2ZW50LFxuICAgIHBvaW50ZXI6IGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0OiBlbGVtZW50LFxuICAgIHBoYXNlOiAncmVmbG93JyxcbiAgfSBhcyBjb25zdFxuXG4gIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICBpbnRlcmFjdGlvbi5lbGVtZW50ID0gZWxlbWVudFxuICBpbnRlcmFjdGlvbi5wcmV2RXZlbnQgPSBldmVudFxuICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKGV2ZW50LCBldmVudCwgZWxlbWVudCwgdHJ1ZSlcbiAgcG9pbnRlclV0aWxzLnNldFplcm9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmRlbHRhKVxuXG4gIGNvcHlBY3Rpb24oaW50ZXJhY3Rpb24ucHJlcGFyZWQsIGFjdGlvbilcbiAgaW50ZXJhY3Rpb24uX2RvUGhhc2Uoc2lnbmFsQXJnKVxuXG4gIGNvbnN0IHsgUHJvbWlzZSB9ID0gc2NvcGUud2luZG93IGFzIHVua25vd24gYXMgeyBQcm9taXNlOiBQcm9taXNlQ29uc3RydWN0b3IgfVxuICBjb25zdCByZWZsb3dQcm9taXNlID0gUHJvbWlzZVxuICAgID8gbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICBpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSA9IHJlc29sdmVcbiAgICAgIH0pXG4gICAgOiB1bmRlZmluZWRcblxuICBpbnRlcmFjdGlvbi5fcmVmbG93UHJvbWlzZSA9IHJlZmxvd1Byb21pc2VcbiAgaW50ZXJhY3Rpb24uc3RhcnQoYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQpXG5cbiAgaWYgKGludGVyYWN0aW9uLl9pbnRlcmFjdGluZykge1xuICAgIGludGVyYWN0aW9uLm1vdmUoc2lnbmFsQXJnKVxuICAgIGludGVyYWN0aW9uLmVuZChldmVudClcbiAgfSBlbHNlIHtcbiAgICBpbnRlcmFjdGlvbi5zdG9wKClcbiAgICBpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSgpXG4gIH1cblxuICBpbnRlcmFjdGlvbi5yZW1vdmVQb2ludGVyKGV2ZW50LCBldmVudClcblxuICByZXR1cm4gcmVmbG93UHJvbWlzZVxufVxuXG5jb25zdCByZWZsb3c6IFBsdWdpbiA9IHtcbiAgaWQ6ICdyZWZsb3cnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAvLyByZW1vdmUgY29tcGxldGVkIHJlZmxvdyBpbnRlcmFjdGlvbnNcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiAoeyBpbnRlcmFjdGlvbiB9LCBzY29wZSkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlID09PSAncmVmbG93Jykge1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uX3JlZmxvd1Jlc29sdmUpIHtcbiAgICAgICAgICBpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSgpXG4gICAgICAgIH1cblxuICAgICAgICBhcnIucmVtb3ZlKHNjb3BlLmludGVyYWN0aW9ucy5saXN0LCBpbnRlcmFjdGlvbilcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCByZWZsb3dcbiIsICIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQgaW50ZXJhY3QgZnJvbSAnQGludGVyYWN0anMvaW50ZXJhY3RqcydcblxuZXhwb3J0IGRlZmF1bHQgaW50ZXJhY3RcblxuaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmICEhbW9kdWxlKSB7XG4gIHRyeSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBpbnRlcmFjdFxuICB9IGNhdGNoIHt9XG59XG5cbjsoaW50ZXJhY3QgYXMgYW55KS5kZWZhdWx0ID0gaW50ZXJhY3RcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9hY3Rpb25zL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvYXV0by1zY3JvbGwvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvY29yZS9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCdcbmltcG9ydCAnQGludGVyYWN0anMvZGV2LXRvb2xzL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvaW5lcnRpYS9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2ludGVyYWN0J1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9vZmZzZXQvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL3JlZmxvdy9wbHVnaW4nXG5cbmltcG9ydCBhY3Rpb25zIGZyb20gJ0BpbnRlcmFjdGpzL2FjdGlvbnMvcGx1Z2luJ1xuaW1wb3J0IGF1dG9TY3JvbGwgZnJvbSAnQGludGVyYWN0anMvYXV0by1zY3JvbGwvcGx1Z2luJ1xuaW1wb3J0IGF1dG9TdGFydCBmcm9tICdAaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L3BsdWdpbidcbmltcG9ydCBpbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0J1xuaW1wb3J0IGRldlRvb2xzIGZyb20gJ0BpbnRlcmFjdGpzL2Rldi10b29scy9wbHVnaW4nXG5pbXBvcnQgaW5lcnRpYSBmcm9tICdAaW50ZXJhY3Rqcy9pbmVydGlhL3BsdWdpbidcbmltcG9ydCBpbnRlcmFjdCBmcm9tICdAaW50ZXJhY3Rqcy9pbnRlcmFjdCdcbmltcG9ydCBtb2RpZmllcnMgZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL3BsdWdpbidcbmltcG9ydCBvZmZzZXQgZnJvbSAnQGludGVyYWN0anMvb2Zmc2V0L3BsdWdpbidcbmltcG9ydCBwb2ludGVyRXZlbnRzIGZyb20gJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbidcbmltcG9ydCByZWZsb3cgZnJvbSAnQGludGVyYWN0anMvcmVmbG93L3BsdWdpbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuaW50ZXJhY3QudXNlKGludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0KVxuXG5pbnRlcmFjdC51c2Uob2Zmc2V0KVxuXG4vLyBwb2ludGVyRXZlbnRzXG5pbnRlcmFjdC51c2UocG9pbnRlckV2ZW50cylcblxuLy8gaW5lcnRpYVxuaW50ZXJhY3QudXNlKGluZXJ0aWEpXG5cbi8vIHNuYXAsIHJlc2l6ZSwgZXRjLlxuaW50ZXJhY3QudXNlKG1vZGlmaWVycylcblxuLy8gYXV0b1N0YXJ0LCBob2xkXG5pbnRlcmFjdC51c2UoYXV0b1N0YXJ0KVxuXG4vLyBkcmFnIGFuZCBkcm9wLCByZXNpemUsIGdlc3R1cmVcbmludGVyYWN0LnVzZShhY3Rpb25zKVxuXG4vLyBhdXRvU2Nyb2xsXG5pbnRlcmFjdC51c2UoYXV0b1Njcm9sbClcblxuLy8gcmVmbG93XG5pbnRlcmFjdC51c2UocmVmbG93KVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGludGVyYWN0LnVzZShkZXZUb29scylcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW50ZXJhY3RcbjsoaW50ZXJhY3QgYXMgYW55KS5kZWZhdWx0ID0gaW50ZXJhY3RcbiIsICIvKiFcblR1cmJvIDguMC40XG5Db3B5cmlnaHQgXHUwMEE5IDIwMjQgMzdzaWduYWxzIExMQ1xuICovXG4vKipcbiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxOSBKYXZhbiBNYWtobWFsaVxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cblxuKGZ1bmN0aW9uIChwcm90b3R5cGUpIHtcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUucmVxdWVzdFN1Ym1pdCA9PSBcImZ1bmN0aW9uXCIpIHJldHVyblxuXG4gIHByb3RvdHlwZS5yZXF1ZXN0U3VibWl0ID0gZnVuY3Rpb24gKHN1Ym1pdHRlcikge1xuICAgIGlmIChzdWJtaXR0ZXIpIHtcbiAgICAgIHZhbGlkYXRlU3VibWl0dGVyKHN1Ym1pdHRlciwgdGhpcyk7XG4gICAgICBzdWJtaXR0ZXIuY2xpY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VibWl0dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgc3VibWl0dGVyLnR5cGUgPSBcInN1Ym1pdFwiO1xuICAgICAgc3VibWl0dGVyLmhpZGRlbiA9IHRydWU7XG4gICAgICB0aGlzLmFwcGVuZENoaWxkKHN1Ym1pdHRlcik7XG4gICAgICBzdWJtaXR0ZXIuY2xpY2soKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoc3VibWl0dGVyKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVTdWJtaXR0ZXIoc3VibWl0dGVyLCBmb3JtKSB7XG4gICAgc3VibWl0dGVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgcmFpc2UoVHlwZUVycm9yLCBcInBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdIVE1MRWxlbWVudCdcIik7XG4gICAgc3VibWl0dGVyLnR5cGUgPT0gXCJzdWJtaXRcIiB8fCByYWlzZShUeXBlRXJyb3IsIFwiVGhlIHNwZWNpZmllZCBlbGVtZW50IGlzIG5vdCBhIHN1Ym1pdCBidXR0b25cIik7XG4gICAgc3VibWl0dGVyLmZvcm0gPT0gZm9ybSB8fFxuICAgICAgcmFpc2UoRE9NRXhjZXB0aW9uLCBcIlRoZSBzcGVjaWZpZWQgZWxlbWVudCBpcyBub3Qgb3duZWQgYnkgdGhpcyBmb3JtIGVsZW1lbnRcIiwgXCJOb3RGb3VuZEVycm9yXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmFpc2UoZXJyb3JDb25zdHJ1Y3RvciwgbWVzc2FnZSwgbmFtZSkge1xuICAgIHRocm93IG5ldyBlcnJvckNvbnN0cnVjdG9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlcXVlc3RTdWJtaXQnIG9uICdIVE1MRm9ybUVsZW1lbnQnOiBcIiArIG1lc3NhZ2UgKyBcIi5cIiwgbmFtZSlcbiAgfVxufSkoSFRNTEZvcm1FbGVtZW50LnByb3RvdHlwZSk7XG5cbmNvbnN0IHN1Ym1pdHRlcnNCeUZvcm0gPSBuZXcgV2Vha01hcCgpO1xuXG5mdW5jdGlvbiBmaW5kU3VibWl0dGVyRnJvbUNsaWNrVGFyZ2V0KHRhcmdldCkge1xuICBjb25zdCBlbGVtZW50ID0gdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCA/IHRhcmdldCA6IHRhcmdldCBpbnN0YW5jZW9mIE5vZGUgPyB0YXJnZXQucGFyZW50RWxlbWVudCA6IG51bGw7XG4gIGNvbnN0IGNhbmRpZGF0ZSA9IGVsZW1lbnQgPyBlbGVtZW50LmNsb3Nlc3QoXCJpbnB1dCwgYnV0dG9uXCIpIDogbnVsbDtcbiAgcmV0dXJuIGNhbmRpZGF0ZT8udHlwZSA9PSBcInN1Ym1pdFwiID8gY2FuZGlkYXRlIDogbnVsbFxufVxuXG5mdW5jdGlvbiBjbGlja0NhcHR1cmVkKGV2ZW50KSB7XG4gIGNvbnN0IHN1Ym1pdHRlciA9IGZpbmRTdWJtaXR0ZXJGcm9tQ2xpY2tUYXJnZXQoZXZlbnQudGFyZ2V0KTtcblxuICBpZiAoc3VibWl0dGVyICYmIHN1Ym1pdHRlci5mb3JtKSB7XG4gICAgc3VibWl0dGVyc0J5Rm9ybS5zZXQoc3VibWl0dGVyLmZvcm0sIHN1Ym1pdHRlcik7XG4gIH1cbn1cblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKFwic3VibWl0dGVyXCIgaW4gRXZlbnQucHJvdG90eXBlKSByZXR1cm5cblxuICBsZXQgcHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZTtcbiAgLy8gQ2VydGFpbiB2ZXJzaW9ucyBvZiBTYWZhcmkgMTUgaGF2ZSBhIGJ1ZyB3aGVyZSB0aGV5IHdvbid0XG4gIC8vIHBvcHVsYXRlIHRoZSBzdWJtaXR0ZXIuIFRoaXMgaHVydHMgVHVyYm9Ecml2ZSdzIGVuYWJsZS9kaXNhYmxlIGRldGVjdGlvbi5cbiAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMjk2NjBcbiAgaWYgKFwiU3VibWl0RXZlbnRcIiBpbiB3aW5kb3cpIHtcbiAgICBjb25zdCBwcm90b3R5cGVPZlN1Ym1pdEV2ZW50ID0gd2luZG93LlN1Ym1pdEV2ZW50LnByb3RvdHlwZTtcblxuICAgIGlmICgvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcikgJiYgIShcInN1Ym1pdHRlclwiIGluIHByb3RvdHlwZU9mU3VibWl0RXZlbnQpKSB7XG4gICAgICBwcm90b3R5cGUgPSBwcm90b3R5cGVPZlN1Ym1pdEV2ZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLy8gcG9seWZpbGwgbm90IG5lZWRlZFxuICAgIH1cbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0NhcHR1cmVkLCB0cnVlKTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBcInN1Ym1pdHRlclwiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgaWYgKHRoaXMudHlwZSA9PSBcInN1Ym1pdFwiICYmIHRoaXMudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBzdWJtaXR0ZXJzQnlGb3JtLmdldCh0aGlzLnRhcmdldClcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSkoKTtcblxuY29uc3QgRnJhbWVMb2FkaW5nU3R5bGUgPSB7XG4gIGVhZ2VyOiBcImVhZ2VyXCIsXG4gIGxhenk6IFwibGF6eVwiXG59O1xuXG4vKipcbiAqIENvbnRhaW5zIGEgZnJhZ21lbnQgb2YgSFRNTCB3aGljaCBpcyB1cGRhdGVkIGJhc2VkIG9uIG5hdmlnYXRpb24gd2l0aGluXG4gKiBpdCAoZS5nLiB2aWEgbGlua3Mgb3IgZm9ybSBzdWJtaXNzaW9ucykuXG4gKlxuICogQGN1c3RvbUVsZW1lbnQgdHVyYm8tZnJhbWVcbiAqIEBleGFtcGxlXG4gKiAgIDx0dXJiby1mcmFtZSBpZD1cIm1lc3NhZ2VzXCI+XG4gKiAgICAgPGEgaHJlZj1cIi9tZXNzYWdlcy9leHBhbmRlZFwiPlxuICogICAgICAgU2hvdyBhbGwgZXhwYW5kZWQgbWVzc2FnZXMgaW4gdGhpcyBmcmFtZS5cbiAqICAgICA8L2E+XG4gKlxuICogICAgIDxmb3JtIGFjdGlvbj1cIi9tZXNzYWdlc1wiPlxuICogICAgICAgU2hvdyByZXNwb25zZSBmcm9tIHRoaXMgZm9ybSB3aXRoaW4gdGhpcyBmcmFtZS5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvdHVyYm8tZnJhbWU+XG4gKi9cbmNsYXNzIEZyYW1lRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgc3RhdGljIGRlbGVnYXRlQ29uc3RydWN0b3IgPSB1bmRlZmluZWRcblxuICBsb2FkZWQgPSBQcm9taXNlLnJlc29sdmUoKVxuXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbXCJkaXNhYmxlZFwiLCBcImxvYWRpbmdcIiwgXCJzcmNcIl1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IG5ldyBGcmFtZUVsZW1lbnQuZGVsZWdhdGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGVsZWdhdGUuY29ubmVjdCgpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS5kaXNjb25uZWN0KCk7XG4gIH1cblxuICByZWxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuc291cmNlVVJMUmVsb2FkZWQoKVxuICB9XG5cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PSBcImxvYWRpbmdcIikge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5sb2FkaW5nU3R5bGVDaGFuZ2VkKCk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09IFwic3JjXCIpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUuc291cmNlVVJMQ2hhbmdlZCgpO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PSBcImRpc2FibGVkXCIpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUuZGlzYWJsZWRDaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCB0byBsYXppbHkgbG9hZCBzb3VyY2UgSFRNTCBmcm9tXG4gICAqL1xuICBnZXQgc3JjKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInNyY1wiKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFVSTCB0byBsYXppbHkgbG9hZCBzb3VyY2UgSFRNTCBmcm9tXG4gICAqL1xuICBzZXQgc3JjKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInNyY1wiLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSByZWZyZXNoIG1vZGUgZm9yIHRoZSBmcmFtZS5cbiAgICovXG4gIGdldCByZWZyZXNoKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInJlZnJlc2hcIilcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByZWZyZXNoIG1vZGUgZm9yIHRoZSBmcmFtZS5cbiAgICovXG4gIHNldCByZWZyZXNoKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInJlZnJlc2hcIiwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInJlZnJlc2hcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGVsZW1lbnQgaXMgbG9hZGluZ1xuICAgKi9cbiAgZ2V0IGxvYWRpbmcoKSB7XG4gICAgcmV0dXJuIGZyYW1lTG9hZGluZ1N0eWxlRnJvbVN0cmluZyh0aGlzLmdldEF0dHJpYnV0ZShcImxvYWRpbmdcIikgfHwgXCJcIilcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBpZiB0aGUgZWxlbWVudCBpcyBsb2FkaW5nXG4gICAqL1xuICBzZXQgbG9hZGluZyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkaXNhYmxlZCBzdGF0ZSBvZiB0aGUgZnJhbWUuXG4gICAqXG4gICAqIElmIGRpc2FibGVkLCBubyByZXF1ZXN0cyB3aWxsIGJlIGludGVyY2VwdGVkIGJ5IHRoZSBmcmFtZS5cbiAgICovXG4gIGdldCBkaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRpc2FibGVkIHN0YXRlIG9mIHRoZSBmcmFtZS5cbiAgICpcbiAgICogSWYgZGlzYWJsZWQsIG5vIHJlcXVlc3RzIHdpbGwgYmUgaW50ZXJjZXB0ZWQgYnkgdGhlIGZyYW1lLlxuICAgKi9cbiAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhdXRvc2Nyb2xsIHN0YXRlIG9mIHRoZSBmcmFtZS5cbiAgICpcbiAgICogSWYgdHJ1ZSwgdGhlIGZyYW1lIHdpbGwgYmUgc2Nyb2xsZWQgaW50byB2aWV3IGF1dG9tYXRpY2FsbHkgb24gdXBkYXRlLlxuICAgKi9cbiAgZ2V0IGF1dG9zY3JvbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwiYXV0b3Njcm9sbFwiKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGF1dG9zY3JvbGwgc3RhdGUgb2YgdGhlIGZyYW1lLlxuICAgKlxuICAgKiBJZiB0cnVlLCB0aGUgZnJhbWUgd2lsbCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgYXV0b21hdGljYWxseSBvbiB1cGRhdGUuXG4gICAqL1xuICBzZXQgYXV0b3Njcm9sbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJhdXRvc2Nyb2xsXCIsIFwiXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImF1dG9zY3JvbGxcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGVsZW1lbnQgaGFzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICovXG4gIGdldCBjb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuZGVsZWdhdGUuaXNMb2FkaW5nXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYWN0aXZlIHN0YXRlIG9mIHRoZSBmcmFtZS5cbiAgICpcbiAgICogSWYgaW5hY3RpdmUsIHNvdXJjZSBjaGFuZ2VzIHdpbGwgbm90IGJlIG9ic2VydmVkLlxuICAgKi9cbiAgZ2V0IGlzQWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQgPT09IGRvY3VtZW50ICYmICF0aGlzLmlzUHJldmlld1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGFjdGl2ZSBzdGF0ZSBvZiB0aGUgZnJhbWUuXG4gICAqXG4gICAqIElmIGluYWN0aXZlLCBzb3VyY2UgY2hhbmdlcyB3aWxsIG5vdCBiZSBvYnNlcnZlZC5cbiAgICovXG4gIGdldCBpc1ByZXZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMub3duZXJEb2N1bWVudD8uZG9jdW1lbnRFbGVtZW50Py5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXByZXZpZXdcIilcbiAgfVxufVxuXG5mdW5jdGlvbiBmcmFtZUxvYWRpbmdTdHlsZUZyb21TdHJpbmcoc3R5bGUpIHtcbiAgc3dpdGNoIChzdHlsZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcImxhenlcIjpcbiAgICAgIHJldHVybiBGcmFtZUxvYWRpbmdTdHlsZS5sYXp5XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBGcmFtZUxvYWRpbmdTdHlsZS5lYWdlclxuICB9XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFVSTChsb2NhdGFibGUpIHtcbiAgcmV0dXJuIG5ldyBVUkwobG9jYXRhYmxlLnRvU3RyaW5nKCksIGRvY3VtZW50LmJhc2VVUkkpXG59XG5cbmZ1bmN0aW9uIGdldEFuY2hvcih1cmwpIHtcbiAgbGV0IGFuY2hvck1hdGNoO1xuICBpZiAodXJsLmhhc2gpIHtcbiAgICByZXR1cm4gdXJsLmhhc2guc2xpY2UoMSlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgfSBlbHNlIGlmICgoYW5jaG9yTWF0Y2ggPSB1cmwuaHJlZi5tYXRjaCgvIyguKikkLykpKSB7XG4gICAgcmV0dXJuIGFuY2hvck1hdGNoWzFdXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QWN0aW9uJDEoZm9ybSwgc3VibWl0dGVyKSB7XG4gIGNvbnN0IGFjdGlvbiA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZm9ybWFjdGlvblwiKSB8fCBmb3JtLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKSB8fCBmb3JtLmFjdGlvbjtcblxuICByZXR1cm4gZXhwYW5kVVJMKGFjdGlvbilcbn1cblxuZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHVybCkge1xuICByZXR1cm4gKGdldExhc3RQYXRoQ29tcG9uZW50KHVybCkubWF0Y2goL1xcLlteLl0qJC8pIHx8IFtdKVswXSB8fCBcIlwiXG59XG5cbmZ1bmN0aW9uIGlzSFRNTCh1cmwpIHtcbiAgcmV0dXJuICEhZ2V0RXh0ZW5zaW9uKHVybCkubWF0Y2goL14oPzp8XFwuKD86aHRtfGh0bWx8eGh0bWx8cGhwKSkkLylcbn1cblxuZnVuY3Rpb24gaXNQcmVmaXhlZEJ5KGJhc2VVUkwsIHVybCkge1xuICBjb25zdCBwcmVmaXggPSBnZXRQcmVmaXgodXJsKTtcbiAgcmV0dXJuIGJhc2VVUkwuaHJlZiA9PT0gZXhwYW5kVVJMKHByZWZpeCkuaHJlZiB8fCBiYXNlVVJMLmhyZWYuc3RhcnRzV2l0aChwcmVmaXgpXG59XG5cbmZ1bmN0aW9uIGxvY2F0aW9uSXNWaXNpdGFibGUobG9jYXRpb24sIHJvb3RMb2NhdGlvbikge1xuICByZXR1cm4gaXNQcmVmaXhlZEJ5KGxvY2F0aW9uLCByb290TG9jYXRpb24pICYmIGlzSFRNTChsb2NhdGlvbilcbn1cblxuZnVuY3Rpb24gZ2V0UmVxdWVzdFVSTCh1cmwpIHtcbiAgY29uc3QgYW5jaG9yID0gZ2V0QW5jaG9yKHVybCk7XG4gIHJldHVybiBhbmNob3IgIT0gbnVsbCA/IHVybC5ocmVmLnNsaWNlKDAsIC0oYW5jaG9yLmxlbmd0aCArIDEpKSA6IHVybC5ocmVmXG59XG5cbmZ1bmN0aW9uIHRvQ2FjaGVLZXkodXJsKSB7XG4gIHJldHVybiBnZXRSZXF1ZXN0VVJMKHVybClcbn1cblxuZnVuY3Rpb24gdXJsc0FyZUVxdWFsKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBleHBhbmRVUkwobGVmdCkuaHJlZiA9PSBleHBhbmRVUkwocmlnaHQpLmhyZWZcbn1cblxuZnVuY3Rpb24gZ2V0UGF0aENvbXBvbmVudHModXJsKSB7XG4gIHJldHVybiB1cmwucGF0aG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDEpXG59XG5cbmZ1bmN0aW9uIGdldExhc3RQYXRoQ29tcG9uZW50KHVybCkge1xuICByZXR1cm4gZ2V0UGF0aENvbXBvbmVudHModXJsKS5zbGljZSgtMSlbMF1cbn1cblxuZnVuY3Rpb24gZ2V0UHJlZml4KHVybCkge1xuICByZXR1cm4gYWRkVHJhaWxpbmdTbGFzaCh1cmwub3JpZ2luICsgdXJsLnBhdGhuYW1lKVxufVxuXG5mdW5jdGlvbiBhZGRUcmFpbGluZ1NsYXNoKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5lbmRzV2l0aChcIi9cIikgPyB2YWx1ZSA6IHZhbHVlICsgXCIvXCJcbn1cblxuY2xhc3MgRmV0Y2hSZXNwb25zZSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICB9XG5cbiAgZ2V0IHN1Y2NlZWRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5va1xuICB9XG5cbiAgZ2V0IGZhaWxlZCgpIHtcbiAgICByZXR1cm4gIXRoaXMuc3VjY2VlZGVkXG4gIH1cblxuICBnZXQgY2xpZW50RXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA+PSA0MDAgJiYgdGhpcy5zdGF0dXNDb2RlIDw9IDQ5OVxuICB9XG5cbiAgZ2V0IHNlcnZlckVycm9yKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXR1c0NvZGUgPj0gNTAwICYmIHRoaXMuc3RhdHVzQ29kZSA8PSA1OTlcbiAgfVxuXG4gIGdldCByZWRpcmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLnJlZGlyZWN0ZWRcbiAgfVxuXG4gIGdldCBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gZXhwYW5kVVJMKHRoaXMucmVzcG9uc2UudXJsKVxuICB9XG5cbiAgZ2V0IGlzSFRNTCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50VHlwZSAmJiB0aGlzLmNvbnRlbnRUeXBlLm1hdGNoKC9eKD86dGV4dFxcLyhbXlxcczssXStcXGIpP2h0bWx8YXBwbGljYXRpb25cXC94aHRtbFxcK3htbClcXGIvKVxuICB9XG5cbiAgZ2V0IHN0YXR1c0NvZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2Uuc3RhdHVzXG4gIH1cblxuICBnZXQgY29udGVudFR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZGVyKFwiQ29udGVudC1UeXBlXCIpXG4gIH1cblxuICBnZXQgcmVzcG9uc2VUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLmNsb25lKCkudGV4dCgpXG4gIH1cblxuICBnZXQgcmVzcG9uc2VIVE1MKCkge1xuICAgIGlmICh0aGlzLmlzSFRNTCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2UuY2xvbmUoKS50ZXh0KClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpXG4gICAgfVxuICB9XG5cbiAgaGVhZGVyKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5oZWFkZXJzLmdldChuYW1lKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlU2NyaXB0RWxlbWVudChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZXZhbFwiKSA9PSBcImZhbHNlXCIpIHtcbiAgICByZXR1cm4gZWxlbWVudFxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNyZWF0ZWRTY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICBjb25zdCBjc3BOb25jZSA9IGdldE1ldGFDb250ZW50KFwiY3NwLW5vbmNlXCIpO1xuICAgIGlmIChjc3BOb25jZSkge1xuICAgICAgY3JlYXRlZFNjcmlwdEVsZW1lbnQubm9uY2UgPSBjc3BOb25jZTtcbiAgICB9XG4gICAgY3JlYXRlZFNjcmlwdEVsZW1lbnQudGV4dENvbnRlbnQgPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgIGNyZWF0ZWRTY3JpcHRFbGVtZW50LmFzeW5jID0gZmFsc2U7XG4gICAgY29weUVsZW1lbnRBdHRyaWJ1dGVzKGNyZWF0ZWRTY3JpcHRFbGVtZW50LCBlbGVtZW50KTtcbiAgICByZXR1cm4gY3JlYXRlZFNjcmlwdEVsZW1lbnRcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5RWxlbWVudEF0dHJpYnV0ZXMoZGVzdGluYXRpb25FbGVtZW50LCBzb3VyY2VFbGVtZW50KSB7XG4gIGZvciAoY29uc3QgeyBuYW1lLCB2YWx1ZSB9IG9mIHNvdXJjZUVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgIGRlc3RpbmF0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQoaHRtbCkge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnRcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2goZXZlbnROYW1lLCB7IHRhcmdldCwgY2FuY2VsYWJsZSwgZGV0YWlsIH0gPSB7fSkge1xuICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICBjYW5jZWxhYmxlLFxuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWUsXG4gICAgZGV0YWlsXG4gIH0pO1xuXG4gIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmlzQ29ubmVjdGVkKSB7XG4gICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfVxuXG4gIHJldHVybiBldmVudFxufVxuXG5mdW5jdGlvbiBuZXh0UmVwYWludCgpIHtcbiAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgIHJldHVybiBuZXh0RXZlbnRMb29wVGljaygpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5leHRBbmltYXRpb25GcmFtZSgpXG4gIH1cbn1cblxuZnVuY3Rpb24gbmV4dEFuaW1hdGlvbkZyYW1lKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKVxufVxuXG5mdW5jdGlvbiBuZXh0RXZlbnRMb29wVGljaygpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoKSwgMCkpXG59XG5cbmZ1bmN0aW9uIG5leHRNaWNyb3Rhc2soKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxufVxuXG5mdW5jdGlvbiBwYXJzZUhUTUxEb2N1bWVudChodG1sID0gXCJcIikge1xuICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCBcInRleHQvaHRtbFwiKVxufVxuXG5mdW5jdGlvbiB1bmluZGVudChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgY29uc3QgbGluZXMgPSBpbnRlcnBvbGF0ZShzdHJpbmdzLCB2YWx1ZXMpLnJlcGxhY2UoL15cXG4vLCBcIlwiKS5zcGxpdChcIlxcblwiKTtcbiAgY29uc3QgbWF0Y2ggPSBsaW5lc1swXS5tYXRjaCgvXlxccysvKTtcbiAgY29uc3QgaW5kZW50ID0gbWF0Y2ggPyBtYXRjaFswXS5sZW5ndGggOiAwO1xuICByZXR1cm4gbGluZXMubWFwKChsaW5lKSA9PiBsaW5lLnNsaWNlKGluZGVudCkpLmpvaW4oXCJcXG5cIilcbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RyaW5ncywgdmFsdWVzKSB7XG4gIHJldHVybiBzdHJpbmdzLnJlZHVjZSgocmVzdWx0LCBzdHJpbmcsIGkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpXSA9PSB1bmRlZmluZWQgPyBcIlwiIDogdmFsdWVzW2ldO1xuICAgIHJldHVybiByZXN1bHQgKyBzdHJpbmcgKyB2YWx1ZVxuICB9LCBcIlwiKVxufVxuXG5mdW5jdGlvbiB1dWlkKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogMzYgfSlcbiAgICAubWFwKChfLCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSA4IHx8IGkgPT0gMTMgfHwgaSA9PSAxOCB8fCBpID09IDIzKSB7XG4gICAgICAgIHJldHVybiBcIi1cIlxuICAgICAgfSBlbHNlIGlmIChpID09IDE0KSB7XG4gICAgICAgIHJldHVybiBcIjRcIlxuICAgICAgfSBlbHNlIGlmIChpID09IDE5KSB7XG4gICAgICAgIHJldHVybiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkgKyA4KS50b1N0cmluZygxNilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNSkudG9TdHJpbmcoMTYpXG4gICAgICB9XG4gICAgfSlcbiAgICAuam9pbihcIlwiKVxufVxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgLi4uZWxlbWVudHMpIHtcbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBlbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IGVsZW1lbnQ/LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gaGFzQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIC4uLmVsZW1lbnRzKSB7XG4gIHJldHVybiBlbGVtZW50cy5zb21lKChlbGVtZW50KSA9PiBlbGVtZW50ICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKVxufVxuXG5mdW5jdGlvbiBtYXJrQXNCdXN5KC4uLmVsZW1lbnRzKSB7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PSBcInR1cmJvLWZyYW1lXCIpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYnVzeVwiLCBcIlwiKTtcbiAgICB9XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWJ1c3lcIiwgXCJ0cnVlXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyQnVzeVN0YXRlKC4uLmVsZW1lbnRzKSB7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PSBcInR1cmJvLWZyYW1lXCIpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYnVzeVwiKTtcbiAgICB9XG5cbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtYnVzeVwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YWl0Rm9yTG9hZChlbGVtZW50LCB0aW1lb3V0SW5NaWxsaXNlY29uZHMgPSAyMDAwKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IG9uQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkNvbXBsZXRlKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgb25Db21wbGV0ZSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgb25Db21wbGV0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uQ29tcGxldGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVvdXRJbk1pbGxpc2Vjb25kcyk7XG4gIH0pXG59XG5cbmZ1bmN0aW9uIGdldEhpc3RvcnlNZXRob2RGb3JBY3Rpb24oYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgIHJldHVybiBoaXN0b3J5LnJlcGxhY2VTdGF0ZVxuICAgIGNhc2UgXCJhZHZhbmNlXCI6XG4gICAgY2FzZSBcInJlc3RvcmVcIjpcbiAgICAgIHJldHVybiBoaXN0b3J5LnB1c2hTdGF0ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzQWN0aW9uKGFjdGlvbikge1xuICByZXR1cm4gYWN0aW9uID09IFwiYWR2YW5jZVwiIHx8IGFjdGlvbiA9PSBcInJlcGxhY2VcIiB8fCBhY3Rpb24gPT0gXCJyZXN0b3JlXCJcbn1cblxuZnVuY3Rpb24gZ2V0VmlzaXRBY3Rpb24oLi4uZWxlbWVudHMpIHtcbiAgY29uc3QgYWN0aW9uID0gZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1hY3Rpb25cIiwgLi4uZWxlbWVudHMpO1xuXG4gIHJldHVybiBpc0FjdGlvbihhY3Rpb24pID8gYWN0aW9uIDogbnVsbFxufVxuXG5mdW5jdGlvbiBnZXRNZXRhRWxlbWVudChuYW1lKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBtZXRhW25hbWU9XCIke25hbWV9XCJdYClcbn1cblxuZnVuY3Rpb24gZ2V0TWV0YUNvbnRlbnQobmFtZSkge1xuICBjb25zdCBlbGVtZW50ID0gZ2V0TWV0YUVsZW1lbnQobmFtZSk7XG4gIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuY29udGVudFxufVxuXG5mdW5jdGlvbiBzZXRNZXRhQ29udGVudChuYW1lLCBjb250ZW50KSB7XG4gIGxldCBlbGVtZW50ID0gZ2V0TWV0YUVsZW1lbnQobmFtZSk7XG5cbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBuYW1lKTtcblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cblxuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRlbnRcIiwgY29udGVudCk7XG5cbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuZnVuY3Rpb24gZmluZENsb3Nlc3RSZWN1cnNpdmVseShlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKSB8fCBmaW5kQ2xvc2VzdFJlY3Vyc2l2ZWx5KGVsZW1lbnQuYXNzaWduZWRTbG90IHx8IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKT8uaG9zdCwgc2VsZWN0b3IpXG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRJc0ZvY3VzYWJsZShlbGVtZW50KSB7XG4gIGNvbnN0IGluZXJ0RGlzYWJsZWRPckhpZGRlbiA9IFwiW2luZXJ0XSwgOmRpc2FibGVkLCBbaGlkZGVuXSwgZGV0YWlsczpub3QoW29wZW5dKSwgZGlhbG9nOm5vdChbb3Blbl0pXCI7XG5cbiAgcmV0dXJuICEhZWxlbWVudCAmJiBlbGVtZW50LmNsb3Nlc3QoaW5lcnREaXNhYmxlZE9ySGlkZGVuKSA9PSBudWxsICYmIHR5cGVvZiBlbGVtZW50LmZvY3VzID09IFwiZnVuY3Rpb25cIlxufVxuXG5mdW5jdGlvbiBxdWVyeUF1dG9mb2N1c2FibGVFbGVtZW50KGVsZW1lbnRPckRvY3VtZW50RnJhZ21lbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudE9yRG9jdW1lbnRGcmFnbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2F1dG9mb2N1c11cIikpLmZpbmQoZWxlbWVudElzRm9jdXNhYmxlKVxufVxuXG5hc3luYyBmdW5jdGlvbiBhcm91bmQoY2FsbGJhY2ssIHJlYWRlcikge1xuICBjb25zdCBiZWZvcmUgPSByZWFkZXIoKTtcblxuICBjYWxsYmFjaygpO1xuXG4gIGF3YWl0IG5leHRBbmltYXRpb25GcmFtZSgpO1xuXG4gIGNvbnN0IGFmdGVyID0gcmVhZGVyKCk7XG5cbiAgcmV0dXJuIFtiZWZvcmUsIGFmdGVyXVxufVxuXG5mdW5jdGlvbiBkb2VzTm90VGFyZ2V0SUZyYW1lKGFuY2hvcikge1xuICBpZiAoYW5jaG9yLmhhc0F0dHJpYnV0ZShcInRhcmdldFwiKSkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShhbmNob3IudGFyZ2V0KSkge1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZmluZExpbmtGcm9tQ2xpY2tUYXJnZXQodGFyZ2V0KSB7XG4gIHJldHVybiBmaW5kQ2xvc2VzdFJlY3Vyc2l2ZWx5KHRhcmdldCwgXCJhW2hyZWZdOm5vdChbdGFyZ2V0Xj1fXSk6bm90KFtkb3dubG9hZF0pXCIpXG59XG5cbmZ1bmN0aW9uIGdldExvY2F0aW9uRm9yTGluayhsaW5rKSB7XG4gIHJldHVybiBleHBhbmRVUkwobGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpIHx8IFwiXCIpXG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCBkZWxheSkge1xuICBsZXQgdGltZW91dElkID0gbnVsbDtcblxuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbiAgfVxufVxuXG5jbGFzcyBMaW1pdGVkU2V0IGV4dGVuZHMgU2V0IHtcbiAgY29uc3RydWN0b3IobWF4U2l6ZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tYXhTaXplID0gbWF4U2l6ZTtcbiAgfVxuXG4gIGFkZCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLnNpemUgPj0gdGhpcy5tYXhTaXplKSB7XG4gICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMudmFsdWVzKCk7XG4gICAgICBjb25zdCBvbGRlc3RWYWx1ZSA9IGl0ZXJhdG9yLm5leHQoKS52YWx1ZTtcbiAgICAgIHRoaXMuZGVsZXRlKG9sZGVzdFZhbHVlKTtcbiAgICB9XG4gICAgc3VwZXIuYWRkKHZhbHVlKTtcbiAgfVxufVxuXG5jb25zdCByZWNlbnRSZXF1ZXN0cyA9IG5ldyBMaW1pdGVkU2V0KDIwKTtcblxuY29uc3QgbmF0aXZlRmV0Y2ggPSB3aW5kb3cuZmV0Y2g7XG5cbmZ1bmN0aW9uIGZldGNoV2l0aFR1cmJvSGVhZGVycyh1cmwsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBtb2RpZmllZEhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMgfHwge30pO1xuICBjb25zdCByZXF1ZXN0VUlEID0gdXVpZCgpO1xuICByZWNlbnRSZXF1ZXN0cy5hZGQocmVxdWVzdFVJRCk7XG4gIG1vZGlmaWVkSGVhZGVycy5hcHBlbmQoXCJYLVR1cmJvLVJlcXVlc3QtSWRcIiwgcmVxdWVzdFVJRCk7XG5cbiAgcmV0dXJuIG5hdGl2ZUZldGNoKHVybCwge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgaGVhZGVyczogbW9kaWZpZWRIZWFkZXJzXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGZldGNoTWV0aG9kRnJvbVN0cmluZyhtZXRob2QpIHtcbiAgc3dpdGNoIChtZXRob2QudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgXCJnZXRcIjpcbiAgICAgIHJldHVybiBGZXRjaE1ldGhvZC5nZXRcbiAgICBjYXNlIFwicG9zdFwiOlxuICAgICAgcmV0dXJuIEZldGNoTWV0aG9kLnBvc3RcbiAgICBjYXNlIFwicHV0XCI6XG4gICAgICByZXR1cm4gRmV0Y2hNZXRob2QucHV0XG4gICAgY2FzZSBcInBhdGNoXCI6XG4gICAgICByZXR1cm4gRmV0Y2hNZXRob2QucGF0Y2hcbiAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICByZXR1cm4gRmV0Y2hNZXRob2QuZGVsZXRlXG4gIH1cbn1cblxuY29uc3QgRmV0Y2hNZXRob2QgPSB7XG4gIGdldDogXCJnZXRcIixcbiAgcG9zdDogXCJwb3N0XCIsXG4gIHB1dDogXCJwdXRcIixcbiAgcGF0Y2g6IFwicGF0Y2hcIixcbiAgZGVsZXRlOiBcImRlbGV0ZVwiXG59O1xuXG5mdW5jdGlvbiBmZXRjaEVuY3R5cGVGcm9tU3RyaW5nKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoZW5jb2RpbmcudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgRmV0Y2hFbmN0eXBlLm11bHRpcGFydDpcbiAgICAgIHJldHVybiBGZXRjaEVuY3R5cGUubXVsdGlwYXJ0XG4gICAgY2FzZSBGZXRjaEVuY3R5cGUucGxhaW46XG4gICAgICByZXR1cm4gRmV0Y2hFbmN0eXBlLnBsYWluXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBGZXRjaEVuY3R5cGUudXJsRW5jb2RlZFxuICB9XG59XG5cbmNvbnN0IEZldGNoRW5jdHlwZSA9IHtcbiAgdXJsRW5jb2RlZDogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgbXVsdGlwYXJ0OiBcIm11bHRpcGFydC9mb3JtLWRhdGFcIixcbiAgcGxhaW46IFwidGV4dC9wbGFpblwiXG59O1xuXG5jbGFzcyBGZXRjaFJlcXVlc3Qge1xuICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgI3Jlc29sdmVSZXF1ZXN0UHJvbWlzZSA9IChfdmFsdWUpID0+IHt9XG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIG1ldGhvZCwgbG9jYXRpb24sIHJlcXVlc3RCb2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpLCB0YXJnZXQgPSBudWxsLCBlbmN0eXBlID0gRmV0Y2hFbmN0eXBlLnVybEVuY29kZWQpIHtcbiAgICBjb25zdCBbdXJsLCBib2R5XSA9IGJ1aWxkUmVzb3VyY2VBbmRCb2R5KGV4cGFuZFVSTChsb2NhdGlvbiksIG1ldGhvZCwgcmVxdWVzdEJvZHksIGVuY3R5cGUpO1xuXG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zID0ge1xuICAgICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgICAgIHJlZGlyZWN0OiBcImZvbGxvd1wiLFxuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuZGVmYXVsdEhlYWRlcnMgfSxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBzaWduYWw6IHRoaXMuYWJvcnRTaWduYWwsXG4gICAgICByZWZlcnJlcjogdGhpcy5kZWxlZ2F0ZS5yZWZlcnJlcj8uaHJlZlxuICAgIH07XG4gICAgdGhpcy5lbmN0eXBlID0gZW5jdHlwZTtcbiAgfVxuXG4gIGdldCBtZXRob2QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hPcHRpb25zLm1ldGhvZFxuICB9XG5cbiAgc2V0IG1ldGhvZCh2YWx1ZSkge1xuICAgIGNvbnN0IGZldGNoQm9keSA9IHRoaXMuaXNTYWZlID8gdGhpcy51cmwuc2VhcmNoUGFyYW1zIDogdGhpcy5mZXRjaE9wdGlvbnMuYm9keSB8fCBuZXcgRm9ybURhdGEoKTtcbiAgICBjb25zdCBmZXRjaE1ldGhvZCA9IGZldGNoTWV0aG9kRnJvbVN0cmluZyh2YWx1ZSkgfHwgRmV0Y2hNZXRob2QuZ2V0O1xuXG4gICAgdGhpcy51cmwuc2VhcmNoID0gXCJcIjtcblxuICAgIGNvbnN0IFt1cmwsIGJvZHldID0gYnVpbGRSZXNvdXJjZUFuZEJvZHkodGhpcy51cmwsIGZldGNoTWV0aG9kLCBmZXRjaEJvZHksIHRoaXMuZW5jdHlwZSk7XG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLmZldGNoT3B0aW9ucy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmZldGNoT3B0aW9ucy5tZXRob2QgPSBmZXRjaE1ldGhvZDtcbiAgfVxuXG4gIGdldCBoZWFkZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmZldGNoT3B0aW9ucy5oZWFkZXJzXG4gIH1cblxuICBzZXQgaGVhZGVycyh2YWx1ZSkge1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldCBib2R5KCkge1xuICAgIGlmICh0aGlzLmlzU2FmZSkge1xuICAgICAgcmV0dXJuIHRoaXMudXJsLnNlYXJjaFBhcmFtc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaE9wdGlvbnMuYm9keVxuICAgIH1cbiAgfVxuXG4gIHNldCBib2R5KHZhbHVlKSB7XG4gICAgdGhpcy5mZXRjaE9wdGlvbnMuYm9keSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGxvY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnVybFxuICB9XG5cbiAgZ2V0IHBhcmFtcygpIHtcbiAgICByZXR1cm4gdGhpcy51cmwuc2VhcmNoUGFyYW1zXG4gIH1cblxuICBnZXQgZW50cmllcygpIHtcbiAgICByZXR1cm4gdGhpcy5ib2R5ID8gQXJyYXkuZnJvbSh0aGlzLmJvZHkuZW50cmllcygpKSA6IFtdXG4gIH1cblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgfVxuXG4gIGFzeW5jIHBlcmZvcm0oKSB7XG4gICAgY29uc3QgeyBmZXRjaE9wdGlvbnMgfSA9IHRoaXM7XG4gICAgdGhpcy5kZWxlZ2F0ZS5wcmVwYXJlUmVxdWVzdCh0aGlzKTtcbiAgICBjb25zdCBldmVudCA9IGF3YWl0IHRoaXMuI2FsbG93UmVxdWVzdFRvQmVJbnRlcmNlcHRlZChmZXRjaE9wdGlvbnMpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLnJlcXVlc3RTdGFydGVkKHRoaXMpO1xuXG4gICAgICBpZiAoZXZlbnQuZGV0YWlsLmZldGNoUmVxdWVzdCkge1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gZXZlbnQuZGV0YWlsLmZldGNoUmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSBmZXRjaFdpdGhUdXJib0hlYWRlcnModGhpcy51cmwuaHJlZiwgZmV0Y2hPcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlc3BvbnNlO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVjZWl2ZShyZXNwb25zZSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLm5hbWUgIT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgIGlmICh0aGlzLiN3aWxsRGVsZWdhdGVFcnJvckhhbmRsaW5nKGVycm9yKSkge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUucmVxdWVzdEVycm9yZWQodGhpcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuZGVsZWdhdGUucmVxdWVzdEZpbmlzaGVkKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlY2VpdmUocmVzcG9uc2UpIHtcbiAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gbmV3IEZldGNoUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IGV2ZW50ID0gZGlzcGF0Y2goXCJ0dXJibzpiZWZvcmUtZmV0Y2gtcmVzcG9uc2VcIiwge1xuICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgIGRldGFpbDogeyBmZXRjaFJlc3BvbnNlIH0sXG4gICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0XG4gICAgfSk7XG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUucmVxdWVzdFByZXZlbnRlZEhhbmRsaW5nUmVzcG9uc2UodGhpcywgZmV0Y2hSZXNwb25zZSk7XG4gICAgfSBlbHNlIGlmIChmZXRjaFJlc3BvbnNlLnN1Y2NlZWRlZCkge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5yZXF1ZXN0U3VjY2VlZGVkV2l0aFJlc3BvbnNlKHRoaXMsIGZldGNoUmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLnJlcXVlc3RGYWlsZWRXaXRoUmVzcG9uc2UodGhpcywgZmV0Y2hSZXNwb25zZSk7XG4gICAgfVxuICAgIHJldHVybiBmZXRjaFJlc3BvbnNlXG4gIH1cblxuICBnZXQgZGVmYXVsdEhlYWRlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEFjY2VwdDogXCJ0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3hodG1sK3htbFwiXG4gICAgfVxuICB9XG5cbiAgZ2V0IGlzU2FmZSgpIHtcbiAgICByZXR1cm4gaXNTYWZlKHRoaXMubWV0aG9kKVxuICB9XG5cbiAgZ2V0IGFib3J0U2lnbmFsKCkge1xuICAgIHJldHVybiB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgfVxuXG4gIGFjY2VwdFJlc3BvbnNlVHlwZShtaW1lVHlwZSkge1xuICAgIHRoaXMuaGVhZGVyc1tcIkFjY2VwdFwiXSA9IFttaW1lVHlwZSwgdGhpcy5oZWFkZXJzW1wiQWNjZXB0XCJdXS5qb2luKFwiLCBcIik7XG4gIH1cblxuICBhc3luYyAjYWxsb3dSZXF1ZXN0VG9CZUludGVyY2VwdGVkKGZldGNoT3B0aW9ucykge1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRpb24gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gKHRoaXMuI3Jlc29sdmVSZXF1ZXN0UHJvbWlzZSA9IHJlc29sdmUpKTtcbiAgICBjb25zdCBldmVudCA9IGRpc3BhdGNoKFwidHVyYm86YmVmb3JlLWZldGNoLXJlcXVlc3RcIiwge1xuICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgIGRldGFpbDoge1xuICAgICAgICBmZXRjaE9wdGlvbnMsXG4gICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgIHJlc3VtZTogdGhpcy4jcmVzb2x2ZVJlcXVlc3RQcm9taXNlXG4gICAgICB9LFxuICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldFxuICAgIH0pO1xuICAgIHRoaXMudXJsID0gZXZlbnQuZGV0YWlsLnVybDtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgYXdhaXQgcmVxdWVzdEludGVyY2VwdGlvbjtcblxuICAgIHJldHVybiBldmVudFxuICB9XG5cbiAgI3dpbGxEZWxlZ2F0ZUVycm9ySGFuZGxpbmcoZXJyb3IpIHtcbiAgICBjb25zdCBldmVudCA9IGRpc3BhdGNoKFwidHVyYm86ZmV0Y2gtcmVxdWVzdC1lcnJvclwiLCB7XG4gICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0LFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgIGRldGFpbDogeyByZXF1ZXN0OiB0aGlzLCBlcnJvcjogZXJyb3IgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTYWZlKGZldGNoTWV0aG9kKSB7XG4gIHJldHVybiBmZXRjaE1ldGhvZEZyb21TdHJpbmcoZmV0Y2hNZXRob2QpID09IEZldGNoTWV0aG9kLmdldFxufVxuXG5mdW5jdGlvbiBidWlsZFJlc291cmNlQW5kQm9keShyZXNvdXJjZSwgbWV0aG9kLCByZXF1ZXN0Qm9keSwgZW5jdHlwZSkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPVxuICAgIEFycmF5LmZyb20ocmVxdWVzdEJvZHkpLmxlbmd0aCA+IDAgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKGVudHJpZXNFeGNsdWRpbmdGaWxlcyhyZXF1ZXN0Qm9keSkpIDogcmVzb3VyY2Uuc2VhcmNoUGFyYW1zO1xuXG4gIGlmIChpc1NhZmUobWV0aG9kKSkge1xuICAgIHJldHVybiBbbWVyZ2VJbnRvVVJMU2VhcmNoUGFyYW1zKHJlc291cmNlLCBzZWFyY2hQYXJhbXMpLCBudWxsXVxuICB9IGVsc2UgaWYgKGVuY3R5cGUgPT0gRmV0Y2hFbmN0eXBlLnVybEVuY29kZWQpIHtcbiAgICByZXR1cm4gW3Jlc291cmNlLCBzZWFyY2hQYXJhbXNdXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtyZXNvdXJjZSwgcmVxdWVzdEJvZHldXG4gIH1cbn1cblxuZnVuY3Rpb24gZW50cmllc0V4Y2x1ZGluZ0ZpbGVzKHJlcXVlc3RCb2R5KSB7XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcblxuICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgcmVxdWVzdEJvZHkpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGaWxlKSBjb250aW51ZVxuICAgIGVsc2UgZW50cmllcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICB9XG5cbiAgcmV0dXJuIGVudHJpZXNcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvVVJMU2VhcmNoUGFyYW1zKHVybCwgcmVxdWVzdEJvZHkpIHtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhlbnRyaWVzRXhjbHVkaW5nRmlsZXMocmVxdWVzdEJvZHkpKTtcblxuICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG5cbiAgcmV0dXJuIHVybFxufVxuXG5jbGFzcyBBcHBlYXJhbmNlT2JzZXJ2ZXIge1xuICBzdGFydGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgZWxlbWVudCkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5pbnRlcnNlY3QpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBpbnRlcnNlY3QgPSAoZW50cmllcykgPT4ge1xuICAgIGNvbnN0IGxhc3RFbnRyeSA9IGVudHJpZXMuc2xpY2UoLTEpWzBdO1xuICAgIGlmIChsYXN0RW50cnk/LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRBcHBlYXJlZEluVmlld3BvcnQodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgU3RyZWFtTWVzc2FnZSB7XG4gIHN0YXRpYyBjb250ZW50VHlwZSA9IFwidGV4dC92bmQudHVyYm8tc3RyZWFtLmh0bWxcIlxuXG4gIHN0YXRpYyB3cmFwKG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzKGNyZWF0ZURvY3VtZW50RnJhZ21lbnQobWVzc2FnZSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtZXNzYWdlXG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoZnJhZ21lbnQpIHtcbiAgICB0aGlzLmZyYWdtZW50ID0gaW1wb3J0U3RyZWFtRWxlbWVudHMoZnJhZ21lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGltcG9ydFN0cmVhbUVsZW1lbnRzKGZyYWdtZW50KSB7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBmcmFnbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidHVyYm8tc3RyZWFtXCIpKSB7XG4gICAgY29uc3Qgc3RyZWFtRWxlbWVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICBmb3IgKGNvbnN0IGluZXJ0U2NyaXB0RWxlbWVudCBvZiBzdHJlYW1FbGVtZW50LnRlbXBsYXRlRWxlbWVudC5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIikpIHtcbiAgICAgIGluZXJ0U2NyaXB0RWxlbWVudC5yZXBsYWNlV2l0aChhY3RpdmF0ZVNjcmlwdEVsZW1lbnQoaW5lcnRTY3JpcHRFbGVtZW50KSk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5yZXBsYWNlV2l0aChzdHJlYW1FbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBmcmFnbWVudFxufVxuXG5jb25zdCBQUkVGRVRDSF9ERUxBWSA9IDEwMDtcblxuY2xhc3MgUHJlZmV0Y2hDYWNoZSB7XG4gICNwcmVmZXRjaFRpbWVvdXQgPSBudWxsXG4gICNwcmVmZXRjaGVkID0gbnVsbFxuXG4gIGdldCh1cmwpIHtcbiAgICBpZiAodGhpcy4jcHJlZmV0Y2hlZCAmJiB0aGlzLiNwcmVmZXRjaGVkLnVybCA9PT0gdXJsICYmIHRoaXMuI3ByZWZldGNoZWQuZXhwaXJlID4gRGF0ZS5ub3coKSkge1xuICAgICAgcmV0dXJuIHRoaXMuI3ByZWZldGNoZWQucmVxdWVzdFxuICAgIH1cbiAgfVxuXG4gIHNldExhdGVyKHVybCwgcmVxdWVzdCwgdHRsKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuXG4gICAgdGhpcy4jcHJlZmV0Y2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXF1ZXN0LnBlcmZvcm0oKTtcbiAgICAgIHRoaXMuc2V0KHVybCwgcmVxdWVzdCwgdHRsKTtcbiAgICAgIHRoaXMuI3ByZWZldGNoVGltZW91dCA9IG51bGw7XG4gICAgfSwgUFJFRkVUQ0hfREVMQVkpO1xuICB9XG5cbiAgc2V0KHVybCwgcmVxdWVzdCwgdHRsKSB7XG4gICAgdGhpcy4jcHJlZmV0Y2hlZCA9IHsgdXJsLCByZXF1ZXN0LCBleHBpcmU6IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdHRsKSB9O1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuI3ByZWZldGNoVGltZW91dCkgY2xlYXJUaW1lb3V0KHRoaXMuI3ByZWZldGNoVGltZW91dCk7XG4gICAgdGhpcy4jcHJlZmV0Y2hlZCA9IG51bGw7XG4gIH1cbn1cblxuY29uc3QgY2FjaGVUdGwgPSAxMCAqIDEwMDA7XG5jb25zdCBwcmVmZXRjaENhY2hlID0gbmV3IFByZWZldGNoQ2FjaGUoKTtcblxuY29uc3QgRm9ybVN1Ym1pc3Npb25TdGF0ZSA9IHtcbiAgaW5pdGlhbGl6ZWQ6IFwiaW5pdGlhbGl6ZWRcIixcbiAgcmVxdWVzdGluZzogXCJyZXF1ZXN0aW5nXCIsXG4gIHdhaXRpbmc6IFwid2FpdGluZ1wiLFxuICByZWNlaXZpbmc6IFwicmVjZWl2aW5nXCIsXG4gIHN0b3BwaW5nOiBcInN0b3BwaW5nXCIsXG4gIHN0b3BwZWQ6IFwic3RvcHBlZFwiXG59O1xuXG5jbGFzcyBGb3JtU3VibWlzc2lvbiB7XG4gIHN0YXRlID0gRm9ybVN1Ym1pc3Npb25TdGF0ZS5pbml0aWFsaXplZFxuXG4gIHN0YXRpYyBjb25maXJtTWV0aG9kKG1lc3NhZ2UsIF9lbGVtZW50LCBfc3VibWl0dGVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjb25maXJtKG1lc3NhZ2UpKVxuICB9XG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIsIG11c3RSZWRpcmVjdCA9IGZhbHNlKSB7XG4gICAgY29uc3QgbWV0aG9kID0gZ2V0TWV0aG9kKGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIpO1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEFjdGlvbihnZXRGb3JtQWN0aW9uKGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIpLCBtZXRob2QpO1xuICAgIGNvbnN0IGJvZHkgPSBidWlsZEZvcm1EYXRhKGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIpO1xuICAgIGNvbnN0IGVuY3R5cGUgPSBnZXRFbmN0eXBlKGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIpO1xuXG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLnN1Ym1pdHRlciA9IHN1Ym1pdHRlcjtcbiAgICB0aGlzLmZldGNoUmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QodGhpcywgbWV0aG9kLCBhY3Rpb24sIGJvZHksIGZvcm1FbGVtZW50LCBlbmN0eXBlKTtcbiAgICB0aGlzLm11c3RSZWRpcmVjdCA9IG11c3RSZWRpcmVjdDtcbiAgfVxuXG4gIGdldCBtZXRob2QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hSZXF1ZXN0Lm1ldGhvZFxuICB9XG5cbiAgc2V0IG1ldGhvZCh2YWx1ZSkge1xuICAgIHRoaXMuZmV0Y2hSZXF1ZXN0Lm1ldGhvZCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGFjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QudXJsLnRvU3RyaW5nKClcbiAgfVxuXG4gIHNldCBhY3Rpb24odmFsdWUpIHtcbiAgICB0aGlzLmZldGNoUmVxdWVzdC51cmwgPSBleHBhbmRVUkwodmFsdWUpO1xuICB9XG5cbiAgZ2V0IGJvZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hSZXF1ZXN0LmJvZHlcbiAgfVxuXG4gIGdldCBlbmN0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdC5lbmN0eXBlXG4gIH1cblxuICBnZXQgaXNTYWZlKCkge1xuICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdC5pc1NhZmVcbiAgfVxuXG4gIGdldCBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QudXJsXG4gIH1cblxuICAvLyBUaGUgc3VibWlzc2lvbiBwcm9jZXNzXG5cbiAgYXN5bmMgc3RhcnQoKSB7XG4gICAgY29uc3QgeyBpbml0aWFsaXplZCwgcmVxdWVzdGluZyB9ID0gRm9ybVN1Ym1pc3Npb25TdGF0ZTtcbiAgICBjb25zdCBjb25maXJtYXRpb25NZXNzYWdlID0gZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1jb25maXJtXCIsIHRoaXMuc3VibWl0dGVyLCB0aGlzLmZvcm1FbGVtZW50KTtcblxuICAgIGlmICh0eXBlb2YgY29uZmlybWF0aW9uTWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgYW5zd2VyID0gYXdhaXQgRm9ybVN1Ym1pc3Npb24uY29uZmlybU1ldGhvZChjb25maXJtYXRpb25NZXNzYWdlLCB0aGlzLmZvcm1FbGVtZW50LCB0aGlzLnN1Ym1pdHRlcik7XG4gICAgICBpZiAoIWFuc3dlcikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBpbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHJlcXVlc3Rpbmc7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QucGVyZm9ybSgpXG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBjb25zdCB7IHN0b3BwaW5nLCBzdG9wcGVkIH0gPSBGb3JtU3VibWlzc2lvblN0YXRlO1xuICAgIGlmICh0aGlzLnN0YXRlICE9IHN0b3BwaW5nICYmIHRoaXMuc3RhdGUgIT0gc3RvcHBlZCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHN0b3BwaW5nO1xuICAgICAgdGhpcy5mZXRjaFJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIEZldGNoIHJlcXVlc3QgZGVsZWdhdGVcblxuICBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgaWYgKCFyZXF1ZXN0LmlzU2FmZSkge1xuICAgICAgY29uc3QgdG9rZW4gPSBnZXRDb29raWVWYWx1ZShnZXRNZXRhQ29udGVudChcImNzcmYtcGFyYW1cIikpIHx8IGdldE1ldGFDb250ZW50KFwiY3NyZi10b2tlblwiKTtcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnNbXCJYLUNTUkYtVG9rZW5cIl0gPSB0b2tlbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZXF1ZXN0QWNjZXB0c1R1cmJvU3RyZWFtUmVzcG9uc2UocmVxdWVzdCkpIHtcbiAgICAgIHJlcXVlc3QuYWNjZXB0UmVzcG9uc2VUeXBlKFN0cmVhbU1lc3NhZ2UuY29udGVudFR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RTdGFydGVkKF9yZXF1ZXN0KSB7XG4gICAgdGhpcy5zdGF0ZSA9IEZvcm1TdWJtaXNzaW9uU3RhdGUud2FpdGluZztcbiAgICB0aGlzLnN1Ym1pdHRlcj8uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gICAgdGhpcy5zZXRTdWJtaXRzV2l0aCgpO1xuICAgIG1hcmtBc0J1c3kodGhpcy5mb3JtRWxlbWVudCk7XG4gICAgZGlzcGF0Y2goXCJ0dXJibzpzdWJtaXQtc3RhcnRcIiwge1xuICAgICAgdGFyZ2V0OiB0aGlzLmZvcm1FbGVtZW50LFxuICAgICAgZGV0YWlsOiB7IGZvcm1TdWJtaXNzaW9uOiB0aGlzIH1cbiAgICB9KTtcbiAgICB0aGlzLmRlbGVnYXRlLmZvcm1TdWJtaXNzaW9uU3RhcnRlZCh0aGlzKTtcbiAgfVxuXG4gIHJlcXVlc3RQcmV2ZW50ZWRIYW5kbGluZ1Jlc3BvbnNlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcHJlZmV0Y2hDYWNoZS5jbGVhcigpO1xuXG4gICAgdGhpcy5yZXN1bHQgPSB7IHN1Y2Nlc3M6IHJlc3BvbnNlLnN1Y2NlZWRlZCwgZmV0Y2hSZXNwb25zZTogcmVzcG9uc2UgfTtcbiAgfVxuXG4gIHJlcXVlc3RTdWNjZWVkZWRXaXRoUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UuY2xpZW50RXJyb3IgfHwgcmVzcG9uc2Uuc2VydmVyRXJyb3IpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUuZm9ybVN1Ym1pc3Npb25GYWlsZWRXaXRoUmVzcG9uc2UodGhpcywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgcHJlZmV0Y2hDYWNoZS5jbGVhcigpO1xuXG4gICAgaWYgKHRoaXMucmVxdWVzdE11c3RSZWRpcmVjdChyZXF1ZXN0KSAmJiByZXNwb25zZVN1Y2NlZWRlZFdpdGhvdXRSZWRpcmVjdChyZXNwb25zZSkpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiRm9ybSByZXNwb25zZXMgbXVzdCByZWRpcmVjdCB0byBhbm90aGVyIGxvY2F0aW9uXCIpO1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5mb3JtU3VibWlzc2lvbkVycm9yZWQodGhpcywgZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0gRm9ybVN1Ym1pc3Npb25TdGF0ZS5yZWNlaXZpbmc7XG4gICAgICB0aGlzLnJlc3VsdCA9IHsgc3VjY2VzczogdHJ1ZSwgZmV0Y2hSZXNwb25zZTogcmVzcG9uc2UgfTtcbiAgICAgIHRoaXMuZGVsZWdhdGUuZm9ybVN1Ym1pc3Npb25TdWNjZWVkZWRXaXRoUmVzcG9uc2UodGhpcywgcmVzcG9uc2UpO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RGYWlsZWRXaXRoUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3VsdCA9IHsgc3VjY2VzczogZmFsc2UsIGZldGNoUmVzcG9uc2U6IHJlc3BvbnNlIH07XG4gICAgdGhpcy5kZWxlZ2F0ZS5mb3JtU3VibWlzc2lvbkZhaWxlZFdpdGhSZXNwb25zZSh0aGlzLCByZXNwb25zZSk7XG4gIH1cblxuICByZXF1ZXN0RXJyb3JlZChyZXF1ZXN0LCBlcnJvcikge1xuICAgIHRoaXMucmVzdWx0ID0geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICB0aGlzLmRlbGVnYXRlLmZvcm1TdWJtaXNzaW9uRXJyb3JlZCh0aGlzLCBlcnJvcik7XG4gIH1cblxuICByZXF1ZXN0RmluaXNoZWQoX3JlcXVlc3QpIHtcbiAgICB0aGlzLnN0YXRlID0gRm9ybVN1Ym1pc3Npb25TdGF0ZS5zdG9wcGVkO1xuICAgIHRoaXMuc3VibWl0dGVyPy5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB0aGlzLnJlc2V0U3VibWl0dGVyVGV4dCgpO1xuICAgIGNsZWFyQnVzeVN0YXRlKHRoaXMuZm9ybUVsZW1lbnQpO1xuICAgIGRpc3BhdGNoKFwidHVyYm86c3VibWl0LWVuZFwiLCB7XG4gICAgICB0YXJnZXQ6IHRoaXMuZm9ybUVsZW1lbnQsXG4gICAgICBkZXRhaWw6IHsgZm9ybVN1Ym1pc3Npb246IHRoaXMsIC4uLnRoaXMucmVzdWx0IH1cbiAgICB9KTtcbiAgICB0aGlzLmRlbGVnYXRlLmZvcm1TdWJtaXNzaW9uRmluaXNoZWQodGhpcyk7XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgc2V0U3VibWl0c1dpdGgoKSB7XG4gICAgaWYgKCF0aGlzLnN1Ym1pdHRlciB8fCAhdGhpcy5zdWJtaXRzV2l0aCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zdWJtaXR0ZXIubWF0Y2hlcyhcImJ1dHRvblwiKSkge1xuICAgICAgdGhpcy5vcmlnaW5hbFN1Ym1pdFRleHQgPSB0aGlzLnN1Ym1pdHRlci5pbm5lckhUTUw7XG4gICAgICB0aGlzLnN1Ym1pdHRlci5pbm5lckhUTUwgPSB0aGlzLnN1Ym1pdHNXaXRoO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdWJtaXR0ZXIubWF0Y2hlcyhcImlucHV0XCIpKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IHRoaXMuc3VibWl0dGVyO1xuICAgICAgdGhpcy5vcmlnaW5hbFN1Ym1pdFRleHQgPSBpbnB1dC52YWx1ZTtcbiAgICAgIGlucHV0LnZhbHVlID0gdGhpcy5zdWJtaXRzV2l0aDtcbiAgICB9XG4gIH1cblxuICByZXNldFN1Ym1pdHRlclRleHQoKSB7XG4gICAgaWYgKCF0aGlzLnN1Ym1pdHRlciB8fCAhdGhpcy5vcmlnaW5hbFN1Ym1pdFRleHQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMuc3VibWl0dGVyLm1hdGNoZXMoXCJidXR0b25cIikpIHtcbiAgICAgIHRoaXMuc3VibWl0dGVyLmlubmVySFRNTCA9IHRoaXMub3JpZ2luYWxTdWJtaXRUZXh0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdWJtaXR0ZXIubWF0Y2hlcyhcImlucHV0XCIpKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IHRoaXMuc3VibWl0dGVyO1xuICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLm9yaWdpbmFsU3VibWl0VGV4dDtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0TXVzdFJlZGlyZWN0KHJlcXVlc3QpIHtcbiAgICByZXR1cm4gIXJlcXVlc3QuaXNTYWZlICYmIHRoaXMubXVzdFJlZGlyZWN0XG4gIH1cblxuICByZXF1ZXN0QWNjZXB0c1R1cmJvU3RyZWFtUmVzcG9uc2UocmVxdWVzdCkge1xuICAgIHJldHVybiAhcmVxdWVzdC5pc1NhZmUgfHwgaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1zdHJlYW1cIiwgdGhpcy5zdWJtaXR0ZXIsIHRoaXMuZm9ybUVsZW1lbnQpXG4gIH1cblxuICBnZXQgc3VibWl0c1dpdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN1Ym1pdHMtd2l0aFwiKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRm9ybURhdGEoZm9ybUVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtRWxlbWVudCk7XG4gIGNvbnN0IG5hbWUgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gIGNvbnN0IHZhbHVlID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcblxuICBpZiAobmFtZSkge1xuICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZSB8fCBcIlwiKTtcbiAgfVxuXG4gIHJldHVybiBmb3JtRGF0YVxufVxuXG5mdW5jdGlvbiBnZXRDb29raWVWYWx1ZShjb29raWVOYW1lKSB7XG4gIGlmIChjb29raWVOYW1lICE9IG51bGwpIHtcbiAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIikgOiBbXTtcbiAgICBjb25zdCBjb29raWUgPSBjb29raWVzLmZpbmQoKGNvb2tpZSkgPT4gY29va2llLnN0YXJ0c1dpdGgoY29va2llTmFtZSkpO1xuICAgIGlmIChjb29raWUpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gY29va2llLnNwbGl0KFwiPVwiKS5zbGljZSgxKS5qb2luKFwiPVwiKTtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzcG9uc2VTdWNjZWVkZWRXaXRob3V0UmVkaXJlY3QocmVzcG9uc2UpIHtcbiAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1c0NvZGUgPT0gMjAwICYmICFyZXNwb25zZS5yZWRpcmVjdGVkXG59XG5cbmZ1bmN0aW9uIGdldEZvcm1BY3Rpb24oZm9ybUVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICBjb25zdCBmb3JtRWxlbWVudEFjdGlvbiA9IHR5cGVvZiBmb3JtRWxlbWVudC5hY3Rpb24gPT09IFwic3RyaW5nXCIgPyBmb3JtRWxlbWVudC5hY3Rpb24gOiBudWxsO1xuXG4gIGlmIChzdWJtaXR0ZXI/Lmhhc0F0dHJpYnV0ZShcImZvcm1hY3Rpb25cIikpIHtcbiAgICByZXR1cm4gc3VibWl0dGVyLmdldEF0dHJpYnV0ZShcImZvcm1hY3Rpb25cIikgfHwgXCJcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIikgfHwgZm9ybUVsZW1lbnRBY3Rpb24gfHwgXCJcIlxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFjdGlvbihmb3JtQWN0aW9uLCBmZXRjaE1ldGhvZCkge1xuICBjb25zdCBhY3Rpb24gPSBleHBhbmRVUkwoZm9ybUFjdGlvbik7XG5cbiAgaWYgKGlzU2FmZShmZXRjaE1ldGhvZCkpIHtcbiAgICBhY3Rpb24uc2VhcmNoID0gXCJcIjtcbiAgfVxuXG4gIHJldHVybiBhY3Rpb25cbn1cblxuZnVuY3Rpb24gZ2V0TWV0aG9kKGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgY29uc3QgbWV0aG9kID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKSB8fCBcIlwiO1xuICByZXR1cm4gZmV0Y2hNZXRob2RGcm9tU3RyaW5nKG1ldGhvZC50b0xvd2VyQ2FzZSgpKSB8fCBGZXRjaE1ldGhvZC5nZXRcbn1cblxuZnVuY3Rpb24gZ2V0RW5jdHlwZShmb3JtRWxlbWVudCwgc3VibWl0dGVyKSB7XG4gIHJldHVybiBmZXRjaEVuY3R5cGVGcm9tU3RyaW5nKHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZm9ybWVuY3R5cGVcIikgfHwgZm9ybUVsZW1lbnQuZW5jdHlwZSlcbn1cblxuY2xhc3MgU25hcHNob3Qge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuXG4gIGdldCBhY3RpdmVFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gIH1cblxuICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmVsZW1lbnQuY2hpbGRyZW5dXG4gIH1cblxuICBoYXNBbmNob3IoYW5jaG9yKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudEZvckFuY2hvcihhbmNob3IpICE9IG51bGxcbiAgfVxuXG4gIGdldEVsZW1lbnRGb3JBbmNob3IoYW5jaG9yKSB7XG4gICAgcmV0dXJuIGFuY2hvciA/IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbaWQ9JyR7YW5jaG9yfSddLCBhW25hbWU9JyR7YW5jaG9yfSddYCkgOiBudWxsXG4gIH1cblxuICBnZXQgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pc0Nvbm5lY3RlZFxuICB9XG5cbiAgZ2V0IGZpcnN0QXV0b2ZvY3VzYWJsZUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHF1ZXJ5QXV0b2ZvY3VzYWJsZUVsZW1lbnQodGhpcy5lbGVtZW50KVxuICB9XG5cbiAgZ2V0IHBlcm1hbmVudEVsZW1lbnRzKCkge1xuICAgIHJldHVybiBxdWVyeVBlcm1hbmVudEVsZW1lbnRzQWxsKHRoaXMuZWxlbWVudClcbiAgfVxuXG4gIGdldFBlcm1hbmVudEVsZW1lbnRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIGdldFBlcm1hbmVudEVsZW1lbnRCeUlkKHRoaXMuZWxlbWVudCwgaWQpXG4gIH1cblxuICBnZXRQZXJtYW5lbnRFbGVtZW50TWFwRm9yU25hcHNob3Qoc25hcHNob3QpIHtcbiAgICBjb25zdCBwZXJtYW5lbnRFbGVtZW50TWFwID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50IG9mIHRoaXMucGVybWFuZW50RWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50O1xuICAgICAgY29uc3QgbmV3UGVybWFuZW50RWxlbWVudCA9IHNuYXBzaG90LmdldFBlcm1hbmVudEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIGlmIChuZXdQZXJtYW5lbnRFbGVtZW50KSB7XG4gICAgICAgIHBlcm1hbmVudEVsZW1lbnRNYXBbaWRdID0gW2N1cnJlbnRQZXJtYW5lbnRFbGVtZW50LCBuZXdQZXJtYW5lbnRFbGVtZW50XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGVybWFuZW50RWxlbWVudE1hcFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBlcm1hbmVudEVsZW1lbnRCeUlkKG5vZGUsIGlkKSB7XG4gIHJldHVybiBub2RlLnF1ZXJ5U2VsZWN0b3IoYCMke2lkfVtkYXRhLXR1cmJvLXBlcm1hbmVudF1gKVxufVxuXG5mdW5jdGlvbiBxdWVyeVBlcm1hbmVudEVsZW1lbnRzQWxsKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUucXVlcnlTZWxlY3RvckFsbChcIltpZF1bZGF0YS10dXJiby1wZXJtYW5lbnRdXCIpXG59XG5cbmNsYXNzIEZvcm1TdWJtaXRPYnNlcnZlciB7XG4gIHN0YXJ0ZWQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBldmVudFRhcmdldCkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXQ7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuc3VibWl0Q2FwdHVyZWQsIHRydWUpO1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLnN1Ym1pdENhcHR1cmVkLCB0cnVlKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN1Ym1pdENhcHR1cmVkID0gKCkgPT4ge1xuICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLnN1Ym1pdEJ1YmJsZWQsIGZhbHNlKTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5zdWJtaXRCdWJibGVkLCBmYWxzZSk7XG4gIH1cblxuICBzdWJtaXRCdWJibGVkID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBjb25zdCBmb3JtID0gZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50ID8gZXZlbnQudGFyZ2V0IDogdW5kZWZpbmVkO1xuICAgICAgY29uc3Qgc3VibWl0dGVyID0gZXZlbnQuc3VibWl0dGVyIHx8IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKFxuICAgICAgICBmb3JtICYmXG4gICAgICAgIHN1Ym1pc3Npb25Eb2VzTm90RGlzbWlzc0RpYWxvZyhmb3JtLCBzdWJtaXR0ZXIpICYmXG4gICAgICAgIHN1Ym1pc3Npb25Eb2VzTm90VGFyZ2V0SUZyYW1lKGZvcm0sIHN1Ym1pdHRlcikgJiZcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS53aWxsU3VibWl0Rm9ybShmb3JtLCBzdWJtaXR0ZXIpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuZm9ybVN1Ym1pdHRlZChmb3JtLCBzdWJtaXR0ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdWJtaXNzaW9uRG9lc05vdERpc21pc3NEaWFsb2coZm9ybSwgc3VibWl0dGVyKSB7XG4gIGNvbnN0IG1ldGhvZCA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZm9ybW1ldGhvZFwiKSB8fCBmb3JtLmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKTtcblxuICByZXR1cm4gbWV0aG9kICE9IFwiZGlhbG9nXCJcbn1cblxuZnVuY3Rpb24gc3VibWlzc2lvbkRvZXNOb3RUYXJnZXRJRnJhbWUoZm9ybSwgc3VibWl0dGVyKSB7XG4gIGlmIChzdWJtaXR0ZXI/Lmhhc0F0dHJpYnV0ZShcImZvcm10YXJnZXRcIikgfHwgZm9ybS5oYXNBdHRyaWJ1dGUoXCJ0YXJnZXRcIikpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcImZvcm10YXJnZXRcIikgfHwgZm9ybS50YXJnZXQ7XG5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUodGFyZ2V0KSkge1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCkgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmNsYXNzIFZpZXcge1xuICAjcmVzb2x2ZVJlbmRlclByb21pc2UgPSAoX3ZhbHVlKSA9PiB7fVxuICAjcmVzb2x2ZUludGVyY2VwdGlvblByb21pc2UgPSAoX3ZhbHVlKSA9PiB7fVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBlbGVtZW50KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cblxuICAvLyBTY3JvbGxpbmdcblxuICBzY3JvbGxUb0FuY2hvcihhbmNob3IpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zbmFwc2hvdC5nZXRFbGVtZW50Rm9yQW5jaG9yKGFuY2hvcik7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgdGhpcy5mb2N1c0VsZW1lbnQoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9Qb3NpdGlvbih7IHg6IDAsIHk6IDAgfSk7XG4gICAgfVxuICB9XG5cbiAgc2Nyb2xsVG9BbmNob3JGcm9tTG9jYXRpb24obG9jYXRpb24pIHtcbiAgICB0aGlzLnNjcm9sbFRvQW5jaG9yKGdldEFuY2hvcihsb2NhdGlvbikpO1xuICB9XG5cbiAgc2Nyb2xsVG9FbGVtZW50KGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gIH1cblxuICBmb2N1c0VsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCItMVwiKTtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNjcm9sbFRvUG9zaXRpb24oeyB4LCB5IH0pIHtcbiAgICB0aGlzLnNjcm9sbFJvb3Quc2Nyb2xsVG8oeCwgeSk7XG4gIH1cblxuICBzY3JvbGxUb1RvcCgpIHtcbiAgICB0aGlzLnNjcm9sbFRvUG9zaXRpb24oeyB4OiAwLCB5OiAwIH0pO1xuICB9XG5cbiAgZ2V0IHNjcm9sbFJvb3QoKSB7XG4gICAgcmV0dXJuIHdpbmRvd1xuICB9XG5cbiAgLy8gUmVuZGVyaW5nXG5cbiAgYXN5bmMgcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgY29uc3QgeyBpc1ByZXZpZXcsIHNob3VsZFJlbmRlciwgd2lsbFJlbmRlciwgbmV3U25hcHNob3Q6IHNuYXBzaG90IH0gPSByZW5kZXJlcjtcblxuICAgIC8vIEEgd29ya2Fyb3VuZCB0byBpZ25vcmUgdHJhY2tlZCBlbGVtZW50IG1pc21hdGNoIHJlbG9hZHMgd2hlbiBwZXJmb3JtaW5nXG4gICAgLy8gYSBwcm9tb3RlZCBWaXNpdCBmcm9tIGEgZnJhbWUgbmF2aWdhdGlvblxuICAgIGNvbnN0IHNob3VsZEludmFsaWRhdGUgPSB3aWxsUmVuZGVyO1xuXG4gICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+ICh0aGlzLiNyZXNvbHZlUmVuZGVyUHJvbWlzZSA9IHJlc29sdmUpKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVUb1JlbmRlclNuYXBzaG90KHJlbmRlcmVyKTtcblxuICAgICAgICBjb25zdCByZW5kZXJJbnRlcmNlcHRpb24gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gKHRoaXMuI3Jlc29sdmVJbnRlcmNlcHRpb25Qcm9taXNlID0gcmVzb2x2ZSkpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0geyByZXN1bWU6IHRoaXMuI3Jlc29sdmVJbnRlcmNlcHRpb25Qcm9taXNlLCByZW5kZXI6IHRoaXMucmVuZGVyZXIucmVuZGVyRWxlbWVudCwgcmVuZGVyTWV0aG9kOiB0aGlzLnJlbmRlcmVyLnJlbmRlck1ldGhvZCB9O1xuICAgICAgICBjb25zdCBpbW1lZGlhdGVSZW5kZXIgPSB0aGlzLmRlbGVnYXRlLmFsbG93c0ltbWVkaWF0ZVJlbmRlcihzbmFwc2hvdCwgb3B0aW9ucyk7XG4gICAgICAgIGlmICghaW1tZWRpYXRlUmVuZGVyKSBhd2FpdCByZW5kZXJJbnRlcmNlcHRpb247XG5cbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJTbmFwc2hvdChyZW5kZXJlcik7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUudmlld1JlbmRlcmVkU25hcHNob3Qoc25hcHNob3QsIGlzUHJldmlldywgdGhpcy5yZW5kZXJlci5yZW5kZXJNZXRob2QpO1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnByZWxvYWRPbkxvYWRMaW5rc0ZvclZpZXcodGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5maW5pc2hSZW5kZXJpbmdTbmFwc2hvdChyZW5kZXJlcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBkZWxldGUgdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy4jcmVzb2x2ZVJlbmRlclByb21pc2UodW5kZWZpbmVkKTtcbiAgICAgICAgZGVsZXRlIHRoaXMucmVuZGVyUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNob3VsZEludmFsaWRhdGUpIHtcbiAgICAgIHRoaXMuaW52YWxpZGF0ZShyZW5kZXJlci5yZWxvYWRSZWFzb24pO1xuICAgIH1cbiAgfVxuXG4gIGludmFsaWRhdGUocmVhc29uKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS52aWV3SW52YWxpZGF0ZWQocmVhc29uKTtcbiAgfVxuXG4gIGFzeW5jIHByZXBhcmVUb1JlbmRlclNuYXBzaG90KHJlbmRlcmVyKSB7XG4gICAgdGhpcy5tYXJrQXNQcmV2aWV3KHJlbmRlcmVyLmlzUHJldmlldyk7XG4gICAgYXdhaXQgcmVuZGVyZXIucHJlcGFyZVRvUmVuZGVyKCk7XG4gIH1cblxuICBtYXJrQXNQcmV2aWV3KGlzUHJldmlldykge1xuICAgIGlmIChpc1ByZXZpZXcpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXByZXZpZXdcIiwgXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXByZXZpZXdcIik7XG4gICAgfVxuICB9XG5cbiAgbWFya1Zpc2l0RGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXZpc2l0LWRpcmVjdGlvblwiLCBkaXJlY3Rpb24pO1xuICB9XG5cbiAgdW5tYXJrVmlzaXREaXJlY3Rpb24oKSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHVyYm8tdmlzaXQtZGlyZWN0aW9uXCIpO1xuICB9XG5cbiAgYXN5bmMgcmVuZGVyU25hcHNob3QocmVuZGVyZXIpIHtcbiAgICBhd2FpdCByZW5kZXJlci5yZW5kZXIoKTtcbiAgfVxuXG4gIGZpbmlzaFJlbmRlcmluZ1NuYXBzaG90KHJlbmRlcmVyKSB7XG4gICAgcmVuZGVyZXIuZmluaXNoUmVuZGVyaW5nKCk7XG4gIH1cbn1cblxuY2xhc3MgRnJhbWVWaWV3IGV4dGVuZHMgVmlldyB7XG4gIG1pc3NpbmcoKSB7XG4gICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IGA8c3Ryb25nIGNsYXNzPVwidHVyYm8tZnJhbWUtZXJyb3JcIj5Db250ZW50IG1pc3Npbmc8L3N0cm9uZz5gO1xuICB9XG5cbiAgZ2V0IHNuYXBzaG90KCkge1xuICAgIHJldHVybiBuZXcgU25hcHNob3QodGhpcy5lbGVtZW50KVxuICB9XG59XG5cbmNsYXNzIExpbmtJbnRlcmNlcHRvciB7XG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBlbGVtZW50KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tCdWJibGVkKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHVyYm86Y2xpY2tcIiwgdGhpcy5saW5rQ2xpY2tlZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS12aXNpdFwiLCB0aGlzLndpbGxWaXNpdCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0J1YmJsZWQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0dXJibzpjbGlja1wiLCB0aGlzLmxpbmtDbGlja2VkKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLXZpc2l0XCIsIHRoaXMud2lsbFZpc2l0KTtcbiAgfVxuXG4gIGNsaWNrQnViYmxlZCA9IChldmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnJlc3BvbmRzVG9FdmVudFRhcmdldChldmVudC50YXJnZXQpKSB7XG4gICAgICB0aGlzLmNsaWNrRXZlbnQgPSBldmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMuY2xpY2tFdmVudDtcbiAgICB9XG4gIH1cblxuICBsaW5rQ2xpY2tlZCA9IChldmVudCkgPT4ge1xuICAgIGlmICh0aGlzLmNsaWNrRXZlbnQgJiYgdGhpcy5yZXNwb25kc1RvRXZlbnRUYXJnZXQoZXZlbnQudGFyZ2V0KSAmJiBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zaG91bGRJbnRlcmNlcHRMaW5rQ2xpY2soZXZlbnQudGFyZ2V0LCBldmVudC5kZXRhaWwudXJsLCBldmVudC5kZXRhaWwub3JpZ2luYWxFdmVudCkpIHtcbiAgICAgICAgdGhpcy5jbGlja0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUubGlua0NsaWNrSW50ZXJjZXB0ZWQoZXZlbnQudGFyZ2V0LCBldmVudC5kZXRhaWwudXJsLCBldmVudC5kZXRhaWwub3JpZ2luYWxFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLmNsaWNrRXZlbnQ7XG4gIH1cblxuICB3aWxsVmlzaXQgPSAoX2V2ZW50KSA9PiB7XG4gICAgZGVsZXRlIHRoaXMuY2xpY2tFdmVudDtcbiAgfVxuXG4gIHJlc3BvbmRzVG9FdmVudFRhcmdldCh0YXJnZXQpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCA/IHRhcmdldCA6IHRhcmdldCBpbnN0YW5jZW9mIE5vZGUgPyB0YXJnZXQucGFyZW50RWxlbWVudCA6IG51bGw7XG4gICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5jbG9zZXN0KFwidHVyYm8tZnJhbWUsIGh0bWxcIikgPT0gdGhpcy5lbGVtZW50XG4gIH1cbn1cblxuY2xhc3MgTGlua0NsaWNrT2JzZXJ2ZXIge1xuICBzdGFydGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgZXZlbnRUYXJnZXQpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5ldmVudFRhcmdldCA9IGV2ZW50VGFyZ2V0O1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tDYXB0dXJlZCwgdHJ1ZSk7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0NhcHR1cmVkLCB0cnVlKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGNsaWNrQ2FwdHVyZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0J1YmJsZWQsIGZhbHNlKTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrQnViYmxlZCwgZmFsc2UpO1xuICB9XG5cbiAgY2xpY2tCdWJibGVkID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiB0aGlzLmNsaWNrRXZlbnRJc1NpZ25pZmljYW50KGV2ZW50KSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gKGV2ZW50LmNvbXBvc2VkUGF0aCAmJiBldmVudC5jb21wb3NlZFBhdGgoKVswXSkgfHwgZXZlbnQudGFyZ2V0O1xuICAgICAgY29uc3QgbGluayA9IGZpbmRMaW5rRnJvbUNsaWNrVGFyZ2V0KHRhcmdldCk7XG4gICAgICBpZiAobGluayAmJiBkb2VzTm90VGFyZ2V0SUZyYW1lKGxpbmspKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0TG9jYXRpb25Gb3JMaW5rKGxpbmspO1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS53aWxsRm9sbG93TGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIGV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5mb2xsb3dlZExpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsaWNrRXZlbnRJc1NpZ25pZmljYW50KGV2ZW50KSB7XG4gICAgcmV0dXJuICEoXG4gICAgICAoZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkgfHxcbiAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgfHxcbiAgICAgIGV2ZW50LndoaWNoID4gMSB8fFxuICAgICAgZXZlbnQuYWx0S2V5IHx8XG4gICAgICBldmVudC5jdHJsS2V5IHx8XG4gICAgICBldmVudC5tZXRhS2V5IHx8XG4gICAgICBldmVudC5zaGlmdEtleVxuICAgIClcbiAgfVxufVxuXG5jbGFzcyBGb3JtTGlua0NsaWNrT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgZWxlbWVudCkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmxpbmtJbnRlcmNlcHRvciA9IG5ldyBMaW5rQ2xpY2tPYnNlcnZlcih0aGlzLCBlbGVtZW50KTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMubGlua0ludGVyY2VwdG9yLnN0YXJ0KCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMubGlua0ludGVyY2VwdG9yLnN0b3AoKTtcbiAgfVxuXG4gIC8vIExpbmsgaG92ZXIgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICBjYW5QcmVmZXRjaFJlcXVlc3RUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwcmVmZXRjaEFuZENhY2hlUmVxdWVzdFRvTG9jYXRpb24obGluaywgbG9jYXRpb24pIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIExpbmsgY2xpY2sgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICB3aWxsRm9sbG93TGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIG9yaWdpbmFsRXZlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5kZWxlZ2F0ZS53aWxsU3VibWl0Rm9ybUxpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uLCBvcmlnaW5hbEV2ZW50KSAmJlxuICAgICAgKGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1tZXRob2RcIikgfHwgbGluay5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN0cmVhbVwiKSlcbiAgICApXG4gIH1cblxuICBmb2xsb3dlZExpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuXG4gICAgY29uc3QgdHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGxvY2F0aW9uLnNlYXJjaFBhcmFtcykge1xuICAgICAgZm9ybS5hcHBlbmQoT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHsgdHlwZSwgbmFtZSwgdmFsdWUgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGlvbiA9IE9iamVjdC5hc3NpZ24obG9jYXRpb24sIHsgc2VhcmNoOiBcIlwiIH0pO1xuICAgIGZvcm0uc2V0QXR0cmlidXRlKFwiZGF0YS10dXJib1wiLCBcInRydWVcIik7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIiwgYWN0aW9uLmhyZWYpO1xuICAgIGZvcm0uc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpO1xuXG4gICAgY29uc3QgbWV0aG9kID0gbGluay5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLW1ldGhvZFwiKTtcbiAgICBpZiAobWV0aG9kKSBmb3JtLnNldEF0dHJpYnV0ZShcIm1ldGhvZFwiLCBtZXRob2QpO1xuXG4gICAgY29uc3QgdHVyYm9GcmFtZSA9IGxpbmsuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1mcmFtZVwiKTtcbiAgICBpZiAodHVyYm9GcmFtZSkgZm9ybS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIsIHR1cmJvRnJhbWUpO1xuXG4gICAgY29uc3QgdHVyYm9BY3Rpb24gPSBnZXRWaXNpdEFjdGlvbihsaW5rKTtcbiAgICBpZiAodHVyYm9BY3Rpb24pIGZvcm0uc2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1hY3Rpb25cIiwgdHVyYm9BY3Rpb24pO1xuXG4gICAgY29uc3QgdHVyYm9Db25maXJtID0gbGluay5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWNvbmZpcm1cIik7XG4gICAgaWYgKHR1cmJvQ29uZmlybSkgZm9ybS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWNvbmZpcm1cIiwgdHVyYm9Db25maXJtKTtcblxuICAgIGNvbnN0IHR1cmJvU3RyZWFtID0gbGluay5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN0cmVhbVwiKTtcbiAgICBpZiAodHVyYm9TdHJlYW0pIGZvcm0uc2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1zdHJlYW1cIiwgXCJcIik7XG5cbiAgICB0aGlzLmRlbGVnYXRlLnN1Ym1pdHRlZEZvcm1MaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbiwgZm9ybSk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOnN1Ym1pdC1lbmRcIiwgKCkgPT4gZm9ybS5yZW1vdmUoKSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBmb3JtLnJlcXVlc3RTdWJtaXQoKSk7XG4gIH1cbn1cblxuY2xhc3MgQmFyZG8ge1xuICBzdGF0aWMgYXN5bmMgcHJlc2VydmluZ1Blcm1hbmVudEVsZW1lbnRzKGRlbGVnYXRlLCBwZXJtYW5lbnRFbGVtZW50TWFwLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGJhcmRvID0gbmV3IHRoaXMoZGVsZWdhdGUsIHBlcm1hbmVudEVsZW1lbnRNYXApO1xuICAgIGJhcmRvLmVudGVyKCk7XG4gICAgYXdhaXQgY2FsbGJhY2soKTtcbiAgICBiYXJkby5sZWF2ZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIHBlcm1hbmVudEVsZW1lbnRNYXApIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5wZXJtYW5lbnRFbGVtZW50TWFwID0gcGVybWFuZW50RWxlbWVudE1hcDtcbiAgfVxuXG4gIGVudGVyKCkge1xuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5wZXJtYW5lbnRFbGVtZW50TWFwKSB7XG4gICAgICBjb25zdCBbY3VycmVudFBlcm1hbmVudEVsZW1lbnQsIG5ld1Blcm1hbmVudEVsZW1lbnRdID0gdGhpcy5wZXJtYW5lbnRFbGVtZW50TWFwW2lkXTtcbiAgICAgIHRoaXMuZGVsZWdhdGUuZW50ZXJpbmdCYXJkbyhjdXJyZW50UGVybWFuZW50RWxlbWVudCwgbmV3UGVybWFuZW50RWxlbWVudCk7XG4gICAgICB0aGlzLnJlcGxhY2VOZXdQZXJtYW5lbnRFbGVtZW50V2l0aFBsYWNlaG9sZGVyKG5ld1Blcm1hbmVudEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGxlYXZlKCkge1xuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5wZXJtYW5lbnRFbGVtZW50TWFwKSB7XG4gICAgICBjb25zdCBbY3VycmVudFBlcm1hbmVudEVsZW1lbnRdID0gdGhpcy5wZXJtYW5lbnRFbGVtZW50TWFwW2lkXTtcbiAgICAgIHRoaXMucmVwbGFjZUN1cnJlbnRQZXJtYW5lbnRFbGVtZW50V2l0aENsb25lKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50KTtcbiAgICAgIHRoaXMucmVwbGFjZVBsYWNlaG9sZGVyV2l0aFBlcm1hbmVudEVsZW1lbnQoY3VycmVudFBlcm1hbmVudEVsZW1lbnQpO1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5sZWF2aW5nQmFyZG8oY3VycmVudFBlcm1hbmVudEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJlcGxhY2VOZXdQZXJtYW5lbnRFbGVtZW50V2l0aFBsYWNlaG9sZGVyKHBlcm1hbmVudEVsZW1lbnQpIHtcbiAgICBjb25zdCBwbGFjZWhvbGRlciA9IGNyZWF0ZVBsYWNlaG9sZGVyRm9yUGVybWFuZW50RWxlbWVudChwZXJtYW5lbnRFbGVtZW50KTtcbiAgICBwZXJtYW5lbnRFbGVtZW50LnJlcGxhY2VXaXRoKHBsYWNlaG9sZGVyKTtcbiAgfVxuXG4gIHJlcGxhY2VDdXJyZW50UGVybWFuZW50RWxlbWVudFdpdGhDbG9uZShwZXJtYW5lbnRFbGVtZW50KSB7XG4gICAgY29uc3QgY2xvbmUgPSBwZXJtYW5lbnRFbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICBwZXJtYW5lbnRFbGVtZW50LnJlcGxhY2VXaXRoKGNsb25lKTtcbiAgfVxuXG4gIHJlcGxhY2VQbGFjZWhvbGRlcldpdGhQZXJtYW5lbnRFbGVtZW50KHBlcm1hbmVudEVsZW1lbnQpIHtcbiAgICBjb25zdCBwbGFjZWhvbGRlciA9IHRoaXMuZ2V0UGxhY2Vob2xkZXJCeUlkKHBlcm1hbmVudEVsZW1lbnQuaWQpO1xuICAgIHBsYWNlaG9sZGVyPy5yZXBsYWNlV2l0aChwZXJtYW5lbnRFbGVtZW50KTtcbiAgfVxuXG4gIGdldFBsYWNlaG9sZGVyQnlJZChpZCkge1xuICAgIHJldHVybiB0aGlzLnBsYWNlaG9sZGVycy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50LmNvbnRlbnQgPT0gaWQpXG4gIH1cblxuICBnZXQgcGxhY2Vob2xkZXJzKCkge1xuICAgIHJldHVybiBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIm1ldGFbbmFtZT10dXJiby1wZXJtYW5lbnQtcGxhY2Vob2xkZXJdW2NvbnRlbnRdXCIpXVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBsYWNlaG9sZGVyRm9yUGVybWFuZW50RWxlbWVudChwZXJtYW5lbnRFbGVtZW50KSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibWV0YVwiKTtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwidHVyYm8tcGVybWFuZW50LXBsYWNlaG9sZGVyXCIpO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRlbnRcIiwgcGVybWFuZW50RWxlbWVudC5pZCk7XG4gIHJldHVybiBlbGVtZW50XG59XG5cbmNsYXNzIFJlbmRlcmVyIHtcbiAgI2FjdGl2ZUVsZW1lbnQgPSBudWxsXG5cbiAgY29uc3RydWN0b3IoY3VycmVudFNuYXBzaG90LCBuZXdTbmFwc2hvdCwgcmVuZGVyRWxlbWVudCwgaXNQcmV2aWV3LCB3aWxsUmVuZGVyID0gdHJ1ZSkge1xuICAgIHRoaXMuY3VycmVudFNuYXBzaG90ID0gY3VycmVudFNuYXBzaG90O1xuICAgIHRoaXMubmV3U25hcHNob3QgPSBuZXdTbmFwc2hvdDtcbiAgICB0aGlzLmlzUHJldmlldyA9IGlzUHJldmlldztcbiAgICB0aGlzLndpbGxSZW5kZXIgPSB3aWxsUmVuZGVyO1xuICAgIHRoaXMucmVuZGVyRWxlbWVudCA9IHJlbmRlckVsZW1lbnQ7XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gKHRoaXMucmVzb2x2aW5nRnVuY3Rpb25zID0geyByZXNvbHZlLCByZWplY3QgfSkpO1xuICB9XG5cbiAgZ2V0IHNob3VsZFJlbmRlcigpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZ2V0IHJlbG9hZFJlYXNvbigpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHByZXBhcmVUb1JlbmRlcigpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvLyBBYnN0cmFjdCBtZXRob2RcbiAgfVxuXG4gIGZpbmlzaFJlbmRlcmluZygpIHtcbiAgICBpZiAodGhpcy5yZXNvbHZpbmdGdW5jdGlvbnMpIHtcbiAgICAgIHRoaXMucmVzb2x2aW5nRnVuY3Rpb25zLnJlc29sdmUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLnJlc29sdmluZ0Z1bmN0aW9ucztcbiAgICB9XG4gIH1cblxuICBhc3luYyBwcmVzZXJ2aW5nUGVybWFuZW50RWxlbWVudHMoY2FsbGJhY2spIHtcbiAgICBhd2FpdCBCYXJkby5wcmVzZXJ2aW5nUGVybWFuZW50RWxlbWVudHModGhpcywgdGhpcy5wZXJtYW5lbnRFbGVtZW50TWFwLCBjYWxsYmFjayk7XG4gIH1cblxuICBmb2N1c0ZpcnN0QXV0b2ZvY3VzYWJsZUVsZW1lbnQoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY29ubmVjdGVkU25hcHNob3QuZmlyc3RBdXRvZm9jdXNhYmxlRWxlbWVudDtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEJhcmRvIGRlbGVnYXRlXG5cbiAgZW50ZXJpbmdCYXJkbyhjdXJyZW50UGVybWFuZW50RWxlbWVudCkge1xuICAgIGlmICh0aGlzLiNhY3RpdmVFbGVtZW50KSByZXR1cm5cblxuICAgIGlmIChjdXJyZW50UGVybWFuZW50RWxlbWVudC5jb250YWlucyh0aGlzLmN1cnJlbnRTbmFwc2hvdC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgdGhpcy4jYWN0aXZlRWxlbWVudCA9IHRoaXMuY3VycmVudFNuYXBzaG90LmFjdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICB9XG5cbiAgbGVhdmluZ0JhcmRvKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50KSB7XG4gICAgaWYgKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50LmNvbnRhaW5zKHRoaXMuI2FjdGl2ZUVsZW1lbnQpICYmIHRoaXMuI2FjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgdGhpcy4jYWN0aXZlRWxlbWVudC5mb2N1cygpO1xuXG4gICAgICB0aGlzLiNhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXQgY29ubmVjdGVkU25hcHNob3QoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3U25hcHNob3QuaXNDb25uZWN0ZWQgPyB0aGlzLm5ld1NuYXBzaG90IDogdGhpcy5jdXJyZW50U25hcHNob3RcbiAgfVxuXG4gIGdldCBjdXJyZW50RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U25hcHNob3QuZWxlbWVudFxuICB9XG5cbiAgZ2V0IG5ld0VsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3U25hcHNob3QuZWxlbWVudFxuICB9XG5cbiAgZ2V0IHBlcm1hbmVudEVsZW1lbnRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNuYXBzaG90LmdldFBlcm1hbmVudEVsZW1lbnRNYXBGb3JTbmFwc2hvdCh0aGlzLm5ld1NuYXBzaG90KVxuICB9XG5cbiAgZ2V0IHJlbmRlck1ldGhvZCgpIHtcbiAgICByZXR1cm4gXCJyZXBsYWNlXCJcbiAgfVxufVxuXG5jbGFzcyBGcmFtZVJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICBzdGF0aWMgcmVuZGVyRWxlbWVudChjdXJyZW50RWxlbWVudCwgbmV3RWxlbWVudCkge1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIGRlc3RpbmF0aW9uUmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGN1cnJlbnRFbGVtZW50KTtcbiAgICBkZXN0aW5hdGlvblJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG5cbiAgICBjb25zdCBmcmFtZUVsZW1lbnQgPSBuZXdFbGVtZW50O1xuICAgIGNvbnN0IHNvdXJjZVJhbmdlID0gZnJhbWVFbGVtZW50Lm93bmVyRG9jdW1lbnQ/LmNyZWF0ZVJhbmdlKCk7XG4gICAgaWYgKHNvdXJjZVJhbmdlKSB7XG4gICAgICBzb3VyY2VSYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZnJhbWVFbGVtZW50KTtcbiAgICAgIGN1cnJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZVJhbmdlLmV4dHJhY3RDb250ZW50cygpKTtcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgY3VycmVudFNuYXBzaG90LCBuZXdTbmFwc2hvdCwgcmVuZGVyRWxlbWVudCwgaXNQcmV2aWV3LCB3aWxsUmVuZGVyID0gdHJ1ZSkge1xuICAgIHN1cGVyKGN1cnJlbnRTbmFwc2hvdCwgbmV3U25hcHNob3QsIHJlbmRlckVsZW1lbnQsIGlzUHJldmlldywgd2lsbFJlbmRlcik7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICB9XG5cbiAgZ2V0IHNob3VsZFJlbmRlcigpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgYXN5bmMgcmVuZGVyKCkge1xuICAgIGF3YWl0IG5leHRSZXBhaW50KCk7XG4gICAgdGhpcy5wcmVzZXJ2aW5nUGVybWFuZW50RWxlbWVudHMoKCkgPT4ge1xuICAgICAgdGhpcy5sb2FkRnJhbWVFbGVtZW50KCk7XG4gICAgfSk7XG4gICAgdGhpcy5zY3JvbGxGcmFtZUludG9WaWV3KCk7XG4gICAgYXdhaXQgbmV4dFJlcGFpbnQoKTtcbiAgICB0aGlzLmZvY3VzRmlyc3RBdXRvZm9jdXNhYmxlRWxlbWVudCgpO1xuICAgIGF3YWl0IG5leHRSZXBhaW50KCk7XG4gICAgdGhpcy5hY3RpdmF0ZVNjcmlwdEVsZW1lbnRzKCk7XG4gIH1cblxuICBsb2FkRnJhbWVFbGVtZW50KCkge1xuICAgIHRoaXMuZGVsZWdhdGUud2lsbFJlbmRlckZyYW1lKHRoaXMuY3VycmVudEVsZW1lbnQsIHRoaXMubmV3RWxlbWVudCk7XG4gICAgdGhpcy5yZW5kZXJFbGVtZW50KHRoaXMuY3VycmVudEVsZW1lbnQsIHRoaXMubmV3RWxlbWVudCk7XG4gIH1cblxuICBzY3JvbGxGcmFtZUludG9WaWV3KCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRFbGVtZW50LmF1dG9zY3JvbGwgfHwgdGhpcy5uZXdFbGVtZW50LmF1dG9zY3JvbGwpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmN1cnJlbnRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgY29uc3QgYmxvY2sgPSByZWFkU2Nyb2xsTG9naWNhbFBvc2l0aW9uKHRoaXMuY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvc2Nyb2xsLWJsb2NrXCIpLCBcImVuZFwiKTtcbiAgICAgIGNvbnN0IGJlaGF2aW9yID0gcmVhZFNjcm9sbEJlaGF2aW9yKHRoaXMuY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvc2Nyb2xsLWJlaGF2aW9yXCIpLCBcImF1dG9cIik7XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBibG9jaywgYmVoYXZpb3IgfSk7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYWN0aXZhdGVTY3JpcHRFbGVtZW50cygpIHtcbiAgICBmb3IgKGNvbnN0IGluZXJ0U2NyaXB0RWxlbWVudCBvZiB0aGlzLm5ld1NjcmlwdEVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBhY3RpdmF0ZWRTY3JpcHRFbGVtZW50ID0gYWN0aXZhdGVTY3JpcHRFbGVtZW50KGluZXJ0U2NyaXB0RWxlbWVudCk7XG4gICAgICBpbmVydFNjcmlwdEVsZW1lbnQucmVwbGFjZVdpdGgoYWN0aXZhdGVkU2NyaXB0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG5ld1NjcmlwdEVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIilcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkU2Nyb2xsTG9naWNhbFBvc2l0aW9uKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IFwiZW5kXCIgfHwgdmFsdWUgPT0gXCJzdGFydFwiIHx8IHZhbHVlID09IFwiY2VudGVyXCIgfHwgdmFsdWUgPT0gXCJuZWFyZXN0XCIpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlXG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhZFNjcm9sbEJlaGF2aW9yKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IFwiYXV0b1wiIHx8IHZhbHVlID09IFwic21vb3RoXCIpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlXG4gIH1cbn1cblxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xuICBzdGF0aWMgYW5pbWF0aW9uRHVyYXRpb24gPSAzMDAgLyptcyovXG5cbiAgc3RhdGljIGdldCBkZWZhdWx0Q1NTKCkge1xuICAgIHJldHVybiB1bmluZGVudGBcbiAgICAgIC50dXJiby1wcm9ncmVzcy1iYXIge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIGhlaWdodDogM3B4O1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMDA3NmZmO1xuICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ3O1xuICAgICAgICB0cmFuc2l0aW9uOlxuICAgICAgICAgIHdpZHRoICR7UHJvZ3Jlc3NCYXIuYW5pbWF0aW9uRHVyYXRpb259bXMgZWFzZS1vdXQsXG4gICAgICAgICAgb3BhY2l0eSAke1Byb2dyZXNzQmFyLmFuaW1hdGlvbkR1cmF0aW9uIC8gMn1tcyAke1Byb2dyZXNzQmFyLmFuaW1hdGlvbkR1cmF0aW9uIC8gMn1tcyBlYXNlLWluO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIGhpZGluZyA9IGZhbHNlXG4gIHZhbHVlID0gMFxuICB2aXNpYmxlID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0eWxlc2hlZXRFbGVtZW50ID0gdGhpcy5jcmVhdGVTdHlsZXNoZWV0RWxlbWVudCgpO1xuICAgIHRoaXMucHJvZ3Jlc3NFbGVtZW50ID0gdGhpcy5jcmVhdGVQcm9ncmVzc0VsZW1lbnQoKTtcbiAgICB0aGlzLmluc3RhbGxTdHlsZXNoZWV0RWxlbWVudCgpO1xuICAgIHRoaXMuc2V0VmFsdWUoMCk7XG4gIH1cblxuICBzaG93KCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgdGhpcy5pbnN0YWxsUHJvZ3Jlc3NFbGVtZW50KCk7XG4gICAgICB0aGlzLnN0YXJ0VHJpY2tsaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBpZiAodGhpcy52aXNpYmxlICYmICF0aGlzLmhpZGluZykge1xuICAgICAgdGhpcy5oaWRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5mYWRlUHJvZ3Jlc3NFbGVtZW50KCgpID0+IHtcbiAgICAgICAgdGhpcy51bmluc3RhbGxQcm9ncmVzc0VsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5zdG9wVHJpY2tsaW5nKCk7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgaW5zdGFsbFN0eWxlc2hlZXRFbGVtZW50KCkge1xuICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKHRoaXMuc3R5bGVzaGVldEVsZW1lbnQsIGRvY3VtZW50LmhlYWQuZmlyc3RDaGlsZCk7XG4gIH1cblxuICBpbnN0YWxsUHJvZ3Jlc3NFbGVtZW50KCkge1xuICAgIHRoaXMucHJvZ3Jlc3NFbGVtZW50LnN0eWxlLndpZHRoID0gXCIwXCI7XG4gICAgdGhpcy5wcm9ncmVzc0VsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5wcm9ncmVzc0VsZW1lbnQsIGRvY3VtZW50LmJvZHkpO1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9XG5cbiAgZmFkZVByb2dyZXNzRWxlbWVudChjYWxsYmFjaykge1xuICAgIHRoaXMucHJvZ3Jlc3NFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBQcm9ncmVzc0Jhci5hbmltYXRpb25EdXJhdGlvbiAqIDEuNSk7XG4gIH1cblxuICB1bmluc3RhbGxQcm9ncmVzc0VsZW1lbnQoKSB7XG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NFbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRUcmlja2xpbmcoKSB7XG4gICAgaWYgKCF0aGlzLnRyaWNrbGVJbnRlcnZhbCkge1xuICAgICAgdGhpcy50cmlja2xlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy50cmlja2xlLCBQcm9ncmVzc0Jhci5hbmltYXRpb25EdXJhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgc3RvcFRyaWNrbGluZygpIHtcbiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRyaWNrbGVJbnRlcnZhbCk7XG4gICAgZGVsZXRlIHRoaXMudHJpY2tsZUludGVydmFsO1xuICB9XG5cbiAgdHJpY2tsZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFZhbHVlKHRoaXMudmFsdWUgKyBNYXRoLnJhbmRvbSgpIC8gMTAwKTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7MTAgKyB0aGlzLnZhbHVlICogOTB9JWA7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVTdHlsZXNoZWV0RWxlbWVudCgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIGVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gUHJvZ3Jlc3NCYXIuZGVmYXVsdENTUztcbiAgICBpZiAodGhpcy5jc3BOb25jZSkge1xuICAgICAgZWxlbWVudC5ub25jZSA9IHRoaXMuY3NwTm9uY2U7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50XG4gIH1cblxuICBjcmVhdGVQcm9ncmVzc0VsZW1lbnQoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBcInR1cmJvLXByb2dyZXNzLWJhclwiO1xuICAgIHJldHVybiBlbGVtZW50XG4gIH1cblxuICBnZXQgY3NwTm9uY2UoKSB7XG4gICAgcmV0dXJuIGdldE1ldGFDb250ZW50KFwiY3NwLW5vbmNlXCIpXG4gIH1cbn1cblxuY2xhc3MgSGVhZFNuYXBzaG90IGV4dGVuZHMgU25hcHNob3Qge1xuICBkZXRhaWxzQnlPdXRlckhUTUwgPSB0aGlzLmNoaWxkcmVuXG4gICAgLmZpbHRlcigoZWxlbWVudCkgPT4gIWVsZW1lbnRJc05vc2NyaXB0KGVsZW1lbnQpKVxuICAgIC5tYXAoKGVsZW1lbnQpID0+IGVsZW1lbnRXaXRob3V0Tm9uY2UoZWxlbWVudCkpXG4gICAgLnJlZHVjZSgocmVzdWx0LCBlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCB7IG91dGVySFRNTCB9ID0gZWxlbWVudDtcbiAgICAgIGNvbnN0IGRldGFpbHMgPVxuICAgICAgICBvdXRlckhUTUwgaW4gcmVzdWx0XG4gICAgICAgICAgPyByZXN1bHRbb3V0ZXJIVE1MXVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICB0eXBlOiBlbGVtZW50VHlwZShlbGVtZW50KSxcbiAgICAgICAgICAgICAgdHJhY2tlZDogZWxlbWVudElzVHJhY2tlZChlbGVtZW50KSxcbiAgICAgICAgICAgICAgZWxlbWVudHM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBbb3V0ZXJIVE1MXToge1xuICAgICAgICAgIC4uLmRldGFpbHMsXG4gICAgICAgICAgZWxlbWVudHM6IFsuLi5kZXRhaWxzLmVsZW1lbnRzLCBlbGVtZW50XVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge30pXG5cbiAgZ2V0IHRyYWNrZWRFbGVtZW50U2lnbmF0dXJlKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmRldGFpbHNCeU91dGVySFRNTClcbiAgICAgIC5maWx0ZXIoKG91dGVySFRNTCkgPT4gdGhpcy5kZXRhaWxzQnlPdXRlckhUTUxbb3V0ZXJIVE1MXS50cmFja2VkKVxuICAgICAgLmpvaW4oXCJcIilcbiAgfVxuXG4gIGdldFNjcmlwdEVsZW1lbnRzTm90SW5TbmFwc2hvdChzbmFwc2hvdCkge1xuICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRzTWF0Y2hpbmdUeXBlTm90SW5TbmFwc2hvdChcInNjcmlwdFwiLCBzbmFwc2hvdClcbiAgfVxuXG4gIGdldFN0eWxlc2hlZXRFbGVtZW50c05vdEluU25hcHNob3Qoc25hcHNob3QpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50c01hdGNoaW5nVHlwZU5vdEluU25hcHNob3QoXCJzdHlsZXNoZWV0XCIsIHNuYXBzaG90KVxuICB9XG5cbiAgZ2V0RWxlbWVudHNNYXRjaGluZ1R5cGVOb3RJblNuYXBzaG90KG1hdGNoZWRUeXBlLCBzbmFwc2hvdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmRldGFpbHNCeU91dGVySFRNTClcbiAgICAgIC5maWx0ZXIoKG91dGVySFRNTCkgPT4gIShvdXRlckhUTUwgaW4gc25hcHNob3QuZGV0YWlsc0J5T3V0ZXJIVE1MKSlcbiAgICAgIC5tYXAoKG91dGVySFRNTCkgPT4gdGhpcy5kZXRhaWxzQnlPdXRlckhUTUxbb3V0ZXJIVE1MXSlcbiAgICAgIC5maWx0ZXIoKHsgdHlwZSB9KSA9PiB0eXBlID09IG1hdGNoZWRUeXBlKVxuICAgICAgLm1hcCgoeyBlbGVtZW50czogW2VsZW1lbnRdIH0pID0+IGVsZW1lbnQpXG4gIH1cblxuICBnZXQgcHJvdmlzaW9uYWxFbGVtZW50cygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5kZXRhaWxzQnlPdXRlckhUTUwpLnJlZHVjZSgocmVzdWx0LCBvdXRlckhUTUwpID0+IHtcbiAgICAgIGNvbnN0IHsgdHlwZSwgdHJhY2tlZCwgZWxlbWVudHMgfSA9IHRoaXMuZGV0YWlsc0J5T3V0ZXJIVE1MW291dGVySFRNTF07XG4gICAgICBpZiAodHlwZSA9PSBudWxsICYmICF0cmFja2VkKSB7XG4gICAgICAgIHJldHVybiBbLi4ucmVzdWx0LCAuLi5lbGVtZW50c11cbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4gWy4uLnJlc3VsdCwgLi4uZWxlbWVudHMuc2xpY2UoMSldXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgfSwgW10pXG4gIH1cblxuICBnZXRNZXRhVmFsdWUobmFtZSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmZpbmRNZXRhRWxlbWVudEJ5TmFtZShuYW1lKTtcbiAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKSA6IG51bGxcbiAgfVxuXG4gIGZpbmRNZXRhRWxlbWVudEJ5TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGV0YWlsc0J5T3V0ZXJIVE1MKS5yZWR1Y2UoKHJlc3VsdCwgb3V0ZXJIVE1MKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW1lbnRzOiBbZWxlbWVudF1cbiAgICAgIH0gPSB0aGlzLmRldGFpbHNCeU91dGVySFRNTFtvdXRlckhUTUxdO1xuICAgICAgcmV0dXJuIGVsZW1lbnRJc01ldGFFbGVtZW50V2l0aE5hbWUoZWxlbWVudCwgbmFtZSkgPyBlbGVtZW50IDogcmVzdWx0XG4gICAgfSwgdW5kZWZpbmVkIHwgdW5kZWZpbmVkKVxuICB9XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRUeXBlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnRJc1NjcmlwdChlbGVtZW50KSkge1xuICAgIHJldHVybiBcInNjcmlwdFwiXG4gIH0gZWxzZSBpZiAoZWxlbWVudElzU3R5bGVzaGVldChlbGVtZW50KSkge1xuICAgIHJldHVybiBcInN0eWxlc2hlZXRcIlxuICB9XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRJc1RyYWNrZWQoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXRyYWNrXCIpID09IFwicmVsb2FkXCJcbn1cblxuZnVuY3Rpb24gZWxlbWVudElzU2NyaXB0KGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQubG9jYWxOYW1lO1xuICByZXR1cm4gdGFnTmFtZSA9PSBcInNjcmlwdFwiXG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRJc05vc2NyaXB0KGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQubG9jYWxOYW1lO1xuICByZXR1cm4gdGFnTmFtZSA9PSBcIm5vc2NyaXB0XCJcbn1cblxuZnVuY3Rpb24gZWxlbWVudElzU3R5bGVzaGVldChlbGVtZW50KSB7XG4gIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LmxvY2FsTmFtZTtcbiAgcmV0dXJuIHRhZ05hbWUgPT0gXCJzdHlsZVwiIHx8ICh0YWdOYW1lID09IFwibGlua1wiICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwicmVsXCIpID09IFwic3R5bGVzaGVldFwiKVxufVxuXG5mdW5jdGlvbiBlbGVtZW50SXNNZXRhRWxlbWVudFdpdGhOYW1lKGVsZW1lbnQsIG5hbWUpIHtcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQubG9jYWxOYW1lO1xuICByZXR1cm4gdGFnTmFtZSA9PSBcIm1ldGFcIiAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIikgPT0gbmFtZVxufVxuXG5mdW5jdGlvbiBlbGVtZW50V2l0aG91dE5vbmNlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKFwibm9uY2VcIikpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuY2xhc3MgUGFnZVNuYXBzaG90IGV4dGVuZHMgU25hcHNob3Qge1xuICBzdGF0aWMgZnJvbUhUTUxTdHJpbmcoaHRtbCA9IFwiXCIpIHtcbiAgICByZXR1cm4gdGhpcy5mcm9tRG9jdW1lbnQocGFyc2VIVE1MRG9jdW1lbnQoaHRtbCkpXG4gIH1cblxuICBzdGF0aWMgZnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLmZyb21Eb2N1bWVudChlbGVtZW50Lm93bmVyRG9jdW1lbnQpXG4gIH1cblxuICBzdGF0aWMgZnJvbURvY3VtZW50KHsgZG9jdW1lbnRFbGVtZW50LCBib2R5LCBoZWFkIH0pIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoZG9jdW1lbnRFbGVtZW50LCBib2R5LCBuZXcgSGVhZFNuYXBzaG90KGhlYWQpKVxuICB9XG5cbiAgY29uc3RydWN0b3IoZG9jdW1lbnRFbGVtZW50LCBib2R5LCBoZWFkU25hcHNob3QpIHtcbiAgICBzdXBlcihib2R5KTtcbiAgICB0aGlzLmRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50RWxlbWVudDtcbiAgICB0aGlzLmhlYWRTbmFwc2hvdCA9IGhlYWRTbmFwc2hvdDtcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IGNsb25lZEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgY29uc3Qgc2VsZWN0RWxlbWVudHMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNlbGVjdFwiKTtcbiAgICBjb25zdCBjbG9uZWRTZWxlY3RFbGVtZW50cyA9IGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNlbGVjdFwiKTtcblxuICAgIGZvciAoY29uc3QgW2luZGV4LCBzb3VyY2VdIG9mIHNlbGVjdEVsZW1lbnRzLmVudHJpZXMoKSkge1xuICAgICAgY29uc3QgY2xvbmUgPSBjbG9uZWRTZWxlY3RFbGVtZW50c1tpbmRleF07XG4gICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBjbG9uZS5zZWxlY3RlZE9wdGlvbnMpIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygc291cmNlLnNlbGVjdGVkT3B0aW9ucykgY2xvbmUub3B0aW9uc1tvcHRpb24uaW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNsb25lZFBhc3N3b3JkSW5wdXQgb2YgY2xvbmVkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0nKSkge1xuICAgICAgY2xvbmVkUGFzc3dvcmRJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQYWdlU25hcHNob3QodGhpcy5kb2N1bWVudEVsZW1lbnQsIGNsb25lZEVsZW1lbnQsIHRoaXMuaGVhZFNuYXBzaG90KVxuICB9XG5cbiAgZ2V0IGxhbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImxhbmdcIilcbiAgfVxuXG4gIGdldCBoZWFkRWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkU25hcHNob3QuZWxlbWVudFxuICB9XG5cbiAgZ2V0IHJvb3RMb2NhdGlvbigpIHtcbiAgICBjb25zdCByb290ID0gdGhpcy5nZXRTZXR0aW5nKFwicm9vdFwiKSA/PyBcIi9cIjtcbiAgICByZXR1cm4gZXhwYW5kVVJMKHJvb3QpXG4gIH1cblxuICBnZXQgY2FjaGVDb250cm9sVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2V0dGluZyhcImNhY2hlLWNvbnRyb2xcIilcbiAgfVxuXG4gIGdldCBpc1ByZXZpZXdhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlQ29udHJvbFZhbHVlICE9IFwibm8tcHJldmlld1wiXG4gIH1cblxuICBnZXQgaXNDYWNoZWFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVDb250cm9sVmFsdWUgIT0gXCJuby1jYWNoZVwiXG4gIH1cblxuICBnZXQgaXNWaXNpdGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2V0dGluZyhcInZpc2l0LWNvbnRyb2xcIikgIT0gXCJyZWxvYWRcIlxuICB9XG5cbiAgZ2V0IHByZWZlcnNWaWV3VHJhbnNpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZFNuYXBzaG90LmdldE1ldGFWYWx1ZShcInZpZXctdHJhbnNpdGlvblwiKSA9PT0gXCJzYW1lLW9yaWdpblwiXG4gIH1cblxuICBnZXQgc2hvdWxkTW9ycGhQYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFNldHRpbmcoXCJyZWZyZXNoLW1ldGhvZFwiKSA9PT0gXCJtb3JwaFwiXG4gIH1cblxuICBnZXQgc2hvdWxkUHJlc2VydmVTY3JvbGxQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTZXR0aW5nKFwicmVmcmVzaC1zY3JvbGxcIikgPT09IFwicHJlc2VydmVcIlxuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIGdldFNldHRpbmcobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmhlYWRTbmFwc2hvdC5nZXRNZXRhVmFsdWUoYHR1cmJvLSR7bmFtZX1gKVxuICB9XG59XG5cbmNsYXNzIFZpZXdUcmFuc2l0aW9uZXIge1xuICAjdmlld1RyYW5zaXRpb25TdGFydGVkID0gZmFsc2VcbiAgI2xhc3RPcGVyYXRpb24gPSBQcm9taXNlLnJlc29sdmUoKVxuXG4gIHJlbmRlckNoYW5nZSh1c2VWaWV3VHJhbnNpdGlvbiwgcmVuZGVyKSB7XG4gICAgaWYgKHVzZVZpZXdUcmFuc2l0aW9uICYmIHRoaXMudmlld1RyYW5zaXRpb25zQXZhaWxhYmxlICYmICF0aGlzLiN2aWV3VHJhbnNpdGlvblN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuI3ZpZXdUcmFuc2l0aW9uU3RhcnRlZCA9IHRydWU7XG4gICAgICB0aGlzLiNsYXN0T3BlcmF0aW9uID0gdGhpcy4jbGFzdE9wZXJhdGlvbi50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbihyZW5kZXIpLmZpbmlzaGVkO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2xhc3RPcGVyYXRpb24gPSB0aGlzLiNsYXN0T3BlcmF0aW9uLnRoZW4ocmVuZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy4jbGFzdE9wZXJhdGlvblxuICB9XG5cbiAgZ2V0IHZpZXdUcmFuc2l0aW9uc0F2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvblxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBhY3Rpb246IFwiYWR2YW5jZVwiLFxuICBoaXN0b3J5Q2hhbmdlZDogZmFsc2UsXG4gIHZpc2l0Q2FjaGVkU25hcHNob3Q6ICgpID0+IHt9LFxuICB3aWxsUmVuZGVyOiB0cnVlLFxuICB1cGRhdGVIaXN0b3J5OiB0cnVlLFxuICBzaG91bGRDYWNoZVNuYXBzaG90OiB0cnVlLFxuICBhY2NlcHRzU3RyZWFtUmVzcG9uc2U6IGZhbHNlXG59O1xuXG5jb25zdCBUaW1pbmdNZXRyaWMgPSB7XG4gIHZpc2l0U3RhcnQ6IFwidmlzaXRTdGFydFwiLFxuICByZXF1ZXN0U3RhcnQ6IFwicmVxdWVzdFN0YXJ0XCIsXG4gIHJlcXVlc3RFbmQ6IFwicmVxdWVzdEVuZFwiLFxuICB2aXNpdEVuZDogXCJ2aXNpdEVuZFwiXG59O1xuXG5jb25zdCBWaXNpdFN0YXRlID0ge1xuICBpbml0aWFsaXplZDogXCJpbml0aWFsaXplZFwiLFxuICBzdGFydGVkOiBcInN0YXJ0ZWRcIixcbiAgY2FuY2VsZWQ6IFwiY2FuY2VsZWRcIixcbiAgZmFpbGVkOiBcImZhaWxlZFwiLFxuICBjb21wbGV0ZWQ6IFwiY29tcGxldGVkXCJcbn07XG5cbmNvbnN0IFN5c3RlbVN0YXR1c0NvZGUgPSB7XG4gIG5ldHdvcmtGYWlsdXJlOiAwLFxuICB0aW1lb3V0RmFpbHVyZTogLTEsXG4gIGNvbnRlbnRUeXBlTWlzbWF0Y2g6IC0yXG59O1xuXG5jb25zdCBEaXJlY3Rpb24gPSB7XG4gIGFkdmFuY2U6IFwiZm9yd2FyZFwiLFxuICByZXN0b3JlOiBcImJhY2tcIixcbiAgcmVwbGFjZTogXCJub25lXCJcbn07XG5cbmNsYXNzIFZpc2l0IHtcbiAgaWRlbnRpZmllciA9IHV1aWQoKSAvLyBSZXF1aXJlZCBieSB0dXJiby1pb3NcbiAgdGltaW5nTWV0cmljcyA9IHt9XG5cbiAgZm9sbG93ZWRSZWRpcmVjdCA9IGZhbHNlXG4gIGhpc3RvcnlDaGFuZ2VkID0gZmFsc2VcbiAgc2Nyb2xsZWQgPSBmYWxzZVxuICBzaG91bGRDYWNoZVNuYXBzaG90ID0gdHJ1ZVxuICBhY2NlcHRzU3RyZWFtUmVzcG9uc2UgPSBmYWxzZVxuICBzbmFwc2hvdENhY2hlZCA9IGZhbHNlXG4gIHN0YXRlID0gVmlzaXRTdGF0ZS5pbml0aWFsaXplZFxuICB2aWV3VHJhbnNpdGlvbmVyID0gbmV3IFZpZXdUcmFuc2l0aW9uZXIoKVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBsb2NhdGlvbiwgcmVzdG9yYXRpb25JZGVudGlmaWVyLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIHRoaXMucmVzdG9yYXRpb25JZGVudGlmaWVyID0gcmVzdG9yYXRpb25JZGVudGlmaWVyIHx8IHV1aWQoKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGFjdGlvbixcbiAgICAgIGhpc3RvcnlDaGFuZ2VkLFxuICAgICAgcmVmZXJyZXIsXG4gICAgICBzbmFwc2hvdCxcbiAgICAgIHNuYXBzaG90SFRNTCxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgdmlzaXRDYWNoZWRTbmFwc2hvdCxcbiAgICAgIHdpbGxSZW5kZXIsXG4gICAgICB1cGRhdGVIaXN0b3J5LFxuICAgICAgc2hvdWxkQ2FjaGVTbmFwc2hvdCxcbiAgICAgIGFjY2VwdHNTdHJlYW1SZXNwb25zZSxcbiAgICAgIGRpcmVjdGlvblxuICAgIH0gPSB7XG4gICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgIHRoaXMuaGlzdG9yeUNoYW5nZWQgPSBoaXN0b3J5Q2hhbmdlZDtcbiAgICB0aGlzLnJlZmVycmVyID0gcmVmZXJyZXI7XG4gICAgdGhpcy5zbmFwc2hvdCA9IHNuYXBzaG90O1xuICAgIHRoaXMuc25hcHNob3RIVE1MID0gc25hcHNob3RIVE1MO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLmlzU2FtZVBhZ2UgPSB0aGlzLmRlbGVnYXRlLmxvY2F0aW9uV2l0aEFjdGlvbklzU2FtZVBhZ2UodGhpcy5sb2NhdGlvbiwgdGhpcy5hY3Rpb24pO1xuICAgIHRoaXMuaXNQYWdlUmVmcmVzaCA9IHRoaXMudmlldy5pc1BhZ2VSZWZyZXNoKHRoaXMpO1xuICAgIHRoaXMudmlzaXRDYWNoZWRTbmFwc2hvdCA9IHZpc2l0Q2FjaGVkU25hcHNob3Q7XG4gICAgdGhpcy53aWxsUmVuZGVyID0gd2lsbFJlbmRlcjtcbiAgICB0aGlzLnVwZGF0ZUhpc3RvcnkgPSB1cGRhdGVIaXN0b3J5O1xuICAgIHRoaXMuc2Nyb2xsZWQgPSAhd2lsbFJlbmRlcjtcbiAgICB0aGlzLnNob3VsZENhY2hlU25hcHNob3QgPSBzaG91bGRDYWNoZVNuYXBzaG90O1xuICAgIHRoaXMuYWNjZXB0c1N0cmVhbVJlc3BvbnNlID0gYWNjZXB0c1N0cmVhbVJlc3BvbnNlO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8IERpcmVjdGlvblthY3Rpb25dO1xuICB9XG5cbiAgZ2V0IGFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuYWRhcHRlclxuICB9XG5cbiAgZ2V0IHZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUudmlld1xuICB9XG5cbiAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuaGlzdG9yeVxuICB9XG5cbiAgZ2V0IHJlc3RvcmF0aW9uRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdldFJlc3RvcmF0aW9uRGF0YUZvcklkZW50aWZpZXIodGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIpXG4gIH1cblxuICBnZXQgc2lsZW50KCkge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZVBhZ2VcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFZpc2l0U3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMucmVjb3JkVGltaW5nTWV0cmljKFRpbWluZ01ldHJpYy52aXNpdFN0YXJ0KTtcbiAgICAgIHRoaXMuc3RhdGUgPSBWaXNpdFN0YXRlLnN0YXJ0ZWQ7XG4gICAgICB0aGlzLmFkYXB0ZXIudmlzaXRTdGFydGVkKHRoaXMpO1xuICAgICAgdGhpcy5kZWxlZ2F0ZS52aXNpdFN0YXJ0ZWQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFZpc2l0U3RhdGUuc3RhcnRlZCkge1xuICAgICAgaWYgKHRoaXMucmVxdWVzdCkge1xuICAgICAgICB0aGlzLnJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbmNlbFJlbmRlcigpO1xuICAgICAgdGhpcy5zdGF0ZSA9IFZpc2l0U3RhdGUuY2FuY2VsZWQ7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVmlzaXRTdGF0ZS5zdGFydGVkKSB7XG4gICAgICB0aGlzLnJlY29yZFRpbWluZ01ldHJpYyhUaW1pbmdNZXRyaWMudmlzaXRFbmQpO1xuICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0Q29tcGxldGVkKHRoaXMpO1xuICAgICAgdGhpcy5zdGF0ZSA9IFZpc2l0U3RhdGUuY29tcGxldGVkO1xuICAgICAgdGhpcy5mb2xsb3dSZWRpcmVjdCgpO1xuXG4gICAgICBpZiAoIXRoaXMuZm9sbG93ZWRSZWRpcmVjdCkge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnZpc2l0Q29tcGxldGVkKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZhaWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVmlzaXRTdGF0ZS5zdGFydGVkKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVmlzaXRTdGF0ZS5mYWlsZWQ7XG4gICAgICB0aGlzLmFkYXB0ZXIudmlzaXRGYWlsZWQodGhpcyk7XG4gICAgICB0aGlzLmRlbGVnYXRlLnZpc2l0Q29tcGxldGVkKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUhpc3RvcnkoKSB7XG4gICAgaWYgKCF0aGlzLmhpc3RvcnlDaGFuZ2VkICYmIHRoaXMudXBkYXRlSGlzdG9yeSkge1xuICAgICAgY29uc3QgYWN0aW9uRm9ySGlzdG9yeSA9IHRoaXMubG9jYXRpb24uaHJlZiA9PT0gdGhpcy5yZWZlcnJlcj8uaHJlZiA/IFwicmVwbGFjZVwiIDogdGhpcy5hY3Rpb247XG4gICAgICBjb25zdCBtZXRob2QgPSBnZXRIaXN0b3J5TWV0aG9kRm9yQWN0aW9uKGFjdGlvbkZvckhpc3RvcnkpO1xuICAgICAgdGhpcy5oaXN0b3J5LnVwZGF0ZShtZXRob2QsIHRoaXMubG9jYXRpb24sIHRoaXMucmVzdG9yYXRpb25JZGVudGlmaWVyKTtcbiAgICAgIHRoaXMuaGlzdG9yeUNoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlzc3VlUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5oYXNQcmVsb2FkZWRSZXNwb25zZSgpKSB7XG4gICAgICB0aGlzLnNpbXVsYXRlUmVxdWVzdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zaG91bGRJc3N1ZVJlcXVlc3QoKSAmJiAhdGhpcy5yZXF1ZXN0KSB7XG4gICAgICB0aGlzLnJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KHRoaXMsIEZldGNoTWV0aG9kLmdldCwgdGhpcy5sb2NhdGlvbik7XG4gICAgICB0aGlzLnJlcXVlc3QucGVyZm9ybSgpO1xuICAgIH1cbiAgfVxuXG4gIHNpbXVsYXRlUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5yZXNwb25zZSkge1xuICAgICAgdGhpcy5zdGFydFJlcXVlc3QoKTtcbiAgICAgIHRoaXMucmVjb3JkUmVzcG9uc2UoKTtcbiAgICAgIHRoaXMuZmluaXNoUmVxdWVzdCgpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0UmVxdWVzdCgpIHtcbiAgICB0aGlzLnJlY29yZFRpbWluZ01ldHJpYyhUaW1pbmdNZXRyaWMucmVxdWVzdFN0YXJ0KTtcbiAgICB0aGlzLmFkYXB0ZXIudmlzaXRSZXF1ZXN0U3RhcnRlZCh0aGlzKTtcbiAgfVxuXG4gIHJlY29yZFJlc3BvbnNlKHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzQ29kZSB9ID0gcmVzcG9uc2U7XG4gICAgICBpZiAoaXNTdWNjZXNzZnVsKHN0YXR1c0NvZGUpKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlcXVlc3RDb21wbGV0ZWQodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkYXB0ZXIudmlzaXRSZXF1ZXN0RmFpbGVkV2l0aFN0YXR1c0NvZGUodGhpcywgc3RhdHVzQ29kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmluaXNoUmVxdWVzdCgpIHtcbiAgICB0aGlzLnJlY29yZFRpbWluZ01ldHJpYyhUaW1pbmdNZXRyaWMucmVxdWVzdEVuZCk7XG4gICAgdGhpcy5hZGFwdGVyLnZpc2l0UmVxdWVzdEZpbmlzaGVkKHRoaXMpO1xuICB9XG5cbiAgbG9hZFJlc3BvbnNlKCkge1xuICAgIGlmICh0aGlzLnJlc3BvbnNlKSB7XG4gICAgICBjb25zdCB7IHN0YXR1c0NvZGUsIHJlc3BvbnNlSFRNTCB9ID0gdGhpcy5yZXNwb25zZTtcbiAgICAgIHRoaXMucmVuZGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkQ2FjaGVTbmFwc2hvdCkgdGhpcy5jYWNoZVNuYXBzaG90KCk7XG4gICAgICAgIGlmICh0aGlzLnZpZXcucmVuZGVyUHJvbWlzZSkgYXdhaXQgdGhpcy52aWV3LnJlbmRlclByb21pc2U7XG5cbiAgICAgICAgaWYgKGlzU3VjY2Vzc2Z1bChzdGF0dXNDb2RlKSAmJiByZXNwb25zZUhUTUwgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gUGFnZVNuYXBzaG90LmZyb21IVE1MU3RyaW5nKHJlc3BvbnNlSFRNTCk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQYWdlU25hcHNob3Qoc25hcHNob3QsIGZhbHNlKTtcblxuICAgICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlbmRlcmVkKHRoaXMpO1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVuZGVyRXJyb3IoUGFnZVNuYXBzaG90LmZyb21IVE1MU3RyaW5nKHJlc3BvbnNlSFRNTCksIHRoaXMpO1xuICAgICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlbmRlcmVkKHRoaXMpO1xuICAgICAgICAgIHRoaXMuZmFpbCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRDYWNoZWRTbmFwc2hvdCgpIHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IHRoaXMudmlldy5nZXRDYWNoZWRTbmFwc2hvdEZvckxvY2F0aW9uKHRoaXMubG9jYXRpb24pIHx8IHRoaXMuZ2V0UHJlbG9hZGVkU25hcHNob3QoKTtcblxuICAgIGlmIChzbmFwc2hvdCAmJiAoIWdldEFuY2hvcih0aGlzLmxvY2F0aW9uKSB8fCBzbmFwc2hvdC5oYXNBbmNob3IoZ2V0QW5jaG9yKHRoaXMubG9jYXRpb24pKSkpIHtcbiAgICAgIGlmICh0aGlzLmFjdGlvbiA9PSBcInJlc3RvcmVcIiB8fCBzbmFwc2hvdC5pc1ByZXZpZXdhYmxlKSB7XG4gICAgICAgIHJldHVybiBzbmFwc2hvdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFByZWxvYWRlZFNuYXBzaG90KCkge1xuICAgIGlmICh0aGlzLnNuYXBzaG90SFRNTCkge1xuICAgICAgcmV0dXJuIFBhZ2VTbmFwc2hvdC5mcm9tSFRNTFN0cmluZyh0aGlzLnNuYXBzaG90SFRNTClcbiAgICB9XG4gIH1cblxuICBoYXNDYWNoZWRTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDYWNoZWRTbmFwc2hvdCgpICE9IG51bGxcbiAgfVxuXG4gIGxvYWRDYWNoZWRTbmFwc2hvdCgpIHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IHRoaXMuZ2V0Q2FjaGVkU25hcHNob3QoKTtcbiAgICBpZiAoc25hcHNob3QpIHtcbiAgICAgIGNvbnN0IGlzUHJldmlldyA9IHRoaXMuc2hvdWxkSXNzdWVSZXF1ZXN0KCk7XG4gICAgICB0aGlzLnJlbmRlcihhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FjaGVTbmFwc2hvdCgpO1xuICAgICAgICBpZiAodGhpcy5pc1NhbWVQYWdlIHx8IHRoaXMuaXNQYWdlUmVmcmVzaCkge1xuICAgICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlbmRlcmVkKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnZpZXcucmVuZGVyUHJvbWlzZSkgYXdhaXQgdGhpcy52aWV3LnJlbmRlclByb21pc2U7XG5cbiAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclBhZ2VTbmFwc2hvdChzbmFwc2hvdCwgaXNQcmV2aWV3KTtcblxuICAgICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlbmRlcmVkKHRoaXMpO1xuICAgICAgICAgIGlmICghaXNQcmV2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmb2xsb3dSZWRpcmVjdCgpIHtcbiAgICBpZiAodGhpcy5yZWRpcmVjdGVkVG9Mb2NhdGlvbiAmJiAhdGhpcy5mb2xsb3dlZFJlZGlyZWN0ICYmIHRoaXMucmVzcG9uc2U/LnJlZGlyZWN0ZWQpIHtcbiAgICAgIHRoaXMuYWRhcHRlci52aXNpdFByb3Bvc2VkVG9Mb2NhdGlvbih0aGlzLnJlZGlyZWN0ZWRUb0xvY2F0aW9uLCB7XG4gICAgICAgIGFjdGlvbjogXCJyZXBsYWNlXCIsXG4gICAgICAgIHJlc3BvbnNlOiB0aGlzLnJlc3BvbnNlLFxuICAgICAgICBzaG91bGRDYWNoZVNuYXBzaG90OiBmYWxzZSxcbiAgICAgICAgd2lsbFJlbmRlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb2xsb3dlZFJlZGlyZWN0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBnb1RvU2FtZVBhZ2VBbmNob3IoKSB7XG4gICAgaWYgKHRoaXMuaXNTYW1lUGFnZSkge1xuICAgICAgdGhpcy5yZW5kZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmNhY2hlU25hcHNob3QoKTtcbiAgICAgICAgdGhpcy5wZXJmb3JtU2Nyb2xsKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlSGlzdG9yeSgpO1xuICAgICAgICB0aGlzLmFkYXB0ZXIudmlzaXRSZW5kZXJlZCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZldGNoIHJlcXVlc3QgZGVsZWdhdGVcblxuICBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgaWYgKHRoaXMuYWNjZXB0c1N0cmVhbVJlc3BvbnNlKSB7XG4gICAgICByZXF1ZXN0LmFjY2VwdFJlc3BvbnNlVHlwZShTdHJlYW1NZXNzYWdlLmNvbnRlbnRUeXBlKTtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0U3RhcnRlZCgpIHtcbiAgICB0aGlzLnN0YXJ0UmVxdWVzdCgpO1xuICB9XG5cbiAgcmVxdWVzdFByZXZlbnRlZEhhbmRsaW5nUmVzcG9uc2UoX3JlcXVlc3QsIF9yZXNwb25zZSkge31cblxuICBhc3luYyByZXF1ZXN0U3VjY2VlZGVkV2l0aFJlc3BvbnNlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVzcG9uc2VIVE1MID0gYXdhaXQgcmVzcG9uc2UucmVzcG9uc2VIVE1MO1xuICAgIGNvbnN0IHsgcmVkaXJlY3RlZCwgc3RhdHVzQ29kZSB9ID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlSFRNTCA9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVjb3JkUmVzcG9uc2Uoe1xuICAgICAgICBzdGF0dXNDb2RlOiBTeXN0ZW1TdGF0dXNDb2RlLmNvbnRlbnRUeXBlTWlzbWF0Y2gsXG4gICAgICAgIHJlZGlyZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZGlyZWN0ZWRUb0xvY2F0aW9uID0gcmVzcG9uc2UucmVkaXJlY3RlZCA/IHJlc3BvbnNlLmxvY2F0aW9uIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5yZWNvcmRSZXNwb25zZSh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsIHJlc3BvbnNlSFRNTCwgcmVkaXJlY3RlZCB9KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZXF1ZXN0RmFpbGVkV2l0aFJlc3BvbnNlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVzcG9uc2VIVE1MID0gYXdhaXQgcmVzcG9uc2UucmVzcG9uc2VIVE1MO1xuICAgIGNvbnN0IHsgcmVkaXJlY3RlZCwgc3RhdHVzQ29kZSB9ID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlSFRNTCA9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVjb3JkUmVzcG9uc2Uoe1xuICAgICAgICBzdGF0dXNDb2RlOiBTeXN0ZW1TdGF0dXNDb2RlLmNvbnRlbnRUeXBlTWlzbWF0Y2gsXG4gICAgICAgIHJlZGlyZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlY29yZFJlc3BvbnNlKHsgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSwgcmVzcG9uc2VIVE1MLCByZWRpcmVjdGVkIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RFcnJvcmVkKF9yZXF1ZXN0LCBfZXJyb3IpIHtcbiAgICB0aGlzLnJlY29yZFJlc3BvbnNlKHtcbiAgICAgIHN0YXR1c0NvZGU6IFN5c3RlbVN0YXR1c0NvZGUubmV0d29ya0ZhaWx1cmUsXG4gICAgICByZWRpcmVjdGVkOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgcmVxdWVzdEZpbmlzaGVkKCkge1xuICAgIHRoaXMuZmluaXNoUmVxdWVzdCgpO1xuICB9XG5cbiAgLy8gU2Nyb2xsaW5nXG5cbiAgcGVyZm9ybVNjcm9sbCgpIHtcbiAgICBpZiAoIXRoaXMuc2Nyb2xsZWQgJiYgIXRoaXMudmlldy5mb3JjZVJlbG9hZGVkICYmICF0aGlzLnZpZXcuc2hvdWxkUHJlc2VydmVTY3JvbGxQb3NpdGlvbih0aGlzKSkge1xuICAgICAgaWYgKHRoaXMuYWN0aW9uID09IFwicmVzdG9yZVwiKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9SZXN0b3JlZFBvc2l0aW9uKCkgfHwgdGhpcy5zY3JvbGxUb0FuY2hvcigpIHx8IHRoaXMudmlldy5zY3JvbGxUb1RvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0FuY2hvcigpIHx8IHRoaXMudmlldy5zY3JvbGxUb1RvcCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNTYW1lUGFnZSkge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnZpc2l0U2Nyb2xsZWRUb1NhbWVQYWdlTG9jYXRpb24odGhpcy52aWV3Lmxhc3RSZW5kZXJlZExvY2F0aW9uLCB0aGlzLmxvY2F0aW9uKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY3JvbGxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgc2Nyb2xsVG9SZXN0b3JlZFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IHsgc2Nyb2xsUG9zaXRpb24gfSA9IHRoaXMucmVzdG9yYXRpb25EYXRhO1xuICAgIGlmIChzY3JvbGxQb3NpdGlvbikge1xuICAgICAgdGhpcy52aWV3LnNjcm9sbFRvUG9zaXRpb24oc2Nyb2xsUG9zaXRpb24pO1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBzY3JvbGxUb0FuY2hvcigpIHtcbiAgICBjb25zdCBhbmNob3IgPSBnZXRBbmNob3IodGhpcy5sb2NhdGlvbik7XG4gICAgaWYgKGFuY2hvciAhPSBudWxsKSB7XG4gICAgICB0aGlzLnZpZXcuc2Nyb2xsVG9BbmNob3IoYW5jaG9yKTtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgLy8gSW5zdHJ1bWVudGF0aW9uXG5cbiAgcmVjb3JkVGltaW5nTWV0cmljKG1ldHJpYykge1xuICAgIHRoaXMudGltaW5nTWV0cmljc1ttZXRyaWNdID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxuICBnZXRUaW1pbmdNZXRyaWNzKCkge1xuICAgIHJldHVybiB7IC4uLnRoaXMudGltaW5nTWV0cmljcyB9XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgZ2V0SGlzdG9yeU1ldGhvZEZvckFjdGlvbihhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgcmV0dXJuIGhpc3RvcnkucmVwbGFjZVN0YXRlXG4gICAgICBjYXNlIFwiYWR2YW5jZVwiOlxuICAgICAgY2FzZSBcInJlc3RvcmVcIjpcbiAgICAgICAgcmV0dXJuIGhpc3RvcnkucHVzaFN0YXRlXG4gICAgfVxuICB9XG5cbiAgaGFzUHJlbG9hZGVkUmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnJlc3BvbnNlID09IFwib2JqZWN0XCJcbiAgfVxuXG4gIHNob3VsZElzc3VlUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5pc1NhbWVQYWdlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aW9uID09IFwicmVzdG9yZVwiKSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzQ2FjaGVkU25hcHNob3QoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy53aWxsUmVuZGVyXG4gICAgfVxuICB9XG5cbiAgY2FjaGVTbmFwc2hvdCgpIHtcbiAgICBpZiAoIXRoaXMuc25hcHNob3RDYWNoZWQpIHtcbiAgICAgIHRoaXMudmlldy5jYWNoZVNuYXBzaG90KHRoaXMuc25hcHNob3QpLnRoZW4oKHNuYXBzaG90KSA9PiBzbmFwc2hvdCAmJiB0aGlzLnZpc2l0Q2FjaGVkU25hcHNob3Qoc25hcHNob3QpKTtcbiAgICAgIHRoaXMuc25hcHNob3RDYWNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlbmRlcihjYWxsYmFjaykge1xuICAgIHRoaXMuY2FuY2VsUmVuZGVyKCk7XG4gICAgdGhpcy5mcmFtZSA9IGF3YWl0IG5leHRSZXBhaW50KCk7XG4gICAgYXdhaXQgY2FsbGJhY2soKTtcbiAgICBkZWxldGUgdGhpcy5mcmFtZTtcbiAgfVxuXG4gIGFzeW5jIHJlbmRlclBhZ2VTbmFwc2hvdChzbmFwc2hvdCwgaXNQcmV2aWV3KSB7XG4gICAgYXdhaXQgdGhpcy52aWV3VHJhbnNpdGlvbmVyLnJlbmRlckNoYW5nZSh0aGlzLnZpZXcuc2hvdWxkVHJhbnNpdGlvblRvKHNuYXBzaG90KSwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlbmRlclBhZ2Uoc25hcHNob3QsIGlzUHJldmlldywgdGhpcy53aWxsUmVuZGVyLCB0aGlzKTtcbiAgICAgIHRoaXMucGVyZm9ybVNjcm9sbCgpO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsUmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmZyYW1lKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZyYW1lKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmZyYW1lO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc1N1Y2Nlc3NmdWwoc3RhdHVzQ29kZSkge1xuICByZXR1cm4gc3RhdHVzQ29kZSA+PSAyMDAgJiYgc3RhdHVzQ29kZSA8IDMwMFxufVxuXG5jbGFzcyBCcm93c2VyQWRhcHRlciB7XG4gIHByb2dyZXNzQmFyID0gbmV3IFByb2dyZXNzQmFyKClcblxuICBjb25zdHJ1Y3RvcihzZXNzaW9uKSB7XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgfVxuXG4gIHZpc2l0UHJvcG9zZWRUb0xvY2F0aW9uKGxvY2F0aW9uLCBvcHRpb25zKSB7XG4gICAgaWYgKGxvY2F0aW9uSXNWaXNpdGFibGUobG9jYXRpb24sIHRoaXMubmF2aWdhdG9yLnJvb3RMb2NhdGlvbikpIHtcbiAgICAgIHRoaXMubmF2aWdhdG9yLnN0YXJ0VmlzaXQobG9jYXRpb24sIG9wdGlvbnM/LnJlc3RvcmF0aW9uSWRlbnRpZmllciB8fCB1dWlkKCksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRTdGFydGVkKHZpc2l0KSB7XG4gICAgdGhpcy5sb2NhdGlvbiA9IHZpc2l0LmxvY2F0aW9uO1xuICAgIHZpc2l0LmxvYWRDYWNoZWRTbmFwc2hvdCgpO1xuICAgIHZpc2l0Lmlzc3VlUmVxdWVzdCgpO1xuICAgIHZpc2l0LmdvVG9TYW1lUGFnZUFuY2hvcigpO1xuICB9XG5cbiAgdmlzaXRSZXF1ZXN0U3RhcnRlZCh2aXNpdCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0VmFsdWUoMCk7XG4gICAgaWYgKHZpc2l0Lmhhc0NhY2hlZFNuYXBzaG90KCkgfHwgdmlzaXQuYWN0aW9uICE9IFwicmVzdG9yZVwiKSB7XG4gICAgICB0aGlzLnNob3dWaXNpdFByb2dyZXNzQmFyQWZ0ZXJEZWxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dQcm9ncmVzc0JhcigpO1xuICAgIH1cbiAgfVxuXG4gIHZpc2l0UmVxdWVzdENvbXBsZXRlZCh2aXNpdCkge1xuICAgIHZpc2l0LmxvYWRSZXNwb25zZSgpO1xuICB9XG5cbiAgdmlzaXRSZXF1ZXN0RmFpbGVkV2l0aFN0YXR1c0NvZGUodmlzaXQsIHN0YXR1c0NvZGUpIHtcbiAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgIGNhc2UgU3lzdGVtU3RhdHVzQ29kZS5uZXR3b3JrRmFpbHVyZTpcbiAgICAgIGNhc2UgU3lzdGVtU3RhdHVzQ29kZS50aW1lb3V0RmFpbHVyZTpcbiAgICAgIGNhc2UgU3lzdGVtU3RhdHVzQ29kZS5jb250ZW50VHlwZU1pc21hdGNoOlxuICAgICAgICByZXR1cm4gdGhpcy5yZWxvYWQoe1xuICAgICAgICAgIHJlYXNvbjogXCJyZXF1ZXN0X2ZhaWxlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdmlzaXQubG9hZFJlc3BvbnNlKClcbiAgICB9XG4gIH1cblxuICB2aXNpdFJlcXVlc3RGaW5pc2hlZChfdmlzaXQpIHt9XG5cbiAgdmlzaXRDb21wbGV0ZWQoX3Zpc2l0KSB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRWYWx1ZSgxKTtcbiAgICB0aGlzLmhpZGVWaXNpdFByb2dyZXNzQmFyKCk7XG4gIH1cblxuICBwYWdlSW52YWxpZGF0ZWQocmVhc29uKSB7XG4gICAgdGhpcy5yZWxvYWQocmVhc29uKTtcbiAgfVxuXG4gIHZpc2l0RmFpbGVkKF92aXNpdCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0VmFsdWUoMSk7XG4gICAgdGhpcy5oaWRlVmlzaXRQcm9ncmVzc0JhcigpO1xuICB9XG5cbiAgdmlzaXRSZW5kZXJlZChfdmlzaXQpIHt9XG5cbiAgLy8gRm9ybSBTdWJtaXNzaW9uIERlbGVnYXRlXG5cbiAgZm9ybVN1Ym1pc3Npb25TdGFydGVkKF9mb3JtU3VibWlzc2lvbikge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0VmFsdWUoMCk7XG4gICAgdGhpcy5zaG93Rm9ybVByb2dyZXNzQmFyQWZ0ZXJEZWxheSgpO1xuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25GaW5pc2hlZChfZm9ybVN1Ym1pc3Npb24pIHtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldFZhbHVlKDEpO1xuICAgIHRoaXMuaGlkZUZvcm1Qcm9ncmVzc0JhcigpO1xuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIHNob3dWaXNpdFByb2dyZXNzQmFyQWZ0ZXJEZWxheSgpIHtcbiAgICB0aGlzLnZpc2l0UHJvZ3Jlc3NCYXJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5zaG93UHJvZ3Jlc3NCYXIsIHRoaXMuc2Vzc2lvbi5wcm9ncmVzc0JhckRlbGF5KTtcbiAgfVxuXG4gIGhpZGVWaXNpdFByb2dyZXNzQmFyKCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuaGlkZSgpO1xuICAgIGlmICh0aGlzLnZpc2l0UHJvZ3Jlc3NCYXJUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy52aXNpdFByb2dyZXNzQmFyVGltZW91dCk7XG4gICAgICBkZWxldGUgdGhpcy52aXNpdFByb2dyZXNzQmFyVGltZW91dDtcbiAgICB9XG4gIH1cblxuICBzaG93Rm9ybVByb2dyZXNzQmFyQWZ0ZXJEZWxheSgpIHtcbiAgICBpZiAodGhpcy5mb3JtUHJvZ3Jlc3NCYXJUaW1lb3V0ID09IG51bGwpIHtcbiAgICAgIHRoaXMuZm9ybVByb2dyZXNzQmFyVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuc2hvd1Byb2dyZXNzQmFyLCB0aGlzLnNlc3Npb24ucHJvZ3Jlc3NCYXJEZWxheSk7XG4gICAgfVxuICB9XG5cbiAgaGlkZUZvcm1Qcm9ncmVzc0JhcigpIHtcbiAgICB0aGlzLnByb2dyZXNzQmFyLmhpZGUoKTtcbiAgICBpZiAodGhpcy5mb3JtUHJvZ3Jlc3NCYXJUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5mb3JtUHJvZ3Jlc3NCYXJUaW1lb3V0KTtcbiAgICAgIGRlbGV0ZSB0aGlzLmZvcm1Qcm9ncmVzc0JhclRpbWVvdXQ7XG4gICAgfVxuICB9XG5cbiAgc2hvd1Byb2dyZXNzQmFyID0gKCkgPT4ge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2hvdygpO1xuICB9XG5cbiAgcmVsb2FkKHJlYXNvbikge1xuICAgIGRpc3BhdGNoKFwidHVyYm86cmVsb2FkXCIsIHsgZGV0YWlsOiByZWFzb24gfSk7XG5cbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMubG9jYXRpb24/LnRvU3RyaW5nKCkgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIH1cblxuICBnZXQgbmF2aWdhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubmF2aWdhdG9yXG4gIH1cbn1cblxuY2xhc3MgQ2FjaGVPYnNlcnZlciB7XG4gIHNlbGVjdG9yID0gXCJbZGF0YS10dXJiby10ZW1wb3JhcnldXCJcbiAgZGVwcmVjYXRlZFNlbGVjdG9yID0gXCJbZGF0YS10dXJiby1jYWNoZT1mYWxzZV1cIlxuXG4gIHN0YXJ0ZWQgPSBmYWxzZVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1jYWNoZVwiLCB0aGlzLnJlbW92ZVRlbXBvcmFyeUVsZW1lbnRzLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0dXJibzpiZWZvcmUtY2FjaGVcIiwgdGhpcy5yZW1vdmVUZW1wb3JhcnlFbGVtZW50cywgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVRlbXBvcmFyeUVsZW1lbnRzID0gKF9ldmVudCkgPT4ge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLnRlbXBvcmFyeUVsZW1lbnRzKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGdldCB0ZW1wb3JhcnlFbGVtZW50cygpIHtcbiAgICByZXR1cm4gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3RvciksIC4uLnRoaXMudGVtcG9yYXJ5RWxlbWVudHNXaXRoRGVwcmVjYXRpb25dXG4gIH1cblxuICBnZXQgdGVtcG9yYXJ5RWxlbWVudHNXaXRoRGVwcmVjYXRpb24oKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZGVwcmVjYXRlZFNlbGVjdG9yKTtcblxuICAgIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFRoZSAke3RoaXMuZGVwcmVjYXRlZFNlbGVjdG9yfSBzZWxlY3RvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gVXNlICR7dGhpcy5zZWxlY3Rvcn0gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBbLi4uZWxlbWVudHNdXG4gIH1cbn1cblxuY2xhc3MgRnJhbWVSZWRpcmVjdG9yIHtcbiAgY29uc3RydWN0b3Ioc2Vzc2lvbiwgZWxlbWVudCkge1xuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmxpbmtJbnRlcmNlcHRvciA9IG5ldyBMaW5rSW50ZXJjZXB0b3IodGhpcywgZWxlbWVudCk7XG4gICAgdGhpcy5mb3JtU3VibWl0T2JzZXJ2ZXIgPSBuZXcgRm9ybVN1Ym1pdE9ic2VydmVyKHRoaXMsIGVsZW1lbnQpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5saW5rSW50ZXJjZXB0b3Iuc3RhcnQoKTtcbiAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlci5zdGFydCgpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmxpbmtJbnRlcmNlcHRvci5zdG9wKCk7XG4gICAgdGhpcy5mb3JtU3VibWl0T2JzZXJ2ZXIuc3RvcCgpO1xuICB9XG5cbiAgLy8gTGluayBpbnRlcmNlcHRvciBkZWxlZ2F0ZVxuXG4gIHNob3VsZEludGVyY2VwdExpbmtDbGljayhlbGVtZW50LCBfbG9jYXRpb24sIF9ldmVudCkge1xuICAgIHJldHVybiB0aGlzLiNzaG91bGRSZWRpcmVjdChlbGVtZW50KVxuICB9XG5cbiAgbGlua0NsaWNrSW50ZXJjZXB0ZWQoZWxlbWVudCwgdXJsLCBldmVudCkge1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy4jZmluZEZyYW1lRWxlbWVudChlbGVtZW50KTtcbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIGZyYW1lLmRlbGVnYXRlLmxpbmtDbGlja0ludGVyY2VwdGVkKGVsZW1lbnQsIHVybCwgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZvcm0gc3VibWl0IG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgd2lsbFN1Ym1pdEZvcm0oZWxlbWVudCwgc3VibWl0dGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGVsZW1lbnQuY2xvc2VzdChcInR1cmJvLWZyYW1lXCIpID09IG51bGwgJiZcbiAgICAgIHRoaXMuI3Nob3VsZFN1Ym1pdChlbGVtZW50LCBzdWJtaXR0ZXIpICYmXG4gICAgICB0aGlzLiNzaG91bGRSZWRpcmVjdChlbGVtZW50LCBzdWJtaXR0ZXIpXG4gICAgKVxuICB9XG5cbiAgZm9ybVN1Ym1pdHRlZChlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuI2ZpbmRGcmFtZUVsZW1lbnQoZWxlbWVudCwgc3VibWl0dGVyKTtcbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIGZyYW1lLmRlbGVnYXRlLmZvcm1TdWJtaXR0ZWQoZWxlbWVudCwgc3VibWl0dGVyKTtcbiAgICB9XG4gIH1cblxuICAjc2hvdWxkU3VibWl0KGZvcm0sIHN1Ym1pdHRlcikge1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEFjdGlvbiQxKGZvcm0sIHN1Ym1pdHRlcik7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cInR1cmJvLXJvb3RcIl1gKTtcbiAgICBjb25zdCByb290TG9jYXRpb24gPSBleHBhbmRVUkwobWV0YT8uY29udGVudCA/PyBcIi9cIik7XG5cbiAgICByZXR1cm4gdGhpcy4jc2hvdWxkUmVkaXJlY3QoZm9ybSwgc3VibWl0dGVyKSAmJiBsb2NhdGlvbklzVmlzaXRhYmxlKGFjdGlvbiwgcm9vdExvY2F0aW9uKVxuICB9XG5cbiAgI3Nob3VsZFJlZGlyZWN0KGVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICAgIGNvbnN0IGlzTmF2aWdhdGFibGUgPVxuICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudFxuICAgICAgICA/IHRoaXMuc2Vzc2lvbi5zdWJtaXNzaW9uSXNOYXZpZ2F0YWJsZShlbGVtZW50LCBzdWJtaXR0ZXIpXG4gICAgICAgIDogdGhpcy5zZXNzaW9uLmVsZW1lbnRJc05hdmlnYXRhYmxlKGVsZW1lbnQpO1xuXG4gICAgaWYgKGlzTmF2aWdhdGFibGUpIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy4jZmluZEZyYW1lRWxlbWVudChlbGVtZW50LCBzdWJtaXR0ZXIpO1xuICAgICAgcmV0dXJuIGZyYW1lID8gZnJhbWUgIT0gZWxlbWVudC5jbG9zZXN0KFwidHVyYm8tZnJhbWVcIikgOiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICAjZmluZEZyYW1lRWxlbWVudChlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICBjb25zdCBpZCA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1mcmFtZVwiKSB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIik7XG4gICAgaWYgKGlkICYmIGlkICE9IFwiX3RvcFwiKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpZH06bm90KFtkaXNhYmxlZF0pYCk7XG4gICAgICBpZiAoZnJhbWUgaW5zdGFuY2VvZiBGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZyYW1lXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEhpc3Rvcnkge1xuICBsb2NhdGlvblxuICByZXN0b3JhdGlvbklkZW50aWZpZXIgPSB1dWlkKClcbiAgcmVzdG9yYXRpb25EYXRhID0ge31cbiAgc3RhcnRlZCA9IGZhbHNlXG4gIHBhZ2VMb2FkZWQgPSBmYWxzZVxuICBjdXJyZW50SW5kZXggPSAwXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMub25Qb3BTdGF0ZSwgZmFsc2UpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgdGhpcy5vblBhZ2VMb2FkLCBmYWxzZSk7XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGhpc3Rvcnkuc3RhdGU/LnR1cmJvPy5yZXN0b3JhdGlvbkluZGV4IHx8IDA7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5yZXBsYWNlKG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpKTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCB0aGlzLm9uUG9wU3RhdGUsIGZhbHNlKTtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMub25QYWdlTG9hZCwgZmFsc2UpO1xuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVzaChsb2NhdGlvbiwgcmVzdG9yYXRpb25JZGVudGlmaWVyKSB7XG4gICAgdGhpcy51cGRhdGUoaGlzdG9yeS5wdXNoU3RhdGUsIGxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIpO1xuICB9XG5cbiAgcmVwbGFjZShsb2NhdGlvbiwgcmVzdG9yYXRpb25JZGVudGlmaWVyKSB7XG4gICAgdGhpcy51cGRhdGUoaGlzdG9yeS5yZXBsYWNlU3RhdGUsIGxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIpO1xuICB9XG5cbiAgdXBkYXRlKG1ldGhvZCwgbG9jYXRpb24sIHJlc3RvcmF0aW9uSWRlbnRpZmllciA9IHV1aWQoKSkge1xuICAgIGlmIChtZXRob2QgPT09IGhpc3RvcnkucHVzaFN0YXRlKSArK3RoaXMuY3VycmVudEluZGV4O1xuXG4gICAgY29uc3Qgc3RhdGUgPSB7IHR1cmJvOiB7IHJlc3RvcmF0aW9uSWRlbnRpZmllciwgcmVzdG9yYXRpb25JbmRleDogdGhpcy5jdXJyZW50SW5kZXggfSB9O1xuICAgIG1ldGhvZC5jYWxsKGhpc3RvcnksIHN0YXRlLCBcIlwiLCBsb2NhdGlvbi5ocmVmKTtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIgPSByZXN0b3JhdGlvbklkZW50aWZpZXI7XG4gIH1cblxuICAvLyBSZXN0b3JhdGlvbiBkYXRhXG5cbiAgZ2V0UmVzdG9yYXRpb25EYXRhRm9ySWRlbnRpZmllcihyZXN0b3JhdGlvbklkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZXN0b3JhdGlvbkRhdGFbcmVzdG9yYXRpb25JZGVudGlmaWVyXSB8fCB7fVxuICB9XG5cbiAgdXBkYXRlUmVzdG9yYXRpb25EYXRhKGFkZGl0aW9uYWxEYXRhKSB7XG4gICAgY29uc3QgeyByZXN0b3JhdGlvbklkZW50aWZpZXIgfSA9IHRoaXM7XG4gICAgY29uc3QgcmVzdG9yYXRpb25EYXRhID0gdGhpcy5yZXN0b3JhdGlvbkRhdGFbcmVzdG9yYXRpb25JZGVudGlmaWVyXTtcbiAgICB0aGlzLnJlc3RvcmF0aW9uRGF0YVtyZXN0b3JhdGlvbklkZW50aWZpZXJdID0ge1xuICAgICAgLi4ucmVzdG9yYXRpb25EYXRhLFxuICAgICAgLi4uYWRkaXRpb25hbERhdGFcbiAgICB9O1xuICB9XG5cbiAgLy8gU2Nyb2xsIHJlc3RvcmF0aW9uXG5cbiAgYXNzdW1lQ29udHJvbE9mU2Nyb2xsUmVzdG9yYXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLnByZXZpb3VzU2Nyb2xsUmVzdG9yYXRpb24pIHtcbiAgICAgIHRoaXMucHJldmlvdXNTY3JvbGxSZXN0b3JhdGlvbiA9IGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPz8gXCJhdXRvXCI7XG4gICAgICBoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJtYW51YWxcIjtcbiAgICB9XG4gIH1cblxuICByZWxpbnF1aXNoQ29udHJvbE9mU2Nyb2xsUmVzdG9yYXRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJldmlvdXNTY3JvbGxSZXN0b3JhdGlvbikge1xuICAgICAgaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IHRoaXMucHJldmlvdXNTY3JvbGxSZXN0b3JhdGlvbjtcbiAgICAgIGRlbGV0ZSB0aGlzLnByZXZpb3VzU2Nyb2xsUmVzdG9yYXRpb247XG4gICAgfVxuICB9XG5cbiAgLy8gRXZlbnQgaGFuZGxlcnNcblxuICBvblBvcFN0YXRlID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuc2hvdWxkSGFuZGxlUG9wU3RhdGUoKSkge1xuICAgICAgY29uc3QgeyB0dXJibyB9ID0gZXZlbnQuc3RhdGUgfHwge307XG4gICAgICBpZiAodHVyYm8pIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICBjb25zdCB7IHJlc3RvcmF0aW9uSWRlbnRpZmllciwgcmVzdG9yYXRpb25JbmRleCB9ID0gdHVyYm87XG4gICAgICAgIHRoaXMucmVzdG9yYXRpb25JZGVudGlmaWVyID0gcmVzdG9yYXRpb25JZGVudGlmaWVyO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSByZXN0b3JhdGlvbkluZGV4ID4gdGhpcy5jdXJyZW50SW5kZXggPyBcImZvcndhcmRcIiA6IFwiYmFja1wiO1xuICAgICAgICB0aGlzLmRlbGVnYXRlLmhpc3RvcnlQb3BwZWRUb0xvY2F0aW9uV2l0aFJlc3RvcmF0aW9uSWRlbnRpZmllckFuZERpcmVjdGlvbih0aGlzLmxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIsIGRpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gcmVzdG9yYXRpb25JbmRleDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblBhZ2VMb2FkID0gYXN5bmMgKF9ldmVudCkgPT4ge1xuICAgIGF3YWl0IG5leHRNaWNyb3Rhc2soKTtcbiAgICB0aGlzLnBhZ2VMb2FkZWQgPSB0cnVlO1xuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIHNob3VsZEhhbmRsZVBvcFN0YXRlKCkge1xuICAgIC8vIFNhZmFyaSBkaXNwYXRjaGVzIGEgcG9wc3RhdGUgZXZlbnQgYWZ0ZXIgd2luZG93J3MgbG9hZCBldmVudCwgaWdub3JlIGl0XG4gICAgcmV0dXJuIHRoaXMucGFnZUlzTG9hZGVkKClcbiAgfVxuXG4gIHBhZ2VJc0xvYWRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlTG9hZGVkIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gXCJjb21wbGV0ZVwiXG4gIH1cbn1cblxuY2xhc3MgTGlua1ByZWZldGNoT2JzZXJ2ZXIge1xuICBzdGFydGVkID0gZmFsc2VcbiAgI3ByZWZldGNoZWRMaW5rID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBldmVudFRhcmdldCkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXQ7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAodGhpcy5zdGFydGVkKSByZXR1cm5cblxuICAgIGlmICh0aGlzLmV2ZW50VGFyZ2V0LnJlYWR5U3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIHRoaXMuI2VuYWJsZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNlbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICghdGhpcy5zdGFydGVkKSByZXR1cm5cblxuICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy4jdHJ5VG9QcmVmZXRjaFJlcXVlc3QsIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLiNjYW5jZWxSZXF1ZXN0SWZPYnNvbGV0ZSwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1mZXRjaC1yZXF1ZXN0XCIsIHRoaXMuI3RyeVRvVXNlUHJlZmV0Y2hlZFJlcXVlc3QsIHRydWUpO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICB9XG5cbiAgI2VuYWJsZSA9ICgpID0+IHtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMuI3RyeVRvUHJlZmV0Y2hSZXF1ZXN0LCB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy4jY2FuY2VsUmVxdWVzdElmT2Jzb2xldGUsIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0dXJibzpiZWZvcmUtZmV0Y2gtcmVxdWVzdFwiLCB0aGlzLiN0cnlUb1VzZVByZWZldGNoZWRSZXF1ZXN0LCB0cnVlKTtcbiAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICB9XG5cbiAgI3RyeVRvUHJlZmV0Y2hSZXF1ZXN0ID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGdldE1ldGFDb250ZW50KFwidHVyYm8tcHJlZmV0Y2hcIikgPT09IFwiZmFsc2VcIikgcmV0dXJuXG5cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgaXNMaW5rID0gdGFyZ2V0Lm1hdGNoZXMgJiYgdGFyZ2V0Lm1hdGNoZXMoXCJhW2hyZWZdOm5vdChbdGFyZ2V0Xj1fXSk6bm90KFtkb3dubG9hZF0pXCIpO1xuXG4gICAgaWYgKGlzTGluayAmJiB0aGlzLiNpc1ByZWZldGNoYWJsZSh0YXJnZXQpKSB7XG4gICAgICBjb25zdCBsaW5rID0gdGFyZ2V0O1xuICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRMb2NhdGlvbkZvckxpbmsobGluayk7XG5cbiAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmNhblByZWZldGNoUmVxdWVzdFRvTG9jYXRpb24obGluaywgbG9jYXRpb24pKSB7XG4gICAgICAgIHRoaXMuI3ByZWZldGNoZWRMaW5rID0gbGluaztcblxuICAgICAgICBjb25zdCBmZXRjaFJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgRmV0Y2hNZXRob2QuZ2V0LFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIG5ldyBVUkxTZWFyY2hQYXJhbXMoKSxcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKTtcblxuICAgICAgICBwcmVmZXRjaENhY2hlLnNldExhdGVyKGxvY2F0aW9uLnRvU3RyaW5nKCksIGZldGNoUmVxdWVzdCwgdGhpcy4jY2FjaGVUdGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICNjYW5jZWxSZXF1ZXN0SWZPYnNvbGV0ZSA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuI3ByZWZldGNoZWRMaW5rKSB0aGlzLiNjYW5jZWxQcmVmZXRjaFJlcXVlc3QoKTtcbiAgfVxuXG4gICNjYW5jZWxQcmVmZXRjaFJlcXVlc3QgPSAoKSA9PiB7XG4gICAgcHJlZmV0Y2hDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuI3ByZWZldGNoZWRMaW5rID0gbnVsbDtcbiAgfVxuXG4gICN0cnlUb1VzZVByZWZldGNoZWRSZXF1ZXN0ID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSBcIkZPUk1cIiAmJiBldmVudC5kZXRhaWwuZmV0Y2hPcHRpb25zLm1ldGhvZCA9PT0gXCJnZXRcIikge1xuICAgICAgY29uc3QgY2FjaGVkID0gcHJlZmV0Y2hDYWNoZS5nZXQoZXZlbnQuZGV0YWlsLnVybC50b1N0cmluZygpKTtcblxuICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAvLyBVc2VyIGNsaWNrZWQgbGluaywgdXNlIGNhY2hlIHJlc3BvbnNlXG4gICAgICAgIGV2ZW50LmRldGFpbC5mZXRjaFJlcXVlc3QgPSBjYWNoZWQ7XG4gICAgICB9XG5cbiAgICAgIHByZWZldGNoQ2FjaGUuY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgbGluayA9IHJlcXVlc3QudGFyZ2V0O1xuXG4gICAgcmVxdWVzdC5oZWFkZXJzW1wiWC1TZWMtUHVycG9zZVwiXSA9IFwicHJlZmV0Y2hcIjtcblxuICAgIGNvbnN0IHR1cmJvRnJhbWUgPSBsaW5rLmNsb3Nlc3QoXCJ0dXJiby1mcmFtZVwiKTtcbiAgICBjb25zdCB0dXJib0ZyYW1lVGFyZ2V0ID0gbGluay5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIpIHx8IHR1cmJvRnJhbWU/LmdldEF0dHJpYnV0ZShcInRhcmdldFwiKSB8fCB0dXJib0ZyYW1lPy5pZDtcblxuICAgIGlmICh0dXJib0ZyYW1lVGFyZ2V0ICYmIHR1cmJvRnJhbWVUYXJnZXQgIT09IFwiX3RvcFwiKSB7XG4gICAgICByZXF1ZXN0LmhlYWRlcnNbXCJUdXJiby1GcmFtZVwiXSA9IHR1cmJvRnJhbWVUYXJnZXQ7XG4gICAgfVxuICB9XG5cbiAgLy8gRmV0Y2ggcmVxdWVzdCBpbnRlcmZhY2VcblxuICByZXF1ZXN0U3VjY2VlZGVkV2l0aFJlc3BvbnNlKCkge31cblxuICByZXF1ZXN0U3RhcnRlZChmZXRjaFJlcXVlc3QpIHt9XG5cbiAgcmVxdWVzdEVycm9yZWQoZmV0Y2hSZXF1ZXN0KSB7fVxuXG4gIHJlcXVlc3RGaW5pc2hlZChmZXRjaFJlcXVlc3QpIHt9XG5cbiAgcmVxdWVzdFByZXZlbnRlZEhhbmRsaW5nUmVzcG9uc2UoZmV0Y2hSZXF1ZXN0LCBmZXRjaFJlc3BvbnNlKSB7fVxuXG4gIHJlcXVlc3RGYWlsZWRXaXRoUmVzcG9uc2UoZmV0Y2hSZXF1ZXN0LCBmZXRjaFJlc3BvbnNlKSB7fVxuXG4gIGdldCAjY2FjaGVUdGwoKSB7XG4gICAgcmV0dXJuIE51bWJlcihnZXRNZXRhQ29udGVudChcInR1cmJvLXByZWZldGNoLWNhY2hlLXRpbWVcIikpIHx8IGNhY2hlVHRsXG4gIH1cblxuICAjaXNQcmVmZXRjaGFibGUobGluaykge1xuICAgIGNvbnN0IGhyZWYgPSBsaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cbiAgICBpZiAoIWhyZWYpIHJldHVybiBmYWxzZVxuXG4gICAgaWYgKHVuZmV0Y2hhYmxlTGluayhsaW5rKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGxpbmtUb1RoZVNhbWVQYWdlKGxpbmspKSByZXR1cm4gZmFsc2VcbiAgICBpZiAobGlua09wdHNPdXQobGluaykpIHJldHVybiBmYWxzZVxuICAgIGlmIChub25TYWZlTGluayhsaW5rKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGV2ZW50UHJldmVudGVkKGxpbmspKSByZXR1cm4gZmFsc2VcblxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuY29uc3QgdW5mZXRjaGFibGVMaW5rID0gKGxpbmspID0+IHtcbiAgcmV0dXJuIGxpbmsub3JpZ2luICE9PSBkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4gfHwgIVtcImh0dHA6XCIsIFwiaHR0cHM6XCJdLmluY2x1ZGVzKGxpbmsucHJvdG9jb2wpIHx8IGxpbmsuaGFzQXR0cmlidXRlKFwidGFyZ2V0XCIpXG59O1xuXG5jb25zdCBsaW5rVG9UaGVTYW1lUGFnZSA9IChsaW5rKSA9PiB7XG4gIHJldHVybiAobGluay5wYXRobmFtZSArIGxpbmsuc2VhcmNoID09PSBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArIGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCkgfHwgbGluay5ocmVmLnN0YXJ0c1dpdGgoXCIjXCIpXG59O1xuXG5jb25zdCBsaW5rT3B0c091dCA9IChsaW5rKSA9PiB7XG4gIGlmIChsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tcHJlZmV0Y2hcIikgPT09IFwiZmFsc2VcIikgcmV0dXJuIHRydWVcbiAgaWYgKGxpbmsuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJib1wiKSA9PT0gXCJmYWxzZVwiKSByZXR1cm4gdHJ1ZVxuXG4gIGNvbnN0IHR1cmJvUHJlZmV0Y2hQYXJlbnQgPSBmaW5kQ2xvc2VzdFJlY3Vyc2l2ZWx5KGxpbmssIFwiW2RhdGEtdHVyYm8tcHJlZmV0Y2hdXCIpO1xuICBpZiAodHVyYm9QcmVmZXRjaFBhcmVudCAmJiB0dXJib1ByZWZldGNoUGFyZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tcHJlZmV0Y2hcIikgPT09IFwiZmFsc2VcIikgcmV0dXJuIHRydWVcblxuICByZXR1cm4gZmFsc2Vcbn07XG5cbmNvbnN0IG5vblNhZmVMaW5rID0gKGxpbmspID0+IHtcbiAgY29uc3QgdHVyYm9NZXRob2QgPSBsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tbWV0aG9kXCIpO1xuICBpZiAodHVyYm9NZXRob2QgJiYgdHVyYm9NZXRob2QudG9Mb3dlckNhc2UoKSAhPT0gXCJnZXRcIikgcmV0dXJuIHRydWVcblxuICBpZiAoaXNVSlMobGluaykpIHJldHVybiB0cnVlXG4gIGlmIChsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tY29uZmlybVwiKSkgcmV0dXJuIHRydWVcbiAgaWYgKGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1zdHJlYW1cIikpIHJldHVybiB0cnVlXG5cbiAgcmV0dXJuIGZhbHNlXG59O1xuXG5jb25zdCBpc1VKUyA9IChsaW5rKSA9PiB7XG4gIHJldHVybiBsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtcmVtb3RlXCIpIHx8IGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS1iZWhhdmlvclwiKSB8fCBsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtY29uZmlybVwiKSB8fCBsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtbWV0aG9kXCIpXG59O1xuXG5jb25zdCBldmVudFByZXZlbnRlZCA9IChsaW5rKSA9PiB7XG4gIGNvbnN0IGV2ZW50ID0gZGlzcGF0Y2goXCJ0dXJibzpiZWZvcmUtcHJlZmV0Y2hcIiwgeyB0YXJnZXQ6IGxpbmssIGNhbmNlbGFibGU6IHRydWUgfSk7XG4gIHJldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkXG59O1xuXG5jbGFzcyBOYXZpZ2F0b3Ige1xuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgfVxuXG4gIHByb3Bvc2VWaXNpdChsb2NhdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKHRoaXMuZGVsZWdhdGUuYWxsb3dzVmlzaXRpbmdMb2NhdGlvbldpdGhBY3Rpb24obG9jYXRpb24sIG9wdGlvbnMuYWN0aW9uKSkge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS52aXNpdFByb3Bvc2VkVG9Mb2NhdGlvbihsb2NhdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRWaXNpdChsb2NhdGFibGUsIHJlc3RvcmF0aW9uSWRlbnRpZmllciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5jdXJyZW50VmlzaXQgPSBuZXcgVmlzaXQodGhpcywgZXhwYW5kVVJMKGxvY2F0YWJsZSksIHJlc3RvcmF0aW9uSWRlbnRpZmllciwge1xuICAgICAgcmVmZXJyZXI6IHRoaXMubG9jYXRpb24sXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50VmlzaXQuc3RhcnQoKTtcbiAgfVxuXG4gIHN1Ym1pdEZvcm0oZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5mb3JtU3VibWlzc2lvbiA9IG5ldyBGb3JtU3VibWlzc2lvbih0aGlzLCBmb3JtLCBzdWJtaXR0ZXIsIHRydWUpO1xuXG4gICAgdGhpcy5mb3JtU3VibWlzc2lvbi5zdGFydCgpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5mb3JtU3VibWlzc2lvbikge1xuICAgICAgdGhpcy5mb3JtU3VibWlzc2lvbi5zdG9wKCk7XG4gICAgICBkZWxldGUgdGhpcy5mb3JtU3VibWlzc2lvbjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50VmlzaXQpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpc2l0LmNhbmNlbCgpO1xuICAgICAgZGVsZXRlIHRoaXMuY3VycmVudFZpc2l0O1xuICAgIH1cbiAgfVxuXG4gIGdldCBhZGFwdGVyKCkge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmFkYXB0ZXJcbiAgfVxuXG4gIGdldCB2aWV3KCkge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLnZpZXdcbiAgfVxuXG4gIGdldCByb290TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5zbmFwc2hvdC5yb290TG9jYXRpb25cbiAgfVxuXG4gIGdldCBoaXN0b3J5KCkge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmhpc3RvcnlcbiAgfVxuXG4gIC8vIEZvcm0gc3VibWlzc2lvbiBkZWxlZ2F0ZVxuXG4gIGZvcm1TdWJtaXNzaW9uU3RhcnRlZChmb3JtU3VibWlzc2lvbikge1xuICAgIC8vIE5vdCBhbGwgYWRhcHRlcnMgaW1wbGVtZW50IGZvcm1TdWJtaXNzaW9uU3RhcnRlZFxuICAgIGlmICh0eXBlb2YgdGhpcy5hZGFwdGVyLmZvcm1TdWJtaXNzaW9uU3RhcnRlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aGlzLmFkYXB0ZXIuZm9ybVN1Ym1pc3Npb25TdGFydGVkKGZvcm1TdWJtaXNzaW9uKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmb3JtU3VibWlzc2lvblN1Y2NlZWRlZFdpdGhSZXNwb25zZShmb3JtU3VibWlzc2lvbiwgZmV0Y2hSZXNwb25zZSkge1xuICAgIGlmIChmb3JtU3VibWlzc2lvbiA9PSB0aGlzLmZvcm1TdWJtaXNzaW9uKSB7XG4gICAgICBjb25zdCByZXNwb25zZUhUTUwgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLnJlc3BvbnNlSFRNTDtcbiAgICAgIGlmIChyZXNwb25zZUhUTUwpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkQ2FjaGVTbmFwc2hvdCA9IGZvcm1TdWJtaXNzaW9uLmlzU2FmZTtcbiAgICAgICAgaWYgKCFzaG91bGRDYWNoZVNuYXBzaG90KSB7XG4gICAgICAgICAgdGhpcy52aWV3LmNsZWFyU25hcHNob3RDYWNoZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBzdGF0dXNDb2RlLCByZWRpcmVjdGVkIH0gPSBmZXRjaFJlc3BvbnNlO1xuICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLiNnZXRBY3Rpb25Gb3JGb3JtU3VibWlzc2lvbihmb3JtU3VibWlzc2lvbiwgZmV0Y2hSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHZpc2l0T3B0aW9ucyA9IHtcbiAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgc2hvdWxkQ2FjaGVTbmFwc2hvdCxcbiAgICAgICAgICByZXNwb25zZTogeyBzdGF0dXNDb2RlLCByZXNwb25zZUhUTUwsIHJlZGlyZWN0ZWQgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb3Bvc2VWaXNpdChmZXRjaFJlc3BvbnNlLmxvY2F0aW9uLCB2aXNpdE9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZvcm1TdWJtaXNzaW9uRmFpbGVkV2l0aFJlc3BvbnNlKGZvcm1TdWJtaXNzaW9uLCBmZXRjaFJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVzcG9uc2VIVE1MID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5yZXNwb25zZUhUTUw7XG5cbiAgICBpZiAocmVzcG9uc2VIVE1MKSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IFBhZ2VTbmFwc2hvdC5mcm9tSFRNTFN0cmluZyhyZXNwb25zZUhUTUwpO1xuICAgICAgaWYgKGZldGNoUmVzcG9uc2Uuc2VydmVyRXJyb3IpIHtcbiAgICAgICAgYXdhaXQgdGhpcy52aWV3LnJlbmRlckVycm9yKHNuYXBzaG90LCB0aGlzLmN1cnJlbnRWaXNpdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVuZGVyUGFnZShzbmFwc2hvdCwgZmFsc2UsIHRydWUsIHRoaXMuY3VycmVudFZpc2l0KTtcbiAgICAgIH1cbiAgICAgIGlmKCFzbmFwc2hvdC5zaG91bGRQcmVzZXJ2ZVNjcm9sbFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMudmlldy5zY3JvbGxUb1RvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy52aWV3LmNsZWFyU25hcHNob3RDYWNoZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1TdWJtaXNzaW9uRXJyb3JlZChmb3JtU3VibWlzc2lvbiwgZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfVxuXG4gIGZvcm1TdWJtaXNzaW9uRmluaXNoZWQoZm9ybVN1Ym1pc3Npb24pIHtcbiAgICAvLyBOb3QgYWxsIGFkYXB0ZXJzIGltcGxlbWVudCBmb3JtU3VibWlzc2lvbkZpbmlzaGVkXG4gICAgaWYgKHR5cGVvZiB0aGlzLmFkYXB0ZXIuZm9ybVN1Ym1pc3Npb25GaW5pc2hlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aGlzLmFkYXB0ZXIuZm9ybVN1Ym1pc3Npb25GaW5pc2hlZChmb3JtU3VibWlzc2lvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gVmlzaXQgZGVsZWdhdGVcblxuICB2aXNpdFN0YXJ0ZWQodmlzaXQpIHtcbiAgICB0aGlzLmRlbGVnYXRlLnZpc2l0U3RhcnRlZCh2aXNpdCk7XG4gIH1cblxuICB2aXNpdENvbXBsZXRlZCh2aXNpdCkge1xuICAgIHRoaXMuZGVsZWdhdGUudmlzaXRDb21wbGV0ZWQodmlzaXQpO1xuICB9XG5cbiAgbG9jYXRpb25XaXRoQWN0aW9uSXNTYW1lUGFnZShsb2NhdGlvbiwgYWN0aW9uKSB7XG4gICAgY29uc3QgYW5jaG9yID0gZ2V0QW5jaG9yKGxvY2F0aW9uKTtcbiAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gZ2V0QW5jaG9yKHRoaXMudmlldy5sYXN0UmVuZGVyZWRMb2NhdGlvbik7XG4gICAgY29uc3QgaXNSZXN0b3JhdGlvblRvVG9wID0gYWN0aW9uID09PSBcInJlc3RvcmVcIiAmJiB0eXBlb2YgYW5jaG9yID09PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIGFjdGlvbiAhPT0gXCJyZXBsYWNlXCIgJiZcbiAgICAgIGdldFJlcXVlc3RVUkwobG9jYXRpb24pID09PSBnZXRSZXF1ZXN0VVJMKHRoaXMudmlldy5sYXN0UmVuZGVyZWRMb2NhdGlvbikgJiZcbiAgICAgIChpc1Jlc3RvcmF0aW9uVG9Ub3AgfHwgKGFuY2hvciAhPSBudWxsICYmIGFuY2hvciAhPT0gY3VycmVudEFuY2hvcikpXG4gICAgKVxuICB9XG5cbiAgdmlzaXRTY3JvbGxlZFRvU2FtZVBhZ2VMb2NhdGlvbihvbGRVUkwsIG5ld1VSTCkge1xuICAgIHRoaXMuZGVsZWdhdGUudmlzaXRTY3JvbGxlZFRvU2FtZVBhZ2VMb2NhdGlvbihvbGRVUkwsIG5ld1VSTCk7XG4gIH1cblxuICAvLyBWaXNpdHNcblxuICBnZXQgbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5sb2NhdGlvblxuICB9XG5cbiAgZ2V0IHJlc3RvcmF0aW9uSWRlbnRpZmllcigpIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LnJlc3RvcmF0aW9uSWRlbnRpZmllclxuICB9XG5cbiAgI2dldEFjdGlvbkZvckZvcm1TdWJtaXNzaW9uKGZvcm1TdWJtaXNzaW9uLCBmZXRjaFJlc3BvbnNlKSB7XG4gICAgY29uc3QgeyBzdWJtaXR0ZXIsIGZvcm1FbGVtZW50IH0gPSBmb3JtU3VibWlzc2lvbjtcbiAgICByZXR1cm4gZ2V0VmlzaXRBY3Rpb24oc3VibWl0dGVyLCBmb3JtRWxlbWVudCkgfHwgdGhpcy4jZ2V0RGVmYXVsdEFjdGlvbihmZXRjaFJlc3BvbnNlKVxuICB9XG5cbiAgI2dldERlZmF1bHRBY3Rpb24oZmV0Y2hSZXNwb25zZSkge1xuICAgIGNvbnN0IHNhbWVMb2NhdGlvblJlZGlyZWN0ID0gZmV0Y2hSZXNwb25zZS5yZWRpcmVjdGVkICYmIGZldGNoUmVzcG9uc2UubG9jYXRpb24uaHJlZiA9PT0gdGhpcy5sb2NhdGlvbj8uaHJlZjtcbiAgICByZXR1cm4gc2FtZUxvY2F0aW9uUmVkaXJlY3QgPyBcInJlcGxhY2VcIiA6IFwiYWR2YW5jZVwiXG4gIH1cbn1cblxuY29uc3QgUGFnZVN0YWdlID0ge1xuICBpbml0aWFsOiAwLFxuICBsb2FkaW5nOiAxLFxuICBpbnRlcmFjdGl2ZTogMixcbiAgY29tcGxldGU6IDNcbn07XG5cbmNsYXNzIFBhZ2VPYnNlcnZlciB7XG4gIHN0YWdlID0gUGFnZVN0YWdlLmluaXRpYWxcbiAgc3RhcnRlZCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhZ2UgPT0gUGFnZVN0YWdlLmluaXRpYWwpIHtcbiAgICAgICAgdGhpcy5zdGFnZSA9IFBhZ2VTdGFnZS5sb2FkaW5nO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgdGhpcy5pbnRlcnByZXRSZWFkeVN0YXRlLCBmYWxzZSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgdGhpcy5wYWdlV2lsbFVubG9hZCwgZmFsc2UpO1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIHRoaXMuaW50ZXJwcmV0UmVhZHlTdGF0ZSwgZmFsc2UpO1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIHRoaXMucGFnZVdpbGxVbmxvYWQsIGZhbHNlKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGludGVycHJldFJlYWR5U3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZWFkeVN0YXRlIH0gPSB0aGlzO1xuICAgIGlmIChyZWFkeVN0YXRlID09IFwiaW50ZXJhY3RpdmVcIikge1xuICAgICAgdGhpcy5wYWdlSXNJbnRlcmFjdGl2ZSgpO1xuICAgIH0gZWxzZSBpZiAocmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgIHRoaXMucGFnZUlzQ29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICBwYWdlSXNJbnRlcmFjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5zdGFnZSA9PSBQYWdlU3RhZ2UubG9hZGluZykge1xuICAgICAgdGhpcy5zdGFnZSA9IFBhZ2VTdGFnZS5pbnRlcmFjdGl2ZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUucGFnZUJlY2FtZUludGVyYWN0aXZlKCk7XG4gICAgfVxuICB9XG5cbiAgcGFnZUlzQ29tcGxldGUoKSB7XG4gICAgdGhpcy5wYWdlSXNJbnRlcmFjdGl2ZSgpO1xuICAgIGlmICh0aGlzLnN0YWdlID09IFBhZ2VTdGFnZS5pbnRlcmFjdGl2ZSkge1xuICAgICAgdGhpcy5zdGFnZSA9IFBhZ2VTdGFnZS5jb21wbGV0ZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUucGFnZUxvYWRlZCgpO1xuICAgIH1cbiAgfVxuXG4gIHBhZ2VXaWxsVW5sb2FkID0gKCkgPT4ge1xuICAgIHRoaXMuZGVsZWdhdGUucGFnZVdpbGxVbmxvYWQoKTtcbiAgfVxuXG4gIGdldCByZWFkeVN0YXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5yZWFkeVN0YXRlXG4gIH1cbn1cblxuY2xhc3MgU2Nyb2xsT2JzZXJ2ZXIge1xuICBzdGFydGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwsIGZhbHNlKTtcbiAgICAgIHRoaXMub25TY3JvbGwoKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwsIGZhbHNlKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG9uU2Nyb2xsID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlUG9zaXRpb24oeyB4OiB3aW5kb3cucGFnZVhPZmZzZXQsIHk6IHdpbmRvdy5wYWdlWU9mZnNldCB9KTtcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICB1cGRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIHRoaXMuZGVsZWdhdGUuc2Nyb2xsUG9zaXRpb25DaGFuZ2VkKHBvc2l0aW9uKTtcbiAgfVxufVxuXG5jbGFzcyBTdHJlYW1NZXNzYWdlUmVuZGVyZXIge1xuICByZW5kZXIoeyBmcmFnbWVudCB9KSB7XG4gICAgQmFyZG8ucHJlc2VydmluZ1Blcm1hbmVudEVsZW1lbnRzKHRoaXMsIGdldFBlcm1hbmVudEVsZW1lbnRNYXBGb3JGcmFnbWVudChmcmFnbWVudCksICgpID0+IHtcbiAgICAgIHdpdGhBdXRvZm9jdXNGcm9tRnJhZ21lbnQoZnJhZ21lbnQsICgpID0+IHtcbiAgICAgICAgd2l0aFByZXNlcnZlZEZvY3VzKCgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQmFyZG8gZGVsZWdhdGVcblxuICBlbnRlcmluZ0JhcmRvKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50LCBuZXdQZXJtYW5lbnRFbGVtZW50KSB7XG4gICAgbmV3UGVybWFuZW50RWxlbWVudC5yZXBsYWNlV2l0aChjdXJyZW50UGVybWFuZW50RWxlbWVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG5cbiAgbGVhdmluZ0JhcmRvKCkge31cbn1cblxuZnVuY3Rpb24gZ2V0UGVybWFuZW50RWxlbWVudE1hcEZvckZyYWdtZW50KGZyYWdtZW50KSB7XG4gIGNvbnN0IHBlcm1hbmVudEVsZW1lbnRzSW5Eb2N1bWVudCA9IHF1ZXJ5UGVybWFuZW50RWxlbWVudHNBbGwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgY29uc3QgcGVybWFuZW50RWxlbWVudE1hcCA9IHt9O1xuICBmb3IgKGNvbnN0IHBlcm1hbmVudEVsZW1lbnRJbkRvY3VtZW50IG9mIHBlcm1hbmVudEVsZW1lbnRzSW5Eb2N1bWVudCkge1xuICAgIGNvbnN0IHsgaWQgfSA9IHBlcm1hbmVudEVsZW1lbnRJbkRvY3VtZW50O1xuXG4gICAgZm9yIChjb25zdCBzdHJlYW1FbGVtZW50IG9mIGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0dXJiby1zdHJlYW1cIikpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJblN0cmVhbSA9IGdldFBlcm1hbmVudEVsZW1lbnRCeUlkKHN0cmVhbUVsZW1lbnQudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQsIGlkKTtcblxuICAgICAgaWYgKGVsZW1lbnRJblN0cmVhbSkge1xuICAgICAgICBwZXJtYW5lbnRFbGVtZW50TWFwW2lkXSA9IFtwZXJtYW5lbnRFbGVtZW50SW5Eb2N1bWVudCwgZWxlbWVudEluU3RyZWFtXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGVybWFuZW50RWxlbWVudE1hcFxufVxuXG5hc3luYyBmdW5jdGlvbiB3aXRoQXV0b2ZvY3VzRnJvbUZyYWdtZW50KGZyYWdtZW50LCBjYWxsYmFjaykge1xuICBjb25zdCBnZW5lcmF0ZWRJRCA9IGB0dXJiby1zdHJlYW0tYXV0b2ZvY3VzLSR7dXVpZCgpfWA7XG4gIGNvbnN0IHR1cmJvU3RyZWFtcyA9IGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0dXJiby1zdHJlYW1cIik7XG4gIGNvbnN0IGVsZW1lbnRXaXRoQXV0b2ZvY3VzID0gZmlyc3RBdXRvZm9jdXNhYmxlRWxlbWVudEluU3RyZWFtcyh0dXJib1N0cmVhbXMpO1xuICBsZXQgd2lsbEF1dG9mb2N1c0lkID0gbnVsbDtcblxuICBpZiAoZWxlbWVudFdpdGhBdXRvZm9jdXMpIHtcbiAgICBpZiAoZWxlbWVudFdpdGhBdXRvZm9jdXMuaWQpIHtcbiAgICAgIHdpbGxBdXRvZm9jdXNJZCA9IGVsZW1lbnRXaXRoQXV0b2ZvY3VzLmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWxsQXV0b2ZvY3VzSWQgPSBnZW5lcmF0ZWRJRDtcbiAgICB9XG5cbiAgICBlbGVtZW50V2l0aEF1dG9mb2N1cy5pZCA9IHdpbGxBdXRvZm9jdXNJZDtcbiAgfVxuXG4gIGNhbGxiYWNrKCk7XG4gIGF3YWl0IG5leHRSZXBhaW50KCk7XG5cbiAgY29uc3QgaGFzTm9BY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PSBudWxsIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT0gZG9jdW1lbnQuYm9keTtcblxuICBpZiAoaGFzTm9BY3RpdmVFbGVtZW50ICYmIHdpbGxBdXRvZm9jdXNJZCkge1xuICAgIGNvbnN0IGVsZW1lbnRUb0F1dG9mb2N1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHdpbGxBdXRvZm9jdXNJZCk7XG5cbiAgICBpZiAoZWxlbWVudElzRm9jdXNhYmxlKGVsZW1lbnRUb0F1dG9mb2N1cykpIHtcbiAgICAgIGVsZW1lbnRUb0F1dG9mb2N1cy5mb2N1cygpO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudFRvQXV0b2ZvY3VzICYmIGVsZW1lbnRUb0F1dG9mb2N1cy5pZCA9PSBnZW5lcmF0ZWRJRCkge1xuICAgICAgZWxlbWVudFRvQXV0b2ZvY3VzLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB3aXRoUHJlc2VydmVkRm9jdXMoY2FsbGJhY2spIHtcbiAgY29uc3QgW2FjdGl2ZUVsZW1lbnRCZWZvcmVSZW5kZXIsIGFjdGl2ZUVsZW1lbnRBZnRlclJlbmRlcl0gPSBhd2FpdCBhcm91bmQoY2FsbGJhY2ssICgpID0+IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gIGNvbnN0IHJlc3RvcmVGb2N1c1RvID0gYWN0aXZlRWxlbWVudEJlZm9yZVJlbmRlciAmJiBhY3RpdmVFbGVtZW50QmVmb3JlUmVuZGVyLmlkO1xuXG4gIGlmIChyZXN0b3JlRm9jdXNUbykge1xuICAgIGNvbnN0IGVsZW1lbnRUb0ZvY3VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVzdG9yZUZvY3VzVG8pO1xuXG4gICAgaWYgKGVsZW1lbnRJc0ZvY3VzYWJsZShlbGVtZW50VG9Gb2N1cykgJiYgZWxlbWVudFRvRm9jdXMgIT0gYWN0aXZlRWxlbWVudEFmdGVyUmVuZGVyKSB7XG4gICAgICBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaXJzdEF1dG9mb2N1c2FibGVFbGVtZW50SW5TdHJlYW1zKG5vZGVMaXN0T2ZTdHJlYW1FbGVtZW50cykge1xuICBmb3IgKGNvbnN0IHN0cmVhbUVsZW1lbnQgb2Ygbm9kZUxpc3RPZlN0cmVhbUVsZW1lbnRzKSB7XG4gICAgY29uc3QgZWxlbWVudFdpdGhBdXRvZm9jdXMgPSBxdWVyeUF1dG9mb2N1c2FibGVFbGVtZW50KHN0cmVhbUVsZW1lbnQudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQpO1xuXG4gICAgaWYgKGVsZW1lbnRXaXRoQXV0b2ZvY3VzKSByZXR1cm4gZWxlbWVudFdpdGhBdXRvZm9jdXNcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmNsYXNzIFN0cmVhbU9ic2VydmVyIHtcbiAgc291cmNlcyA9IG5ldyBTZXQoKVxuICAjc3RhcnRlZCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuI3N0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuI3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1mZXRjaC1yZXNwb25zZVwiLCB0aGlzLmluc3BlY3RGZXRjaFJlc3BvbnNlLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy4jc3RhcnRlZCkge1xuICAgICAgdGhpcy4jc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1mZXRjaC1yZXNwb25zZVwiLCB0aGlzLmluc3BlY3RGZXRjaFJlc3BvbnNlLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgY29ubmVjdFN0cmVhbVNvdXJjZShzb3VyY2UpIHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtU291cmNlSXNDb25uZWN0ZWQoc291cmNlKSkge1xuICAgICAgdGhpcy5zb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmVjZWl2ZU1lc3NhZ2VFdmVudCwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKSB7XG4gICAgaWYgKHRoaXMuc3RyZWFtU291cmNlSXNDb25uZWN0ZWQoc291cmNlKSkge1xuICAgICAgdGhpcy5zb3VyY2VzLmRlbGV0ZShzb3VyY2UpO1xuICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmVjZWl2ZU1lc3NhZ2VFdmVudCwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIHN0cmVhbVNvdXJjZUlzQ29ubmVjdGVkKHNvdXJjZSkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZXMuaGFzKHNvdXJjZSlcbiAgfVxuXG4gIGluc3BlY3RGZXRjaFJlc3BvbnNlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBmZXRjaFJlc3BvbnNlRnJvbUV2ZW50KGV2ZW50KTtcbiAgICBpZiAocmVzcG9uc2UgJiYgZmV0Y2hSZXNwb25zZUlzU3RyZWFtKHJlc3BvbnNlKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucmVjZWl2ZU1lc3NhZ2VSZXNwb25zZShyZXNwb25zZSk7XG4gICAgfVxuICB9XG5cbiAgcmVjZWl2ZU1lc3NhZ2VFdmVudCA9IChldmVudCkgPT4ge1xuICAgIGlmICh0aGlzLiNzdGFydGVkICYmIHR5cGVvZiBldmVudC5kYXRhID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMucmVjZWl2ZU1lc3NhZ2VIVE1MKGV2ZW50LmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlY2VpdmVNZXNzYWdlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UucmVzcG9uc2VIVE1MO1xuICAgIGlmIChodG1sKSB7XG4gICAgICB0aGlzLnJlY2VpdmVNZXNzYWdlSFRNTChodG1sKTtcbiAgICB9XG4gIH1cblxuICByZWNlaXZlTWVzc2FnZUhUTUwoaHRtbCkge1xuICAgIHRoaXMuZGVsZWdhdGUucmVjZWl2ZWRNZXNzYWdlRnJvbVN0cmVhbShTdHJlYW1NZXNzYWdlLndyYXAoaHRtbCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZldGNoUmVzcG9uc2VGcm9tRXZlbnQoZXZlbnQpIHtcbiAgY29uc3QgZmV0Y2hSZXNwb25zZSA9IGV2ZW50LmRldGFpbD8uZmV0Y2hSZXNwb25zZTtcbiAgaWYgKGZldGNoUmVzcG9uc2UgaW5zdGFuY2VvZiBGZXRjaFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGZldGNoUmVzcG9uc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBmZXRjaFJlc3BvbnNlSXNTdHJlYW0ocmVzcG9uc2UpIHtcbiAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5jb250ZW50VHlwZSA/PyBcIlwiO1xuICByZXR1cm4gY29udGVudFR5cGUuc3RhcnRzV2l0aChTdHJlYW1NZXNzYWdlLmNvbnRlbnRUeXBlKVxufVxuXG5jbGFzcyBFcnJvclJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICBzdGF0aWMgcmVuZGVyRWxlbWVudChjdXJyZW50RWxlbWVudCwgbmV3RWxlbWVudCkge1xuICAgIGNvbnN0IHsgZG9jdW1lbnRFbGVtZW50LCBib2R5IH0gPSBkb2N1bWVudDtcblxuICAgIGRvY3VtZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQobmV3RWxlbWVudCwgYm9keSk7XG4gIH1cblxuICBhc3luYyByZW5kZXIoKSB7XG4gICAgdGhpcy5yZXBsYWNlSGVhZEFuZEJvZHkoKTtcbiAgICB0aGlzLmFjdGl2YXRlU2NyaXB0RWxlbWVudHMoKTtcbiAgfVxuXG4gIHJlcGxhY2VIZWFkQW5kQm9keSgpIHtcbiAgICBjb25zdCB7IGRvY3VtZW50RWxlbWVudCwgaGVhZCB9ID0gZG9jdW1lbnQ7XG4gICAgZG9jdW1lbnRFbGVtZW50LnJlcGxhY2VDaGlsZCh0aGlzLm5ld0hlYWQsIGhlYWQpO1xuICAgIHRoaXMucmVuZGVyRWxlbWVudCh0aGlzLmN1cnJlbnRFbGVtZW50LCB0aGlzLm5ld0VsZW1lbnQpO1xuICB9XG5cbiAgYWN0aXZhdGVTY3JpcHRFbGVtZW50cygpIHtcbiAgICBmb3IgKGNvbnN0IHJlcGxhY2VhYmxlRWxlbWVudCBvZiB0aGlzLnNjcmlwdEVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBwYXJlbnROb2RlID0gcmVwbGFjZWFibGVFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gYWN0aXZhdGVTY3JpcHRFbGVtZW50KHJlcGxhY2VhYmxlRWxlbWVudCk7XG4gICAgICAgIHBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsZW1lbnQsIHJlcGxhY2VhYmxlRWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IG5ld0hlYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3U25hcHNob3QuaGVhZFNuYXBzaG90LmVsZW1lbnRcbiAgfVxuXG4gIGdldCBzY3JpcHRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIilcbiAgfVxufVxuXG4vLyBiYXNlIElJRkUgdG8gZGVmaW5lIGlkaW9tb3JwaFxudmFyIElkaW9tb3JwaCA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBBTkQgTk9XIElUIEJFR0lOUy4uLlxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGxldCBFTVBUWV9TRVQgPSBuZXcgU2V0KCk7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBjb25maWd1cmF0aW9uIHZhbHVlcywgdXBkYXRhYmxlIGJ5IHVzZXJzIG5vd1xuICAgICAgICBsZXQgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBtb3JwaFN0eWxlOiBcIm91dGVySFRNTFwiLFxuICAgICAgICAgICAgY2FsbGJhY2tzIDoge1xuICAgICAgICAgICAgICAgIGJlZm9yZU5vZGVBZGRlZDogbm9PcCxcbiAgICAgICAgICAgICAgICBhZnRlck5vZGVBZGRlZDogbm9PcCxcbiAgICAgICAgICAgICAgICBiZWZvcmVOb2RlTW9ycGhlZDogbm9PcCxcbiAgICAgICAgICAgICAgICBhZnRlck5vZGVNb3JwaGVkOiBub09wLFxuICAgICAgICAgICAgICAgIGJlZm9yZU5vZGVSZW1vdmVkOiBub09wLFxuICAgICAgICAgICAgICAgIGFmdGVyTm9kZVJlbW92ZWQ6IG5vT3AsXG4gICAgICAgICAgICAgICAgYmVmb3JlQXR0cmlidXRlVXBkYXRlZDogbm9PcCxcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWQ6IHtcbiAgICAgICAgICAgICAgICBzdHlsZTogJ21lcmdlJyxcbiAgICAgICAgICAgICAgICBzaG91bGRQcmVzZXJ2ZTogZnVuY3Rpb24gKGVsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWx0LmdldEF0dHJpYnV0ZShcImltLXByZXNlcnZlXCIpID09PSBcInRydWVcIjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNob3VsZFJlQXBwZW5kOiBmdW5jdGlvbiAoZWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbHQuZ2V0QXR0cmlidXRlKFwiaW0tcmUtYXBwZW5kXCIpID09PSBcInRydWVcIjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNob3VsZFJlbW92ZTogbm9PcCxcbiAgICAgICAgICAgICAgICBhZnRlckhlYWRNb3JwaGVkOiBub09wLFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gQ29yZSBNb3JwaGluZyBBbGdvcml0aG0gLSBtb3JwaCwgbW9ycGhOb3JtYWxpemVkQ29udGVudCwgbW9ycGhPbGROb2RlVG8sIG1vcnBoQ2hpbGRyZW5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBmdW5jdGlvbiBtb3JwaChvbGROb2RlLCBuZXdDb250ZW50LCBjb25maWcgPSB7fSkge1xuXG4gICAgICAgICAgICBpZiAob2xkTm9kZSBpbnN0YW5jZW9mIERvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgb2xkTm9kZSA9IG9sZE5vZGUuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IHBhcnNlQ29udGVudChuZXdDb250ZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWRDb250ZW50ID0gbm9ybWFsaXplQ29udGVudChuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgbGV0IGN0eCA9IGNyZWF0ZU1vcnBoQ29udGV4dChvbGROb2RlLCBub3JtYWxpemVkQ29udGVudCwgY29uZmlnKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1vcnBoTm9ybWFsaXplZENvbnRlbnQob2xkTm9kZSwgbm9ybWFsaXplZENvbnRlbnQsIGN0eCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtb3JwaE5vcm1hbGl6ZWRDb250ZW50KG9sZE5vZGUsIG5vcm1hbGl6ZWROZXdDb250ZW50LCBjdHgpIHtcbiAgICAgICAgICAgIGlmIChjdHguaGVhZC5ibG9jaykge1xuICAgICAgICAgICAgICAgIGxldCBvbGRIZWFkID0gb2xkTm9kZS5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0hlYWQgPSBub3JtYWxpemVkTmV3Q29udGVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgICAgICAgICAgICAgaWYgKG9sZEhlYWQgJiYgbmV3SGVhZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvbWlzZXMgPSBoYW5kbGVIZWFkRWxlbWVudChuZXdIZWFkLCBvbGRIZWFkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGhlYWQgcHJvbWlzZXMgcmVzb2x2ZSwgY2FsbCBtb3JwaCBhZ2FpbiwgaWdub3JpbmcgdGhlIGhlYWQgdGFnXG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoTm9ybWFsaXplZENvbnRlbnQob2xkTm9kZSwgbm9ybWFsaXplZE5ld0NvbnRlbnQsIE9iamVjdC5hc3NpZ24oY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jazogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdHgubW9ycGhTdHlsZSA9PT0gXCJpbm5lckhUTUxcIikge1xuXG4gICAgICAgICAgICAgICAgLy8gaW5uZXJIVE1MLCBzbyB3ZSBhcmUgb25seSB1cGRhdGluZyB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBtb3JwaENoaWxkcmVuKG5vcm1hbGl6ZWROZXdDb250ZW50LCBvbGROb2RlLCBjdHgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGROb2RlLmNoaWxkcmVuO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN0eC5tb3JwaFN0eWxlID09PSBcIm91dGVySFRNTFwiIHx8IGN0eC5tb3JwaFN0eWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgZmluZCB0aGUgYmVzdCBlbGVtZW50IG1hdGNoIGluIHRoZSBuZXcgY29udGVudCwgbW9ycGggdGhhdCwgYW5kIG1lcmdlIGl0cyBzaWJsaW5nc1xuICAgICAgICAgICAgICAgIC8vIGludG8gZWl0aGVyIHNpZGUgb2YgdGhlIGJlc3QgbWF0Y2hcbiAgICAgICAgICAgICAgICBsZXQgYmVzdE1hdGNoID0gZmluZEJlc3ROb2RlTWF0Y2gobm9ybWFsaXplZE5ld0NvbnRlbnQsIG9sZE5vZGUsIGN0eCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdGFzaCB0aGUgc2libGluZ3MgdGhhdCB3aWxsIG5lZWQgdG8gYmUgaW5zZXJ0ZWQgb24gZWl0aGVyIHNpZGUgb2YgdGhlIGJlc3QgbWF0Y2hcbiAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNTaWJsaW5nID0gYmVzdE1hdGNoPy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRTaWJsaW5nID0gYmVzdE1hdGNoPy5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgIC8vIG1vcnBoIGl0XG4gICAgICAgICAgICAgICAgbGV0IG1vcnBoZWROb2RlID0gbW9ycGhPbGROb2RlVG8ob2xkTm9kZSwgYmVzdE1hdGNoLCBjdHgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJlc3RNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSB3YXMgYSBiZXN0IG1hdGNoLCBtZXJnZSB0aGUgc2libGluZ3MgaW4gdG9vIGFuZCByZXR1cm4gdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdob2xlIGJ1bmNoXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnNlcnRTaWJsaW5ncyhwcmV2aW91c1NpYmxpbmcsIG1vcnBoZWROb2RlLCBuZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIG5vdGhpbmcgd2FzIGFkZGVkIHRvIHRoZSBET01cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIkRvIG5vdCB1bmRlcnN0YW5kIGhvdyB0byBtb3JwaCBzdHlsZSBcIiArIGN0eC5tb3JwaFN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHBvc3NpYmxlQWN0aXZlRWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gY3R4XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaWdub3JlVmFsdWVPZkFjdGl2ZUVsZW1lbnQocG9zc2libGVBY3RpdmVFbGVtZW50LCBjdHgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdHguaWdub3JlQWN0aXZlVmFsdWUgJiYgcG9zc2libGVBY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIHBvc3NpYmxlQWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gb2xkTm9kZSByb290IG5vZGUgdG8gbWVyZ2UgY29udGVudCBpbnRvXG4gICAgICAgICAqIEBwYXJhbSBuZXdDb250ZW50IG5ldyBjb250ZW50IHRvIG1lcmdlXG4gICAgICAgICAqIEBwYXJhbSBjdHggdGhlIG1lcmdlIGNvbnRleHRcbiAgICAgICAgICogQHJldHVybnMge0VsZW1lbnR9IHRoZSBlbGVtZW50IHRoYXQgZW5kZWQgdXAgaW4gdGhlIERPTVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbW9ycGhPbGROb2RlVG8ob2xkTm9kZSwgbmV3Q29udGVudCwgY3R4KSB7XG4gICAgICAgICAgICBpZiAoY3R4Lmlnbm9yZUFjdGl2ZSAmJiBvbGROb2RlID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA7IGVsc2UgaWYgKG5ld0NvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVSZW1vdmVkKG9sZE5vZGUpID09PSBmYWxzZSkgcmV0dXJuIG9sZE5vZGU7XG5cbiAgICAgICAgICAgICAgICBvbGROb2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGN0eC5jYWxsYmFja3MuYWZ0ZXJOb2RlUmVtb3ZlZChvbGROb2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzU29mdE1hdGNoKG9sZE5vZGUsIG5ld0NvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jYWxsYmFja3MuYmVmb3JlTm9kZVJlbW92ZWQob2xkTm9kZSkgPT09IGZhbHNlKSByZXR1cm4gb2xkTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNhbGxiYWNrcy5iZWZvcmVOb2RlQWRkZWQobmV3Q29udGVudCkgPT09IGZhbHNlKSByZXR1cm4gb2xkTm9kZTtcblxuICAgICAgICAgICAgICAgIG9sZE5vZGUucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQobmV3Q29udGVudCwgb2xkTm9kZSk7XG4gICAgICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVBZGRlZChuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZVJlbW92ZWQob2xkTm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0NvbnRlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVNb3JwaGVkKG9sZE5vZGUsIG5ld0NvbnRlbnQpID09PSBmYWxzZSkgcmV0dXJuIG9sZE5vZGU7XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkTm9kZSBpbnN0YW5jZW9mIEhUTUxIZWFkRWxlbWVudCAmJiBjdHguaGVhZC5pZ25vcmUpIDsgZWxzZSBpZiAob2xkTm9kZSBpbnN0YW5jZW9mIEhUTUxIZWFkRWxlbWVudCAmJiBjdHguaGVhZC5zdHlsZSAhPT0gXCJtb3JwaFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUhlYWRFbGVtZW50KG5ld0NvbnRlbnQsIG9sZE5vZGUsIGN0eCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3luY05vZGVGcm9tKG5ld0NvbnRlbnQsIG9sZE5vZGUsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWdub3JlVmFsdWVPZkFjdGl2ZUVsZW1lbnQob2xkTm9kZSwgY3R4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhDaGlsZHJlbihuZXdDb250ZW50LCBvbGROb2RlLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5jYWxsYmFja3MuYWZ0ZXJOb2RlTW9ycGhlZChvbGROb2RlLCBuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBjb3JlIGFsZ29yaXRobSBmb3IgbWF0Y2hpbmcgdXAgY2hpbGRyZW4uICBUaGUgaWRlYSBpcyB0byB1c2UgaWQgc2V0cyB0byB0cnkgdG8gbWF0Y2ggdXBcbiAgICAgICAgICogbm9kZXMgYXMgZmFpdGhmdWxseSBhcyBwb3NzaWJsZS4gIFdlIGdyZWVkaWx5IG1hdGNoLCB3aGljaCBhbGxvd3MgdXMgdG8ga2VlcCB0aGUgYWxnb3JpdGhtIGZhc3QsIGJ1dFxuICAgICAgICAgKiBieSB1c2luZyBpZCBzZXRzLCB3ZSBhcmUgYWJsZSB0byBiZXR0ZXIgbWF0Y2ggdXAgd2l0aCBjb250ZW50IGRlZXBlciBpbiB0aGUgRE9NLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCYXNpYyBhbGdvcml0aG0gaXMsIGZvciBlYWNoIG5vZGUgaW4gdGhlIG5ldyBjb250ZW50OlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIGlmIHdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBvbGQgcGFyZW50LCBhcHBlbmQgdGhlIG5ldyBjb250ZW50XG4gICAgICAgICAqIC0gaWYgdGhlIG5ldyBjb250ZW50IGhhcyBhbiBpZCBzZXQgbWF0Y2ggd2l0aCB0aGUgY3VycmVudCBpbnNlcnRpb24gcG9pbnQsIG1vcnBoXG4gICAgICAgICAqIC0gc2VhcmNoIGZvciBhbiBpZCBzZXQgbWF0Y2hcbiAgICAgICAgICogLSBpZiBpZCBzZXQgbWF0Y2ggZm91bmQsIG1vcnBoXG4gICAgICAgICAqIC0gb3RoZXJ3aXNlIHNlYXJjaCBmb3IgYSBcInNvZnRcIiBtYXRjaFxuICAgICAgICAgKiAtIGlmIGEgc29mdCBtYXRjaCBpcyBmb3VuZCwgbW9ycGhcbiAgICAgICAgICogLSBvdGhlcndpc2UsIHByZXBlbmQgdGhlIG5ldyBub2RlIGJlZm9yZSB0aGUgY3VycmVudCBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHR3byBzZWFyY2ggYWxnb3JpdGhtcyB0ZXJtaW5hdGUgaWYgY29tcGV0aW5nIG5vZGUgbWF0Y2hlcyBhcHBlYXIgdG8gb3V0d2VpZ2ggd2hhdCBjYW4gYmUgYWNoaWV2ZWRcbiAgICAgICAgICogd2l0aCB0aGUgY3VycmVudCBub2RlLiAgU2VlIGZpbmRJZFNldE1hdGNoKCkgYW5kIGZpbmRTb2Z0TWF0Y2goKSBmb3IgZGV0YWlscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBuZXdQYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IG9mIHRoZSBuZXcgY29udGVudFxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnQgfSBvbGRQYXJlbnQgdGhlIG9sZCBjb250ZW50IHRoYXQgd2UgYXJlIG1lcmdpbmcgdGhlIG5ldyBjb250ZW50IGludG9cbiAgICAgICAgICogQHBhcmFtIGN0eCB0aGUgbWVyZ2UgY29udGV4dFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbW9ycGhDaGlsZHJlbihuZXdQYXJlbnQsIG9sZFBhcmVudCwgY3R4KSB7XG5cbiAgICAgICAgICAgIGxldCBuZXh0TmV3Q2hpbGQgPSBuZXdQYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGxldCBpbnNlcnRpb25Qb2ludCA9IG9sZFBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgbGV0IG5ld0NoaWxkO1xuXG4gICAgICAgICAgICAvLyBydW4gdGhyb3VnaCBhbGwgdGhlIG5ldyBjb250ZW50XG4gICAgICAgICAgICB3aGlsZSAobmV4dE5ld0NoaWxkKSB7XG5cbiAgICAgICAgICAgICAgICBuZXdDaGlsZCA9IG5leHROZXdDaGlsZDtcbiAgICAgICAgICAgICAgICBuZXh0TmV3Q2hpbGQgPSBuZXdDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBleGl0aW5nIHBhcmVudCdzIGNoaWxkcmVuLCBqdXN0IGFwcGVuZFxuICAgICAgICAgICAgICAgIGlmIChpbnNlcnRpb25Qb2ludCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVBZGRlZChuZXdDaGlsZCkgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgb2xkUGFyZW50LmFwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVBZGRlZChuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUlkc0Zyb21Db25zaWRlcmF0aW9uKGN0eCwgbmV3Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgY3VycmVudCBub2RlIGhhcyBhbiBpZCBzZXQgbWF0Y2ggdGhlbiBtb3JwaFxuICAgICAgICAgICAgICAgIGlmIChpc0lkU2V0TWF0Y2gobmV3Q2hpbGQsIGluc2VydGlvblBvaW50LCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vcnBoT2xkTm9kZVRvKGluc2VydGlvblBvaW50LCBuZXdDaGlsZCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0aW9uUG9pbnQgPSBpbnNlcnRpb25Qb2ludC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzZWFyY2ggZm9yd2FyZCBpbiB0aGUgZXhpc3Rpbmcgb2xkIGNoaWxkcmVuIGZvciBhbiBpZCBzZXQgbWF0Y2hcbiAgICAgICAgICAgICAgICBsZXQgaWRTZXRNYXRjaCA9IGZpbmRJZFNldE1hdGNoKG5ld1BhcmVudCwgb2xkUGFyZW50LCBuZXdDaGlsZCwgaW5zZXJ0aW9uUG9pbnQsIGN0eCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBmb3VuZCBhIHBvdGVudGlhbCBtYXRjaCwgcmVtb3ZlIHRoZSBub2RlcyB1bnRpbCB0aGF0IHBvaW50IGFuZCBtb3JwaFxuICAgICAgICAgICAgICAgIGlmIChpZFNldE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydGlvblBvaW50ID0gcmVtb3ZlTm9kZXNCZXR3ZWVuKGluc2VydGlvblBvaW50LCBpZFNldE1hdGNoLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBtb3JwaE9sZE5vZGVUbyhpZFNldE1hdGNoLCBuZXdDaGlsZCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG5vIGlkIHNldCBtYXRjaCBmb3VuZCwgc28gc2NhbiBmb3J3YXJkIGZvciBhIHNvZnQgbWF0Y2ggZm9yIHRoZSBjdXJyZW50IG5vZGVcbiAgICAgICAgICAgICAgICBsZXQgc29mdE1hdGNoID0gZmluZFNvZnRNYXRjaChuZXdQYXJlbnQsIG9sZFBhcmVudCwgbmV3Q2hpbGQsIGluc2VydGlvblBvaW50LCBjdHgpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgZm91bmQgYSBzb2Z0IG1hdGNoIGZvciB0aGUgY3VycmVudCBub2RlLCBtb3JwaFxuICAgICAgICAgICAgICAgIGlmIChzb2Z0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0aW9uUG9pbnQgPSByZW1vdmVOb2Rlc0JldHdlZW4oaW5zZXJ0aW9uUG9pbnQsIHNvZnRNYXRjaCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhPbGROb2RlVG8oc29mdE1hdGNoLCBuZXdDaGlsZCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFiYW5kb24gYWxsIGhvcGUgb2YgbW9ycGhpbmcsIGp1c3QgaW5zZXJ0IHRoZSBuZXcgY2hpbGQgYmVmb3JlIHRoZSBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgICAgICAgICAvLyBhbmQgbW92ZSBvblxuICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVBZGRlZChuZXdDaGlsZCkgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBvbGRQYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVBZGRlZChuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBuZXdDaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgcmVtYWluaW5nIG9sZCBub2RlcyB0aGF0IGRpZG4ndCBtYXRjaCB1cCB3aXRoIG5ldyBjb250ZW50XG4gICAgICAgICAgICB3aGlsZSAoaW5zZXJ0aW9uUG9pbnQgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgICAgIGxldCB0ZW1wTm9kZSA9IGluc2VydGlvblBvaW50O1xuICAgICAgICAgICAgICAgIGluc2VydGlvblBvaW50ID0gaW5zZXJ0aW9uUG9pbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZSh0ZW1wTm9kZSwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gQXR0cmlidXRlIFN5bmNpbmcgQ29kZVxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBhdHRyIHtTdHJpbmd9IHRoZSBhdHRyaWJ1dGUgdG8gYmUgbXV0YXRlZFxuICAgICAgICAgKiBAcGFyYW0gdG8ge0VsZW1lbnR9IHRoZSBlbGVtZW50IHRoYXQgaXMgZ29pbmcgdG8gYmUgdXBkYXRlZFxuICAgICAgICAgKiBAcGFyYW0gdXBkYXRlVHlwZSB7KFwidXBkYXRlXCJ8XCJyZW1vdmVcIil9XG4gICAgICAgICAqIEBwYXJhbSBjdHggdGhlIG1lcmdlIGNvbnRleHRcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGF0dHJpYnV0ZSBzaG91bGQgYmUgaWdub3JlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpZ25vcmVBdHRyaWJ1dGUoYXR0ciwgdG8sIHVwZGF0ZVR5cGUsIGN0eCkge1xuICAgICAgICAgICAgaWYoYXR0ciA9PT0gJ3ZhbHVlJyAmJiBjdHguaWdub3JlQWN0aXZlVmFsdWUgJiYgdG8gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN0eC5jYWxsYmFja3MuYmVmb3JlQXR0cmlidXRlVXBkYXRlZChhdHRyLCB0bywgdXBkYXRlVHlwZSkgPT09IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN5bmNzIGEgZ2l2ZW4gbm9kZSB3aXRoIGFub3RoZXIgbm9kZSwgY29weWluZyBvdmVyIGFsbCBhdHRyaWJ1dGVzIGFuZFxuICAgICAgICAgKiBpbm5lciBlbGVtZW50IHN0YXRlIGZyb20gdGhlICdmcm9tJyBub2RlIHRvIHRoZSAndG8nIG5vZGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBmcm9tIHRoZSBlbGVtZW50IHRvIGNvcHkgYXR0cmlidXRlcyAmIHN0YXRlIGZyb21cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSB0byB0aGUgZWxlbWVudCB0byBjb3B5IGF0dHJpYnV0ZXMgJiBzdGF0ZSB0b1xuICAgICAgICAgKiBAcGFyYW0gY3R4IHRoZSBtZXJnZSBjb250ZXh0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzeW5jTm9kZUZyb20oZnJvbSwgdG8sIGN0eCkge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBmcm9tLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAvLyBpZiBpcyBhbiBlbGVtZW50IHR5cGUsIHN5bmMgdGhlIGF0dHJpYnV0ZXMgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIG5ldyBub2RlIGludG8gdGhlIG5ldyBub2RlXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gMSAvKiBlbGVtZW50IHR5cGUgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tQXR0cmlidXRlcyA9IGZyb20uYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICBjb25zdCB0b0F0dHJpYnV0ZXMgPSB0by5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZnJvbUF0dHJpYnV0ZSBvZiBmcm9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWdub3JlQXR0cmlidXRlKGZyb21BdHRyaWJ1dGUubmFtZSwgdG8sICd1cGRhdGUnLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodG8uZ2V0QXR0cmlidXRlKGZyb21BdHRyaWJ1dGUubmFtZSkgIT09IGZyb21BdHRyaWJ1dGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLnNldEF0dHJpYnV0ZShmcm9tQXR0cmlidXRlLm5hbWUsIGZyb21BdHRyaWJ1dGUudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgYmFja3dhcmRzIHRvIGF2b2lkIHNraXBwaW5nIG92ZXIgaXRlbXMgd2hlbiBhIGRlbGV0ZSBvY2N1cnNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdG9BdHRyaWJ1dGVzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvQXR0cmlidXRlID0gdG9BdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWdub3JlQXR0cmlidXRlKHRvQXR0cmlidXRlLm5hbWUsIHRvLCAncmVtb3ZlJywgY3R4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmcm9tLmhhc0F0dHJpYnV0ZSh0b0F0dHJpYnV0ZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8ucmVtb3ZlQXR0cmlidXRlKHRvQXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzeW5jIHRleHQgbm9kZXNcbiAgICAgICAgICAgIGlmICh0eXBlID09PSA4IC8qIGNvbW1lbnQgKi8gfHwgdHlwZSA9PT0gMyAvKiB0ZXh0ICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvLm5vZGVWYWx1ZSAhPT0gZnJvbS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG8ubm9kZVZhbHVlID0gZnJvbS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlnbm9yZVZhbHVlT2ZBY3RpdmVFbGVtZW50KHRvLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3luYyBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBzeW5jSW5wdXRWYWx1ZShmcm9tLCB0bywgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gZnJvbSB7RWxlbWVudH0gZWxlbWVudCB0byBzeW5jIHRoZSB2YWx1ZSBmcm9tXG4gICAgICAgICAqIEBwYXJhbSB0byB7RWxlbWVudH0gZWxlbWVudCB0byBzeW5jIHRoZSB2YWx1ZSB0b1xuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlTmFtZSB7U3RyaW5nfSB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICogQHBhcmFtIGN0eCB0aGUgbWVyZ2UgY29udGV4dFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3luY0Jvb2xlYW5BdHRyaWJ1dGUoZnJvbSwgdG8sIGF0dHJpYnV0ZU5hbWUsIGN0eCkge1xuICAgICAgICAgICAgaWYgKGZyb21bYXR0cmlidXRlTmFtZV0gIT09IHRvW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlnbm9yZVVwZGF0ZSA9IGlnbm9yZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCB0bywgJ3VwZGF0ZScsIGN0eCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9bYXR0cmlidXRlTmFtZV0gPSBmcm9tW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJvbVthdHRyaWJ1dGVOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8uc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGZyb21bYXR0cmlidXRlTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgdG8sICdyZW1vdmUnLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTkI6IG1hbnkgYm90aGFucyBkaWVkIHRvIGJyaW5nIHVzIGluZm9ybWF0aW9uOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgaHR0cHM6Ly9naXRodWIuY29tL3BhdHJpY2stc3RlZWxlLWlkZW0vbW9ycGhkb20vYmxvYi9tYXN0ZXIvc3JjL3NwZWNpYWxFbEhhbmRsZXJzLmpzXG4gICAgICAgICAqICBodHRwczovL2dpdGh1Yi5jb20vY2hvb2pzL25hbm9tb3JwaC9ibG9iL21hc3Rlci9saWIvbW9ycGguanNMMTEzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBmcm9tIHtFbGVtZW50fSB0aGUgZWxlbWVudCB0byBzeW5jIHRoZSBpbnB1dCB2YWx1ZSBmcm9tXG4gICAgICAgICAqIEBwYXJhbSB0byB7RWxlbWVudH0gdGhlIGVsZW1lbnQgdG8gc3luYyB0aGUgaW5wdXQgdmFsdWUgdG9cbiAgICAgICAgICogQHBhcmFtIGN0eCB0aGUgbWVyZ2UgY29udGV4dFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3luY0lucHV0VmFsdWUoZnJvbSwgdG8sIGN0eCkge1xuICAgICAgICAgICAgaWYgKGZyb20gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgdG8gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgZnJvbS50eXBlICE9PSAnZmlsZScpIHtcblxuICAgICAgICAgICAgICAgIGxldCBmcm9tVmFsdWUgPSBmcm9tLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCB0b1ZhbHVlID0gdG8udmFsdWU7XG5cbiAgICAgICAgICAgICAgICAvLyBzeW5jIGJvb2xlYW4gYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIHN5bmNCb29sZWFuQXR0cmlidXRlKGZyb20sIHRvLCAnY2hlY2tlZCcsIGN0eCk7XG4gICAgICAgICAgICAgICAgc3luY0Jvb2xlYW5BdHRyaWJ1dGUoZnJvbSwgdG8sICdkaXNhYmxlZCcsIGN0eCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZyb20uaGFzQXR0cmlidXRlKCd2YWx1ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWdub3JlQXR0cmlidXRlKCd2YWx1ZScsIHRvLCAncmVtb3ZlJywgY3R4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8udmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbVZhbHVlICE9PSB0b1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWdub3JlQXR0cmlidXRlKCd2YWx1ZScsIHRvLCAndXBkYXRlJywgY3R4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGZyb21WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by52YWx1ZSA9IGZyb21WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgc3luY0Jvb2xlYW5BdHRyaWJ1dGUoZnJvbSwgdG8sICdzZWxlY3RlZCcsIGN0eCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZyb20gaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50ICYmIHRvIGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tVmFsdWUgPSBmcm9tLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCB0b1ZhbHVlID0gdG8udmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlnbm9yZUF0dHJpYnV0ZSgndmFsdWUnLCB0bywgJ3VwZGF0ZScsIGN0eCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSB0b1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvLnZhbHVlID0gZnJvbVZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG8uZmlyc3RDaGlsZCAmJiB0by5maXJzdENoaWxkLm5vZGVWYWx1ZSAhPT0gZnJvbVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gZnJvbVZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gdGhlIEhFQUQgdGFnIGNhbiBiZSBoYW5kbGVkIHNwZWNpYWxseSwgZWl0aGVyIHcvIGEgJ21lcmdlJyBvciAnYXBwZW5kJyBzdHlsZVxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUhlYWRFbGVtZW50KG5ld0hlYWRUYWcsIGN1cnJlbnRIZWFkLCBjdHgpIHtcblxuICAgICAgICAgICAgbGV0IGFkZGVkID0gW107XG4gICAgICAgICAgICBsZXQgcmVtb3ZlZCA9IFtdO1xuICAgICAgICAgICAgbGV0IHByZXNlcnZlZCA9IFtdO1xuICAgICAgICAgICAgbGV0IG5vZGVzVG9BcHBlbmQgPSBbXTtcblxuICAgICAgICAgICAgbGV0IGhlYWRNZXJnZVN0eWxlID0gY3R4LmhlYWQuc3R5bGU7XG5cbiAgICAgICAgICAgIC8vIHB1dCBhbGwgbmV3IGhlYWQgZWxlbWVudHMgaW50byBhIE1hcCwgYnkgdGhlaXIgb3V0ZXJIVE1MXG4gICAgICAgICAgICBsZXQgc3JjVG9OZXdIZWFkTm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5ld0hlYWRDaGlsZCBvZiBuZXdIZWFkVGFnLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgc3JjVG9OZXdIZWFkTm9kZXMuc2V0KG5ld0hlYWRDaGlsZC5vdXRlckhUTUwsIG5ld0hlYWRDaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZvciBlYWNoIGVsdCBpbiB0aGUgY3VycmVudCBoZWFkXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnRIZWFkRWx0IG9mIGN1cnJlbnRIZWFkLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBoZWFkIGVsZW1lbnQgaXMgaW4gdGhlIG1hcFxuICAgICAgICAgICAgICAgIGxldCBpbk5ld0NvbnRlbnQgPSBzcmNUb05ld0hlYWROb2Rlcy5oYXMoY3VycmVudEhlYWRFbHQub3V0ZXJIVE1MKTtcbiAgICAgICAgICAgICAgICBsZXQgaXNSZUFwcGVuZGVkID0gY3R4LmhlYWQuc2hvdWxkUmVBcHBlbmQoY3VycmVudEhlYWRFbHQpO1xuICAgICAgICAgICAgICAgIGxldCBpc1ByZXNlcnZlZCA9IGN0eC5oZWFkLnNob3VsZFByZXNlcnZlKGN1cnJlbnRIZWFkRWx0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5OZXdDb250ZW50IHx8IGlzUHJlc2VydmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1JlQXBwZW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgY3VycmVudCB2ZXJzaW9uIGFuZCBsZXQgdGhlIG5ldyB2ZXJzaW9uIHJlcGxhY2UgaXQgYW5kIHJlLWV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChjdXJyZW50SGVhZEVsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGVsZW1lbnQgYWxyZWFkeSBleGlzdHMgYW5kIHNob3VsZCBub3QgYmUgcmUtYXBwZW5kZWQsIHNvIHJlbW92ZSBpdCBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmV3IGNvbnRlbnQgbWFwLCBwcmVzZXJ2aW5nIGl0IGluIHRoZSBET01cbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY1RvTmV3SGVhZE5vZGVzLmRlbGV0ZShjdXJyZW50SGVhZEVsdC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVkLnB1c2goY3VycmVudEhlYWRFbHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRNZXJnZVN0eWxlID09PSBcImFwcGVuZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgYXBwZW5kaW5nIGFuZCB0aGlzIGV4aXN0aW5nIGVsZW1lbnQgaXMgbm90IG5ldyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBpZiBhbmQgb25seSBpZiBpdCBpcyBtYXJrZWQgZm9yIHJlLWFwcGVuZCBkbyB3ZSBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVBcHBlbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChjdXJyZW50SGVhZEVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb0FwcGVuZC5wdXNoKGN1cnJlbnRIZWFkRWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBtZXJnZSwgd2UgcmVtb3ZlIHRoaXMgY29udGVudCBzaW5jZSBpdCBpcyBub3QgaW4gdGhlIG5ldyBoZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LmhlYWQuc2hvdWxkUmVtb3ZlKGN1cnJlbnRIZWFkRWx0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkLnB1c2goY3VycmVudEhlYWRFbHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQdXNoIHRoZSByZW1haW5pbmcgbmV3IGhlYWQgZWxlbWVudHMgaW4gdGhlIE1hcCBpbnRvIHRoZVxuICAgICAgICAgICAgLy8gbm9kZXMgdG8gYXBwZW5kIHRvIHRoZSBoZWFkIHRhZ1xuICAgICAgICAgICAgbm9kZXNUb0FwcGVuZC5wdXNoKC4uLnNyY1RvTmV3SGVhZE5vZGVzLnZhbHVlcygpKTtcblxuICAgICAgICAgICAgbGV0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5ld05vZGUgb2Ygbm9kZXNUb0FwcGVuZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdFbHQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChuZXdOb2RlLm91dGVySFRNTCkuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNhbGxiYWNrcy5iZWZvcmVOb2RlQWRkZWQobmV3RWx0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VsdC5ocmVmIHx8IG5ld0VsdC5zcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNvbHZlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFbHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlYWQuYXBwZW5kQ2hpbGQobmV3RWx0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVBZGRlZChuZXdFbHQpO1xuICAgICAgICAgICAgICAgICAgICBhZGRlZC5wdXNoKG5ld0VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIHJlbW92ZWQgZWxlbWVudHMsIGFmdGVyIHdlIGhhdmUgYXBwZW5kZWQgdGhlIG5ldyBlbGVtZW50cyB0byBhdm9pZFxuICAgICAgICAgICAgLy8gYWRkaXRpb25hbCBuZXR3b3JrIHJlcXVlc3RzIGZvciB0aGluZ3MgbGlrZSBzdHlsZSBzaGVldHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVtb3ZlZEVsZW1lbnQgb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVSZW1vdmVkKHJlbW92ZWRFbGVtZW50KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlYWQucmVtb3ZlQ2hpbGQocmVtb3ZlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZVJlbW92ZWQocmVtb3ZlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3R4LmhlYWQuYWZ0ZXJIZWFkTW9ycGhlZChjdXJyZW50SGVhZCwge2FkZGVkOiBhZGRlZCwga2VwdDogcHJlc2VydmVkLCByZW1vdmVkOiByZW1vdmVkfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBub09wKCkge1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICBEZWVwIG1lcmdlcyB0aGUgY29uZmlnIG9iamVjdCBhbmQgdGhlIElkaW9tb3JvcGguZGVmYXVsdHMgb2JqZWN0IHRvXG4gICAgICAgICAgcHJvZHVjZSBhIGZpbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtZXJnZURlZmF1bHRzKGNvbmZpZykge1xuICAgICAgICAgICAgbGV0IGZpbmFsQ29uZmlnID0ge307XG4gICAgICAgICAgICAvLyBjb3B5IHRvcCBsZXZlbCBzdHVmZiBpbnRvIGZpbmFsIGNvbmZpZ1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihmaW5hbENvbmZpZywgZGVmYXVsdHMpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihmaW5hbENvbmZpZywgY29uZmlnKTtcblxuICAgICAgICAgICAgLy8gY29weSBjYWxsYmFja3MgaW50byBmaW5hbCBjb25maWcgKGRvIHRoaXMgdG8gZGVlcCBtZXJnZSB0aGUgY2FsbGJhY2tzKVxuICAgICAgICAgICAgZmluYWxDb25maWcuY2FsbGJhY2tzID0ge307XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGZpbmFsQ29uZmlnLmNhbGxiYWNrcywgZGVmYXVsdHMuY2FsbGJhY2tzKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZmluYWxDb25maWcuY2FsbGJhY2tzLCBjb25maWcuY2FsbGJhY2tzKTtcblxuICAgICAgICAgICAgLy8gY29weSBoZWFkIGNvbmZpZyBpbnRvIGZpbmFsIGNvbmZpZyAgKGRvIHRoaXMgdG8gZGVlcCBtZXJnZSB0aGUgaGVhZClcbiAgICAgICAgICAgIGZpbmFsQ29uZmlnLmhlYWQgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZmluYWxDb25maWcuaGVhZCwgZGVmYXVsdHMuaGVhZCk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGZpbmFsQ29uZmlnLmhlYWQsIGNvbmZpZy5oZWFkKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbENvbmZpZztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU1vcnBoQ29udGV4dChvbGROb2RlLCBuZXdDb250ZW50LCBjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlRGVmYXVsdHMoY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBvbGROb2RlLFxuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQ6IG5ld0NvbnRlbnQsXG4gICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgICAgICAgICAgbW9ycGhTdHlsZTogY29uZmlnLm1vcnBoU3R5bGUsXG4gICAgICAgICAgICAgICAgaWdub3JlQWN0aXZlOiBjb25maWcuaWdub3JlQWN0aXZlLFxuICAgICAgICAgICAgICAgIGlnbm9yZUFjdGl2ZVZhbHVlOiBjb25maWcuaWdub3JlQWN0aXZlVmFsdWUsXG4gICAgICAgICAgICAgICAgaWRNYXA6IGNyZWF0ZUlkTWFwKG9sZE5vZGUsIG5ld0NvbnRlbnQpLFxuICAgICAgICAgICAgICAgIGRlYWRJZHM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IGNvbmZpZy5jYWxsYmFja3MsXG4gICAgICAgICAgICAgICAgaGVhZDogY29uZmlnLmhlYWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzSWRTZXRNYXRjaChub2RlMSwgbm9kZTIsIGN0eCkge1xuICAgICAgICAgICAgaWYgKG5vZGUxID09IG51bGwgfHwgbm9kZTIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlMS5ub2RlVHlwZSA9PT0gbm9kZTIubm9kZVR5cGUgJiYgbm9kZTEudGFnTmFtZSA9PT0gbm9kZTIudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlMS5pZCAhPT0gXCJcIiAmJiBub2RlMS5pZCA9PT0gbm9kZTIuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldElkSW50ZXJzZWN0aW9uQ291bnQoY3R4LCBub2RlMSwgbm9kZTIpID4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc1NvZnRNYXRjaChub2RlMSwgbm9kZTIpIHtcbiAgICAgICAgICAgIGlmIChub2RlMSA9PSBudWxsIHx8IG5vZGUyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm9kZTEubm9kZVR5cGUgPT09IG5vZGUyLm5vZGVUeXBlICYmIG5vZGUxLnRhZ05hbWUgPT09IG5vZGUyLnRhZ05hbWVcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGVzQmV0d2VlbihzdGFydEluY2x1c2l2ZSwgZW5kRXhjbHVzaXZlLCBjdHgpIHtcbiAgICAgICAgICAgIHdoaWxlIChzdGFydEluY2x1c2l2ZSAhPT0gZW5kRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBOb2RlID0gc3RhcnRJbmNsdXNpdmU7XG4gICAgICAgICAgICAgICAgc3RhcnRJbmNsdXNpdmUgPSBzdGFydEluY2x1c2l2ZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICByZW1vdmVOb2RlKHRlbXBOb2RlLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBlbmRFeGNsdXNpdmUpO1xuICAgICAgICAgICAgcmV0dXJuIGVuZEV4Y2x1c2l2ZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gU2NhbnMgZm9yd2FyZCBmcm9tIHRoZSBpbnNlcnRpb25Qb2ludCBpbiB0aGUgb2xkIHBhcmVudCBsb29raW5nIGZvciBhIHBvdGVudGlhbCBpZCBtYXRjaFxuICAgICAgICAvLyBmb3IgdGhlIG5ld0NoaWxkLiAgV2Ugc3RvcCBpZiB3ZSBmaW5kIGEgcG90ZW50aWFsIGlkIG1hdGNoIGZvciB0aGUgbmV3IGNoaWxkIE9SXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG90ZW50aWFsIGlkIG1hdGNoZXMgd2UgYXJlIGRpc2NhcmRpbmcgaXMgZ3JlYXRlciB0aGFuIHRoZVxuICAgICAgICAvLyBwb3RlbnRpYWwgaWQgbWF0Y2hlcyBmb3IgdGhlIG5ldyBjaGlsZFxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGZ1bmN0aW9uIGZpbmRJZFNldE1hdGNoKG5ld0NvbnRlbnQsIG9sZFBhcmVudCwgbmV3Q2hpbGQsIGluc2VydGlvblBvaW50LCBjdHgpIHtcblxuICAgICAgICAgICAgLy8gbWF4IGlkIG1hdGNoZXMgd2UgYXJlIHdpbGxpbmcgdG8gZGlzY2FyZCBpbiBvdXIgc2VhcmNoXG4gICAgICAgICAgICBsZXQgbmV3Q2hpbGRQb3RlbnRpYWxJZENvdW50ID0gZ2V0SWRJbnRlcnNlY3Rpb25Db3VudChjdHgsIG5ld0NoaWxkLCBvbGRQYXJlbnQpO1xuXG4gICAgICAgICAgICBsZXQgcG90ZW50aWFsTWF0Y2ggPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHNlYXJjaCBmb3J3YXJkIGlmIHRoZXJlIGlzIGEgcG9zc2liaWxpdHkgb2YgYW4gaWQgbWF0Y2hcbiAgICAgICAgICAgIGlmIChuZXdDaGlsZFBvdGVudGlhbElkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvdGVudGlhbE1hdGNoID0gaW5zZXJ0aW9uUG9pbnQ7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwb3NzaWJpbGl0eSBvZiBhbiBpZCBtYXRjaCwgc2NhbiBmb3J3YXJkXG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgcG90ZW50aWFsIGlkIG1hdGNoIGNvdW50IHdlIGFyZSBkaXNjYXJkaW5nICh0aGVcbiAgICAgICAgICAgICAgICAvLyBuZXdDaGlsZFBvdGVudGlhbElkQ291bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhpcyB0byBtYWtlIGl0IGxpa2VseVxuICAgICAgICAgICAgICAgIC8vIHdvcnRoIGl0KVxuICAgICAgICAgICAgICAgIGxldCBvdGhlck1hdGNoQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwb3RlbnRpYWxNYXRjaCAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBpZCBtYXRjaCwgcmV0dXJuIHRoZSBjdXJyZW50IHBvdGVudGlhbCBtYXRjaFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZFNldE1hdGNoKG5ld0NoaWxkLCBwb3RlbnRpYWxNYXRjaCwgY3R4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvdGVudGlhbE1hdGNoO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcHV0ZXIgdGhlIG90aGVyIHBvdGVudGlhbCBtYXRjaGVzIG9mIHRoaXMgbmV3IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJNYXRjaENvdW50ICs9IGdldElkSW50ZXJzZWN0aW9uQ291bnQoY3R4LCBwb3RlbnRpYWxNYXRjaCwgbmV3Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdGhlck1hdGNoQ291bnQgPiBuZXdDaGlsZFBvdGVudGlhbElkQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbW9yZSBwb3RlbnRpYWwgaWQgbWF0Y2hlcyBpbiBfb3RoZXJfIGNvbnRlbnQsIHdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgaGF2ZSBhIGdvb2QgY2FuZGlkYXRlIGZvciBhbiBpZCBtYXRjaCwgc28gcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWR2YW5jZWQgdG8gdGhlIG5leHQgb2xkIGNvbnRlbnQgY2hpbGRcbiAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsTWF0Y2ggPSBwb3RlbnRpYWxNYXRjaC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG90ZW50aWFsTWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8vIFNjYW5zIGZvcndhcmQgZnJvbSB0aGUgaW5zZXJ0aW9uUG9pbnQgaW4gdGhlIG9sZCBwYXJlbnQgbG9va2luZyBmb3IgYSBwb3RlbnRpYWwgc29mdCBtYXRjaFxuICAgICAgICAvLyBmb3IgdGhlIG5ld0NoaWxkLiAgV2Ugc3RvcCBpZiB3ZSBmaW5kIGEgcG90ZW50aWFsIHNvZnQgbWF0Y2ggZm9yIHRoZSBuZXcgY2hpbGQgT1JcbiAgICAgICAgLy8gaWYgd2UgZmluZCBhIHBvdGVudGlhbCBpZCBtYXRjaCBpbiB0aGUgb2xkIHBhcmVudHMgY2hpbGRyZW4gT1IgaWYgd2UgZmluZCB0d29cbiAgICAgICAgLy8gcG90ZW50aWFsIHNvZnQgbWF0Y2hlcyBmb3IgdGhlIG5leHQgdHdvIHBpZWNlcyBvZiBuZXcgY29udGVudFxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGZ1bmN0aW9uIGZpbmRTb2Z0TWF0Y2gobmV3Q29udGVudCwgb2xkUGFyZW50LCBuZXdDaGlsZCwgaW5zZXJ0aW9uUG9pbnQsIGN0eCkge1xuXG4gICAgICAgICAgICBsZXQgcG90ZW50aWFsU29mdE1hdGNoID0gaW5zZXJ0aW9uUG9pbnQ7XG4gICAgICAgICAgICBsZXQgbmV4dFNpYmxpbmcgPSBuZXdDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIGxldCBzaWJsaW5nU29mdE1hdGNoQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB3aGlsZSAocG90ZW50aWFsU29mdE1hdGNoICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgIGlmIChnZXRJZEludGVyc2VjdGlvbkNvdW50KGN0eCwgcG90ZW50aWFsU29mdE1hdGNoLCBuZXdDb250ZW50KSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGN1cnJlbnQgcG90ZW50aWFsIHNvZnQgbWF0Y2ggaGFzIGEgcG90ZW50aWFsIGlkIHNldCBtYXRjaCB3aXRoIHRoZSByZW1haW5pbmcgbmV3XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRlbnQgc28gYmFpbCBvdXQgb2YgbG9va2luZ1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgc29mdCBtYXRjaCB3aXRoIHRoZSBjdXJyZW50IG5vZGUsIHJldHVybiBpdFxuICAgICAgICAgICAgICAgIGlmIChpc1NvZnRNYXRjaChuZXdDaGlsZCwgcG90ZW50aWFsU29mdE1hdGNoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG90ZW50aWFsU29mdE1hdGNoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc1NvZnRNYXRjaChuZXh0U2libGluZywgcG90ZW50aWFsU29mdE1hdGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmV4dCBuZXcgbm9kZSBoYXMgYSBzb2Z0IG1hdGNoIHdpdGggdGhpcyBub2RlLCBzb1xuICAgICAgICAgICAgICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGNvdW50IG9mIGZ1dHVyZSBzb2Z0IG1hdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgc2libGluZ1NvZnRNYXRjaENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHR3byBmdXR1cmUgc29mdCBtYXRjaGVzLCBiYWlsIHRvIGFsbG93IHRoZSBzaWJsaW5ncyB0byBzb2Z0IG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgZG9uJ3QgY29uc3VtZSBmdXR1cmUgc29mdCBtYXRjaGVzIGZvciB0aGUgc2FrZSBvZiB0aGUgY3VycmVudCBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWJsaW5nU29mdE1hdGNoQ291bnQgPj0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhZHZhbmNlZCB0byB0aGUgbmV4dCBvbGQgY29udGVudCBjaGlsZFxuICAgICAgICAgICAgICAgIHBvdGVudGlhbFNvZnRNYXRjaCA9IHBvdGVudGlhbFNvZnRNYXRjaC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBvdGVudGlhbFNvZnRNYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlQ29udGVudChuZXdDb250ZW50KSB7XG4gICAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgc3ZncyB0byBhdm9pZCBmYWxzZS1wb3NpdGl2ZSBtYXRjaGVzIG9uIGhlYWQsIGV0Yy5cbiAgICAgICAgICAgIGxldCBjb250ZW50V2l0aFN2Z3NSZW1vdmVkID0gbmV3Q29udGVudC5yZXBsYWNlKC88c3ZnKFxcc1tePl0qPnw+KShbXFxzXFxTXSo/KTxcXC9zdmc+L2dpbSwgJycpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGUgbmV3Q29udGVudCBjb250YWlucyBhIGh0bWwsIGhlYWQgb3IgYm9keSB0YWcsIHdlIGNhbiBzaW1wbHkgcGFyc2UgaXQgdy9vIHdyYXBwaW5nXG4gICAgICAgICAgICBpZiAoY29udGVudFdpdGhTdmdzUmVtb3ZlZC5tYXRjaCgvPFxcL2h0bWw+LykgfHwgY29udGVudFdpdGhTdmdzUmVtb3ZlZC5tYXRjaCgvPFxcL2hlYWQ+LykgfHwgY29udGVudFdpdGhTdmdzUmVtb3ZlZC5tYXRjaCgvPFxcL2JvZHk+LykpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobmV3Q29udGVudCwgXCJ0ZXh0L2h0bWxcIik7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYSBmdWxsIEhUTUwgZG9jdW1lbnQsIHJldHVybiB0aGUgZG9jdW1lbnQgaXRzZWxmIGFzIHRoZSBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRXaXRoU3Znc1JlbW92ZWQubWF0Y2goLzxcXC9odG1sPi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuZ2VuZXJhdGVkQnlJZGlvbW9ycGggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgcmV0dXJuIHRoZSBodG1sIGVsZW1lbnQgYXMgdGhlIHBhcmVudCBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWxFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHRtbEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LmdlbmVyYXRlZEJ5SWRpb21vcnBoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodG1sRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBwYXJ0aWFsIEhUTUwsIHdyYXAgaXQgaW4gYSB0ZW1wbGF0ZSB0YWcgdG8gcHJvdmlkZSBhIHBhcmVudCBlbGVtZW50IGFuZCBhbHNvIHRvIGhlbHBcbiAgICAgICAgICAgICAgICAvLyBkZWFsIHdpdGggdG91Y2h5IHRhZ3MgbGlrZSB0ciwgdGJvZHksIGV0Yy5cbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKFwiPGJvZHk+PHRlbXBsYXRlPlwiICsgbmV3Q29udGVudCArIFwiPC90ZW1wbGF0ZT48L2JvZHk+XCIsIFwidGV4dC9odG1sXCIpO1xuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gcmVzcG9uc2VEb2MuYm9keS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgY29udGVudC5nZW5lcmF0ZWRCeUlkaW9tb3JwaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRlbnQobmV3Q29udGVudCkge1xuICAgICAgICAgICAgaWYgKG5ld0NvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIG5vaW5zcGVjdGlvbiBVbm5lY2Vzc2FyeUxvY2FsVmFyaWFibGVKU1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1bW15UGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR1bW15UGFyZW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdDb250ZW50LmdlbmVyYXRlZEJ5SWRpb21vcnBoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHRlbXBsYXRlIHRhZyBjcmVhdGVkIGJ5IGlkaW9tb3JwaCBwYXJzaW5nIGNhbiBzZXJ2ZSBhcyBhIGR1bW15IHBhcmVudFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdDb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdDb250ZW50IGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgICAgIC8vIGEgc2luZ2xlIG5vZGUgaXMgYWRkZWQgYXMgYSBjaGlsZCB0byBhIGR1bW15IHBhcmVudFxuICAgICAgICAgICAgICAgIGNvbnN0IGR1bW15UGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZHVtbXlQYXJlbnQuYXBwZW5kKG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkdW1teVBhcmVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWxsIG5vZGVzIGluIHRoZSBhcnJheSBvciBIVE1MRWxlbWVudCBjb2xsZWN0aW9uIGFyZSBjb25zb2xpZGF0ZWQgdW5kZXJcbiAgICAgICAgICAgICAgICAvLyBhIHNpbmdsZSBkdW1teSBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IGR1bW15UGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbHQgb2YgWy4uLm5ld0NvbnRlbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGR1bW15UGFyZW50LmFwcGVuZChlbHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZHVtbXlQYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbnNlcnRTaWJsaW5ncyhwcmV2aW91c1NpYmxpbmcsIG1vcnBoZWROb2RlLCBuZXh0U2libGluZykge1xuICAgICAgICAgICAgbGV0IHN0YWNrID0gW107XG4gICAgICAgICAgICBsZXQgYWRkZWQgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChwcmV2aW91c1NpYmxpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NpYmxpbmcgPSBwcmV2aW91c1NpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGFkZGVkLnB1c2gobm9kZSk7IC8vIHB1c2ggYWRkZWQgcHJlY2VkaW5nIHNpYmxpbmdzIG9uIGluIG9yZGVyIGFuZCBpbnNlcnRcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShub2RlLCBtb3JwaGVkTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRlZC5wdXNoKG1vcnBoZWROb2RlKTtcbiAgICAgICAgICAgIHdoaWxlIChuZXh0U2libGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgYWRkZWQucHVzaChuZXh0U2libGluZyk7IC8vIGhlcmUgd2UgYXJlIGdvaW5nIGluIG9yZGVyLCBzbyBwdXNoIG9uIGFzIHdlIHNjYW4sIHJhdGhlciB0aGFuIGFkZFxuICAgICAgICAgICAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHN0YWNrLnBvcCgpLCBtb3JwaGVkTm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWRkZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaW5kQmVzdE5vZGVNYXRjaChuZXdDb250ZW50LCBvbGROb2RlLCBjdHgpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbmV3Q29udGVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgbGV0IGJlc3RFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgc2NvcmUgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1Njb3JlID0gc2NvcmVFbGVtZW50KGN1cnJlbnRFbGVtZW50LCBvbGROb2RlLCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdTY29yZSA+IHNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlID0gbmV3U2NvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmVzdEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzY29yZUVsZW1lbnQobm9kZTEsIG5vZGUyLCBjdHgpIHtcbiAgICAgICAgICAgIGlmIChpc1NvZnRNYXRjaChub2RlMSwgbm9kZTIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC41ICsgZ2V0SWRJbnRlcnNlY3Rpb25Db3VudChjdHgsIG5vZGUxLCBub2RlMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUodGVtcE5vZGUsIGN0eCkge1xuICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCB0ZW1wTm9kZSk7XG4gICAgICAgICAgICBpZiAoY3R4LmNhbGxiYWNrcy5iZWZvcmVOb2RlUmVtb3ZlZCh0ZW1wTm9kZSkgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRlbXBOb2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVSZW1vdmVkKHRlbXBOb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gSUQgU2V0IEZ1bmN0aW9uc1xuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgZnVuY3Rpb24gaXNJZEluQ29uc2lkZXJhdGlvbihjdHgsIGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gIWN0eC5kZWFkSWRzLmhhcyhpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpZElzV2l0aGluTm9kZShjdHgsIGlkLCB0YXJnZXROb2RlKSB7XG4gICAgICAgICAgICBsZXQgaWRTZXQgPSBjdHguaWRNYXAuZ2V0KHRhcmdldE5vZGUpIHx8IEVNUFRZX1NFVDtcbiAgICAgICAgICAgIHJldHVybiBpZFNldC5oYXMoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBub2RlKSB7XG4gICAgICAgICAgICBsZXQgaWRTZXQgPSBjdHguaWRNYXAuZ2V0KG5vZGUpIHx8IEVNUFRZX1NFVDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRTZXQpIHtcbiAgICAgICAgICAgICAgICBjdHguZGVhZElkcy5hZGQoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0SWRJbnRlcnNlY3Rpb25Db3VudChjdHgsIG5vZGUxLCBub2RlMikge1xuICAgICAgICAgICAgbGV0IHNvdXJjZVNldCA9IGN0eC5pZE1hcC5nZXQobm9kZTEpIHx8IEVNUFRZX1NFVDtcbiAgICAgICAgICAgIGxldCBtYXRjaENvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2Ygc291cmNlU2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gYSBwb3RlbnRpYWwgbWF0Y2ggaXMgYW4gaWQgaW4gdGhlIHNvdXJjZSBhbmQgcG90ZW50aWFsSWRzU2V0LCBidXRcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGhhcyBub3QgYWxyZWFkeSBiZWVuIG1lcmdlZCBpbnRvIHRoZSBET01cbiAgICAgICAgICAgICAgICBpZiAoaXNJZEluQ29uc2lkZXJhdGlvbihjdHgsIGlkKSAmJiBpZElzV2l0aGluTm9kZShjdHgsIGlkLCBub2RlMikpIHtcbiAgICAgICAgICAgICAgICAgICAgKyttYXRjaENvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXRjaENvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgYm90dG9tIHVwIGFsZ29yaXRobSB0aGF0IGZpbmRzIGFsbCBlbGVtZW50cyB3aXRoIGlkcyBpbnNpZGUgb2YgdGhlIG5vZGVcbiAgICAgICAgICogYXJndW1lbnQgYW5kIHBvcHVsYXRlcyBpZCBzZXRzIGZvciB0aG9zZSBub2RlcyBhbmQgYWxsIHRoZWlyIHBhcmVudHMsIGdlbmVyYXRpbmdcbiAgICAgICAgICogYSBzZXQgb2YgaWRzIGNvbnRhaW5lZCB3aXRoaW4gYWxsIG5vZGVzIGZvciB0aGUgZW50aXJlIGhpZXJhcmNoeSBpbiB0aGUgRE9NXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBub2RlIHtFbGVtZW50fVxuICAgICAgICAgKiBAcGFyYW0ge01hcDxOb2RlLCBTZXQ8U3RyaW5nPj59IGlkTWFwXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBwb3B1bGF0ZUlkTWFwRm9yTm9kZShub2RlLCBpZE1hcCkge1xuICAgICAgICAgICAgbGV0IG5vZGVQYXJlbnQgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAvLyBmaW5kIGFsbCBlbGVtZW50cyB3aXRoIGFuIGlkIHByb3BlcnR5XG4gICAgICAgICAgICBsZXQgaWRFbGVtZW50cyA9IG5vZGUucXVlcnlTZWxlY3RvckFsbCgnW2lkXScpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbHQgb2YgaWRFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50ID0gZWx0O1xuICAgICAgICAgICAgICAgIC8vIHdhbGsgdXAgdGhlIHBhcmVudCBoaWVyYXJjaHkgb2YgdGhhdCBlbGVtZW50LCBhZGRpbmcgdGhlIGlkXG4gICAgICAgICAgICAgICAgLy8gb2YgZWxlbWVudCB0byB0aGUgcGFyZW50J3MgaWQgc2V0XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IG5vZGVQYXJlbnQgJiYgY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZFNldCA9IGlkTWFwLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGlkIHNldCBkb2Vzbid0IGV4aXN0LCBjcmVhdGUgaXQgYW5kIGluc2VydCBpdCBpbiB0aGUgIG1hcFxuICAgICAgICAgICAgICAgICAgICBpZiAoaWRTZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZE1hcC5zZXQoY3VycmVudCwgaWRTZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlkU2V0LmFkZChlbHQuaWQpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGNvbXB1dGVzIGEgbWFwIG9mIG5vZGVzIHRvIGFsbCBpZHMgY29udGFpbmVkIHdpdGhpbiB0aGF0IG5vZGUgKGluY2x1c2l2ZSBvZiB0aGVcbiAgICAgICAgICogbm9kZSkuICBUaGlzIG1hcCBjYW4gYmUgdXNlZCB0byBhc2sgaWYgdHdvIG5vZGVzIGhhdmUgaW50ZXJzZWN0aW5nIHNldHMgb2YgaWRzLCB3aGljaCBhbGxvd3NcbiAgICAgICAgICogZm9yIGEgbG9vc2VyIGRlZmluaXRpb24gb2YgXCJtYXRjaGluZ1wiIHRoYW4gdHJhZGl0aW9uIGlkIG1hdGNoaW5nLCBhbmQgYWxsb3dzIGNoaWxkIG5vZGVzXG4gICAgICAgICAqIHRvIGNvbnRyaWJ1dGUgdG8gYSBwYXJlbnQgbm9kZXMgbWF0Y2hpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gb2xkQ29udGVudCAgdGhlIG9sZCBjb250ZW50IHRoYXQgd2lsbCBiZSBtb3JwaGVkXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbmV3Q29udGVudCAgdGhlIG5ldyBjb250ZW50IHRvIG1vcnBoIHRvXG4gICAgICAgICAqIEByZXR1cm5zIHtNYXA8Tm9kZSwgU2V0PFN0cmluZz4+fSBhIG1hcCBvZiBub2RlcyB0byBpZCBzZXRzIGZvciB0aGVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlkTWFwKG9sZENvbnRlbnQsIG5ld0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGxldCBpZE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHBvcHVsYXRlSWRNYXBGb3JOb2RlKG9sZENvbnRlbnQsIGlkTWFwKTtcbiAgICAgICAgICAgIHBvcHVsYXRlSWRNYXBGb3JOb2RlKG5ld0NvbnRlbnQsIGlkTWFwKTtcbiAgICAgICAgICAgIHJldHVybiBpZE1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gVGhpcyBpcyB3aGF0IGVuZHMgdXAgYmVjb21pbmcgdGhlIElkaW9tb3JwaCBnbG9iYWwgb2JqZWN0XG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vcnBoLFxuICAgICAgICAgICAgZGVmYXVsdHNcbiAgICAgICAgfVxuICAgIH0pKCk7XG5cbmNsYXNzIFBhZ2VSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcbiAgc3RhdGljIHJlbmRlckVsZW1lbnQoY3VycmVudEVsZW1lbnQsIG5ld0VsZW1lbnQpIHtcbiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBuZXdFbGVtZW50IGluc3RhbmNlb2YgSFRNTEJvZHlFbGVtZW50KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VXaXRoKG5ld0VsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobmV3RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNob3VsZFJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdTbmFwc2hvdC5pc1Zpc2l0YWJsZSAmJiB0aGlzLnRyYWNrZWRFbGVtZW50c0FyZUlkZW50aWNhbFxuICB9XG5cbiAgZ2V0IHJlbG9hZFJlYXNvbigpIHtcbiAgICBpZiAoIXRoaXMubmV3U25hcHNob3QuaXNWaXNpdGFibGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlYXNvbjogXCJ0dXJib192aXNpdF9jb250cm9sX2lzX3JlbG9hZFwiXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnRyYWNrZWRFbGVtZW50c0FyZUlkZW50aWNhbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVhc29uOiBcInRyYWNrZWRfZWxlbWVudF9taXNtYXRjaFwiXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcHJlcGFyZVRvUmVuZGVyKCkge1xuICAgIHRoaXMuI3NldExhbmd1YWdlKCk7XG4gICAgYXdhaXQgdGhpcy5tZXJnZUhlYWQoKTtcbiAgfVxuXG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy53aWxsUmVuZGVyKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlcGxhY2VCb2R5KCk7XG4gICAgfVxuICB9XG5cbiAgZmluaXNoUmVuZGVyaW5nKCkge1xuICAgIHN1cGVyLmZpbmlzaFJlbmRlcmluZygpO1xuICAgIGlmICghdGhpcy5pc1ByZXZpZXcpIHtcbiAgICAgIHRoaXMuZm9jdXNGaXJzdEF1dG9mb2N1c2FibGVFbGVtZW50KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGN1cnJlbnRIZWFkU25hcHNob3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNuYXBzaG90LmhlYWRTbmFwc2hvdFxuICB9XG5cbiAgZ2V0IG5ld0hlYWRTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdTbmFwc2hvdC5oZWFkU25hcHNob3RcbiAgfVxuXG4gIGdldCBuZXdFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5ld1NuYXBzaG90LmVsZW1lbnRcbiAgfVxuXG4gICNzZXRMYW5ndWFnZSgpIHtcbiAgICBjb25zdCB7IGRvY3VtZW50RWxlbWVudCB9ID0gdGhpcy5jdXJyZW50U25hcHNob3Q7XG4gICAgY29uc3QgeyBsYW5nIH0gPSB0aGlzLm5ld1NuYXBzaG90O1xuXG4gICAgaWYgKGxhbmcpIHtcbiAgICAgIGRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJsYW5nXCIsIGxhbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwibGFuZ1wiKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBtZXJnZUhlYWQoKSB7XG4gICAgY29uc3QgbWVyZ2VkSGVhZEVsZW1lbnRzID0gdGhpcy5tZXJnZVByb3Zpc2lvbmFsRWxlbWVudHMoKTtcbiAgICBjb25zdCBuZXdTdHlsZXNoZWV0RWxlbWVudHMgPSB0aGlzLmNvcHlOZXdIZWFkU3R5bGVzaGVldEVsZW1lbnRzKCk7XG4gICAgdGhpcy5jb3B5TmV3SGVhZFNjcmlwdEVsZW1lbnRzKCk7XG5cbiAgICBhd2FpdCBtZXJnZWRIZWFkRWxlbWVudHM7XG4gICAgYXdhaXQgbmV3U3R5bGVzaGVldEVsZW1lbnRzO1xuXG4gICAgaWYgKHRoaXMud2lsbFJlbmRlcikge1xuICAgICAgdGhpcy5yZW1vdmVVbnVzZWREeW5hbWljU3R5bGVzaGVldEVsZW1lbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVwbGFjZUJvZHkoKSB7XG4gICAgYXdhaXQgdGhpcy5wcmVzZXJ2aW5nUGVybWFuZW50RWxlbWVudHMoYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5hY3RpdmF0ZU5ld0JvZHkoKTtcbiAgICAgIGF3YWl0IHRoaXMuYXNzaWduTmV3Qm9keSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHRyYWNrZWRFbGVtZW50c0FyZUlkZW50aWNhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50SGVhZFNuYXBzaG90LnRyYWNrZWRFbGVtZW50U2lnbmF0dXJlID09IHRoaXMubmV3SGVhZFNuYXBzaG90LnRyYWNrZWRFbGVtZW50U2lnbmF0dXJlXG4gIH1cblxuICBhc3luYyBjb3B5TmV3SGVhZFN0eWxlc2hlZXRFbGVtZW50cygpIHtcbiAgICBjb25zdCBsb2FkaW5nRWxlbWVudHMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLm5ld0hlYWRTdHlsZXNoZWV0RWxlbWVudHMpIHtcbiAgICAgIGxvYWRpbmdFbGVtZW50cy5wdXNoKHdhaXRGb3JMb2FkKGVsZW1lbnQpKTtcblxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkaW5nRWxlbWVudHMpO1xuICB9XG5cbiAgY29weU5ld0hlYWRTY3JpcHRFbGVtZW50cygpIHtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5uZXdIZWFkU2NyaXB0RWxlbWVudHMpIHtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYWN0aXZhdGVTY3JpcHRFbGVtZW50KGVsZW1lbnQpKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVVbnVzZWREeW5hbWljU3R5bGVzaGVldEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLnVudXNlZER5bmFtaWNTdHlsZXNoZWV0RWxlbWVudHMpIHtcbiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbWVyZ2VQcm92aXNpb25hbEVsZW1lbnRzKCkge1xuICAgIGNvbnN0IG5ld0hlYWRFbGVtZW50cyA9IFsuLi50aGlzLm5ld0hlYWRQcm92aXNpb25hbEVsZW1lbnRzXTtcblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmN1cnJlbnRIZWFkUHJvdmlzaW9uYWxFbGVtZW50cykge1xuICAgICAgaWYgKCF0aGlzLmlzQ3VycmVudEVsZW1lbnRJbkVsZW1lbnRMaXN0KGVsZW1lbnQsIG5ld0hlYWRFbGVtZW50cykpIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbmV3SGVhZEVsZW1lbnRzKSB7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGlzQ3VycmVudEVsZW1lbnRJbkVsZW1lbnRMaXN0KGVsZW1lbnQsIGVsZW1lbnRMaXN0KSB7XG4gICAgZm9yIChjb25zdCBbaW5kZXgsIG5ld0VsZW1lbnRdIG9mIGVsZW1lbnRMaXN0LmVudHJpZXMoKSkge1xuICAgICAgLy8gaWYgdGl0bGUgZWxlbWVudC4uLlxuICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIlRJVExFXCIpIHtcbiAgICAgICAgaWYgKG5ld0VsZW1lbnQudGFnTmFtZSAhPSBcIlRJVExFXCIpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LmlubmVySFRNTCA9PSBuZXdFbGVtZW50LmlubmVySFRNTCkge1xuICAgICAgICAgIGVsZW1lbnRMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBpZiBhbnkgb3RoZXIgZWxlbWVudC4uLlxuICAgICAgaWYgKG5ld0VsZW1lbnQuaXNFcXVhbE5vZGUoZWxlbWVudCkpIHtcbiAgICAgICAgZWxlbWVudExpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbW92ZUN1cnJlbnRIZWFkUHJvdmlzaW9uYWxFbGVtZW50cygpIHtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5jdXJyZW50SGVhZFByb3Zpc2lvbmFsRWxlbWVudHMpIHtcbiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgY29weU5ld0hlYWRQcm92aXNpb25hbEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLm5ld0hlYWRQcm92aXNpb25hbEVsZW1lbnRzKSB7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGFjdGl2YXRlTmV3Qm9keSgpIHtcbiAgICBkb2N1bWVudC5hZG9wdE5vZGUodGhpcy5uZXdFbGVtZW50KTtcbiAgICB0aGlzLmFjdGl2YXRlTmV3Qm9keVNjcmlwdEVsZW1lbnRzKCk7XG4gIH1cblxuICBhY3RpdmF0ZU5ld0JvZHlTY3JpcHRFbGVtZW50cygpIHtcbiAgICBmb3IgKGNvbnN0IGluZXJ0U2NyaXB0RWxlbWVudCBvZiB0aGlzLm5ld0JvZHlTY3JpcHRFbGVtZW50cykge1xuICAgICAgY29uc3QgYWN0aXZhdGVkU2NyaXB0RWxlbWVudCA9IGFjdGl2YXRlU2NyaXB0RWxlbWVudChpbmVydFNjcmlwdEVsZW1lbnQpO1xuICAgICAgaW5lcnRTY3JpcHRFbGVtZW50LnJlcGxhY2VXaXRoKGFjdGl2YXRlZFNjcmlwdEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFzc2lnbk5ld0JvZHkoKSB7XG4gICAgYXdhaXQgdGhpcy5yZW5kZXJFbGVtZW50KHRoaXMuY3VycmVudEVsZW1lbnQsIHRoaXMubmV3RWxlbWVudCk7XG4gIH1cblxuICBnZXQgdW51c2VkRHluYW1pY1N0eWxlc2hlZXRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5vbGRIZWFkU3R5bGVzaGVldEVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby10cmFja1wiKSA9PT0gXCJkeW5hbWljXCJcbiAgICB9KVxuICB9XG5cbiAgZ2V0IG9sZEhlYWRTdHlsZXNoZWV0RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEhlYWRTbmFwc2hvdC5nZXRTdHlsZXNoZWV0RWxlbWVudHNOb3RJblNuYXBzaG90KHRoaXMubmV3SGVhZFNuYXBzaG90KVxuICB9XG5cbiAgZ2V0IG5ld0hlYWRTdHlsZXNoZWV0RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3SGVhZFNuYXBzaG90LmdldFN0eWxlc2hlZXRFbGVtZW50c05vdEluU25hcHNob3QodGhpcy5jdXJyZW50SGVhZFNuYXBzaG90KVxuICB9XG5cbiAgZ2V0IG5ld0hlYWRTY3JpcHRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdIZWFkU25hcHNob3QuZ2V0U2NyaXB0RWxlbWVudHNOb3RJblNuYXBzaG90KHRoaXMuY3VycmVudEhlYWRTbmFwc2hvdClcbiAgfVxuXG4gIGdldCBjdXJyZW50SGVhZFByb3Zpc2lvbmFsRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEhlYWRTbmFwc2hvdC5wcm92aXNpb25hbEVsZW1lbnRzXG4gIH1cblxuICBnZXQgbmV3SGVhZFByb3Zpc2lvbmFsRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3SGVhZFNuYXBzaG90LnByb3Zpc2lvbmFsRWxlbWVudHNcbiAgfVxuXG4gIGdldCBuZXdCb2R5U2NyaXB0RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpXG4gIH1cbn1cblxuY2xhc3MgTW9ycGhSZW5kZXJlciBleHRlbmRzIFBhZ2VSZW5kZXJlciB7XG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy53aWxsUmVuZGVyKSBhd2FpdCB0aGlzLiNtb3JwaEJvZHkoKTtcbiAgfVxuXG4gIGdldCByZW5kZXJNZXRob2QoKSB7XG4gICAgcmV0dXJuIFwibW9ycGhcIlxuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIGFzeW5jICNtb3JwaEJvZHkoKSB7XG4gICAgdGhpcy4jbW9ycGhFbGVtZW50cyh0aGlzLmN1cnJlbnRFbGVtZW50LCB0aGlzLm5ld0VsZW1lbnQpO1xuICAgIHRoaXMuI3JlbG9hZFJlbW90ZUZyYW1lcygpO1xuXG4gICAgZGlzcGF0Y2goXCJ0dXJibzptb3JwaFwiLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgY3VycmVudEVsZW1lbnQ6IHRoaXMuY3VycmVudEVsZW1lbnQsXG4gICAgICAgIG5ld0VsZW1lbnQ6IHRoaXMubmV3RWxlbWVudFxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgI21vcnBoRWxlbWVudHMoY3VycmVudEVsZW1lbnQsIG5ld0VsZW1lbnQsIG1vcnBoU3R5bGUgPSBcIm91dGVySFRNTFwiKSB7XG4gICAgdGhpcy5pc01vcnBoaW5nVHVyYm9GcmFtZSA9IHRoaXMuI2lzRnJhbWVSZWxvYWRlZFdpdGhNb3JwaChjdXJyZW50RWxlbWVudCk7XG5cbiAgICBJZGlvbW9ycGgubW9ycGgoY3VycmVudEVsZW1lbnQsIG5ld0VsZW1lbnQsIHtcbiAgICAgIG1vcnBoU3R5bGU6IG1vcnBoU3R5bGUsXG4gICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgYmVmb3JlTm9kZUFkZGVkOiB0aGlzLiNzaG91bGRBZGRFbGVtZW50LFxuICAgICAgICBiZWZvcmVOb2RlTW9ycGhlZDogdGhpcy4jc2hvdWxkTW9ycGhFbGVtZW50LFxuICAgICAgICBiZWZvcmVBdHRyaWJ1dGVVcGRhdGVkOiB0aGlzLiNzaG91bGRVcGRhdGVBdHRyaWJ1dGUsXG4gICAgICAgIGJlZm9yZU5vZGVSZW1vdmVkOiB0aGlzLiNzaG91bGRSZW1vdmVFbGVtZW50LFxuICAgICAgICBhZnRlck5vZGVNb3JwaGVkOiB0aGlzLiNkaWRNb3JwaEVsZW1lbnRcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICNzaG91bGRBZGRFbGVtZW50ID0gKG5vZGUpID0+IHtcbiAgICByZXR1cm4gIShub2RlLmlkICYmIG5vZGUuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1wZXJtYW5lbnRcIikgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobm9kZS5pZCkpXG4gIH1cblxuICAjc2hvdWxkTW9ycGhFbGVtZW50ID0gKG9sZE5vZGUsIG5ld05vZGUpID0+IHtcbiAgICBpZiAob2xkTm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBpZiAoIW9sZE5vZGUuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1wZXJtYW5lbnRcIikgJiYgKHRoaXMuaXNNb3JwaGluZ1R1cmJvRnJhbWUgfHwgIXRoaXMuI2lzRnJhbWVSZWxvYWRlZFdpdGhNb3JwaChvbGROb2RlKSkpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1tb3JwaC1lbGVtZW50XCIsIHtcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgIHRhcmdldDogb2xkTm9kZSxcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIG5ld0VsZW1lbnQ6IG5ld05vZGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgI3Nob3VsZFVwZGF0ZUF0dHJpYnV0ZSA9IChhdHRyaWJ1dGVOYW1lLCB0YXJnZXQsIG11dGF0aW9uVHlwZSkgPT4ge1xuICAgIGNvbnN0IGV2ZW50ID0gZGlzcGF0Y2goXCJ0dXJibzpiZWZvcmUtbW9ycGgtYXR0cmlidXRlXCIsIHsgY2FuY2VsYWJsZTogdHJ1ZSwgdGFyZ2V0LCBkZXRhaWw6IHsgYXR0cmlidXRlTmFtZSwgbXV0YXRpb25UeXBlIH0gfSk7XG5cbiAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgfVxuXG4gICNkaWRNb3JwaEVsZW1lbnQgPSAob2xkTm9kZSwgbmV3Tm9kZSkgPT4ge1xuICAgIGlmIChuZXdOb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGRpc3BhdGNoKFwidHVyYm86bW9ycGgtZWxlbWVudFwiLCB7XG4gICAgICAgIHRhcmdldDogb2xkTm9kZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgbmV3RWxlbWVudDogbmV3Tm9kZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAjc2hvdWxkUmVtb3ZlRWxlbWVudCA9IChub2RlKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuI3Nob3VsZE1vcnBoRWxlbWVudChub2RlKVxuICB9XG5cbiAgI3JlbG9hZFJlbW90ZUZyYW1lcygpIHtcbiAgICB0aGlzLiNyZW1vdGVGcmFtZXMoKS5mb3JFYWNoKChmcmFtZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuI2lzRnJhbWVSZWxvYWRlZFdpdGhNb3JwaChmcmFtZSkpIHtcbiAgICAgICAgdGhpcy4jcmVuZGVyRnJhbWVXaXRoTW9ycGgoZnJhbWUpO1xuICAgICAgICBmcmFtZS5yZWxvYWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICNyZW5kZXJGcmFtZVdpdGhNb3JwaChmcmFtZSkge1xuICAgIGZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJ0dXJibzpiZWZvcmUtZnJhbWUtcmVuZGVyXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuZGV0YWlsLnJlbmRlciA9IHRoaXMuI21vcnBoRnJhbWVVcGRhdGU7XG4gICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICB9XG5cbiAgI21vcnBoRnJhbWVVcGRhdGUgPSAoY3VycmVudEVsZW1lbnQsIG5ld0VsZW1lbnQpID0+IHtcbiAgICBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1mcmFtZS1tb3JwaFwiLCB7XG4gICAgICB0YXJnZXQ6IGN1cnJlbnRFbGVtZW50LFxuICAgICAgZGV0YWlsOiB7IGN1cnJlbnRFbGVtZW50LCBuZXdFbGVtZW50IH1cbiAgICB9KTtcbiAgICB0aGlzLiNtb3JwaEVsZW1lbnRzKGN1cnJlbnRFbGVtZW50LCBuZXdFbGVtZW50LmNoaWxkcmVuLCBcImlubmVySFRNTFwiKTtcbiAgfVxuXG4gICNpc0ZyYW1lUmVsb2FkZWRXaXRoTW9ycGgoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LnNyYyAmJiBlbGVtZW50LnJlZnJlc2ggPT09IFwibW9ycGhcIlxuICB9XG5cbiAgI3JlbW90ZUZyYW1lcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0dXJiby1mcmFtZVtzcmNdJykpLmZpbHRlcihmcmFtZSA9PiB7XG4gICAgICByZXR1cm4gIWZyYW1lLmNsb3Nlc3QoJ1tkYXRhLXR1cmJvLXBlcm1hbmVudF0nKVxuICAgIH0pXG4gIH1cbn1cblxuY2xhc3MgU25hcHNob3RDYWNoZSB7XG4gIGtleXMgPSBbXVxuICBzbmFwc2hvdHMgPSB7fVxuXG4gIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICB9XG5cbiAgaGFzKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHRvQ2FjaGVLZXkobG9jYXRpb24pIGluIHRoaXMuc25hcHNob3RzXG4gIH1cblxuICBnZXQobG9jYXRpb24pIHtcbiAgICBpZiAodGhpcy5oYXMobG9jYXRpb24pKSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IHRoaXMucmVhZChsb2NhdGlvbik7XG4gICAgICB0aGlzLnRvdWNoKGxvY2F0aW9uKTtcbiAgICAgIHJldHVybiBzbmFwc2hvdFxuICAgIH1cbiAgfVxuXG4gIHB1dChsb2NhdGlvbiwgc25hcHNob3QpIHtcbiAgICB0aGlzLndyaXRlKGxvY2F0aW9uLCBzbmFwc2hvdCk7XG4gICAgdGhpcy50b3VjaChsb2NhdGlvbik7XG4gICAgcmV0dXJuIHNuYXBzaG90XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLnNuYXBzaG90cyA9IHt9O1xuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIHJlYWQobG9jYXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5zbmFwc2hvdHNbdG9DYWNoZUtleShsb2NhdGlvbildXG4gIH1cblxuICB3cml0ZShsb2NhdGlvbiwgc25hcHNob3QpIHtcbiAgICB0aGlzLnNuYXBzaG90c1t0b0NhY2hlS2V5KGxvY2F0aW9uKV0gPSBzbmFwc2hvdDtcbiAgfVxuXG4gIHRvdWNoKGxvY2F0aW9uKSB7XG4gICAgY29uc3Qga2V5ID0gdG9DYWNoZUtleShsb2NhdGlvbik7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA+IC0xKSB0aGlzLmtleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLmtleXMudW5zaGlmdChrZXkpO1xuICAgIHRoaXMudHJpbSgpO1xuICB9XG5cbiAgdHJpbSgpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB0aGlzLmtleXMuc3BsaWNlKHRoaXMuc2l6ZSkpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnNuYXBzaG90c1trZXldO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBQYWdlVmlldyBleHRlbmRzIFZpZXcge1xuICBzbmFwc2hvdENhY2hlID0gbmV3IFNuYXBzaG90Q2FjaGUoMTApXG4gIGxhc3RSZW5kZXJlZExvY2F0aW9uID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKVxuICBmb3JjZVJlbG9hZGVkID0gZmFsc2VcblxuICBzaG91bGRUcmFuc2l0aW9uVG8obmV3U25hcHNob3QpIHtcbiAgICByZXR1cm4gdGhpcy5zbmFwc2hvdC5wcmVmZXJzVmlld1RyYW5zaXRpb25zICYmIG5ld1NuYXBzaG90LnByZWZlcnNWaWV3VHJhbnNpdGlvbnNcbiAgfVxuXG4gIHJlbmRlclBhZ2Uoc25hcHNob3QsIGlzUHJldmlldyA9IGZhbHNlLCB3aWxsUmVuZGVyID0gdHJ1ZSwgdmlzaXQpIHtcbiAgICBjb25zdCBzaG91bGRNb3JwaFBhZ2UgPSB0aGlzLmlzUGFnZVJlZnJlc2godmlzaXQpICYmIHRoaXMuc25hcHNob3Quc2hvdWxkTW9ycGhQYWdlO1xuICAgIGNvbnN0IHJlbmRlcmVyQ2xhc3MgPSBzaG91bGRNb3JwaFBhZ2UgPyBNb3JwaFJlbmRlcmVyIDogUGFnZVJlbmRlcmVyO1xuXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgcmVuZGVyZXJDbGFzcyh0aGlzLnNuYXBzaG90LCBzbmFwc2hvdCwgUGFnZVJlbmRlcmVyLnJlbmRlckVsZW1lbnQsIGlzUHJldmlldywgd2lsbFJlbmRlcik7XG5cbiAgICBpZiAoIXJlbmRlcmVyLnNob3VsZFJlbmRlcikge1xuICAgICAgdGhpcy5mb3JjZVJlbG9hZGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlzaXQ/LmNoYW5nZUhpc3RvcnkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXIocmVuZGVyZXIpXG4gIH1cblxuICByZW5kZXJFcnJvcihzbmFwc2hvdCwgdmlzaXQpIHtcbiAgICB2aXNpdD8uY2hhbmdlSGlzdG9yeSgpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IEVycm9yUmVuZGVyZXIodGhpcy5zbmFwc2hvdCwgc25hcHNob3QsIEVycm9yUmVuZGVyZXIucmVuZGVyRWxlbWVudCwgZmFsc2UpO1xuICAgIHJldHVybiB0aGlzLnJlbmRlcihyZW5kZXJlcilcbiAgfVxuXG4gIGNsZWFyU25hcHNob3RDYWNoZSgpIHtcbiAgICB0aGlzLnNuYXBzaG90Q2FjaGUuY2xlYXIoKTtcbiAgfVxuXG4gIGFzeW5jIGNhY2hlU25hcHNob3Qoc25hcHNob3QgPSB0aGlzLnNuYXBzaG90KSB7XG4gICAgaWYgKHNuYXBzaG90LmlzQ2FjaGVhYmxlKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLnZpZXdXaWxsQ2FjaGVTbmFwc2hvdCgpO1xuICAgICAgY29uc3QgeyBsYXN0UmVuZGVyZWRMb2NhdGlvbjogbG9jYXRpb24gfSA9IHRoaXM7XG4gICAgICBhd2FpdCBuZXh0RXZlbnRMb29wVGljaygpO1xuICAgICAgY29uc3QgY2FjaGVkU25hcHNob3QgPSBzbmFwc2hvdC5jbG9uZSgpO1xuICAgICAgdGhpcy5zbmFwc2hvdENhY2hlLnB1dChsb2NhdGlvbiwgY2FjaGVkU25hcHNob3QpO1xuICAgICAgcmV0dXJuIGNhY2hlZFNuYXBzaG90XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FjaGVkU25hcHNob3RGb3JMb2NhdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiB0aGlzLnNuYXBzaG90Q2FjaGUuZ2V0KGxvY2F0aW9uKVxuICB9XG5cbiAgaXNQYWdlUmVmcmVzaCh2aXNpdCkge1xuICAgIHJldHVybiAhdmlzaXQgfHwgKHRoaXMubGFzdFJlbmRlcmVkTG9jYXRpb24ucGF0aG5hbWUgPT09IHZpc2l0LmxvY2F0aW9uLnBhdGhuYW1lICYmIHZpc2l0LmFjdGlvbiA9PT0gXCJyZXBsYWNlXCIpXG4gIH1cblxuICBzaG91bGRQcmVzZXJ2ZVNjcm9sbFBvc2l0aW9uKHZpc2l0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQYWdlUmVmcmVzaCh2aXNpdCkgJiYgdGhpcy5zbmFwc2hvdC5zaG91bGRQcmVzZXJ2ZVNjcm9sbFBvc2l0aW9uXG4gIH1cblxuICBnZXQgc25hcHNob3QoKSB7XG4gICAgcmV0dXJuIFBhZ2VTbmFwc2hvdC5mcm9tRWxlbWVudCh0aGlzLmVsZW1lbnQpXG4gIH1cbn1cblxuY2xhc3MgUHJlbG9hZGVyIHtcbiAgc2VsZWN0b3IgPSBcImFbZGF0YS10dXJiby1wcmVsb2FkXVwiXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIHNuYXBzaG90Q2FjaGUpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5zbmFwc2hvdENhY2hlID0gc25hcHNob3RDYWNoZTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgdGhpcy4jcHJlbG9hZEFsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhkb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIHRoaXMuI3ByZWxvYWRBbGwpO1xuICB9XG5cbiAgcHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhlbGVtZW50KSB7XG4gICAgZm9yIChjb25zdCBsaW5rIG9mIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKSkge1xuICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuc2hvdWxkUHJlbG9hZExpbmsobGluaykpIHtcbiAgICAgICAgdGhpcy5wcmVsb2FkVVJMKGxpbmspO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHByZWxvYWRVUkwobGluaykge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3IFVSTChsaW5rLmhyZWYpO1xuXG4gICAgaWYgKHRoaXMuc25hcHNob3RDYWNoZS5oYXMobG9jYXRpb24pKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaFJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KHRoaXMsIEZldGNoTWV0aG9kLmdldCwgbG9jYXRpb24sIG5ldyBVUkxTZWFyY2hQYXJhbXMoKSwgbGluayk7XG4gICAgYXdhaXQgZmV0Y2hSZXF1ZXN0LnBlcmZvcm0oKTtcbiAgfVxuXG4gIC8vIEZldGNoIHJlcXVlc3QgZGVsZWdhdGVcblxuICBwcmVwYXJlUmVxdWVzdChmZXRjaFJlcXVlc3QpIHtcbiAgICBmZXRjaFJlcXVlc3QuaGVhZGVyc1tcIlgtU2VjLVB1cnBvc2VcIl0gPSBcInByZWZldGNoXCI7XG4gIH1cblxuICBhc3luYyByZXF1ZXN0U3VjY2VlZGVkV2l0aFJlc3BvbnNlKGZldGNoUmVxdWVzdCwgZmV0Y2hSZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZUhUTUwgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLnJlc3BvbnNlSFRNTDtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gUGFnZVNuYXBzaG90LmZyb21IVE1MU3RyaW5nKHJlc3BvbnNlSFRNTCk7XG5cbiAgICAgIHRoaXMuc25hcHNob3RDYWNoZS5wdXQoZmV0Y2hSZXF1ZXN0LnVybCwgc25hcHNob3QpO1xuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIC8vIElmIHdlIGNhbm5vdCBwcmVsb2FkIHRoYXQgaXMgb2shXG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdFN0YXJ0ZWQoZmV0Y2hSZXF1ZXN0KSB7fVxuXG4gIHJlcXVlc3RFcnJvcmVkKGZldGNoUmVxdWVzdCkge31cblxuICByZXF1ZXN0RmluaXNoZWQoZmV0Y2hSZXF1ZXN0KSB7fVxuXG4gIHJlcXVlc3RQcmV2ZW50ZWRIYW5kbGluZ1Jlc3BvbnNlKGZldGNoUmVxdWVzdCwgZmV0Y2hSZXNwb25zZSkge31cblxuICByZXF1ZXN0RmFpbGVkV2l0aFJlc3BvbnNlKGZldGNoUmVxdWVzdCwgZmV0Y2hSZXNwb25zZSkge31cblxuICAjcHJlbG9hZEFsbCA9ICgpID0+IHtcbiAgICB0aGlzLnByZWxvYWRPbkxvYWRMaW5rc0ZvclZpZXcoZG9jdW1lbnQuYm9keSk7XG4gIH1cbn1cblxuY2xhc3MgQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihzZXNzaW9uKSB7XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuc2Vzc2lvbi5jbGVhckNhY2hlKCk7XG4gIH1cblxuICByZXNldENhY2hlQ29udHJvbCgpIHtcbiAgICB0aGlzLiNzZXRDYWNoZUNvbnRyb2woXCJcIik7XG4gIH1cblxuICBleGVtcHRQYWdlRnJvbUNhY2hlKCkge1xuICAgIHRoaXMuI3NldENhY2hlQ29udHJvbChcIm5vLWNhY2hlXCIpO1xuICB9XG5cbiAgZXhlbXB0UGFnZUZyb21QcmV2aWV3KCkge1xuICAgIHRoaXMuI3NldENhY2hlQ29udHJvbChcIm5vLXByZXZpZXdcIik7XG4gIH1cblxuICAjc2V0Q2FjaGVDb250cm9sKHZhbHVlKSB7XG4gICAgc2V0TWV0YUNvbnRlbnQoXCJ0dXJiby1jYWNoZS1jb250cm9sXCIsIHZhbHVlKTtcbiAgfVxufVxuXG5jbGFzcyBTZXNzaW9uIHtcbiAgbmF2aWdhdG9yID0gbmV3IE5hdmlnYXRvcih0aGlzKVxuICBoaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcylcbiAgdmlldyA9IG5ldyBQYWdlVmlldyh0aGlzLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXG4gIGFkYXB0ZXIgPSBuZXcgQnJvd3NlckFkYXB0ZXIodGhpcylcblxuICBwYWdlT2JzZXJ2ZXIgPSBuZXcgUGFnZU9ic2VydmVyKHRoaXMpXG4gIGNhY2hlT2JzZXJ2ZXIgPSBuZXcgQ2FjaGVPYnNlcnZlcigpXG4gIGxpbmtQcmVmZXRjaE9ic2VydmVyID0gbmV3IExpbmtQcmVmZXRjaE9ic2VydmVyKHRoaXMsIGRvY3VtZW50KVxuICBsaW5rQ2xpY2tPYnNlcnZlciA9IG5ldyBMaW5rQ2xpY2tPYnNlcnZlcih0aGlzLCB3aW5kb3cpXG4gIGZvcm1TdWJtaXRPYnNlcnZlciA9IG5ldyBGb3JtU3VibWl0T2JzZXJ2ZXIodGhpcywgZG9jdW1lbnQpXG4gIHNjcm9sbE9ic2VydmVyID0gbmV3IFNjcm9sbE9ic2VydmVyKHRoaXMpXG4gIHN0cmVhbU9ic2VydmVyID0gbmV3IFN0cmVhbU9ic2VydmVyKHRoaXMpXG4gIGZvcm1MaW5rQ2xpY2tPYnNlcnZlciA9IG5ldyBGb3JtTGlua0NsaWNrT2JzZXJ2ZXIodGhpcywgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxuICBmcmFtZVJlZGlyZWN0b3IgPSBuZXcgRnJhbWVSZWRpcmVjdG9yKHRoaXMsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudClcbiAgc3RyZWFtTWVzc2FnZVJlbmRlcmVyID0gbmV3IFN0cmVhbU1lc3NhZ2VSZW5kZXJlcigpXG4gIGNhY2hlID0gbmV3IENhY2hlKHRoaXMpXG5cbiAgZHJpdmUgPSB0cnVlXG4gIGVuYWJsZWQgPSB0cnVlXG4gIHByb2dyZXNzQmFyRGVsYXkgPSA1MDBcbiAgc3RhcnRlZCA9IGZhbHNlXG4gIGZvcm1Nb2RlID0gXCJvblwiXG4gICNwYWdlUmVmcmVzaERlYm91bmNlUGVyaW9kID0gMTUwXG5cbiAgY29uc3RydWN0b3IocmVjZW50UmVxdWVzdHMpIHtcbiAgICB0aGlzLnJlY2VudFJlcXVlc3RzID0gcmVjZW50UmVxdWVzdHM7XG4gICAgdGhpcy5wcmVsb2FkZXIgPSBuZXcgUHJlbG9hZGVyKHRoaXMsIHRoaXMudmlldy5zbmFwc2hvdENhY2hlKTtcbiAgICB0aGlzLmRlYm91bmNlZFJlZnJlc2ggPSB0aGlzLnJlZnJlc2g7XG4gICAgdGhpcy5wYWdlUmVmcmVzaERlYm91bmNlUGVyaW9kID0gdGhpcy5wYWdlUmVmcmVzaERlYm91bmNlUGVyaW9kO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMucGFnZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLmNhY2hlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMubGlua1ByZWZldGNoT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuZm9ybUxpbmtDbGlja09ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLmxpbmtDbGlja09ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlci5zdGFydCgpO1xuICAgICAgdGhpcy5zY3JvbGxPYnNlcnZlci5zdGFydCgpO1xuICAgICAgdGhpcy5zdHJlYW1PYnNlcnZlci5zdGFydCgpO1xuICAgICAgdGhpcy5mcmFtZVJlZGlyZWN0b3Iuc3RhcnQoKTtcbiAgICAgIHRoaXMuaGlzdG9yeS5zdGFydCgpO1xuICAgICAgdGhpcy5wcmVsb2FkZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMucGFnZU9ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMuY2FjaGVPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLmxpbmtQcmVmZXRjaE9ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMuZm9ybUxpbmtDbGlja09ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMubGlua0NsaWNrT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy5mb3JtU3VibWl0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy5zY3JvbGxPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLnN0cmVhbU9ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMuZnJhbWVSZWRpcmVjdG9yLnN0b3AoKTtcbiAgICAgIHRoaXMuaGlzdG9yeS5zdG9wKCk7XG4gICAgICB0aGlzLnByZWxvYWRlci5zdG9wKCk7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZWdpc3RlckFkYXB0ZXIoYWRhcHRlcikge1xuICAgIHRoaXMuYWRhcHRlciA9IGFkYXB0ZXI7XG4gIH1cblxuICB2aXNpdChsb2NhdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZnJhbWVFbGVtZW50ID0gb3B0aW9ucy5mcmFtZSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMuZnJhbWUpIDogbnVsbDtcblxuICAgIGlmIChmcmFtZUVsZW1lbnQgaW5zdGFuY2VvZiBGcmFtZUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uIHx8IGdldFZpc2l0QWN0aW9uKGZyYW1lRWxlbWVudCk7XG5cbiAgICAgIGZyYW1lRWxlbWVudC5kZWxlZ2F0ZS5wcm9wb3NlVmlzaXRJZk5hdmlnYXRlZFdpdGhBY3Rpb24oZnJhbWVFbGVtZW50LCBhY3Rpb24pO1xuICAgICAgZnJhbWVFbGVtZW50LnNyYyA9IGxvY2F0aW9uLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmF2aWdhdG9yLnByb3Bvc2VWaXNpdChleHBhbmRVUkwobG9jYXRpb24pLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICByZWZyZXNoKHVybCwgcmVxdWVzdElkKSB7XG4gICAgY29uc3QgaXNSZWNlbnRSZXF1ZXN0ID0gcmVxdWVzdElkICYmIHRoaXMucmVjZW50UmVxdWVzdHMuaGFzKHJlcXVlc3RJZCk7XG4gICAgaWYgKCFpc1JlY2VudFJlcXVlc3QpIHtcbiAgICAgIHRoaXMudmlzaXQodXJsLCB7IGFjdGlvbjogXCJyZXBsYWNlXCIsIHNob3VsZENhY2hlU25hcHNob3Q6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKSB7XG4gICAgdGhpcy5zdHJlYW1PYnNlcnZlci5jb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSk7XG4gIH1cblxuICBkaXNjb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSkge1xuICAgIHRoaXMuc3RyZWFtT2JzZXJ2ZXIuZGlzY29ubmVjdFN0cmVhbVNvdXJjZShzb3VyY2UpO1xuICB9XG5cbiAgcmVuZGVyU3RyZWFtTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgdGhpcy5zdHJlYW1NZXNzYWdlUmVuZGVyZXIucmVuZGVyKFN0cmVhbU1lc3NhZ2Uud3JhcChtZXNzYWdlKSk7XG4gIH1cblxuICBjbGVhckNhY2hlKCkge1xuICAgIHRoaXMudmlldy5jbGVhclNuYXBzaG90Q2FjaGUoKTtcbiAgfVxuXG4gIHNldFByb2dyZXNzQmFyRGVsYXkoZGVsYXkpIHtcbiAgICB0aGlzLnByb2dyZXNzQmFyRGVsYXkgPSBkZWxheTtcbiAgfVxuXG4gIHNldEZvcm1Nb2RlKG1vZGUpIHtcbiAgICB0aGlzLmZvcm1Nb2RlID0gbW9kZTtcbiAgfVxuXG4gIGdldCBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmxvY2F0aW9uXG4gIH1cblxuICBnZXQgcmVzdG9yYXRpb25JZGVudGlmaWVyKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkucmVzdG9yYXRpb25JZGVudGlmaWVyXG4gIH1cblxuICBnZXQgcGFnZVJlZnJlc2hEZWJvdW5jZVBlcmlvZCgpIHtcbiAgICByZXR1cm4gdGhpcy4jcGFnZVJlZnJlc2hEZWJvdW5jZVBlcmlvZFxuICB9XG5cbiAgc2V0IHBhZ2VSZWZyZXNoRGVib3VuY2VQZXJpb2QodmFsdWUpIHtcbiAgICB0aGlzLnJlZnJlc2ggPSBkZWJvdW5jZSh0aGlzLmRlYm91bmNlZFJlZnJlc2guYmluZCh0aGlzKSwgdmFsdWUpO1xuICAgIHRoaXMuI3BhZ2VSZWZyZXNoRGVib3VuY2VQZXJpb2QgPSB2YWx1ZTtcbiAgfVxuXG4gIC8vIFByZWxvYWRlciBkZWxlZ2F0ZVxuXG4gIHNob3VsZFByZWxvYWRMaW5rKGVsZW1lbnQpIHtcbiAgICBjb25zdCBpc1Vuc2FmZSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1tZXRob2RcIik7XG4gICAgY29uc3QgaXNTdHJlYW0gPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3RyZWFtXCIpO1xuICAgIGNvbnN0IGZyYW1lVGFyZ2V0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIpO1xuICAgIGNvbnN0IGZyYW1lID0gZnJhbWVUYXJnZXQgPT0gXCJfdG9wXCIgP1xuICAgICAgbnVsbCA6XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmcmFtZVRhcmdldCkgfHwgZmluZENsb3Nlc3RSZWN1cnNpdmVseShlbGVtZW50LCBcInR1cmJvLWZyYW1lOm5vdChbZGlzYWJsZWRdKVwiKTtcblxuICAgIGlmIChpc1Vuc2FmZSB8fCBpc1N0cmVhbSB8fCBmcmFtZSBpbnN0YW5jZW9mIEZyYW1lRWxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3IFVSTChlbGVtZW50LmhyZWYpO1xuXG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50SXNOYXZpZ2F0YWJsZShlbGVtZW50KSAmJiBsb2NhdGlvbklzVmlzaXRhYmxlKGxvY2F0aW9uLCB0aGlzLnNuYXBzaG90LnJvb3RMb2NhdGlvbilcbiAgICB9XG4gIH1cblxuICAvLyBIaXN0b3J5IGRlbGVnYXRlXG5cbiAgaGlzdG9yeVBvcHBlZFRvTG9jYXRpb25XaXRoUmVzdG9yYXRpb25JZGVudGlmaWVyQW5kRGlyZWN0aW9uKGxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIsIGRpcmVjdGlvbikge1xuICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMubmF2aWdhdG9yLnN0YXJ0VmlzaXQobG9jYXRpb24sIHJlc3RvcmF0aW9uSWRlbnRpZmllciwge1xuICAgICAgICBhY3Rpb246IFwicmVzdG9yZVwiLFxuICAgICAgICBoaXN0b3J5Q2hhbmdlZDogdHJ1ZSxcbiAgICAgICAgZGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGFwdGVyLnBhZ2VJbnZhbGlkYXRlZCh7XG4gICAgICAgIHJlYXNvbjogXCJ0dXJib19kaXNhYmxlZFwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBTY3JvbGwgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICBzY3JvbGxQb3NpdGlvbkNoYW5nZWQocG9zaXRpb24pIHtcbiAgICB0aGlzLmhpc3RvcnkudXBkYXRlUmVzdG9yYXRpb25EYXRhKHsgc2Nyb2xsUG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICB9XG5cbiAgLy8gRm9ybSBjbGljayBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIHdpbGxTdWJtaXRGb3JtTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50SXNOYXZpZ2F0YWJsZShsaW5rKSAmJiBsb2NhdGlvbklzVmlzaXRhYmxlKGxvY2F0aW9uLCB0aGlzLnNuYXBzaG90LnJvb3RMb2NhdGlvbilcbiAgfVxuXG4gIHN1Ym1pdHRlZEZvcm1MaW5rVG9Mb2NhdGlvbigpIHt9XG5cbiAgLy8gTGluayBob3ZlciBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIGNhblByZWZldGNoUmVxdWVzdFRvTG9jYXRpb24obGluaywgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5lbGVtZW50SXNOYXZpZ2F0YWJsZShsaW5rKSAmJlxuICAgICAgICBsb2NhdGlvbklzVmlzaXRhYmxlKGxvY2F0aW9uLCB0aGlzLnNuYXBzaG90LnJvb3RMb2NhdGlvbilcbiAgICApXG4gIH1cblxuICAvLyBMaW5rIGNsaWNrIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgd2lsbEZvbGxvd0xpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uLCBldmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmVsZW1lbnRJc05hdmlnYXRhYmxlKGxpbmspICYmXG4gICAgICBsb2NhdGlvbklzVmlzaXRhYmxlKGxvY2F0aW9uLCB0aGlzLnNuYXBzaG90LnJvb3RMb2NhdGlvbikgJiZcbiAgICAgIHRoaXMuYXBwbGljYXRpb25BbGxvd3NGb2xsb3dpbmdMaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbiwgZXZlbnQpXG4gICAgKVxuICB9XG5cbiAgZm9sbG93ZWRMaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbikge1xuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uRm9yTGluayhsaW5rKTtcbiAgICBjb25zdCBhY2NlcHRzU3RyZWFtUmVzcG9uc2UgPSBsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3RyZWFtXCIpO1xuXG4gICAgdGhpcy52aXNpdChsb2NhdGlvbi5ocmVmLCB7IGFjdGlvbiwgYWNjZXB0c1N0cmVhbVJlc3BvbnNlIH0pO1xuICB9XG5cbiAgLy8gTmF2aWdhdG9yIGRlbGVnYXRlXG5cbiAgYWxsb3dzVmlzaXRpbmdMb2NhdGlvbldpdGhBY3Rpb24obG9jYXRpb24sIGFjdGlvbikge1xuICAgIHJldHVybiB0aGlzLmxvY2F0aW9uV2l0aEFjdGlvbklzU2FtZVBhZ2UobG9jYXRpb24sIGFjdGlvbikgfHwgdGhpcy5hcHBsaWNhdGlvbkFsbG93c1Zpc2l0aW5nTG9jYXRpb24obG9jYXRpb24pXG4gIH1cblxuICB2aXNpdFByb3Bvc2VkVG9Mb2NhdGlvbihsb2NhdGlvbiwgb3B0aW9ucykge1xuICAgIGV4dGVuZFVSTFdpdGhEZXByZWNhdGVkUHJvcGVydGllcyhsb2NhdGlvbik7XG4gICAgdGhpcy5hZGFwdGVyLnZpc2l0UHJvcG9zZWRUb0xvY2F0aW9uKGxvY2F0aW9uLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIFZpc2l0IGRlbGVnYXRlXG5cbiAgdmlzaXRTdGFydGVkKHZpc2l0KSB7XG4gICAgaWYgKCF2aXNpdC5hY2NlcHRzU3RyZWFtUmVzcG9uc2UpIHtcbiAgICAgIG1hcmtBc0J1c3koZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIHRoaXMudmlldy5tYXJrVmlzaXREaXJlY3Rpb24odmlzaXQuZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgZXh0ZW5kVVJMV2l0aERlcHJlY2F0ZWRQcm9wZXJ0aWVzKHZpc2l0LmxvY2F0aW9uKTtcbiAgICBpZiAoIXZpc2l0LnNpbGVudCkge1xuICAgICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkFmdGVyVmlzaXRpbmdMb2NhdGlvbih2aXNpdC5sb2NhdGlvbiwgdmlzaXQuYWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICB2aXNpdENvbXBsZXRlZCh2aXNpdCkge1xuICAgIHRoaXMudmlldy51bm1hcmtWaXNpdERpcmVjdGlvbigpO1xuICAgIGNsZWFyQnVzeVN0YXRlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkFmdGVyUGFnZUxvYWQodmlzaXQuZ2V0VGltaW5nTWV0cmljcygpKTtcbiAgfVxuXG4gIGxvY2F0aW9uV2l0aEFjdGlvbklzU2FtZVBhZ2UobG9jYXRpb24sIGFjdGlvbikge1xuICAgIHJldHVybiB0aGlzLm5hdmlnYXRvci5sb2NhdGlvbldpdGhBY3Rpb25Jc1NhbWVQYWdlKGxvY2F0aW9uLCBhY3Rpb24pXG4gIH1cblxuICB2aXNpdFNjcm9sbGVkVG9TYW1lUGFnZUxvY2F0aW9uKG9sZFVSTCwgbmV3VVJMKSB7XG4gICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkFmdGVyVmlzaXRpbmdTYW1lUGFnZUxvY2F0aW9uKG9sZFVSTCwgbmV3VVJMKTtcbiAgfVxuXG4gIC8vIEZvcm0gc3VibWl0IG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgd2lsbFN1Ym1pdEZvcm0oZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0QWN0aW9uJDEoZm9ybSwgc3VibWl0dGVyKTtcblxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnN1Ym1pc3Npb25Jc05hdmlnYXRhYmxlKGZvcm0sIHN1Ym1pdHRlcikgJiZcbiAgICAgIGxvY2F0aW9uSXNWaXNpdGFibGUoZXhwYW5kVVJMKGFjdGlvbiksIHRoaXMuc25hcHNob3Qucm9vdExvY2F0aW9uKVxuICAgIClcbiAgfVxuXG4gIGZvcm1TdWJtaXR0ZWQoZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgdGhpcy5uYXZpZ2F0b3Iuc3VibWl0Rm9ybShmb3JtLCBzdWJtaXR0ZXIpO1xuICB9XG5cbiAgLy8gUGFnZSBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIHBhZ2VCZWNhbWVJbnRlcmFjdGl2ZSgpIHtcbiAgICB0aGlzLnZpZXcubGFzdFJlbmRlcmVkTG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uO1xuICAgIHRoaXMubm90aWZ5QXBwbGljYXRpb25BZnRlclBhZ2VMb2FkKCk7XG4gIH1cblxuICBwYWdlTG9hZGVkKCkge1xuICAgIHRoaXMuaGlzdG9yeS5hc3N1bWVDb250cm9sT2ZTY3JvbGxSZXN0b3JhdGlvbigpO1xuICB9XG5cbiAgcGFnZVdpbGxVbmxvYWQoKSB7XG4gICAgdGhpcy5oaXN0b3J5LnJlbGlucXVpc2hDb250cm9sT2ZTY3JvbGxSZXN0b3JhdGlvbigpO1xuICB9XG5cbiAgLy8gU3RyZWFtIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgcmVjZWl2ZWRNZXNzYWdlRnJvbVN0cmVhbShtZXNzYWdlKSB7XG4gICAgdGhpcy5yZW5kZXJTdHJlYW1NZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG5cbiAgLy8gUGFnZSB2aWV3IGRlbGVnYXRlXG5cbiAgdmlld1dpbGxDYWNoZVNuYXBzaG90KCkge1xuICAgIGlmICghdGhpcy5uYXZpZ2F0b3IuY3VycmVudFZpc2l0Py5zaWxlbnQpIHtcbiAgICAgIHRoaXMubm90aWZ5QXBwbGljYXRpb25CZWZvcmVDYWNoaW5nU25hcHNob3QoKTtcbiAgICB9XG4gIH1cblxuICBhbGxvd3NJbW1lZGlhdGVSZW5kZXIoeyBlbGVtZW50IH0sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMubm90aWZ5QXBwbGljYXRpb25CZWZvcmVSZW5kZXIoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgY29uc3Qge1xuICAgICAgZGVmYXVsdFByZXZlbnRlZCxcbiAgICAgIGRldGFpbDogeyByZW5kZXIgfVxuICAgIH0gPSBldmVudDtcblxuICAgIGlmICh0aGlzLnZpZXcucmVuZGVyZXIgJiYgcmVuZGVyKSB7XG4gICAgICB0aGlzLnZpZXcucmVuZGVyZXIucmVuZGVyRWxlbWVudCA9IHJlbmRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gIWRlZmF1bHRQcmV2ZW50ZWRcbiAgfVxuXG4gIHZpZXdSZW5kZXJlZFNuYXBzaG90KF9zbmFwc2hvdCwgX2lzUHJldmlldywgcmVuZGVyTWV0aG9kKSB7XG4gICAgdGhpcy52aWV3Lmxhc3RSZW5kZXJlZExvY2F0aW9uID0gdGhpcy5oaXN0b3J5LmxvY2F0aW9uO1xuICAgIHRoaXMubm90aWZ5QXBwbGljYXRpb25BZnRlclJlbmRlcihyZW5kZXJNZXRob2QpO1xuICB9XG5cbiAgcHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhlbGVtZW50KSB7XG4gICAgdGhpcy5wcmVsb2FkZXIucHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhlbGVtZW50KTtcbiAgfVxuXG4gIHZpZXdJbnZhbGlkYXRlZChyZWFzb24pIHtcbiAgICB0aGlzLmFkYXB0ZXIucGFnZUludmFsaWRhdGVkKHJlYXNvbik7XG4gIH1cblxuICAvLyBGcmFtZSBlbGVtZW50XG5cbiAgZnJhbWVMb2FkZWQoZnJhbWUpIHtcbiAgICB0aGlzLm5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJGcmFtZUxvYWQoZnJhbWUpO1xuICB9XG5cbiAgZnJhbWVSZW5kZXJlZChmZXRjaFJlc3BvbnNlLCBmcmFtZSkge1xuICAgIHRoaXMubm90aWZ5QXBwbGljYXRpb25BZnRlckZyYW1lUmVuZGVyKGZldGNoUmVzcG9uc2UsIGZyYW1lKTtcbiAgfVxuXG4gIC8vIEFwcGxpY2F0aW9uIGV2ZW50c1xuXG4gIGFwcGxpY2F0aW9uQWxsb3dzRm9sbG93aW5nTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIGV2KSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLm5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJDbGlja2luZ0xpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uLCBldik7XG4gICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkXG4gIH1cblxuICBhcHBsaWNhdGlvbkFsbG93c1Zpc2l0aW5nTG9jYXRpb24obG9jYXRpb24pIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMubm90aWZ5QXBwbGljYXRpb25CZWZvcmVWaXNpdGluZ0xvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJDbGlja2luZ0xpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uLCBldmVudCkge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOmNsaWNrXCIsIHtcbiAgICAgIHRhcmdldDogbGluayxcbiAgICAgIGRldGFpbDogeyB1cmw6IGxvY2F0aW9uLmhyZWYsIG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH0sXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQmVmb3JlVmlzaXRpbmdMb2NhdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS12aXNpdFwiLCB7XG4gICAgICBkZXRhaWw6IHsgdXJsOiBsb2NhdGlvbi5ocmVmIH0sXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJWaXNpdGluZ0xvY2F0aW9uKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzp2aXNpdFwiLCB7IGRldGFpbDogeyB1cmw6IGxvY2F0aW9uLmhyZWYsIGFjdGlvbiB9IH0pXG4gIH1cblxuICBub3RpZnlBcHBsaWNhdGlvbkJlZm9yZUNhY2hpbmdTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzpiZWZvcmUtY2FjaGVcIilcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQmVmb3JlUmVuZGVyKG5ld0JvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzpiZWZvcmUtcmVuZGVyXCIsIHtcbiAgICAgIGRldGFpbDogeyBuZXdCb2R5LCAuLi5vcHRpb25zIH0sXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJSZW5kZXIocmVuZGVyTWV0aG9kKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKFwidHVyYm86cmVuZGVyXCIsIHsgZGV0YWlsOiB7IHJlbmRlck1ldGhvZCB9IH0pXG4gIH1cblxuICBub3RpZnlBcHBsaWNhdGlvbkFmdGVyUGFnZUxvYWQodGltaW5nID0ge30pIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzpsb2FkXCIsIHtcbiAgICAgIGRldGFpbDogeyB1cmw6IHRoaXMubG9jYXRpb24uaHJlZiwgdGltaW5nIH1cbiAgICB9KVxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25BZnRlclZpc2l0aW5nU2FtZVBhZ2VMb2NhdGlvbihvbGRVUkwsIG5ld1VSTCkge1xuICAgIGRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgSGFzaENoYW5nZUV2ZW50KFwiaGFzaGNoYW5nZVwiLCB7XG4gICAgICAgIG9sZFVSTDogb2xkVVJMLnRvU3RyaW5nKCksXG4gICAgICAgIG5ld1VSTDogbmV3VVJMLnRvU3RyaW5nKClcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJGcmFtZUxvYWQoZnJhbWUpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzpmcmFtZS1sb2FkXCIsIHsgdGFyZ2V0OiBmcmFtZSB9KVxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25BZnRlckZyYW1lUmVuZGVyKGZldGNoUmVzcG9uc2UsIGZyYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKFwidHVyYm86ZnJhbWUtcmVuZGVyXCIsIHtcbiAgICAgIGRldGFpbDogeyBmZXRjaFJlc3BvbnNlIH0sXG4gICAgICB0YXJnZXQ6IGZyYW1lLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICAvLyBIZWxwZXJzXG5cbiAgc3VibWlzc2lvbklzTmF2aWdhdGFibGUoZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgaWYgKHRoaXMuZm9ybU1vZGUgPT0gXCJvZmZcIikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN1Ym1pdHRlcklzTmF2aWdhdGFibGUgPSBzdWJtaXR0ZXIgPyB0aGlzLmVsZW1lbnRJc05hdmlnYXRhYmxlKHN1Ym1pdHRlcikgOiB0cnVlO1xuXG4gICAgICBpZiAodGhpcy5mb3JtTW9kZSA9PSBcIm9wdGluXCIpIHtcbiAgICAgICAgcmV0dXJuIHN1Ym1pdHRlcklzTmF2aWdhdGFibGUgJiYgZm9ybS5jbG9zZXN0KCdbZGF0YS10dXJibz1cInRydWVcIl0nKSAhPSBudWxsXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3VibWl0dGVySXNOYXZpZ2F0YWJsZSAmJiB0aGlzLmVsZW1lbnRJc05hdmlnYXRhYmxlKGZvcm0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZWxlbWVudElzTmF2aWdhdGFibGUoZWxlbWVudCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGZpbmRDbG9zZXN0UmVjdXJzaXZlbHkoZWxlbWVudCwgXCJbZGF0YS10dXJib11cIik7XG4gICAgY29uc3Qgd2l0aGluRnJhbWUgPSBmaW5kQ2xvc2VzdFJlY3Vyc2l2ZWx5KGVsZW1lbnQsIFwidHVyYm8tZnJhbWVcIik7XG5cbiAgICAvLyBDaGVjayBpZiBEcml2ZSBpcyBlbmFibGVkIG9uIHRoZSBzZXNzaW9uIG9yIHdlJ3JlIHdpdGhpbiBhIEZyYW1lLlxuICAgIGlmICh0aGlzLmRyaXZlIHx8IHdpdGhpbkZyYW1lKSB7XG4gICAgICAvLyBFbGVtZW50IGlzIG5hdmlnYXRhYmxlIGJ5IGRlZmF1bHQsIHVubGVzcyBgZGF0YS10dXJibz1cImZhbHNlXCJgLlxuICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm9cIikgIT0gXCJmYWxzZVwiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbGVtZW50IGlzbid0IG5hdmlnYXRhYmxlIGJ5IGRlZmF1bHQsIHVubGVzcyBgZGF0YS10dXJibz1cInRydWVcImAuXG4gICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJib1wiKSA9PSBcInRydWVcIlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIGdldEFjdGlvbkZvckxpbmsobGluaykge1xuICAgIHJldHVybiBnZXRWaXNpdEFjdGlvbihsaW5rKSB8fCBcImFkdmFuY2VcIlxuICB9XG5cbiAgZ2V0IHNuYXBzaG90KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuc25hcHNob3RcbiAgfVxufVxuXG4vLyBPbGRlciB2ZXJzaW9ucyBvZiB0aGUgVHVyYm8gTmF0aXZlIGFkYXB0ZXJzIHJlZmVyZW5jZWQgdGhlXG4vLyBgTG9jYXRpb24jYWJzb2x1dGVVUkxgIHByb3BlcnR5IGluIHRoZWlyIGltcGxlbWVudGF0aW9ucyBvZlxuLy8gdGhlIGBBZGFwdGVyI3Zpc2l0UHJvcG9zZWRUb0xvY2F0aW9uKClgIGFuZCBgI3Zpc2l0U3RhcnRlZCgpYFxuLy8gbWV0aG9kcy4gVGhlIExvY2F0aW9uIGNsYXNzIGhhcyBzaW5jZSBiZWVuIHJlbW92ZWQgaW4gZmF2b3Jcbi8vIG9mIHRoZSBET00gVVJMIEFQSSwgYW5kIGFjY29yZGluZ2x5IGFsbCBBZGFwdGVyIG1ldGhvZHMgbm93XG4vLyByZWNlaXZlIFVSTCBvYmplY3RzLlxuLy9cbi8vIFdlIGFsaWFzICNhYnNvbHV0ZVVSTCB0byAjdG9TdHJpbmcoKSBoZXJlIHRvIGF2b2lkIGNyYXNoaW5nXG4vLyBvbGRlciBhZGFwdGVycyB3aGljaCBkbyBub3QgZXhwZWN0IFVSTCBvYmplY3RzLiBXZSBzaG91bGRcbi8vIGNvbnNpZGVyIHJlbW92aW5nIHRoaXMgc3VwcG9ydCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG5cbmZ1bmN0aW9uIGV4dGVuZFVSTFdpdGhEZXByZWNhdGVkUHJvcGVydGllcyh1cmwpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModXJsLCBkZXByZWNhdGVkTG9jYXRpb25Qcm9wZXJ0eURlc2NyaXB0b3JzKTtcbn1cblxuY29uc3QgZGVwcmVjYXRlZExvY2F0aW9uUHJvcGVydHlEZXNjcmlwdG9ycyA9IHtcbiAgYWJzb2x1dGVVUkw6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpXG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBzZXNzaW9uID0gbmV3IFNlc3Npb24ocmVjZW50UmVxdWVzdHMpO1xuY29uc3QgeyBjYWNoZSwgbmF2aWdhdG9yOiBuYXZpZ2F0b3IkMSB9ID0gc2Vzc2lvbjtcblxuLyoqXG4gKiBTdGFydHMgdGhlIG1haW4gc2Vzc2lvbi5cbiAqIFRoaXMgaW5pdGlhbGlzZXMgYW55IG5lY2Vzc2FyeSBvYnNlcnZlcnMgc3VjaCBhcyB0aG9zZSB0byBtb25pdG9yXG4gKiBsaW5rIGludGVyYWN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gc3RhcnQoKSB7XG4gIHNlc3Npb24uc3RhcnQoKTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYW4gYWRhcHRlciBmb3IgdGhlIG1haW4gc2Vzc2lvbi5cbiAqXG4gKiBAcGFyYW0gYWRhcHRlciBBZGFwdGVyIHRvIHJlZ2lzdGVyXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyQWRhcHRlcihhZGFwdGVyKSB7XG4gIHNlc3Npb24ucmVnaXN0ZXJBZGFwdGVyKGFkYXB0ZXIpO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFuIGFwcGxpY2F0aW9uIHZpc2l0IHRvIHRoZSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKiBAcGFyYW0gbG9jYXRpb24gTG9jYXRpb24gdG8gdmlzaXQgKGEgVVJMIG9yIHBhdGgpXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIGFwcGx5XG4gKiBAcGFyYW0gb3B0aW9ucy5hY3Rpb24gVHlwZSBvZiBoaXN0b3J5IG5hdmlnYXRpb24gdG8gYXBwbHkgKFwicmVzdG9yZVwiLFxuICogXCJyZXBsYWNlXCIgb3IgXCJhZHZhbmNlXCIpXG4gKiBAcGFyYW0gb3B0aW9ucy5oaXN0b3J5Q2hhbmdlZCBTcGVjaWZpZXMgd2hldGhlciB0aGUgYnJvd3NlciBoaXN0b3J5IGhhc1xuICogYWxyZWFkeSBiZWVuIGNoYW5nZWQgZm9yIHRoaXMgdmlzaXQgb3Igbm90XG4gKiBAcGFyYW0gb3B0aW9ucy5yZWZlcnJlciBTcGVjaWZpZXMgdGhlIHJlZmVycmVyIG9mIHRoaXMgdmlzaXQgc3VjaCB0aGF0XG4gKiBuYXZpZ2F0aW9ucyB0byB0aGUgc2FtZSBwYWdlIHdpbGwgbm90IHJlc3VsdCBpbiBhIG5ldyBoaXN0b3J5IGVudHJ5LlxuICogQHBhcmFtIG9wdGlvbnMuc25hcHNob3RIVE1MIENhY2hlZCBzbmFwc2hvdCB0byByZW5kZXJcbiAqIEBwYXJhbSBvcHRpb25zLnJlc3BvbnNlIFJlc3BvbnNlIG9mIHRoZSBzcGVjaWZpZWQgbG9jYXRpb25cbiAqL1xuZnVuY3Rpb24gdmlzaXQobG9jYXRpb24sIG9wdGlvbnMpIHtcbiAgc2Vzc2lvbi52aXNpdChsb2NhdGlvbiwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ29ubmVjdHMgYSBzdHJlYW0gc291cmNlIHRvIHRoZSBtYWluIHNlc3Npb24uXG4gKlxuICogQHBhcmFtIHNvdXJjZSBTdHJlYW0gc291cmNlIHRvIGNvbm5lY3RcbiAqL1xuZnVuY3Rpb24gY29ubmVjdFN0cmVhbVNvdXJjZShzb3VyY2UpIHtcbiAgc2Vzc2lvbi5jb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSk7XG59XG5cbi8qKlxuICogRGlzY29ubmVjdHMgYSBzdHJlYW0gc291cmNlIGZyb20gdGhlIG1haW4gc2Vzc2lvbi5cbiAqXG4gKiBAcGFyYW0gc291cmNlIFN0cmVhbSBzb3VyY2UgdG8gZGlzY29ubmVjdFxuICovXG5mdW5jdGlvbiBkaXNjb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSkge1xuICBzZXNzaW9uLmRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIGEgc3RyZWFtIG1lc3NhZ2UgdG8gdGhlIG1haW4gc2Vzc2lvbiBieSBhcHBlbmRpbmcgaXQgdG8gdGhlXG4gKiBjdXJyZW50IGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gcmVuZGVyXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclN0cmVhbU1lc3NhZ2UobWVzc2FnZSkge1xuICBzZXNzaW9uLnJlbmRlclN0cmVhbU1lc3NhZ2UobWVzc2FnZSk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgZW50cmllcyBmcm9tIHRoZSBUdXJibyBEcml2ZSBwYWdlIGNhY2hlLlxuICogQ2FsbCB0aGlzIHdoZW4gc3RhdGUgaGFzIGNoYW5nZWQgb24gdGhlIHNlcnZlciB0aGF0IG1heSBhZmZlY3QgY2FjaGVkIHBhZ2VzLlxuICpcbiAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNy4yLjAgaW4gZmF2b3Igb2YgYFR1cmJvLmNhY2hlLmNsZWFyKClgXG4gKi9cbmZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gIGNvbnNvbGUud2FybihcbiAgICBcIlBsZWFzZSByZXBsYWNlIGBUdXJiby5jbGVhckNhY2hlKClgIHdpdGggYFR1cmJvLmNhY2hlLmNsZWFyKClgLiBUaGUgdG9wLWxldmVsIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIFR1cmJvLmBcIlxuICApO1xuICBzZXNzaW9uLmNsZWFyQ2FjaGUoKTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBkZWxheSBhZnRlciB3aGljaCB0aGUgcHJvZ3Jlc3MgYmFyIHdpbGwgYXBwZWFyIGR1cmluZyBuYXZpZ2F0aW9uLlxuICpcbiAqIFRoZSBwcm9ncmVzcyBiYXIgYXBwZWFycyBhZnRlciA1MDBtcyBieSBkZWZhdWx0LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBoYXMgbm8gZWZmZWN0IHdoZW4gdXNlZCB3aXRoIHRoZSBpT1Mgb3IgQW5kcm9pZFxuICogYWRhcHRlcnMuXG4gKlxuICogQHBhcmFtIGRlbGF5IFRpbWUgdG8gZGVsYXkgaW4gbWlsbGlzZWNvbmRzXG4gKi9cbmZ1bmN0aW9uIHNldFByb2dyZXNzQmFyRGVsYXkoZGVsYXkpIHtcbiAgc2Vzc2lvbi5zZXRQcm9ncmVzc0JhckRlbGF5KGRlbGF5KTtcbn1cblxuZnVuY3Rpb24gc2V0Q29uZmlybU1ldGhvZChjb25maXJtTWV0aG9kKSB7XG4gIEZvcm1TdWJtaXNzaW9uLmNvbmZpcm1NZXRob2QgPSBjb25maXJtTWV0aG9kO1xufVxuXG5mdW5jdGlvbiBzZXRGb3JtTW9kZShtb2RlKSB7XG4gIHNlc3Npb24uc2V0Rm9ybU1vZGUobW9kZSk7XG59XG5cbnZhciBUdXJibyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBuYXZpZ2F0b3I6IG5hdmlnYXRvciQxLFxuICBzZXNzaW9uOiBzZXNzaW9uLFxuICBjYWNoZTogY2FjaGUsXG4gIFBhZ2VSZW5kZXJlcjogUGFnZVJlbmRlcmVyLFxuICBQYWdlU25hcHNob3Q6IFBhZ2VTbmFwc2hvdCxcbiAgRnJhbWVSZW5kZXJlcjogRnJhbWVSZW5kZXJlcixcbiAgZmV0Y2g6IGZldGNoV2l0aFR1cmJvSGVhZGVycyxcbiAgc3RhcnQ6IHN0YXJ0LFxuICByZWdpc3RlckFkYXB0ZXI6IHJlZ2lzdGVyQWRhcHRlcixcbiAgdmlzaXQ6IHZpc2l0LFxuICBjb25uZWN0U3RyZWFtU291cmNlOiBjb25uZWN0U3RyZWFtU291cmNlLFxuICBkaXNjb25uZWN0U3RyZWFtU291cmNlOiBkaXNjb25uZWN0U3RyZWFtU291cmNlLFxuICByZW5kZXJTdHJlYW1NZXNzYWdlOiByZW5kZXJTdHJlYW1NZXNzYWdlLFxuICBjbGVhckNhY2hlOiBjbGVhckNhY2hlLFxuICBzZXRQcm9ncmVzc0JhckRlbGF5OiBzZXRQcm9ncmVzc0JhckRlbGF5LFxuICBzZXRDb25maXJtTWV0aG9kOiBzZXRDb25maXJtTWV0aG9kLFxuICBzZXRGb3JtTW9kZTogc2V0Rm9ybU1vZGVcbn0pO1xuXG5jbGFzcyBUdXJib0ZyYW1lTWlzc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuY2xhc3MgRnJhbWVDb250cm9sbGVyIHtcbiAgZmV0Y2hSZXNwb25zZUxvYWRlZCA9IChfZmV0Y2hSZXNwb25zZSkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbiAgI2N1cnJlbnRGZXRjaFJlcXVlc3QgPSBudWxsXG4gICNyZXNvbHZlVmlzaXRQcm9taXNlID0gKCkgPT4ge31cbiAgI2Nvbm5lY3RlZCA9IGZhbHNlXG4gICNoYXNCZWVuTG9hZGVkID0gZmFsc2VcbiAgI2lnbm9yZWRBdHRyaWJ1dGVzID0gbmV3IFNldCgpXG4gIGFjdGlvbiA9IG51bGxcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLnZpZXcgPSBuZXcgRnJhbWVWaWV3KHRoaXMsIHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy5hcHBlYXJhbmNlT2JzZXJ2ZXIgPSBuZXcgQXBwZWFyYW5jZU9ic2VydmVyKHRoaXMsIHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy5mb3JtTGlua0NsaWNrT2JzZXJ2ZXIgPSBuZXcgRm9ybUxpbmtDbGlja09ic2VydmVyKHRoaXMsIHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy5saW5rSW50ZXJjZXB0b3IgPSBuZXcgTGlua0ludGVyY2VwdG9yKHRoaXMsIHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIgPSB1dWlkKCk7XG4gICAgdGhpcy5mb3JtU3VibWl0T2JzZXJ2ZXIgPSBuZXcgRm9ybVN1Ym1pdE9ic2VydmVyKHRoaXMsIHRoaXMuZWxlbWVudCk7XG4gIH1cblxuICAvLyBGcmFtZSBkZWxlZ2F0ZVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKCF0aGlzLiNjb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuI2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5sb2FkaW5nU3R5bGUgPT0gRnJhbWVMb2FkaW5nU3R5bGUubGF6eSkge1xuICAgICAgICB0aGlzLmFwcGVhcmFuY2VPYnNlcnZlci5zdGFydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4jbG9hZFNvdXJjZVVSTCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JtTGlua0NsaWNrT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMubGlua0ludGVyY2VwdG9yLnN0YXJ0KCk7XG4gICAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuI2Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy4jY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmFwcGVhcmFuY2VPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLmZvcm1MaW5rQ2xpY2tPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLmxpbmtJbnRlcmNlcHRvci5zdG9wKCk7XG4gICAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZWRDaGFuZ2VkKCkge1xuICAgIGlmICh0aGlzLmxvYWRpbmdTdHlsZSA9PSBGcmFtZUxvYWRpbmdTdHlsZS5lYWdlcikge1xuICAgICAgdGhpcy4jbG9hZFNvdXJjZVVSTCgpO1xuICAgIH1cbiAgfVxuXG4gIHNvdXJjZVVSTENoYW5nZWQoKSB7XG4gICAgaWYgKHRoaXMuI2lzSWdub3JpbmdDaGFuZ2VzVG8oXCJzcmNcIikpIHJldHVyblxuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5pc0Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxvYWRpbmdTdHlsZSA9PSBGcmFtZUxvYWRpbmdTdHlsZS5lYWdlciB8fCB0aGlzLiNoYXNCZWVuTG9hZGVkKSB7XG4gICAgICB0aGlzLiNsb2FkU291cmNlVVJMKCk7XG4gICAgfVxuICB9XG5cbiAgc291cmNlVVJMUmVsb2FkZWQoKSB7XG4gICAgY29uc3QgeyBzcmMgfSA9IHRoaXMuZWxlbWVudDtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiY29tcGxldGVcIik7XG4gICAgdGhpcy5lbGVtZW50LnNyYyA9IG51bGw7XG4gICAgdGhpcy5lbGVtZW50LnNyYyA9IHNyYztcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmxvYWRlZFxuICB9XG5cbiAgbG9hZGluZ1N0eWxlQ2hhbmdlZCgpIHtcbiAgICBpZiAodGhpcy5sb2FkaW5nU3R5bGUgPT0gRnJhbWVMb2FkaW5nU3R5bGUubGF6eSkge1xuICAgICAgdGhpcy5hcHBlYXJhbmNlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcHBlYXJhbmNlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy4jbG9hZFNvdXJjZVVSTCgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jICNsb2FkU291cmNlVVJMKCkge1xuICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgdGhpcy5pc0FjdGl2ZSAmJiAhdGhpcy5jb21wbGV0ZSAmJiB0aGlzLnNvdXJjZVVSTCkge1xuICAgICAgdGhpcy5lbGVtZW50LmxvYWRlZCA9IHRoaXMuI3Zpc2l0KGV4cGFuZFVSTCh0aGlzLnNvdXJjZVVSTCkpO1xuICAgICAgdGhpcy5hcHBlYXJhbmNlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgYXdhaXQgdGhpcy5lbGVtZW50LmxvYWRlZDtcbiAgICAgIHRoaXMuI2hhc0JlZW5Mb2FkZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRSZXNwb25zZShmZXRjaFJlc3BvbnNlKSB7XG4gICAgaWYgKGZldGNoUmVzcG9uc2UucmVkaXJlY3RlZCB8fCAoZmV0Y2hSZXNwb25zZS5zdWNjZWVkZWQgJiYgZmV0Y2hSZXNwb25zZS5pc0hUTUwpKSB7XG4gICAgICB0aGlzLnNvdXJjZVVSTCA9IGZldGNoUmVzcG9uc2UucmVzcG9uc2UudXJsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5yZXNwb25zZUhUTUw7XG4gICAgICBpZiAoaHRtbCkge1xuICAgICAgICBjb25zdCBkb2N1bWVudCA9IHBhcnNlSFRNTERvY3VtZW50KGh0bWwpO1xuICAgICAgICBjb25zdCBwYWdlU25hcHNob3QgPSBQYWdlU25hcHNob3QuZnJvbURvY3VtZW50KGRvY3VtZW50KTtcblxuICAgICAgICBpZiAocGFnZVNuYXBzaG90LmlzVmlzaXRhYmxlKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy4jbG9hZEZyYW1lUmVzcG9uc2UoZmV0Y2hSZXNwb25zZSwgZG9jdW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IHRoaXMuI2hhbmRsZVVudmlzaXRhYmxlRnJhbWVSZXNwb25zZShmZXRjaFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmZldGNoUmVzcG9uc2VMb2FkZWQgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH1cblxuICAvLyBBcHBlYXJhbmNlIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgZWxlbWVudEFwcGVhcmVkSW5WaWV3cG9ydChlbGVtZW50KSB7XG4gICAgdGhpcy5wcm9wb3NlVmlzaXRJZk5hdmlnYXRlZFdpdGhBY3Rpb24oZWxlbWVudCwgZ2V0VmlzaXRBY3Rpb24oZWxlbWVudCkpO1xuICAgIHRoaXMuI2xvYWRTb3VyY2VVUkwoKTtcbiAgfVxuXG4gIC8vIEZvcm0gbGluayBjbGljayBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIHdpbGxTdWJtaXRGb3JtTGlua1RvTG9jYXRpb24obGluaykge1xuICAgIHJldHVybiB0aGlzLiNzaG91bGRJbnRlcmNlcHROYXZpZ2F0aW9uKGxpbmspXG4gIH1cblxuICBzdWJtaXR0ZWRGb3JtTGlua1RvTG9jYXRpb24obGluaywgX2xvY2F0aW9uLCBmb3JtKSB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLiNmaW5kRnJhbWVFbGVtZW50KGxpbmspO1xuICAgIGlmIChmcmFtZSkgZm9ybS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIsIGZyYW1lLmlkKTtcbiAgfVxuXG4gIC8vIExpbmsgaW50ZXJjZXB0b3IgZGVsZWdhdGVcblxuICBzaG91bGRJbnRlcmNlcHRMaW5rQ2xpY2soZWxlbWVudCwgX2xvY2F0aW9uLCBfZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy4jc2hvdWxkSW50ZXJjZXB0TmF2aWdhdGlvbihlbGVtZW50KVxuICB9XG5cbiAgbGlua0NsaWNrSW50ZXJjZXB0ZWQoZWxlbWVudCwgbG9jYXRpb24pIHtcbiAgICB0aGlzLiNuYXZpZ2F0ZUZyYW1lKGVsZW1lbnQsIGxvY2F0aW9uKTtcbiAgfVxuXG4gIC8vIEZvcm0gc3VibWl0IG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgd2lsbFN1Ym1pdEZvcm0oZWxlbWVudCwgc3VibWl0dGVyKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xvc2VzdChcInR1cmJvLWZyYW1lXCIpID09IHRoaXMuZWxlbWVudCAmJiB0aGlzLiNzaG91bGRJbnRlcmNlcHROYXZpZ2F0aW9uKGVsZW1lbnQsIHN1Ym1pdHRlcilcbiAgfVxuXG4gIGZvcm1TdWJtaXR0ZWQoZWxlbWVudCwgc3VibWl0dGVyKSB7XG4gICAgaWYgKHRoaXMuZm9ybVN1Ym1pc3Npb24pIHtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pc3Npb24uc3RvcCgpO1xuICAgIH1cblxuICAgIHRoaXMuZm9ybVN1Ym1pc3Npb24gPSBuZXcgRm9ybVN1Ym1pc3Npb24odGhpcywgZWxlbWVudCwgc3VibWl0dGVyKTtcbiAgICBjb25zdCB7IGZldGNoUmVxdWVzdCB9ID0gdGhpcy5mb3JtU3VibWlzc2lvbjtcbiAgICB0aGlzLnByZXBhcmVSZXF1ZXN0KGZldGNoUmVxdWVzdCk7XG4gICAgdGhpcy5mb3JtU3VibWlzc2lvbi5zdGFydCgpO1xuICB9XG5cbiAgLy8gRmV0Y2ggcmVxdWVzdCBkZWxlZ2F0ZVxuXG4gIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICByZXF1ZXN0LmhlYWRlcnNbXCJUdXJiby1GcmFtZVwiXSA9IHRoaXMuaWQ7XG5cbiAgICBpZiAodGhpcy5jdXJyZW50TmF2aWdhdGlvbkVsZW1lbnQ/Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3RyZWFtXCIpKSB7XG4gICAgICByZXF1ZXN0LmFjY2VwdFJlc3BvbnNlVHlwZShTdHJlYW1NZXNzYWdlLmNvbnRlbnRUeXBlKTtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0U3RhcnRlZChfcmVxdWVzdCkge1xuICAgIG1hcmtBc0J1c3kodGhpcy5lbGVtZW50KTtcbiAgfVxuXG4gIHJlcXVlc3RQcmV2ZW50ZWRIYW5kbGluZ1Jlc3BvbnNlKF9yZXF1ZXN0LCBfcmVzcG9uc2UpIHtcbiAgICB0aGlzLiNyZXNvbHZlVmlzaXRQcm9taXNlKCk7XG4gIH1cblxuICBhc3luYyByZXF1ZXN0U3VjY2VlZGVkV2l0aFJlc3BvbnNlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIHRoaXMuI3Jlc29sdmVWaXNpdFByb21pc2UoKTtcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3RGYWlsZWRXaXRoUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRSZXNwb25zZShyZXNwb25zZSk7XG4gICAgdGhpcy4jcmVzb2x2ZVZpc2l0UHJvbWlzZSgpO1xuICB9XG5cbiAgcmVxdWVzdEVycm9yZWQocmVxdWVzdCwgZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aGlzLiNyZXNvbHZlVmlzaXRQcm9taXNlKCk7XG4gIH1cblxuICByZXF1ZXN0RmluaXNoZWQoX3JlcXVlc3QpIHtcbiAgICBjbGVhckJ1c3lTdGF0ZSh0aGlzLmVsZW1lbnQpO1xuICB9XG5cbiAgLy8gRm9ybSBzdWJtaXNzaW9uIGRlbGVnYXRlXG5cbiAgZm9ybVN1Ym1pc3Npb25TdGFydGVkKHsgZm9ybUVsZW1lbnQgfSkge1xuICAgIG1hcmtBc0J1c3koZm9ybUVsZW1lbnQsIHRoaXMuI2ZpbmRGcmFtZUVsZW1lbnQoZm9ybUVsZW1lbnQpKTtcbiAgfVxuXG4gIGZvcm1TdWJtaXNzaW9uU3VjY2VlZGVkV2l0aFJlc3BvbnNlKGZvcm1TdWJtaXNzaW9uLCByZXNwb25zZSkge1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy4jZmluZEZyYW1lRWxlbWVudChmb3JtU3VibWlzc2lvbi5mb3JtRWxlbWVudCwgZm9ybVN1Ym1pc3Npb24uc3VibWl0dGVyKTtcblxuICAgIGZyYW1lLmRlbGVnYXRlLnByb3Bvc2VWaXNpdElmTmF2aWdhdGVkV2l0aEFjdGlvbihmcmFtZSwgZ2V0VmlzaXRBY3Rpb24oZm9ybVN1Ym1pc3Npb24uc3VibWl0dGVyLCBmb3JtU3VibWlzc2lvbi5mb3JtRWxlbWVudCwgZnJhbWUpKTtcbiAgICBmcmFtZS5kZWxlZ2F0ZS5sb2FkUmVzcG9uc2UocmVzcG9uc2UpO1xuXG4gICAgaWYgKCFmb3JtU3VibWlzc2lvbi5pc1NhZmUpIHtcbiAgICAgIHNlc3Npb24uY2xlYXJDYWNoZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1TdWJtaXNzaW9uRmFpbGVkV2l0aFJlc3BvbnNlKGZvcm1TdWJtaXNzaW9uLCBmZXRjaFJlc3BvbnNlKSB7XG4gICAgdGhpcy5lbGVtZW50LmRlbGVnYXRlLmxvYWRSZXNwb25zZShmZXRjaFJlc3BvbnNlKTtcbiAgICBzZXNzaW9uLmNsZWFyQ2FjaGUoKTtcbiAgfVxuXG4gIGZvcm1TdWJtaXNzaW9uRXJyb3JlZChmb3JtU3VibWlzc2lvbiwgZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfVxuXG4gIGZvcm1TdWJtaXNzaW9uRmluaXNoZWQoeyBmb3JtRWxlbWVudCB9KSB7XG4gICAgY2xlYXJCdXN5U3RhdGUoZm9ybUVsZW1lbnQsIHRoaXMuI2ZpbmRGcmFtZUVsZW1lbnQoZm9ybUVsZW1lbnQpKTtcbiAgfVxuXG4gIC8vIFZpZXcgZGVsZWdhdGVcblxuICBhbGxvd3NJbW1lZGlhdGVSZW5kZXIoeyBlbGVtZW50OiBuZXdGcmFtZSB9LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZXZlbnQgPSBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1mcmFtZS1yZW5kZXJcIiwge1xuICAgICAgdGFyZ2V0OiB0aGlzLmVsZW1lbnQsXG4gICAgICBkZXRhaWw6IHsgbmV3RnJhbWUsIC4uLm9wdGlvbnMgfSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICBkZWZhdWx0UHJldmVudGVkLFxuICAgICAgZGV0YWlsOiB7IHJlbmRlciB9XG4gICAgfSA9IGV2ZW50O1xuXG4gICAgaWYgKHRoaXMudmlldy5yZW5kZXJlciAmJiByZW5kZXIpIHtcbiAgICAgIHRoaXMudmlldy5yZW5kZXJlci5yZW5kZXJFbGVtZW50ID0gcmVuZGVyO1xuICAgIH1cblxuICAgIHJldHVybiAhZGVmYXVsdFByZXZlbnRlZFxuICB9XG5cbiAgdmlld1JlbmRlcmVkU25hcHNob3QoX3NuYXBzaG90LCBfaXNQcmV2aWV3LCBfcmVuZGVyTWV0aG9kKSB7fVxuXG4gIHByZWxvYWRPbkxvYWRMaW5rc0ZvclZpZXcoZWxlbWVudCkge1xuICAgIHNlc3Npb24ucHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhlbGVtZW50KTtcbiAgfVxuXG4gIHZpZXdJbnZhbGlkYXRlZCgpIHt9XG5cbiAgLy8gRnJhbWUgcmVuZGVyZXIgZGVsZWdhdGVcblxuICB3aWxsUmVuZGVyRnJhbWUoY3VycmVudEVsZW1lbnQsIF9uZXdFbGVtZW50KSB7XG4gICAgdGhpcy5wcmV2aW91c0ZyYW1lRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIHZpc2l0Q2FjaGVkU25hcHNob3QgPSAoeyBlbGVtZW50IH0pID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIHRoaXMuZWxlbWVudC5pZCk7XG5cbiAgICBpZiAoZnJhbWUgJiYgdGhpcy5wcmV2aW91c0ZyYW1lRWxlbWVudCkge1xuICAgICAgZnJhbWUucmVwbGFjZUNoaWxkcmVuKC4uLnRoaXMucHJldmlvdXNGcmFtZUVsZW1lbnQuY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLnByZXZpb3VzRnJhbWVFbGVtZW50O1xuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIGFzeW5jICNsb2FkRnJhbWVSZXNwb25zZShmZXRjaFJlc3BvbnNlLCBkb2N1bWVudCkge1xuICAgIGNvbnN0IG5ld0ZyYW1lRWxlbWVudCA9IGF3YWl0IHRoaXMuZXh0cmFjdEZvcmVpZ25GcmFtZUVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG5cbiAgICBpZiAobmV3RnJhbWVFbGVtZW50KSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IG5ldyBTbmFwc2hvdChuZXdGcmFtZUVsZW1lbnQpO1xuICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgRnJhbWVSZW5kZXJlcih0aGlzLCB0aGlzLnZpZXcuc25hcHNob3QsIHNuYXBzaG90LCBGcmFtZVJlbmRlcmVyLnJlbmRlckVsZW1lbnQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICBpZiAodGhpcy52aWV3LnJlbmRlclByb21pc2UpIGF3YWl0IHRoaXMudmlldy5yZW5kZXJQcm9taXNlO1xuICAgICAgdGhpcy5jaGFuZ2VIaXN0b3J5KCk7XG5cbiAgICAgIGF3YWl0IHRoaXMudmlldy5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgdGhpcy5jb21wbGV0ZSA9IHRydWU7XG4gICAgICBzZXNzaW9uLmZyYW1lUmVuZGVyZWQoZmV0Y2hSZXNwb25zZSwgdGhpcy5lbGVtZW50KTtcbiAgICAgIHNlc3Npb24uZnJhbWVMb2FkZWQodGhpcy5lbGVtZW50KTtcbiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hSZXNwb25zZUxvYWRlZChmZXRjaFJlc3BvbnNlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuI3dpbGxIYW5kbGVGcmFtZU1pc3NpbmdGcm9tUmVzcG9uc2UoZmV0Y2hSZXNwb25zZSkpIHtcbiAgICAgIHRoaXMuI2hhbmRsZUZyYW1lTWlzc2luZ0Zyb21SZXNwb25zZShmZXRjaFJlc3BvbnNlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyAjdmlzaXQodXJsKSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QodGhpcywgRmV0Y2hNZXRob2QuZ2V0LCB1cmwsIG5ldyBVUkxTZWFyY2hQYXJhbXMoKSwgdGhpcy5lbGVtZW50KTtcblxuICAgIHRoaXMuI2N1cnJlbnRGZXRjaFJlcXVlc3Q/LmNhbmNlbCgpO1xuICAgIHRoaXMuI2N1cnJlbnRGZXRjaFJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLiNyZXNvbHZlVmlzaXRQcm9taXNlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLiNyZXNvbHZlVmlzaXRQcm9taXNlID0gKCkgPT4ge307XG4gICAgICAgIHRoaXMuI2N1cnJlbnRGZXRjaFJlcXVlc3QgPSBudWxsO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgICAgcmVxdWVzdC5wZXJmb3JtKCk7XG4gICAgfSlcbiAgfVxuXG4gICNuYXZpZ2F0ZUZyYW1lKGVsZW1lbnQsIHVybCwgc3VibWl0dGVyKSB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLiNmaW5kRnJhbWVFbGVtZW50KGVsZW1lbnQsIHN1Ym1pdHRlcik7XG5cbiAgICBmcmFtZS5kZWxlZ2F0ZS5wcm9wb3NlVmlzaXRJZk5hdmlnYXRlZFdpdGhBY3Rpb24oZnJhbWUsIGdldFZpc2l0QWN0aW9uKHN1Ym1pdHRlciwgZWxlbWVudCwgZnJhbWUpKTtcblxuICAgIHRoaXMuI3dpdGhDdXJyZW50TmF2aWdhdGlvbkVsZW1lbnQoZWxlbWVudCwgKCkgPT4ge1xuICAgICAgZnJhbWUuc3JjID0gdXJsO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvcG9zZVZpc2l0SWZOYXZpZ2F0ZWRXaXRoQWN0aW9uKGZyYW1lLCBhY3Rpb24gPSBudWxsKSB7XG4gICAgdGhpcy5hY3Rpb24gPSBhY3Rpb247XG5cbiAgICBpZiAodGhpcy5hY3Rpb24pIHtcbiAgICAgIGNvbnN0IHBhZ2VTbmFwc2hvdCA9IFBhZ2VTbmFwc2hvdC5mcm9tRWxlbWVudChmcmFtZSkuY2xvbmUoKTtcbiAgICAgIGNvbnN0IHsgdmlzaXRDYWNoZWRTbmFwc2hvdCB9ID0gZnJhbWUuZGVsZWdhdGU7XG5cbiAgICAgIGZyYW1lLmRlbGVnYXRlLmZldGNoUmVzcG9uc2VMb2FkZWQgPSBhc3luYyAoZmV0Y2hSZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAoZnJhbWUuc3JjKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGF0dXNDb2RlLCByZWRpcmVjdGVkIH0gPSBmZXRjaFJlc3BvbnNlO1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlSFRNTCA9IGF3YWl0IGZldGNoUmVzcG9uc2UucmVzcG9uc2VIVE1MO1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geyBzdGF0dXNDb2RlLCByZWRpcmVjdGVkLCByZXNwb25zZUhUTUwgfTtcbiAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICB2aXNpdENhY2hlZFNuYXBzaG90LFxuICAgICAgICAgICAgd2lsbFJlbmRlcjogZmFsc2UsXG4gICAgICAgICAgICB1cGRhdGVIaXN0b3J5OiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3RvcmF0aW9uSWRlbnRpZmllcjogdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIsXG4gICAgICAgICAgICBzbmFwc2hvdDogcGFnZVNuYXBzaG90XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICh0aGlzLmFjdGlvbikgb3B0aW9ucy5hY3Rpb24gPSB0aGlzLmFjdGlvbjtcblxuICAgICAgICAgIHNlc3Npb24udmlzaXQoZnJhbWUuc3JjLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VIaXN0b3J5KCkge1xuICAgIGlmICh0aGlzLmFjdGlvbikge1xuICAgICAgY29uc3QgbWV0aG9kID0gZ2V0SGlzdG9yeU1ldGhvZEZvckFjdGlvbih0aGlzLmFjdGlvbik7XG4gICAgICBzZXNzaW9uLmhpc3RvcnkudXBkYXRlKG1ldGhvZCwgZXhwYW5kVVJMKHRoaXMuZWxlbWVudC5zcmMgfHwgXCJcIiksIHRoaXMucmVzdG9yYXRpb25JZGVudGlmaWVyKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyAjaGFuZGxlVW52aXNpdGFibGVGcmFtZVJlc3BvbnNlKGZldGNoUmVzcG9uc2UpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgVGhlIHJlc3BvbnNlICgke2ZldGNoUmVzcG9uc2Uuc3RhdHVzQ29kZX0pIGZyb20gPHR1cmJvLWZyYW1lIGlkPVwiJHt0aGlzLmVsZW1lbnQuaWR9XCI+IGlzIHBlcmZvcm1pbmcgYSBmdWxsIHBhZ2UgdmlzaXQgZHVlIHRvIHR1cmJvLXZpc2l0LWNvbnRyb2wuYFxuICAgICk7XG5cbiAgICBhd2FpdCB0aGlzLiN2aXNpdFJlc3BvbnNlKGZldGNoUmVzcG9uc2UucmVzcG9uc2UpO1xuICB9XG5cbiAgI3dpbGxIYW5kbGVGcmFtZU1pc3NpbmdGcm9tUmVzcG9uc2UoZmV0Y2hSZXNwb25zZSkge1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb21wbGV0ZVwiLCBcIlwiKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gZmV0Y2hSZXNwb25zZS5yZXNwb25zZTtcbiAgICBjb25zdCB2aXNpdCA9IGFzeW5jICh1cmwsIG9wdGlvbnMpID0+IHtcbiAgICAgIGlmICh1cmwgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICAgICAgICB0aGlzLiN2aXNpdFJlc3BvbnNlKHVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXNzaW9uLnZpc2l0KHVybCwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGV2ZW50ID0gZGlzcGF0Y2goXCJ0dXJibzpmcmFtZS1taXNzaW5nXCIsIHtcbiAgICAgIHRhcmdldDogdGhpcy5lbGVtZW50LFxuICAgICAgZGV0YWlsOiB7IHJlc3BvbnNlLCB2aXNpdCB9LFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkXG4gIH1cblxuICAjaGFuZGxlRnJhbWVNaXNzaW5nRnJvbVJlc3BvbnNlKGZldGNoUmVzcG9uc2UpIHtcbiAgICB0aGlzLnZpZXcubWlzc2luZygpO1xuICAgIHRoaXMuI3Rocm93RnJhbWVNaXNzaW5nRXJyb3IoZmV0Y2hSZXNwb25zZSk7XG4gIH1cblxuICAjdGhyb3dGcmFtZU1pc3NpbmdFcnJvcihmZXRjaFJlc3BvbnNlKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBUaGUgcmVzcG9uc2UgKCR7ZmV0Y2hSZXNwb25zZS5zdGF0dXNDb2RlfSkgZGlkIG5vdCBjb250YWluIHRoZSBleHBlY3RlZCA8dHVyYm8tZnJhbWUgaWQ9XCIke3RoaXMuZWxlbWVudC5pZH1cIj4gYW5kIHdpbGwgYmUgaWdub3JlZC4gVG8gcGVyZm9ybSBhIGZ1bGwgcGFnZSB2aXNpdCBpbnN0ZWFkLCBzZXQgdHVyYm8tdmlzaXQtY29udHJvbCB0byByZWxvYWQuYDtcbiAgICB0aHJvdyBuZXcgVHVyYm9GcmFtZU1pc3NpbmdFcnJvcihtZXNzYWdlKVxuICB9XG5cbiAgYXN5bmMgI3Zpc2l0UmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBjb25zdCB3cmFwcGVkID0gbmV3IEZldGNoUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IHJlc3BvbnNlSFRNTCA9IGF3YWl0IHdyYXBwZWQucmVzcG9uc2VIVE1MO1xuICAgIGNvbnN0IHsgbG9jYXRpb24sIHJlZGlyZWN0ZWQsIHN0YXR1c0NvZGUgfSA9IHdyYXBwZWQ7XG5cbiAgICByZXR1cm4gc2Vzc2lvbi52aXNpdChsb2NhdGlvbiwgeyByZXNwb25zZTogeyByZWRpcmVjdGVkLCBzdGF0dXNDb2RlLCByZXNwb25zZUhUTUwgfSB9KVxuICB9XG5cbiAgI2ZpbmRGcmFtZUVsZW1lbnQoZWxlbWVudCwgc3VibWl0dGVyKSB7XG4gICAgY29uc3QgaWQgPSBnZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIsIHN1Ym1pdHRlciwgZWxlbWVudCkgfHwgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhcmdldFwiKTtcbiAgICByZXR1cm4gZ2V0RnJhbWVFbGVtZW50QnlJZChpZCkgPz8gdGhpcy5lbGVtZW50XG4gIH1cblxuICBhc3luYyBleHRyYWN0Rm9yZWlnbkZyYW1lRWxlbWVudChjb250YWluZXIpIHtcbiAgICBsZXQgZWxlbWVudDtcbiAgICBjb25zdCBpZCA9IENTUy5lc2NhcGUodGhpcy5pZCk7XG5cbiAgICB0cnkge1xuICAgICAgZWxlbWVudCA9IGFjdGl2YXRlRWxlbWVudChjb250YWluZXIucXVlcnlTZWxlY3RvcihgdHVyYm8tZnJhbWUjJHtpZH1gKSwgdGhpcy5zb3VyY2VVUkwpO1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGFjdGl2YXRlRWxlbWVudChjb250YWluZXIucXVlcnlTZWxlY3RvcihgdHVyYm8tZnJhbWVbc3JjXVtyZWN1cnNlfj0ke2lkfV1gKSwgdGhpcy5zb3VyY2VVUkwpO1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgYXdhaXQgZWxlbWVudC5sb2FkZWQ7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmV4dHJhY3RGb3JlaWduRnJhbWVFbGVtZW50KGVsZW1lbnQpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFtZUVsZW1lbnQoKVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAjZm9ybUFjdGlvbklzVmlzaXRhYmxlKGZvcm0sIHN1Ym1pdHRlcikge1xuICAgIGNvbnN0IGFjdGlvbiA9IGdldEFjdGlvbiQxKGZvcm0sIHN1Ym1pdHRlcik7XG5cbiAgICByZXR1cm4gbG9jYXRpb25Jc1Zpc2l0YWJsZShleHBhbmRVUkwoYWN0aW9uKSwgdGhpcy5yb290TG9jYXRpb24pXG4gIH1cblxuICAjc2hvdWxkSW50ZXJjZXB0TmF2aWdhdGlvbihlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICBjb25zdCBpZCA9IGdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIiwgc3VibWl0dGVyLCBlbGVtZW50KSB8fCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpO1xuXG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQgJiYgIXRoaXMuI2Zvcm1BY3Rpb25Jc1Zpc2l0YWJsZShlbGVtZW50LCBzdWJtaXR0ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZW5hYmxlZCB8fCBpZCA9PSBcIl90b3BcIikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGlkKSB7XG4gICAgICBjb25zdCBmcmFtZUVsZW1lbnQgPSBnZXRGcmFtZUVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIGlmIChmcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuICFmcmFtZUVsZW1lbnQuZGlzYWJsZWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXNlc3Npb24uZWxlbWVudElzTmF2aWdhdGFibGUoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChzdWJtaXR0ZXIgJiYgIXNlc3Npb24uZWxlbWVudElzTmF2aWdhdGFibGUoc3VibWl0dGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIENvbXB1dGVkIHByb3BlcnRpZXNcblxuICBnZXQgaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pZFxuICB9XG5cbiAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICF0aGlzLmVsZW1lbnQuZGlzYWJsZWRcbiAgfVxuXG4gIGdldCBzb3VyY2VVUkwoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5zcmMpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3JjXG4gICAgfVxuICB9XG5cbiAgc2V0IHNvdXJjZVVSTChzb3VyY2VVUkwpIHtcbiAgICB0aGlzLiNpZ25vcmluZ0NoYW5nZXNUb0F0dHJpYnV0ZShcInNyY1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3JjID0gc291cmNlVVJMID8/IG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgbG9hZGluZ1N0eWxlKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQubG9hZGluZ1xuICB9XG5cbiAgZ2V0IGlzTG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtU3VibWlzc2lvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuI3Jlc29sdmVWaXNpdFByb21pc2UoKSAhPT0gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgY29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJjb21wbGV0ZVwiKVxuICB9XG5cbiAgc2V0IGNvbXBsZXRlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29tcGxldGVcIiwgXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJjb21wbGV0ZVwiKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pc0FjdGl2ZSAmJiB0aGlzLiNjb25uZWN0ZWRcbiAgfVxuXG4gIGdldCByb290TG9jYXRpb24oKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cInR1cmJvLXJvb3RcIl1gKTtcbiAgICBjb25zdCByb290ID0gbWV0YT8uY29udGVudCA/PyBcIi9cIjtcbiAgICByZXR1cm4gZXhwYW5kVVJMKHJvb3QpXG4gIH1cblxuICAjaXNJZ25vcmluZ0NoYW5nZXNUbyhhdHRyaWJ1dGVOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuI2lnbm9yZWRBdHRyaWJ1dGVzLmhhcyhhdHRyaWJ1dGVOYW1lKVxuICB9XG5cbiAgI2lnbm9yaW5nQ2hhbmdlc1RvQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy4jaWdub3JlZEF0dHJpYnV0ZXMuYWRkKGF0dHJpYnV0ZU5hbWUpO1xuICAgIGNhbGxiYWNrKCk7XG4gICAgdGhpcy4jaWdub3JlZEF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICB9XG5cbiAgI3dpdGhDdXJyZW50TmF2aWdhdGlvbkVsZW1lbnQoZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmN1cnJlbnROYXZpZ2F0aW9uRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgY2FsbGJhY2soKTtcbiAgICBkZWxldGUgdGhpcy5jdXJyZW50TmF2aWdhdGlvbkVsZW1lbnQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RnJhbWVFbGVtZW50QnlJZChpZCkge1xuICBpZiAoaWQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlRWxlbWVudChlbGVtZW50LCBjdXJyZW50VVJMKSB7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgY29uc3Qgc3JjID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgaWYgKHNyYyAhPSBudWxsICYmIGN1cnJlbnRVUkwgIT0gbnVsbCAmJiB1cmxzQXJlRXF1YWwoc3JjLCBjdXJyZW50VVJMKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXRjaGluZyA8dHVyYm8tZnJhbWUgaWQ9XCIke2VsZW1lbnQuaWR9XCI+IGVsZW1lbnQgaGFzIGEgc291cmNlIFVSTCB3aGljaCByZWZlcmVuY2VzIGl0c2VsZmApXG4gICAgfVxuICAgIGlmIChlbGVtZW50Lm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50KSB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShlbGVtZW50LCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEZyYW1lRWxlbWVudCkge1xuICAgICAgZWxlbWVudC5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgZWxlbWVudC5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgU3RyZWFtQWN0aW9ucyA9IHtcbiAgYWZ0ZXIoKSB7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiBlLnBhcmVudEVsZW1lbnQ/Lmluc2VydEJlZm9yZSh0aGlzLnRlbXBsYXRlQ29udGVudCwgZS5uZXh0U2libGluZykpO1xuICB9LFxuXG4gIGFwcGVuZCgpIHtcbiAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZVRhcmdldENoaWxkcmVuKCk7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiBlLmFwcGVuZCh0aGlzLnRlbXBsYXRlQ29udGVudCkpO1xuICB9LFxuXG4gIGJlZm9yZSgpIHtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGUpID0+IGUucGFyZW50RWxlbWVudD8uaW5zZXJ0QmVmb3JlKHRoaXMudGVtcGxhdGVDb250ZW50LCBlKSk7XG4gIH0sXG5cbiAgcHJlcGVuZCgpIHtcbiAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZVRhcmdldENoaWxkcmVuKCk7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiBlLnByZXBlbmQodGhpcy50ZW1wbGF0ZUNvbnRlbnQpKTtcbiAgfSxcblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiBlLnJlbW92ZSgpKTtcbiAgfSxcblxuICByZXBsYWNlKCkge1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudHMuZm9yRWFjaCgoZSkgPT4gZS5yZXBsYWNlV2l0aCh0aGlzLnRlbXBsYXRlQ29udGVudCkpO1xuICB9LFxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKHRhcmdldEVsZW1lbnQpID0+IHtcbiAgICAgIHRhcmdldEVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHRhcmdldEVsZW1lbnQuYXBwZW5kKHRoaXMudGVtcGxhdGVDb250ZW50KTtcbiAgICB9KTtcbiAgfSxcblxuICByZWZyZXNoKCkge1xuICAgIHNlc3Npb24ucmVmcmVzaCh0aGlzLmJhc2VVUkksIHRoaXMucmVxdWVzdElkKTtcbiAgfVxufTtcblxuLy8gPHR1cmJvLXN0cmVhbSBhY3Rpb249cmVwbGFjZSB0YXJnZXQ9aWQ+PHRlbXBsYXRlPi4uLlxuXG4vKipcbiAqIFJlbmRlcnMgdXBkYXRlcyB0byB0aGUgcGFnZSBmcm9tIGEgc3RyZWFtIG9mIG1lc3NhZ2VzLlxuICpcbiAqIFVzaW5nIHRoZSBgYWN0aW9uYCBhdHRyaWJ1dGUsIHRoaXMgY2FuIGJlIGNvbmZpZ3VyZWQgb25lIG9mIGZvdXIgd2F5czpcbiAqXG4gKiAtIGBhcHBlbmRgIC0gYXBwZW5kcyB0aGUgcmVzdWx0IHRvIHRoZSBjb250YWluZXJcbiAqIC0gYHByZXBlbmRgIC0gcHJlcGVuZHMgdGhlIHJlc3VsdCB0byB0aGUgY29udGFpbmVyXG4gKiAtIGByZXBsYWNlYCAtIHJlcGxhY2VzIHRoZSBjb250ZW50cyBvZiB0aGUgY29udGFpbmVyXG4gKiAtIGByZW1vdmVgIC0gcmVtb3ZlcyB0aGUgY29udGFpbmVyXG4gKiAtIGBiZWZvcmVgIC0gaW5zZXJ0cyB0aGUgcmVzdWx0IGJlZm9yZSB0aGUgdGFyZ2V0XG4gKiAtIGBhZnRlcmAgLSBpbnNlcnRzIHRoZSByZXN1bHQgYWZ0ZXIgdGhlIHRhcmdldFxuICpcbiAqIEBjdXN0b21FbGVtZW50IHR1cmJvLXN0cmVhbVxuICogQGV4YW1wbGVcbiAqICAgPHR1cmJvLXN0cmVhbSBhY3Rpb249XCJhcHBlbmRcIiB0YXJnZXQ9XCJkb21faWRcIj5cbiAqICAgICA8dGVtcGxhdGU+XG4gKiAgICAgICBDb250ZW50IHRvIGFwcGVuZCB0byBjb250YWluZXIgZGVzaWduYXRlZCB3aXRoIHRoZSBkb21faWQuXG4gKiAgICAgPC90ZW1wbGF0ZT5cbiAqICAgPC90dXJiby1zdHJlYW0+XG4gKi9cbmNsYXNzIFN0cmVhbUVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIHN0YXRpYyBhc3luYyByZW5kZXJFbGVtZW50KG5ld0VsZW1lbnQpIHtcbiAgICBhd2FpdCBuZXdFbGVtZW50LnBlcmZvcm1BY3Rpb24oKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVuZGVyKCkge1xuICAgIHJldHVybiAodGhpcy5yZW5kZXJQcm9taXNlID8/PSAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmJlZm9yZVJlbmRlckV2ZW50O1xuXG4gICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KSkge1xuICAgICAgICBhd2FpdCBuZXh0UmVwYWludCgpO1xuICAgICAgICBhd2FpdCBldmVudC5kZXRhaWwucmVuZGVyKHRoaXMpO1xuICAgICAgfVxuICAgIH0pKCkpXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfSBjYXRjaCB7fVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZHVwbGljYXRlIGNoaWxkcmVuIChieSBJRClcbiAgICovXG4gIHJlbW92ZUR1cGxpY2F0ZVRhcmdldENoaWxkcmVuKCkge1xuICAgIHRoaXMuZHVwbGljYXRlQ2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gYy5yZW1vdmUoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbGlzdCBvZiBkdXBsaWNhdGUgY2hpbGRyZW4gKGkuZS4gdGhvc2Ugd2l0aCB0aGUgc2FtZSBJRClcbiAgICovXG4gIGdldCBkdXBsaWNhdGVDaGlsZHJlbigpIHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkcmVuID0gdGhpcy50YXJnZXRFbGVtZW50cy5mbGF0TWFwKChlKSA9PiBbLi4uZS5jaGlsZHJlbl0pLmZpbHRlcigoYykgPT4gISFjLmlkKTtcbiAgICBjb25zdCBuZXdDaGlsZHJlbklkcyA9IFsuLi4odGhpcy50ZW1wbGF0ZUNvbnRlbnQ/LmNoaWxkcmVuIHx8IFtdKV0uZmlsdGVyKChjKSA9PiAhIWMuaWQpLm1hcCgoYykgPT4gYy5pZCk7XG5cbiAgICByZXR1cm4gZXhpc3RpbmdDaGlsZHJlbi5maWx0ZXIoKGMpID0+IG5ld0NoaWxkcmVuSWRzLmluY2x1ZGVzKGMuaWQpKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGFjdGlvbiBmdW5jdGlvbiB0byBiZSBwZXJmb3JtZWQuXG4gICAqL1xuICBnZXQgcGVyZm9ybUFjdGlvbigpIHtcbiAgICBpZiAodGhpcy5hY3Rpb24pIHtcbiAgICAgIGNvbnN0IGFjdGlvbkZ1bmN0aW9uID0gU3RyZWFtQWN0aW9uc1t0aGlzLmFjdGlvbl07XG4gICAgICBpZiAoYWN0aW9uRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbkZ1bmN0aW9uXG4gICAgICB9XG4gICAgICB0aGlzLiNyYWlzZShcInVua25vd24gYWN0aW9uXCIpO1xuICAgIH1cbiAgICB0aGlzLiNyYWlzZShcImFjdGlvbiBhdHRyaWJ1dGUgaXMgbWlzc2luZ1wiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0YXJnZXQgZWxlbWVudHMgd2hpY2ggdGhlIHRlbXBsYXRlIHdpbGwgYmUgcmVuZGVyZWQgdG8uXG4gICAqL1xuICBnZXQgdGFyZ2V0RWxlbWVudHMoKSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXRFbGVtZW50c0J5SWRcbiAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0cykge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0RWxlbWVudHNCeVF1ZXJ5XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3JhaXNlKFwidGFyZ2V0IG9yIHRhcmdldHMgYXR0cmlidXRlIGlzIG1pc3NpbmdcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbnRlbnRzIG9mIHRoZSBtYWluIGA8dGVtcGxhdGU+YC5cbiAgICovXG4gIGdldCB0ZW1wbGF0ZUNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbWFpbiBgPHRlbXBsYXRlPmAgdXNlZCBmb3IgcmVuZGVyaW5nXG4gICAqL1xuICBnZXQgdGVtcGxhdGVFbGVtZW50KCkge1xuICAgIGlmICh0aGlzLmZpcnN0RWxlbWVudENoaWxkID09PSBudWxsKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgICB0aGlzLmFwcGVuZENoaWxkKHRlbXBsYXRlKTtcbiAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgIH0gZWxzZSBpZiAodGhpcy5maXJzdEVsZW1lbnRDaGlsZCBpbnN0YW5jZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0RWxlbWVudENoaWxkXG4gICAgfVxuICAgIHRoaXMuI3JhaXNlKFwiZmlyc3QgY2hpbGQgZWxlbWVudCBtdXN0IGJlIGEgPHRlbXBsYXRlPiBlbGVtZW50XCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgYWN0aW9uLlxuICAgKi9cbiAgZ2V0IGFjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIilcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHRhcmdldCAoYW4gZWxlbWVudCBJRCkgdG8gd2hpY2ggdGhlIHJlc3VsdCB3aWxsXG4gICAqIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgZ2V0IHRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIilcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IFwidGFyZ2V0c1wiIHNlbGVjdG9yIChhIENTUyBzZWxlY3RvcilcbiAgICovXG4gIGdldCB0YXJnZXRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInRhcmdldHNcIilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgcmVxdWVzdC1pZCBhdHRyaWJ1dGVcbiAgICovXG4gIGdldCByZXF1ZXN0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwicmVxdWVzdC1pZFwiKVxuICB9XG5cbiAgI3JhaXNlKG1lc3NhZ2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5kZXNjcmlwdGlvbn06ICR7bWVzc2FnZX1gKVxuICB9XG5cbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5vdXRlckhUTUwubWF0Y2goLzxbXj5dKz4vKSA/PyBbXSlbMF0gPz8gXCI8dHVyYm8tc3RyZWFtPlwiXG4gIH1cblxuICBnZXQgYmVmb3JlUmVuZGVyRXZlbnQoKSB7XG4gICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudChcInR1cmJvOmJlZm9yZS1zdHJlYW0tcmVuZGVyXCIsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7IG5ld1N0cmVhbTogdGhpcywgcmVuZGVyOiBTdHJlYW1FbGVtZW50LnJlbmRlckVsZW1lbnQgfVxuICAgIH0pXG4gIH1cblxuICBnZXQgdGFyZ2V0RWxlbWVudHNCeUlkKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLm93bmVyRG9jdW1lbnQ/LmdldEVsZW1lbnRCeUlkKHRoaXMudGFyZ2V0KTtcblxuICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gW2VsZW1lbnRdXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxuXG4gIGdldCB0YXJnZXRFbGVtZW50c0J5UXVlcnkoKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLm93bmVyRG9jdW1lbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy50YXJnZXRzKTtcblxuICAgIGlmIChlbGVtZW50cy5sZW5ndGggIT09IDApIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbGVtZW50cylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFN0cmVhbVNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIHN0cmVhbVNvdXJjZSA9IG51bGxcblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnN0cmVhbVNvdXJjZSA9IHRoaXMuc3JjLm1hdGNoKC9ed3N7MSwyfTovKSA/IG5ldyBXZWJTb2NrZXQodGhpcy5zcmMpIDogbmV3IEV2ZW50U291cmNlKHRoaXMuc3JjKTtcblxuICAgIGNvbm5lY3RTdHJlYW1Tb3VyY2UodGhpcy5zdHJlYW1Tb3VyY2UpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKHRoaXMuc3RyZWFtU291cmNlKSB7XG4gICAgICB0aGlzLnN0cmVhbVNvdXJjZS5jbG9zZSgpO1xuXG4gICAgICBkaXNjb25uZWN0U3RyZWFtU291cmNlKHRoaXMuc3RyZWFtU291cmNlKTtcbiAgICB9XG4gIH1cblxuICBnZXQgc3JjKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInNyY1wiKSB8fCBcIlwiXG4gIH1cbn1cblxuRnJhbWVFbGVtZW50LmRlbGVnYXRlQ29uc3RydWN0b3IgPSBGcmFtZUNvbnRyb2xsZXI7XG5cbmlmIChjdXN0b21FbGVtZW50cy5nZXQoXCJ0dXJiby1mcmFtZVwiKSA9PT0gdW5kZWZpbmVkKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInR1cmJvLWZyYW1lXCIsIEZyYW1lRWxlbWVudCk7XG59XG5cbmlmIChjdXN0b21FbGVtZW50cy5nZXQoXCJ0dXJiby1zdHJlYW1cIikgPT09IHVuZGVmaW5lZCkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0dXJiby1zdHJlYW1cIiwgU3RyZWFtRWxlbWVudCk7XG59XG5cbmlmIChjdXN0b21FbGVtZW50cy5nZXQoXCJ0dXJiby1zdHJlYW0tc291cmNlXCIpID09PSB1bmRlZmluZWQpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwidHVyYm8tc3RyZWFtLXNvdXJjZVwiLCBTdHJlYW1Tb3VyY2VFbGVtZW50KTtcbn1cblxuKCgpID0+IHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0O1xuICBpZiAoIWVsZW1lbnQpIHJldHVyblxuICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN1cHByZXNzLXdhcm5pbmdcIikpIHJldHVyblxuXG4gIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihcbiAgICAgICAgdW5pbmRlbnRgXG4gICAgICAgIFlvdSBhcmUgbG9hZGluZyBUdXJibyBmcm9tIGEgPHNjcmlwdD4gZWxlbWVudCBpbnNpZGUgdGhlIDxib2R5PiBlbGVtZW50LiBUaGlzIGlzIHByb2JhYmx5IG5vdCB3aGF0IHlvdSBtZWFudCB0byBkbyFcblxuICAgICAgICBMb2FkIHlvdXIgYXBwbGljYXRpb25cdTIwMTlzIEphdmFTY3JpcHQgYnVuZGxlIGluc2lkZSB0aGUgPGhlYWQ+IGVsZW1lbnQgaW5zdGVhZC4gPHNjcmlwdD4gZWxlbWVudHMgaW4gPGJvZHk+IGFyZSBldmFsdWF0ZWQgd2l0aCBlYWNoIHBhZ2UgY2hhbmdlLlxuXG4gICAgICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vdHVyYm8uaG90d2lyZWQuZGV2L2hhbmRib29rL2J1aWxkaW5nI3dvcmtpbmctd2l0aC1zY3JpcHQtZWxlbWVudHNcblxuICAgICAgICBcdTIwMTRcdTIwMTRcbiAgICAgICAgU3VwcHJlc3MgdGhpcyB3YXJuaW5nIGJ5IGFkZGluZyBhIFwiZGF0YS10dXJiby1zdXBwcmVzcy13YXJuaW5nXCIgYXR0cmlidXRlIHRvOiAlc1xuICAgICAgYCxcbiAgICAgICAgZWxlbWVudC5vdXRlckhUTUxcbiAgICAgIClcbiAgICB9XG5cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB9XG59KSgpO1xuXG53aW5kb3cuVHVyYm8gPSB7IC4uLlR1cmJvLCBTdHJlYW1BY3Rpb25zIH07XG5zdGFydCgpO1xuXG5leHBvcnQgeyBGZXRjaEVuY3R5cGUsIEZldGNoTWV0aG9kLCBGZXRjaFJlcXVlc3QsIEZldGNoUmVzcG9uc2UsIEZyYW1lRWxlbWVudCwgRnJhbWVMb2FkaW5nU3R5bGUsIEZyYW1lUmVuZGVyZXIsIFBhZ2VSZW5kZXJlciwgUGFnZVNuYXBzaG90LCBTdHJlYW1BY3Rpb25zLCBTdHJlYW1FbGVtZW50LCBTdHJlYW1Tb3VyY2VFbGVtZW50LCBjYWNoZSwgY2xlYXJDYWNoZSwgY29ubmVjdFN0cmVhbVNvdXJjZSwgZGlzY29ubmVjdFN0cmVhbVNvdXJjZSwgZmV0Y2hXaXRoVHVyYm9IZWFkZXJzIGFzIGZldGNoLCBmZXRjaEVuY3R5cGVGcm9tU3RyaW5nLCBmZXRjaE1ldGhvZEZyb21TdHJpbmcsIGlzU2FmZSwgbmF2aWdhdG9yJDEgYXMgbmF2aWdhdG9yLCByZWdpc3RlckFkYXB0ZXIsIHJlbmRlclN0cmVhbU1lc3NhZ2UsIHNlc3Npb24sIHNldENvbmZpcm1NZXRob2QsIHNldEZvcm1Nb2RlLCBzZXRQcm9ncmVzc0JhckRlbGF5LCBzdGFydCwgdmlzaXQgfTtcbiIsICJsZXQgY29uc3VtZXJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnN1bWVyKCkge1xuICByZXR1cm4gY29uc3VtZXIgfHwgc2V0Q29uc3VtZXIoY3JlYXRlQ29uc3VtZXIoKS50aGVuKHNldENvbnN1bWVyKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnN1bWVyKG5ld0NvbnN1bWVyKSB7XG4gIHJldHVybiBjb25zdW1lciA9IG5ld0NvbnN1bWVyXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb25zdW1lcigpIHtcbiAgY29uc3QgeyBjcmVhdGVDb25zdW1lciB9ID0gYXdhaXQgaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwiYWN0aW9uY2FibGVcIiAqLyBcIkByYWlscy9hY3Rpb25jYWJsZS9zcmNcIilcbiAgcmV0dXJuIGNyZWF0ZUNvbnN1bWVyKClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN1YnNjcmliZVRvKGNoYW5uZWwsIG1peGluKSB7XG4gIGNvbnN0IHsgc3Vic2NyaXB0aW9ucyB9ID0gYXdhaXQgZ2V0Q29uc3VtZXIoKVxuICByZXR1cm4gc3Vic2NyaXB0aW9ucy5jcmVhdGUoY2hhbm5lbCwgbWl4aW4pXG59XG4iLCAiLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL25hdGhhbjcvc25ha2VpemVcbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2Zcbi8vIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW5cbi8vIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cbi8vIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mXG4vLyB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4vLyBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4vLyBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTU1xuLy8gRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SXG4vLyBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVJcbi8vIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4vLyBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2FsayAob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHJldHVybiBvYmo7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUgfHwgb2JqIGluc3RhbmNlb2YgUmVnRXhwKSByZXR1cm4gb2JqO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHJldHVybiBvYmoubWFwKHdhbGspO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIGNhbWVsID0ga2V5WzBdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSkucmVwbGFjZSgvKFtBLVpdKykvZywgZnVuY3Rpb24gKG0sIHgpIHtcbiAgICAgICAgICAgIHJldHVybiAnXycgKyB4LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBhY2NbY2FtZWxdID0gd2FsayhvYmpba2V5XSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTsiLCAiaW1wb3J0IHsgY29ubmVjdFN0cmVhbVNvdXJjZSwgZGlzY29ubmVjdFN0cmVhbVNvdXJjZSB9IGZyb20gXCJAaG90d2lyZWQvdHVyYm9cIlxuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tIFwiLi9jYWJsZVwiXG5pbXBvcnQgc25ha2VpemUgZnJvbSBcIi4vc25ha2VpemVcIlxuXG5jbGFzcyBUdXJib0NhYmxlU3RyZWFtU291cmNlRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29ubmVjdFN0cmVhbVNvdXJjZSh0aGlzKVxuICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gYXdhaXQgc3Vic2NyaWJlVG8odGhpcy5jaGFubmVsLCB7XG4gICAgICByZWNlaXZlZDogdGhpcy5kaXNwYXRjaE1lc3NhZ2VFdmVudC5iaW5kKHRoaXMpLFxuICAgICAgY29ubmVjdGVkOiB0aGlzLnN1YnNjcmlwdGlvbkNvbm5lY3RlZC5iaW5kKHRoaXMpLFxuICAgICAgZGlzY29ubmVjdGVkOiB0aGlzLnN1YnNjcmlwdGlvbkRpc2Nvbm5lY3RlZC5iaW5kKHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2UodGhpcylcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcbiAgfVxuXG4gIGRpc3BhdGNoTWVzc2FnZUV2ZW50KGRhdGEpIHtcbiAgICBjb25zdCBldmVudCA9IG5ldyBNZXNzYWdlRXZlbnQoXCJtZXNzYWdlXCIsIHsgZGF0YSB9KVxuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpXG4gIH1cblxuICBzdWJzY3JpcHRpb25Db25uZWN0ZWQoKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjb25uZWN0ZWRcIiwgXCJcIilcbiAgfVxuXG4gIHN1YnNjcmlwdGlvbkRpc2Nvbm5lY3RlZCgpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNvbm5lY3RlZFwiKVxuICB9XG5cbiAgZ2V0IGNoYW5uZWwoKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiY2hhbm5lbFwiKVxuICAgIGNvbnN0IHNpZ25lZF9zdHJlYW1fbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwic2lnbmVkLXN0cmVhbS1uYW1lXCIpXG4gICAgcmV0dXJuIHsgY2hhbm5lbCwgc2lnbmVkX3N0cmVhbV9uYW1lLCAuLi5zbmFrZWl6ZSh7IC4uLnRoaXMuZGF0YXNldCB9KSB9XG4gIH1cbn1cblxuXG5pZiAoY3VzdG9tRWxlbWVudHMuZ2V0KFwidHVyYm8tY2FibGUtc3RyZWFtLXNvdXJjZVwiKSA9PT0gdW5kZWZpbmVkKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInR1cmJvLWNhYmxlLXN0cmVhbS1zb3VyY2VcIiwgVHVyYm9DYWJsZVN0cmVhbVNvdXJjZUVsZW1lbnQpXG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGVuY29kZU1ldGhvZEludG9SZXF1ZXN0Qm9keShldmVudCkge1xuICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB7XG4gICAgY29uc3QgeyB0YXJnZXQ6IGZvcm0sIGRldGFpbDogeyBmZXRjaE9wdGlvbnMgfSB9ID0gZXZlbnRcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOnN1Ym1pdC1zdGFydFwiLCAoeyBkZXRhaWw6IHsgZm9ybVN1Ym1pc3Npb246IHsgc3VibWl0dGVyIH0gfSB9KSA9PiB7XG4gICAgICBjb25zdCBib2R5ID0gaXNCb2R5SW5pdChmZXRjaE9wdGlvbnMuYm9keSkgPyBmZXRjaE9wdGlvbnMuYm9keSA6IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgICAgY29uc3QgbWV0aG9kID0gZGV0ZXJtaW5lRmV0Y2hNZXRob2Qoc3VibWl0dGVyLCBib2R5LCBmb3JtKVxuXG4gICAgICBpZiAoIS9nZXQvaS50ZXN0KG1ldGhvZCkpIHtcbiAgICAgICAgaWYgKC9wb3N0L2kudGVzdChtZXRob2QpKSB7XG4gICAgICAgICAgYm9keS5kZWxldGUoXCJfbWV0aG9kXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9keS5zZXQoXCJfbWV0aG9kXCIsIG1ldGhvZClcbiAgICAgICAgfVxuXG4gICAgICAgIGZldGNoT3B0aW9ucy5tZXRob2QgPSBcInBvc3RcIlxuICAgICAgfVxuICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZUZldGNoTWV0aG9kKHN1Ym1pdHRlciwgYm9keSwgZm9ybSkge1xuICBjb25zdCBmb3JtTWV0aG9kID0gZGV0ZXJtaW5lRm9ybU1ldGhvZChzdWJtaXR0ZXIpXG4gIGNvbnN0IG92ZXJyaWRlTWV0aG9kID0gYm9keS5nZXQoXCJfbWV0aG9kXCIpXG4gIGNvbnN0IG1ldGhvZCA9IGZvcm0uZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpIHx8IFwiZ2V0XCJcblxuICBpZiAodHlwZW9mIGZvcm1NZXRob2QgPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBmb3JtTWV0aG9kXG4gIH0gZWxzZSBpZiAodHlwZW9mIG92ZXJyaWRlTWV0aG9kID09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVNZXRob2RcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbWV0aG9kXG4gIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRm9ybU1ldGhvZChzdWJtaXR0ZXIpIHtcbiAgaWYgKHN1Ym1pdHRlciBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50IHx8IHN1Ym1pdHRlciBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAvLyBSYWlscyA3IEFjdGlvblZpZXc6OkhlbHBlcnM6OkZvcm1CdWlsZGVyI2J1dHRvbiBtZXRob2QgaGFzIGFuIG92ZXJyaWRlXG4gICAgLy8gZm9yIGZvcm1tZXRob2QgaWYgdGhlIGJ1dHRvbiBkb2VzIG5vdCBoYXZlIG5hbWUgb3IgdmFsdWUgYXR0cmlidXRlc1xuICAgIC8vIHNldCwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgdXNlIDwlPSBmLmJ1dHRvblxuICAgIC8vIGZvcm1tZXRob2Q6IDpkZWxldGUgJT4sIGl0IHdpbGwgZ2VuZXJhdGUgYSA8YnV0dG9uIG5hbWU9XCJfbWV0aG9kXCJcbiAgICAvLyB2YWx1ZT1cImRlbGV0ZVwiIGZvcm1tZXRob2Q9XCJwb3N0XCI+LiBUaGVyZWZvcmUsIGlmIHRoZSBzdWJtaXR0ZXIncyBuYW1lXG4gICAgLy8gaXMgYWxyZWFkeSBfbWV0aG9kLCBpdCdzIHZhbHVlIGF0dHJpYnV0ZSBhbHJlYWR5IGNvbnRhaW5zIHRoZSBkZXNpcmVkXG4gICAgLy8gbWV0aG9kLlxuICAgIGlmIChzdWJtaXR0ZXIubmFtZSA9PT0gJ19tZXRob2QnKSB7XG4gICAgICByZXR1cm4gc3VibWl0dGVyLnZhbHVlXG4gICAgfSBlbHNlIGlmIChzdWJtaXR0ZXIuaGFzQXR0cmlidXRlKFwiZm9ybW1ldGhvZFwiKSkge1xuICAgICAgcmV0dXJuIHN1Ym1pdHRlci5mb3JtTWV0aG9kXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNCb2R5SW5pdChib2R5KSB7XG4gIHJldHVybiBib2R5IGluc3RhbmNlb2YgRm9ybURhdGEgfHwgYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtc1xufVxuIiwgImltcG9ydCBcIi4vY2FibGVfc3RyZWFtX3NvdXJjZV9lbGVtZW50XCJcblxuaW1wb3J0ICogYXMgVHVyYm8gZnJvbSBcIkBob3R3aXJlZC90dXJib1wiXG5leHBvcnQgeyBUdXJibyB9XG5cbmltcG9ydCAqIGFzIGNhYmxlIGZyb20gXCIuL2NhYmxlXCJcbmV4cG9ydCB7IGNhYmxlIH1cblxuaW1wb3J0IHsgZW5jb2RlTWV0aG9kSW50b1JlcXVlc3RCb2R5IH0gZnJvbSBcIi4vZmV0Y2hfcmVxdWVzdHNcIlxuXG53aW5kb3cuVHVyYm8gPSBUdXJib1xuXG5hZGRFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLWZldGNoLXJlcXVlc3RcIiwgZW5jb2RlTWV0aG9kSW50b1JlcXVlc3RCb2R5KVxuIiwgIi8qXG5TdGltdWx1cyAzLjIuMVxuQ29weXJpZ2h0IFx1MDBBOSAyMDIzIEJhc2VjYW1wLCBMTENcbiAqL1xuY2xhc3MgRXZlbnRMaXN0ZW5lciB7XG4gICAgY29uc3RydWN0b3IoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXZlbnRUYXJnZXQgPSBldmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIHRoaXMuZXZlbnRPcHRpb25zID0gZXZlbnRPcHRpb25zO1xuICAgICAgICB0aGlzLnVub3JkZXJlZEJpbmRpbmdzID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMsIHRoaXMuZXZlbnRPcHRpb25zKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gICAgfVxuICAgIGJpbmRpbmdDb25uZWN0ZWQoYmluZGluZykge1xuICAgICAgICB0aGlzLnVub3JkZXJlZEJpbmRpbmdzLmFkZChiaW5kaW5nKTtcbiAgICB9XG4gICAgYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nKSB7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkQmluZGluZ3MuZGVsZXRlKGJpbmRpbmcpO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZEV2ZW50ID0gZXh0ZW5kRXZlbnQoZXZlbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IGJpbmRpbmcgb2YgdGhpcy5iaW5kaW5ncykge1xuICAgICAgICAgICAgaWYgKGV4dGVuZGVkRXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nLmhhbmRsZUV2ZW50KGV4dGVuZGVkRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhc0JpbmRpbmdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bm9yZGVyZWRCaW5kaW5ncy5zaXplID4gMDtcbiAgICB9XG4gICAgZ2V0IGJpbmRpbmdzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnVub3JkZXJlZEJpbmRpbmdzKS5zb3J0KChsZWZ0LCByaWdodCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVmdEluZGV4ID0gbGVmdC5pbmRleCwgcmlnaHRJbmRleCA9IHJpZ2h0LmluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIGxlZnRJbmRleCA8IHJpZ2h0SW5kZXggPyAtMSA6IGxlZnRJbmRleCA+IHJpZ2h0SW5kZXggPyAxIDogMDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXh0ZW5kRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAoXCJpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWRcIiBpbiBldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB7IHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiB9ID0gZXZlbnQ7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGV2ZW50LCB7XG4gICAgICAgICAgICBpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgRGlzcGF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IoYXBwbGljYXRpb24pIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbiA9IGFwcGxpY2F0aW9uO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJNYXBzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKChldmVudExpc3RlbmVyKSA9PiBldmVudExpc3RlbmVyLmNvbm5lY3QoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKGV2ZW50TGlzdGVuZXIpID0+IGV2ZW50TGlzdGVuZXIuZGlzY29ubmVjdCgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZXZlbnRMaXN0ZW5lck1hcHMudmFsdWVzKCkpLnJlZHVjZSgobGlzdGVuZXJzLCBtYXApID0+IGxpc3RlbmVycy5jb25jYXQoQXJyYXkuZnJvbShtYXAudmFsdWVzKCkpKSwgW10pO1xuICAgIH1cbiAgICBiaW5kaW5nQ29ubmVjdGVkKGJpbmRpbmcpIHtcbiAgICAgICAgdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpLmJpbmRpbmdDb25uZWN0ZWQoYmluZGluZyk7XG4gICAgfVxuICAgIGJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZywgY2xlYXJFdmVudExpc3RlbmVycyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hFdmVudExpc3RlbmVyRm9yQmluZGluZyhiaW5kaW5nKS5iaW5kaW5nRGlzY29ubmVjdGVkKGJpbmRpbmcpO1xuICAgICAgICBpZiAoY2xlYXJFdmVudExpc3RlbmVycylcbiAgICAgICAgICAgIHRoaXMuY2xlYXJFdmVudExpc3RlbmVyc0ZvckJpbmRpbmcoYmluZGluZyk7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwgPSB7fSkge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uLmhhbmRsZUVycm9yKGVycm9yLCBgRXJyb3IgJHttZXNzYWdlfWAsIGRldGFpbCk7XG4gICAgfVxuICAgIGNsZWFyRXZlbnRMaXN0ZW5lcnNGb3JCaW5kaW5nKGJpbmRpbmcpIHtcbiAgICAgICAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHRoaXMuZmV0Y2hFdmVudExpc3RlbmVyRm9yQmluZGluZyhiaW5kaW5nKTtcbiAgICAgICAgaWYgKCFldmVudExpc3RlbmVyLmhhc0JpbmRpbmdzKCkpIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXBwZWRFdmVudExpc3RlbmVyRm9yKGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZU1hcHBlZEV2ZW50TGlzdGVuZXJGb3IoYmluZGluZykge1xuICAgICAgICBjb25zdCB7IGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucyB9ID0gYmluZGluZztcbiAgICAgICAgY29uc3QgZXZlbnRMaXN0ZW5lck1hcCA9IHRoaXMuZmV0Y2hFdmVudExpc3RlbmVyTWFwRm9yRXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpO1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRoaXMuY2FjaGVLZXkoZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgICAgICBldmVudExpc3RlbmVyTWFwLmRlbGV0ZShjYWNoZUtleSk7XG4gICAgICAgIGlmIChldmVudExpc3RlbmVyTWFwLnNpemUgPT0gMClcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lck1hcHMuZGVsZXRlKGV2ZW50VGFyZ2V0KTtcbiAgICB9XG4gICAgZmV0Y2hFdmVudExpc3RlbmVyRm9yQmluZGluZyhiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zIH0gPSBiaW5kaW5nO1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICB9XG4gICAgZmV0Y2hFdmVudExpc3RlbmVyKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucykge1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyTWFwID0gdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJNYXBGb3JFdmVudFRhcmdldChldmVudFRhcmdldCk7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5jYWNoZUtleShldmVudE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIGxldCBldmVudExpc3RlbmVyID0gZXZlbnRMaXN0ZW5lck1hcC5nZXQoY2FjaGVLZXkpO1xuICAgICAgICBpZiAoIWV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXIgPSB0aGlzLmNyZWF0ZUV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJNYXAuc2V0KGNhY2hlS2V5LCBldmVudExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRMaXN0ZW5lcjtcbiAgICB9XG4gICAgY3JlYXRlRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IG5ldyBFdmVudExpc3RlbmVyKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXIuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudExpc3RlbmVyO1xuICAgIH1cbiAgICBmZXRjaEV2ZW50TGlzdGVuZXJNYXBGb3JFdmVudFRhcmdldChldmVudFRhcmdldCkge1xuICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lck1hcCA9IHRoaXMuZXZlbnRMaXN0ZW5lck1hcHMuZ2V0KGV2ZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKCFldmVudExpc3RlbmVyTWFwKSB7XG4gICAgICAgICAgICBldmVudExpc3RlbmVyTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyTWFwcy5zZXQoZXZlbnRUYXJnZXQsIGV2ZW50TGlzdGVuZXJNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudExpc3RlbmVyTWFwO1xuICAgIH1cbiAgICBjYWNoZUtleShldmVudE5hbWUsIGV2ZW50T3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IFtldmVudE5hbWVdO1xuICAgICAgICBPYmplY3Qua2V5cyhldmVudE9wdGlvbnMpXG4gICAgICAgICAgICAuc29ydCgpXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGAke2V2ZW50T3B0aW9uc1trZXldID8gXCJcIiA6IFwiIVwifSR7a2V5fWApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCI6XCIpO1xuICAgIH1cbn1cblxuY29uc3QgZGVmYXVsdEFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzID0ge1xuICAgIHN0b3AoeyBldmVudCwgdmFsdWUgfSkge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBwcmV2ZW50KHsgZXZlbnQsIHZhbHVlIH0pIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBzZWxmKHsgZXZlbnQsIHZhbHVlLCBlbGVtZW50IH0pIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmNvbnN0IGRlc2NyaXB0b3JQYXR0ZXJuID0gL14oPzooPzooW14uXSs/KVxcKyk/KC4rPykoPzpcXC4oLis/KSk/KD86QCh3aW5kb3d8ZG9jdW1lbnQpKT8tPik/KC4rPykoPzojKFteOl0rPykpKD86OiguKykpPyQvO1xuZnVuY3Rpb24gcGFyc2VBY3Rpb25EZXNjcmlwdG9yU3RyaW5nKGRlc2NyaXB0b3JTdHJpbmcpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBkZXNjcmlwdG9yU3RyaW5nLnRyaW0oKTtcbiAgICBjb25zdCBtYXRjaGVzID0gc291cmNlLm1hdGNoKGRlc2NyaXB0b3JQYXR0ZXJuKSB8fCBbXTtcbiAgICBsZXQgZXZlbnROYW1lID0gbWF0Y2hlc1syXTtcbiAgICBsZXQga2V5RmlsdGVyID0gbWF0Y2hlc1szXTtcbiAgICBpZiAoa2V5RmlsdGVyICYmICFbXCJrZXlkb3duXCIsIFwia2V5dXBcIiwgXCJrZXlwcmVzc1wiXS5pbmNsdWRlcyhldmVudE5hbWUpKSB7XG4gICAgICAgIGV2ZW50TmFtZSArPSBgLiR7a2V5RmlsdGVyfWA7XG4gICAgICAgIGtleUZpbHRlciA9IFwiXCI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGV2ZW50VGFyZ2V0OiBwYXJzZUV2ZW50VGFyZ2V0KG1hdGNoZXNbNF0pLFxuICAgICAgICBldmVudE5hbWUsXG4gICAgICAgIGV2ZW50T3B0aW9uczogbWF0Y2hlc1s3XSA/IHBhcnNlRXZlbnRPcHRpb25zKG1hdGNoZXNbN10pIDoge30sXG4gICAgICAgIGlkZW50aWZpZXI6IG1hdGNoZXNbNV0sXG4gICAgICAgIG1ldGhvZE5hbWU6IG1hdGNoZXNbNl0sXG4gICAgICAgIGtleUZpbHRlcjogbWF0Y2hlc1sxXSB8fCBrZXlGaWx0ZXIsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlRXZlbnRUYXJnZXQoZXZlbnRUYXJnZXROYW1lKSB7XG4gICAgaWYgKGV2ZW50VGFyZ2V0TmFtZSA9PSBcIndpbmRvd1wiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50VGFyZ2V0TmFtZSA9PSBcImRvY3VtZW50XCIpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlRXZlbnRPcHRpb25zKGV2ZW50T3B0aW9ucykge1xuICAgIHJldHVybiBldmVudE9wdGlvbnNcbiAgICAgICAgLnNwbGl0KFwiOlwiKVxuICAgICAgICAucmVkdWNlKChvcHRpb25zLCB0b2tlbikgPT4gT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7IFt0b2tlbi5yZXBsYWNlKC9eIS8sIFwiXCIpXTogIS9eIS8udGVzdCh0b2tlbikgfSksIHt9KTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKGV2ZW50VGFyZ2V0ID09IHdpbmRvdykge1xuICAgICAgICByZXR1cm4gXCJ3aW5kb3dcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnRUYXJnZXQgPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIFwiZG9jdW1lbnRcIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbWVsaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyg/OltfLV0pKFthLXowLTldKS9nLCAoXywgY2hhcikgPT4gY2hhci50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIG5hbWVzcGFjZUNhbWVsaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNhbWVsaXplKHZhbHVlLnJlcGxhY2UoLy0tL2csIFwiLVwiKS5yZXBsYWNlKC9fXy9nLCBcIl9cIikpO1xufVxuZnVuY3Rpb24gY2FwaXRhbGl6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHZhbHVlLnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gZGFzaGVyaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyhbQS1aXSkvZywgKF8sIGNoYXIpID0+IGAtJHtjaGFyLnRvTG93ZXJDYXNlKCl9YCk7XG59XG5mdW5jdGlvbiB0b2tlbml6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXRjaCgvW15cXHNdKy9nKSB8fCBbXTtcbn1cblxuZnVuY3Rpb24gaXNTb21ldGhpbmcob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xufVxuXG5jb25zdCBhbGxNb2RpZmllcnMgPSBbXCJtZXRhXCIsIFwiY3RybFwiLCBcImFsdFwiLCBcInNoaWZ0XCJdO1xuY2xhc3MgQWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBpbmRleCwgZGVzY3JpcHRvciwgc2NoZW1hKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5ldmVudFRhcmdldCA9IGRlc2NyaXB0b3IuZXZlbnRUYXJnZXQgfHwgZWxlbWVudDtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBkZXNjcmlwdG9yLmV2ZW50TmFtZSB8fCBnZXREZWZhdWx0RXZlbnROYW1lRm9yRWxlbWVudChlbGVtZW50KSB8fCBlcnJvcihcIm1pc3NpbmcgZXZlbnQgbmFtZVwiKTtcbiAgICAgICAgdGhpcy5ldmVudE9wdGlvbnMgPSBkZXNjcmlwdG9yLmV2ZW50T3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gZGVzY3JpcHRvci5pZGVudGlmaWVyIHx8IGVycm9yKFwibWlzc2luZyBpZGVudGlmaWVyXCIpO1xuICAgICAgICB0aGlzLm1ldGhvZE5hbWUgPSBkZXNjcmlwdG9yLm1ldGhvZE5hbWUgfHwgZXJyb3IoXCJtaXNzaW5nIG1ldGhvZCBuYW1lXCIpO1xuICAgICAgICB0aGlzLmtleUZpbHRlciA9IGRlc2NyaXB0b3Iua2V5RmlsdGVyIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbiAgICBzdGF0aWMgZm9yVG9rZW4odG9rZW4sIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXModG9rZW4uZWxlbWVudCwgdG9rZW4uaW5kZXgsIHBhcnNlQWN0aW9uRGVzY3JpcHRvclN0cmluZyh0b2tlbi5jb250ZW50KSwgc2NoZW1hKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50RmlsdGVyID0gdGhpcy5rZXlGaWx0ZXIgPyBgLiR7dGhpcy5rZXlGaWx0ZXJ9YCA6IFwiXCI7XG4gICAgICAgIGNvbnN0IGV2ZW50VGFyZ2V0ID0gdGhpcy5ldmVudFRhcmdldE5hbWUgPyBgQCR7dGhpcy5ldmVudFRhcmdldE5hbWV9YCA6IFwiXCI7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmV2ZW50TmFtZX0ke2V2ZW50RmlsdGVyfSR7ZXZlbnRUYXJnZXR9LT4ke3RoaXMuaWRlbnRpZmllcn0jJHt0aGlzLm1ldGhvZE5hbWV9YDtcbiAgICB9XG4gICAgc2hvdWxkSWdub3JlS2V5Ym9hcmRFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMua2V5RmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVycyA9IHRoaXMua2V5RmlsdGVyLnNwbGl0KFwiK1wiKTtcbiAgICAgICAgaWYgKHRoaXMua2V5RmlsdGVyRGlzc2F0aXNmaWVkKGV2ZW50LCBmaWx0ZXJzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhbmRhcmRGaWx0ZXIgPSBmaWx0ZXJzLmZpbHRlcigoa2V5KSA9PiAhYWxsTW9kaWZpZXJzLmluY2x1ZGVzKGtleSkpWzBdO1xuICAgICAgICBpZiAoIXN0YW5kYXJkRmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNQcm9wZXJ0eSh0aGlzLmtleU1hcHBpbmdzLCBzdGFuZGFyZEZpbHRlcikpIHtcbiAgICAgICAgICAgIGVycm9yKGBjb250YWlucyB1bmtub3duIGtleSBmaWx0ZXI6ICR7dGhpcy5rZXlGaWx0ZXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMua2V5TWFwcGluZ3Nbc3RhbmRhcmRGaWx0ZXJdLnRvTG93ZXJDYXNlKCkgIT09IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBzaG91bGRJZ25vcmVNb3VzZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5rZXlGaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gW3RoaXMua2V5RmlsdGVyXTtcbiAgICAgICAgaWYgKHRoaXMua2V5RmlsdGVyRGlzc2F0aXNmaWVkKGV2ZW50LCBmaWx0ZXJzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXQgcGFyYW1zKCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYF5kYXRhLSR7dGhpcy5pZGVudGlmaWVyfS0oLispLXBhcmFtJGAsIFwiaVwiKTtcbiAgICAgICAgZm9yIChjb25zdCB7IG5hbWUsIHZhbHVlIH0gb2YgQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQuYXR0cmlidXRlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbmFtZS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG1hdGNoICYmIG1hdGNoWzFdO1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIHBhcmFtc1tjYW1lbGl6ZShrZXkpXSA9IHR5cGVjYXN0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBnZXQgZXZlbnRUYXJnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5RXZlbnRUYXJnZXQodGhpcy5ldmVudFRhcmdldCk7XG4gICAgfVxuICAgIGdldCBrZXlNYXBwaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hLmtleU1hcHBpbmdzO1xuICAgIH1cbiAgICBrZXlGaWx0ZXJEaXNzYXRpc2ZpZWQoZXZlbnQsIGZpbHRlcnMpIHtcbiAgICAgICAgY29uc3QgW21ldGEsIGN0cmwsIGFsdCwgc2hpZnRdID0gYWxsTW9kaWZpZXJzLm1hcCgobW9kaWZpZXIpID0+IGZpbHRlcnMuaW5jbHVkZXMobW9kaWZpZXIpKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm1ldGFLZXkgIT09IG1ldGEgfHwgZXZlbnQuY3RybEtleSAhPT0gY3RybCB8fCBldmVudC5hbHRLZXkgIT09IGFsdCB8fCBldmVudC5zaGlmdEtleSAhPT0gc2hpZnQ7XG4gICAgfVxufVxuY29uc3QgZGVmYXVsdEV2ZW50TmFtZXMgPSB7XG4gICAgYTogKCkgPT4gXCJjbGlja1wiLFxuICAgIGJ1dHRvbjogKCkgPT4gXCJjbGlja1wiLFxuICAgIGZvcm06ICgpID0+IFwic3VibWl0XCIsXG4gICAgZGV0YWlsczogKCkgPT4gXCJ0b2dnbGVcIixcbiAgICBpbnB1dDogKGUpID0+IChlLmdldEF0dHJpYnV0ZShcInR5cGVcIikgPT0gXCJzdWJtaXRcIiA/IFwiY2xpY2tcIiA6IFwiaW5wdXRcIiksXG4gICAgc2VsZWN0OiAoKSA9PiBcImNoYW5nZVwiLFxuICAgIHRleHRhcmVhOiAoKSA9PiBcImlucHV0XCIsXG59O1xuZnVuY3Rpb24gZ2V0RGVmYXVsdEV2ZW50TmFtZUZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodGFnTmFtZSBpbiBkZWZhdWx0RXZlbnROYW1lcykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEV2ZW50TmFtZXNbdGFnTmFtZV0oZWxlbWVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIHR5cGVjYXN0KHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAob19PKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbmNsYXNzIEJpbmRpbmcge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGFjdGlvbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB9XG4gICAgZ2V0IGluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24uaW5kZXg7XG4gICAgfVxuICAgIGdldCBldmVudFRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLmV2ZW50VGFyZ2V0O1xuICAgIH1cbiAgICBnZXQgZXZlbnRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24uZXZlbnRPcHRpb25zO1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCBhY3Rpb25FdmVudCA9IHRoaXMucHJlcGFyZUFjdGlvbkV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMud2lsbEJlSW52b2tlZEJ5RXZlbnQoZXZlbnQpICYmIHRoaXMuYXBwbHlFdmVudE1vZGlmaWVycyhhY3Rpb25FdmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW52b2tlV2l0aEV2ZW50KGFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZXZlbnROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24uZXZlbnROYW1lO1xuICAgIH1cbiAgICBnZXQgbWV0aG9kKCkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmNvbnRyb2xsZXJbdGhpcy5tZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uIFwiJHt0aGlzLmFjdGlvbn1cIiByZWZlcmVuY2VzIHVuZGVmaW5lZCBtZXRob2QgXCIke3RoaXMubWV0aG9kTmFtZX1cImApO1xuICAgIH1cbiAgICBhcHBseUV2ZW50TW9kaWZpZXJzKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gdGhpcy5hY3Rpb247XG4gICAgICAgIGNvbnN0IHsgYWN0aW9uRGVzY3JpcHRvckZpbHRlcnMgfSA9IHRoaXMuY29udGV4dC5hcHBsaWNhdGlvbjtcbiAgICAgICAgY29uc3QgeyBjb250cm9sbGVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBwYXNzZXMgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5ldmVudE9wdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAobmFtZSBpbiBhY3Rpb25EZXNjcmlwdG9yRmlsdGVycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IGFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzW25hbWVdO1xuICAgICAgICAgICAgICAgIHBhc3NlcyA9IHBhc3NlcyAmJiBmaWx0ZXIoeyBuYW1lLCB2YWx1ZSwgZXZlbnQsIGVsZW1lbnQsIGNvbnRyb2xsZXIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFzc2VzO1xuICAgIH1cbiAgICBwcmVwYXJlQWN0aW9uRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZXZlbnQsIHsgcGFyYW1zOiB0aGlzLmFjdGlvbi5wYXJhbXMgfSk7XG4gICAgfVxuICAgIGludm9rZVdpdGhFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCB7IHRhcmdldCwgY3VycmVudFRhcmdldCB9ID0gZXZlbnQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLm1ldGhvZC5jYWxsKHRoaXMuY29udHJvbGxlciwgZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxvZ0RlYnVnQWN0aXZpdHkodGhpcy5tZXRob2ROYW1lLCB7IGV2ZW50LCB0YXJnZXQsIGN1cnJlbnRUYXJnZXQsIGFjdGlvbjogdGhpcy5tZXRob2ROYW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50LCBpbmRleCB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbCA9IHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCwgaW5kZXgsIGV2ZW50IH07XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaGFuZGxlRXJyb3IoZXJyb3IsIGBpbnZva2luZyBhY3Rpb24gXCIke3RoaXMuYWN0aW9ufVwiYCwgZGV0YWlsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aWxsQmVJbnZva2VkQnlFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCBldmVudFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCAmJiB0aGlzLmFjdGlvbi5zaG91bGRJZ25vcmVLZXlib2FyZEV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgdGhpcy5hY3Rpb24uc2hvdWxkSWdub3JlTW91c2VFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbGVtZW50ID09PSBldmVudFRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmIHRoaXMuZWxlbWVudC5jb250YWlucyhldmVudFRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmNvbnRhaW5zRWxlbWVudChldmVudFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5jb250YWluc0VsZW1lbnQodGhpcy5hY3Rpb24uZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuY29udHJvbGxlcjtcbiAgICB9XG4gICAgZ2V0IG1ldGhvZE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5tZXRob2ROYW1lO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjb3BlO1xuICAgIH1cbn1cblxuY2xhc3MgRWxlbWVudE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJJbml0ID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4gdGhpcy5wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHRoaXMubXV0YXRpb25PYnNlcnZlckluaXQpO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGF1c2UoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHRoaXMubXV0YXRpb25PYnNlcnZlckluaXQpO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gbmV3IFNldCh0aGlzLm1hdGNoRWxlbWVudHNJblRyZWUoKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnRzKSkge1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBBcnJheS5mcm9tKG1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PSBcImF0dHJpYnV0ZXNcIikge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzQXR0cmlidXRlQ2hhbmdlKG11dGF0aW9uLnRhcmdldCwgbXV0YXRpb24uYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobXV0YXRpb24udHlwZSA9PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NSZW1vdmVkTm9kZXMobXV0YXRpb24ucmVtb3ZlZE5vZGVzKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0FkZGVkTm9kZXMobXV0YXRpb24uYWRkZWROb2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc0F0dHJpYnV0ZUNoYW5nZShlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQgJiYgdGhpcy5tYXRjaEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRBdHRyaWJ1dGVDaGFuZ2VkKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubWF0Y2hFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc1JlbW92ZWROb2Rlcyhub2Rlcykge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShub2RlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRGcm9tTm9kZShub2RlKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzVHJlZShlbGVtZW50LCB0aGlzLnJlbW92ZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NBZGRlZE5vZGVzKG5vZGVzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBBcnJheS5mcm9tKG5vZGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudEZyb21Ob2RlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5lbGVtZW50SXNBY3RpdmUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NUcmVlKGVsZW1lbnQsIHRoaXMuYWRkRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUubWF0Y2hFbGVtZW50KGVsZW1lbnQpO1xuICAgIH1cbiAgICBtYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUgPSB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUubWF0Y2hFbGVtZW50c0luVHJlZSh0cmVlKTtcbiAgICB9XG4gICAgcHJvY2Vzc1RyZWUodHJlZSwgcHJvY2Vzc29yKSB7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLm1hdGNoRWxlbWVudHNJblRyZWUodHJlZSkpIHtcbiAgICAgICAgICAgIHByb2Nlc3Nvci5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRGcm9tTm9kZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50SXNBY3RpdmUoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5pc0Nvbm5lY3RlZCAhPSB0aGlzLmVsZW1lbnQuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY29udGFpbnMoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRJc0FjdGl2ZShlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuYWRkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVsZW1lbnRNYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50cy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudFVubWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudFVubWF0Y2hlZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQXR0cmlidXRlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWU7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIgPSBuZXcgRWxlbWVudE9ic2VydmVyKGVsZW1lbnQsIHRoaXMpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudE9ic2VydmVyLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGBbJHt0aGlzLmF0dHJpYnV0ZU5hbWV9XWA7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBwYXVzZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5wYXVzZShjYWxsYmFjayk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIucmVmcmVzaCgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0YXJ0ZWQ7XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgICBtYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLm1hdGNoRWxlbWVudCh0cmVlKSA/IFt0cmVlXSA6IFtdO1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gQXJyYXkuZnJvbSh0cmVlLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3RvcikpO1xuICAgICAgICByZXR1cm4gbWF0Y2guY29uY2F0KG1hdGNoZXMpO1xuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVsZW1lbnRNYXRjaGVkQXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRNYXRjaGVkQXR0cmlidXRlKGVsZW1lbnQsIHRoaXMuYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVsZW1lbnRVbm1hdGNoZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudFVubWF0Y2hlZEF0dHJpYnV0ZShlbGVtZW50LCB0aGlzLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRBdHRyaWJ1dGVDaGFuZ2VkKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudEF0dHJpYnV0ZVZhbHVlQ2hhbmdlZCAmJiB0aGlzLmF0dHJpYnV0ZU5hbWUgPT0gYXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50QXR0cmlidXRlVmFsdWVDaGFuZ2VkKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGQobWFwLCBrZXksIHZhbHVlKSB7XG4gICAgZmV0Y2gobWFwLCBrZXkpLmFkZCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBkZWwobWFwLCBrZXksIHZhbHVlKSB7XG4gICAgZmV0Y2gobWFwLCBrZXkpLmRlbGV0ZSh2YWx1ZSk7XG4gICAgcHJ1bmUobWFwLCBrZXkpO1xufVxuZnVuY3Rpb24gZmV0Y2gobWFwLCBrZXkpIHtcbiAgICBsZXQgdmFsdWVzID0gbWFwLmdldChrZXkpO1xuICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbWFwLnNldChrZXksIHZhbHVlcyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBwcnVuZShtYXAsIGtleSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IG1hcC5nZXQoa2V5KTtcbiAgICBpZiAodmFsdWVzICE9IG51bGwgJiYgdmFsdWVzLnNpemUgPT0gMCkge1xuICAgICAgICBtYXAuZGVsZXRlKGtleSk7XG4gICAgfVxufVxuXG5jbGFzcyBNdWx0aW1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWVzQnlLZXkgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldCBrZXlzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnZhbHVlc0J5S2V5LmtleXMoKSk7XG4gICAgfVxuICAgIGdldCB2YWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IHNldHMgPSBBcnJheS5mcm9tKHRoaXMudmFsdWVzQnlLZXkudmFsdWVzKCkpO1xuICAgICAgICByZXR1cm4gc2V0cy5yZWR1Y2UoKHZhbHVlcywgc2V0KSA9PiB2YWx1ZXMuY29uY2F0KEFycmF5LmZyb20oc2V0KSksIFtdKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIGNvbnN0IHNldHMgPSBBcnJheS5mcm9tKHRoaXMudmFsdWVzQnlLZXkudmFsdWVzKCkpO1xuICAgICAgICByZXR1cm4gc2V0cy5yZWR1Y2UoKHNpemUsIHNldCkgPT4gc2l6ZSArIHNldC5zaXplLCAwKTtcbiAgICB9XG4gICAgYWRkKGtleSwgdmFsdWUpIHtcbiAgICAgICAgYWRkKHRoaXMudmFsdWVzQnlLZXksIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBkZWxldGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBkZWwodGhpcy52YWx1ZXNCeUtleSwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGhhcyhrZXksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmFsdWVzQnlLZXkuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXMgIT0gbnVsbCAmJiB2YWx1ZXMuaGFzKHZhbHVlKTtcbiAgICB9XG4gICAgaGFzS2V5KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNCeUtleS5oYXMoa2V5KTtcbiAgICB9XG4gICAgaGFzVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2V0cyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleS52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBzZXRzLnNvbWUoKHNldCkgPT4gc2V0Lmhhcyh2YWx1ZSkpO1xuICAgIH1cbiAgICBnZXRWYWx1ZXNGb3JLZXkoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmFsdWVzQnlLZXkuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXMgPyBBcnJheS5mcm9tKHZhbHVlcykgOiBbXTtcbiAgICB9XG4gICAgZ2V0S2V5c0ZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudmFsdWVzQnlLZXkpXG4gICAgICAgICAgICAuZmlsdGVyKChbX2tleSwgdmFsdWVzXSkgPT4gdmFsdWVzLmhhcyh2YWx1ZSkpXG4gICAgICAgICAgICAubWFwKChba2V5LCBfdmFsdWVzXSkgPT4ga2V5KTtcbiAgICB9XG59XG5cbmNsYXNzIEluZGV4ZWRNdWx0aW1hcCBleHRlbmRzIE11bHRpbWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5rZXlzQnlWYWx1ZSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5rZXlzQnlWYWx1ZS5rZXlzKCkpO1xuICAgIH1cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdXBlci5hZGQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGFkZCh0aGlzLmtleXNCeVZhbHVlLCB2YWx1ZSwga2V5KTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3VwZXIuZGVsZXRlKGtleSwgdmFsdWUpO1xuICAgICAgICBkZWwodGhpcy5rZXlzQnlWYWx1ZSwgdmFsdWUsIGtleSk7XG4gICAgfVxuICAgIGhhc1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleXNCeVZhbHVlLmhhcyh2YWx1ZSk7XG4gICAgfVxuICAgIGdldEtleXNGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLmtleXNCeVZhbHVlLmdldCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBzZXQgPyBBcnJheS5mcm9tKHNldCkgOiBbXTtcbiAgICB9XG59XG5cbmNsYXNzIFNlbGVjdG9yT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yLCBkZWxlZ2F0ZSwgZGV0YWlscykge1xuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlciA9IG5ldyBFbGVtZW50T2JzZXJ2ZXIoZWxlbWVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5tYXRjaGVzQnlFbGVtZW50ID0gbmV3IE11bHRpbWFwKCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RhcnRlZDtcbiAgICB9XG4gICAgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0b3I7XG4gICAgfVxuICAgIHNldCBzZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHBhdXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnBhdXNlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50T2JzZXJ2ZXIuZWxlbWVudDtcbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnNlbGVjdG9yTWF0Y2hFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMgJiYgdGhpcy5kZWxlZ2F0ZS5zZWxlY3Rvck1hdGNoRWxlbWVudChlbGVtZW50LCB0aGlzLmRldGFpbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50c0luVHJlZSh0cmVlKSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLm1hdGNoRWxlbWVudCh0cmVlKSA/IFt0cmVlXSA6IFtdO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IEFycmF5LmZyb20odHJlZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZmlsdGVyKChtYXRjaCkgPT4gdGhpcy5tYXRjaEVsZW1lbnQobWF0Y2gpKTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaC5jb25jYXQobWF0Y2hlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB7IHNlbGVjdG9yIH0gPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JNYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gdGhpcy5tYXRjaGVzQnlFbGVtZW50LmdldEtleXNGb3JWYWx1ZShlbGVtZW50KTtcbiAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBzZWxlY3RvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JVbm1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRBdHRyaWJ1dGVDaGFuZ2VkKGVsZW1lbnQsIF9hdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRoaXMubWF0Y2hFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZEJlZm9yZSA9IHRoaXMubWF0Y2hlc0J5RWxlbWVudC5oYXMoc2VsZWN0b3IsIGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgIW1hdGNoZWRCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yTWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghbWF0Y2hlcyAmJiBtYXRjaGVkQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3JNYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuc2VsZWN0b3JNYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yLCB0aGlzLmRldGFpbHMpO1xuICAgICAgICB0aGlzLm1hdGNoZXNCeUVsZW1lbnQuYWRkKHNlbGVjdG9yLCBlbGVtZW50KTtcbiAgICB9XG4gICAgc2VsZWN0b3JVbm1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBzZWxlY3RvciwgdGhpcy5kZXRhaWxzKTtcbiAgICAgICAgdGhpcy5tYXRjaGVzQnlFbGVtZW50LmRlbGV0ZShzZWxlY3RvciwgZWxlbWVudCk7XG4gICAgfVxufVxuXG5jbGFzcyBTdHJpbmdNYXBPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdHJpbmdNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHRoaXMucHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7IGF0dHJpYnV0ZXM6IHRydWUsIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyaWJ1dGVOYW1lIG9mIHRoaXMua25vd25BdHRyaWJ1dGVOYW1lcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc011dGF0aW9uKG11dGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IG11dGF0aW9uLmF0dHJpYnV0ZU5hbWU7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgbXV0YXRpb24ub2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2hBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5kZWxlZ2F0ZS5nZXRTdHJpbmdNYXBLZXlGb3JBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cmluZ01hcC5oYXMoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ01hcEtleUFkZGVkKGtleSwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJpbmdNYXAuZ2V0KGF0dHJpYnV0ZU5hbWUpICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpbmdNYXBWYWx1ZUNoYW5nZWQodmFsdWUsIGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuc3RyaW5nTWFwLmdldChhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ01hcC5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ01hcEtleVJlbW92ZWQoa2V5LCBhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ01hcC5zZXQoYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcEtleUFkZGVkKGtleSwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBLZXlBZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBLZXlBZGRlZChrZXksIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcFZhbHVlQ2hhbmdlZCh2YWx1ZSwga2V5LCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBWYWx1ZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKHZhbHVlLCBrZXksIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHJpbmdNYXBLZXlSZW1vdmVkKGtleSwgYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuc3RyaW5nTWFwS2V5UmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBLZXlSZW1vdmVkKGtleSwgYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBrbm93bkF0dHJpYnV0ZU5hbWVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHRoaXMuY3VycmVudEF0dHJpYnV0ZU5hbWVzLmNvbmNhdCh0aGlzLnJlY29yZGVkQXR0cmlidXRlTmFtZXMpKSk7XG4gICAgfVxuICAgIGdldCBjdXJyZW50QXR0cmlidXRlTmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzKS5tYXAoKGF0dHJpYnV0ZSkgPT4gYXR0cmlidXRlLm5hbWUpO1xuICAgIH1cbiAgICBnZXQgcmVjb3JkZWRBdHRyaWJ1dGVOYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zdHJpbmdNYXAua2V5cygpKTtcbiAgICB9XG59XG5cbmNsYXNzIFRva2VuTGlzdE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyID0gbmV3IEF0dHJpYnV0ZU9ic2VydmVyKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIHRoaXMpO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMudG9rZW5zQnlFbGVtZW50ID0gbmV3IE11bHRpbWFwKCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5zdGFydGVkO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBwYXVzZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnBhdXNlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIucmVmcmVzaCgpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGF0dHJpYnV0ZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLmF0dHJpYnV0ZU5hbWU7XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkQXR0cmlidXRlKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50b2tlbnNNYXRjaGVkKHRoaXMucmVhZFRva2Vuc0ZvckVsZW1lbnQoZWxlbWVudCkpO1xuICAgIH1cbiAgICBlbGVtZW50QXR0cmlidXRlVmFsdWVDaGFuZ2VkKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgW3VubWF0Y2hlZFRva2VucywgbWF0Y2hlZFRva2Vuc10gPSB0aGlzLnJlZnJlc2hUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRva2Vuc1VubWF0Y2hlZCh1bm1hdGNoZWRUb2tlbnMpO1xuICAgICAgICB0aGlzLnRva2Vuc01hdGNoZWQobWF0Y2hlZFRva2Vucyk7XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWRBdHRyaWJ1dGUoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRva2Vuc1VubWF0Y2hlZCh0aGlzLnRva2Vuc0J5RWxlbWVudC5nZXRWYWx1ZXNGb3JLZXkoZWxlbWVudCkpO1xuICAgIH1cbiAgICB0b2tlbnNNYXRjaGVkKHRva2Vucykge1xuICAgICAgICB0b2tlbnMuZm9yRWFjaCgodG9rZW4pID0+IHRoaXMudG9rZW5NYXRjaGVkKHRva2VuKSk7XG4gICAgfVxuICAgIHRva2Vuc1VubWF0Y2hlZCh0b2tlbnMpIHtcbiAgICAgICAgdG9rZW5zLmZvckVhY2goKHRva2VuKSA9PiB0aGlzLnRva2VuVW5tYXRjaGVkKHRva2VuKSk7XG4gICAgfVxuICAgIHRva2VuTWF0Y2hlZCh0b2tlbikge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnRva2VuTWF0Y2hlZCh0b2tlbik7XG4gICAgICAgIHRoaXMudG9rZW5zQnlFbGVtZW50LmFkZCh0b2tlbi5lbGVtZW50LCB0b2tlbik7XG4gICAgfVxuICAgIHRva2VuVW5tYXRjaGVkKHRva2VuKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUudG9rZW5Vbm1hdGNoZWQodG9rZW4pO1xuICAgICAgICB0aGlzLnRva2Vuc0J5RWxlbWVudC5kZWxldGUodG9rZW4uZWxlbWVudCwgdG9rZW4pO1xuICAgIH1cbiAgICByZWZyZXNoVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVG9rZW5zID0gdGhpcy50b2tlbnNCeUVsZW1lbnQuZ2V0VmFsdWVzRm9yS2V5KGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBjdXJyZW50VG9rZW5zID0gdGhpcy5yZWFkVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgY29uc3QgZmlyc3REaWZmZXJpbmdJbmRleCA9IHppcChwcmV2aW91c1Rva2VucywgY3VycmVudFRva2VucykuZmluZEluZGV4KChbcHJldmlvdXNUb2tlbiwgY3VycmVudFRva2VuXSkgPT4gIXRva2Vuc0FyZUVxdWFsKHByZXZpb3VzVG9rZW4sIGN1cnJlbnRUb2tlbikpO1xuICAgICAgICBpZiAoZmlyc3REaWZmZXJpbmdJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtbXSwgW11dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtwcmV2aW91c1Rva2Vucy5zbGljZShmaXJzdERpZmZlcmluZ0luZGV4KSwgY3VycmVudFRva2Vucy5zbGljZShmaXJzdERpZmZlcmluZ0luZGV4KV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZFRva2Vuc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICBjb25zdCB0b2tlblN0cmluZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiBwYXJzZVRva2VuU3RyaW5nKHRva2VuU3RyaW5nLCBlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZVRva2VuU3RyaW5nKHRva2VuU3RyaW5nLCBlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgcmV0dXJuIHRva2VuU3RyaW5nXG4gICAgICAgIC50cmltKClcbiAgICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgICAgLmZpbHRlcigoY29udGVudCkgPT4gY29udGVudC5sZW5ndGgpXG4gICAgICAgIC5tYXAoKGNvbnRlbnQsIGluZGV4KSA9PiAoeyBlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBjb250ZW50LCBpbmRleCB9KSk7XG59XG5mdW5jdGlvbiB6aXAobGVmdCwgcmlnaHQpIHtcbiAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoXywgaW5kZXgpID0+IFtsZWZ0W2luZGV4XSwgcmlnaHRbaW5kZXhdXSk7XG59XG5mdW5jdGlvbiB0b2tlbnNBcmVFcXVhbChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBsZWZ0ICYmIHJpZ2h0ICYmIGxlZnQuaW5kZXggPT0gcmlnaHQuaW5kZXggJiYgbGVmdC5jb250ZW50ID09IHJpZ2h0LmNvbnRlbnQ7XG59XG5cbmNsYXNzIFZhbHVlTGlzdE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyID0gbmV3IFRva2VuTGlzdE9ic2VydmVyKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIHRoaXMpO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMucGFyc2VSZXN1bHRzQnlUb2tlbiA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMudmFsdWVzQnlUb2tlbkJ5RWxlbWVudCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbkxpc3RPYnNlcnZlci5zdGFydGVkO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbkxpc3RPYnNlcnZlci5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgYXR0cmlidXRlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuYXR0cmlidXRlTmFtZTtcbiAgICB9XG4gICAgdG9rZW5NYXRjaGVkKHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gdG9rZW47XG4gICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMuZmV0Y2hQYXJzZVJlc3VsdEZvclRva2VuKHRva2VuKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZldGNoVmFsdWVzQnlUb2tlbkZvckVsZW1lbnQoZWxlbWVudCkuc2V0KHRva2VuLCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRNYXRjaGVkVmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuVW5tYXRjaGVkKHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gdG9rZW47XG4gICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMuZmV0Y2hQYXJzZVJlc3VsdEZvclRva2VuKHRva2VuKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZldGNoVmFsdWVzQnlUb2tlbkZvckVsZW1lbnQoZWxlbWVudCkuZGVsZXRlKHRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudFVubWF0Y2hlZFZhbHVlKGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaFBhcnNlUmVzdWx0Rm9yVG9rZW4odG9rZW4pIHtcbiAgICAgICAgbGV0IHBhcnNlUmVzdWx0ID0gdGhpcy5wYXJzZVJlc3VsdHNCeVRva2VuLmdldCh0b2tlbik7XG4gICAgICAgIGlmICghcGFyc2VSZXN1bHQpIHtcbiAgICAgICAgICAgIHBhcnNlUmVzdWx0ID0gdGhpcy5wYXJzZVRva2VuKHRva2VuKTtcbiAgICAgICAgICAgIHRoaXMucGFyc2VSZXN1bHRzQnlUb2tlbi5zZXQodG9rZW4sIHBhcnNlUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VSZXN1bHQ7XG4gICAgfVxuICAgIGZldGNoVmFsdWVzQnlUb2tlbkZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBsZXQgdmFsdWVzQnlUb2tlbiA9IHRoaXMudmFsdWVzQnlUb2tlbkJ5RWxlbWVudC5nZXQoZWxlbWVudCk7XG4gICAgICAgIGlmICghdmFsdWVzQnlUb2tlbikge1xuICAgICAgICAgICAgdmFsdWVzQnlUb2tlbiA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzQnlUb2tlbkJ5RWxlbWVudC5zZXQoZWxlbWVudCwgdmFsdWVzQnlUb2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlc0J5VG9rZW47XG4gICAgfVxuICAgIHBhcnNlVG9rZW4odG9rZW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kZWxlZ2F0ZS5wYXJzZVZhbHVlRm9yVG9rZW4odG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEJpbmRpbmdPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLmJpbmRpbmdzQnlBY3Rpb24gPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIgPSBuZXcgVmFsdWVMaXN0T2JzZXJ2ZXIodGhpcy5lbGVtZW50LCB0aGlzLmFjdGlvbkF0dHJpYnV0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXI7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RBbGxBY3Rpb25zKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IGFjdGlvbkF0dHJpYnV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hLmFjdGlvbkF0dHJpYnV0ZTtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY2hlbWE7XG4gICAgfVxuICAgIGdldCBiaW5kaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5iaW5kaW5nc0J5QWN0aW9uLnZhbHVlcygpKTtcbiAgICB9XG4gICAgY29ubmVjdEFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IG5ldyBCaW5kaW5nKHRoaXMuY29udGV4dCwgYWN0aW9uKTtcbiAgICAgICAgdGhpcy5iaW5kaW5nc0J5QWN0aW9uLnNldChhY3Rpb24sIGJpbmRpbmcpO1xuICAgICAgICB0aGlzLmRlbGVnYXRlLmJpbmRpbmdDb25uZWN0ZWQoYmluZGluZyk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RBY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmJpbmRpbmdzQnlBY3Rpb24uZ2V0KGFjdGlvbik7XG4gICAgICAgIGlmIChiaW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzQnlBY3Rpb24uZGVsZXRlKGFjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdEFsbEFjdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ3MuZm9yRWFjaCgoYmluZGluZykgPT4gdGhpcy5kZWxlZ2F0ZS5iaW5kaW5nRGlzY29ubmVjdGVkKGJpbmRpbmcsIHRydWUpKTtcbiAgICAgICAgdGhpcy5iaW5kaW5nc0J5QWN0aW9uLmNsZWFyKCk7XG4gICAgfVxuICAgIHBhcnNlVmFsdWVGb3JUb2tlbih0b2tlbikge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBBY3Rpb24uZm9yVG9rZW4odG9rZW4sIHRoaXMuc2NoZW1hKTtcbiAgICAgICAgaWYgKGFjdGlvbi5pZGVudGlmaWVyID09IHRoaXMuaWRlbnRpZmllcikge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZFZhbHVlKGVsZW1lbnQsIGFjdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RBY3Rpb24oYWN0aW9uKTtcbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZFZhbHVlKGVsZW1lbnQsIGFjdGlvbikge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RBY3Rpb24oYWN0aW9uKTtcbiAgICB9XG59XG5cbmNsYXNzIFZhbHVlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHJlY2VpdmVyKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgdGhpcy5zdHJpbmdNYXBPYnNlcnZlciA9IG5ldyBTdHJpbmdNYXBPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLnZhbHVlRGVzY3JpcHRvck1hcCA9IHRoaXMuY29udHJvbGxlci52YWx1ZURlc2NyaXB0b3JNYXA7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnN0cmluZ01hcE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuaW52b2tlQ2hhbmdlZENhbGxiYWNrc0ZvckRlZmF1bHRWYWx1ZXMoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5zdHJpbmdNYXBPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmNvbnRyb2xsZXI7XG4gICAgfVxuICAgIGdldFN0cmluZ01hcEtleUZvckF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lIGluIHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZURlc2NyaXB0b3JNYXBbYXR0cmlidXRlTmFtZV0ubmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHJpbmdNYXBLZXlBZGRlZChrZXksIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBpZiAoIXRoaXMuaGFzVmFsdWUoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2soa2V5LCBkZXNjcmlwdG9yLndyaXRlcih0aGlzLnJlY2VpdmVyW2tleV0pLCBkZXNjcmlwdG9yLndyaXRlcihkZXNjcmlwdG9yLmRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcFZhbHVlQ2hhbmdlZCh2YWx1ZSwgbmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTmFtZU1hcFtuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAob2xkVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG9sZFZhbHVlID0gZGVzY3JpcHRvci53cml0ZXIoZGVzY3JpcHRvci5kZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW52b2tlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHN0cmluZ01hcEtleVJlbW92ZWQoa2V5LCBhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JOYW1lTWFwW2tleV07XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuaW52b2tlQ2hhbmdlZENhbGxiYWNrKGtleSwgZGVzY3JpcHRvci53cml0ZXIodGhpcy5yZWNlaXZlcltrZXldKSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2soa2V5LCBkZXNjcmlwdG9yLndyaXRlcihkZXNjcmlwdG9yLmRlZmF1bHRWYWx1ZSksIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnZva2VDaGFuZ2VkQ2FsbGJhY2tzRm9yRGVmYXVsdFZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCB7IGtleSwgbmFtZSwgZGVmYXVsdFZhbHVlLCB3cml0ZXIgfSBvZiB0aGlzLnZhbHVlRGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT0gdW5kZWZpbmVkICYmICF0aGlzLmNvbnRyb2xsZXIuZGF0YS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW52b2tlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIHdyaXRlcihkZWZhdWx0VmFsdWUpLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGludm9rZUNoYW5nZWRDYWxsYmFjayhuYW1lLCByYXdWYWx1ZSwgcmF3T2xkVmFsdWUpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlZE1ldGhvZE5hbWUgPSBgJHtuYW1lfUNoYW5nZWRgO1xuICAgICAgICBjb25zdCBjaGFuZ2VkTWV0aG9kID0gdGhpcy5yZWNlaXZlcltjaGFuZ2VkTWV0aG9kTmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgY2hhbmdlZE1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck5hbWVNYXBbbmFtZV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGVzY3JpcHRvci5yZWFkZXIocmF3VmFsdWUpO1xuICAgICAgICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IHJhd09sZFZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChyYXdPbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGRlc2NyaXB0b3IucmVhZGVyKHJhd09sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbmdlZE1ldGhvZC5jYWxsKHRoaXMucmVjZWl2ZXIsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSA9IGBTdGltdWx1cyBWYWx1ZSBcIiR7dGhpcy5jb250ZXh0LmlkZW50aWZpZXJ9LiR7ZGVzY3JpcHRvci5uYW1lfVwiIC0gJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB2YWx1ZURlc2NyaXB0b3JzKCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlRGVzY3JpcHRvck1hcCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlRGVzY3JpcHRvck1hcCkubWFwKChrZXkpID0+IHZhbHVlRGVzY3JpcHRvck1hcFtrZXldKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlRGVzY3JpcHRvck5hbWVNYXAoKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3JzID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck1hcFtrZXldO1xuICAgICAgICAgICAgZGVzY3JpcHRvcnNbZGVzY3JpcHRvci5uYW1lXSA9IGRlc2NyaXB0b3I7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gICAgfVxuICAgIGhhc1ZhbHVlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTmFtZU1hcFthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgY29uc3QgaGFzTWV0aG9kTmFtZSA9IGBoYXMke2NhcGl0YWxpemUoZGVzY3JpcHRvci5uYW1lKX1gO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlcltoYXNNZXRob2ROYW1lXTtcbiAgICB9XG59XG5cbmNsYXNzIFRhcmdldE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMudGFyZ2V0c0J5TmFtZSA9IG5ldyBNdWx0aW1hcCgpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRva2VuTGlzdE9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyID0gbmV3IFRva2VuTGlzdE9ic2VydmVyKHRoaXMuZWxlbWVudCwgdGhpcy5hdHRyaWJ1dGVOYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy50b2tlbkxpc3RPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0QWxsVGFyZ2V0cygpO1xuICAgICAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50b2tlbkxpc3RPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlbk1hdGNoZWQoeyBlbGVtZW50LCBjb250ZW50OiBuYW1lIH0pIHtcbiAgICAgICAgaWYgKHRoaXMuc2NvcGUuY29udGFpbnNFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5Vbm1hdGNoZWQoeyBlbGVtZW50LCBjb250ZW50OiBuYW1lIH0pIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0VGFyZ2V0KGVsZW1lbnQsIG5hbWUpO1xuICAgIH1cbiAgICBjb25uZWN0VGFyZ2V0KGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0c0J5TmFtZS5oYXMobmFtZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0c0J5TmFtZS5hZGQobmFtZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnRva2VuTGlzdE9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKCkgPT4gdGhpcy5kZWxlZ2F0ZS50YXJnZXRDb25uZWN0ZWQoZWxlbWVudCwgbmFtZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldHNCeU5hbWUuaGFzKG5hbWUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldHNCeU5hbWUuZGVsZXRlKG5hbWUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy50b2tlbkxpc3RPYnNlcnZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCgpID0+IHRoaXMuZGVsZWdhdGUudGFyZ2V0RGlzY29ubmVjdGVkKGVsZW1lbnQsIG5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0QWxsVGFyZ2V0cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMudGFyZ2V0c0J5TmFtZS5rZXlzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy50YXJnZXRzQnlOYW1lLmdldFZhbHVlc0ZvcktleShuYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYXR0cmlidXRlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRhLSR7dGhpcy5jb250ZXh0LmlkZW50aWZpZXJ9LXRhcmdldGA7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY29wZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICBjb25zdCBhbmNlc3RvcnMgPSBnZXRBbmNlc3RvcnNGb3JDb25zdHJ1Y3Rvcihjb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYW5jZXN0b3JzLnJlZHVjZSgodmFsdWVzLCBjb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICBnZXRPd25TdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKS5mb3JFYWNoKChuYW1lKSA9PiB2YWx1ZXMuYWRkKG5hbWUpKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9LCBuZXcgU2V0KCkpKTtcbn1cbmZ1bmN0aW9uIHJlYWRJbmhlcml0YWJsZVN0YXRpY09iamVjdFBhaXJzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICBjb25zdCBhbmNlc3RvcnMgPSBnZXRBbmNlc3RvcnNGb3JDb25zdHJ1Y3Rvcihjb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIGFuY2VzdG9ycy5yZWR1Y2UoKHBhaXJzLCBjb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICBwYWlycy5wdXNoKC4uLmdldE93blN0YXRpY09iamVjdFBhaXJzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGdldEFuY2VzdG9yc0ZvckNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgYW5jZXN0b3JzID0gW107XG4gICAgd2hpbGUgKGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGFuY2VzdG9ycy5wdXNoKGNvbnN0cnVjdG9yKTtcbiAgICAgICAgY29uc3RydWN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29uc3RydWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gYW5jZXN0b3JzLnJldmVyc2UoKTtcbn1cbmZ1bmN0aW9uIGdldE93blN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gY29uc3RydWN0b3JbcHJvcGVydHlOYW1lXTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkZWZpbml0aW9uKSA/IGRlZmluaXRpb24gOiBbXTtcbn1cbmZ1bmN0aW9uIGdldE93blN0YXRpY09iamVjdFBhaXJzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gY29uc3RydWN0b3JbcHJvcGVydHlOYW1lXTtcbiAgICByZXR1cm4gZGVmaW5pdGlvbiA/IE9iamVjdC5rZXlzKGRlZmluaXRpb24pLm1hcCgoa2V5KSA9PiBba2V5LCBkZWZpbml0aW9uW2tleV1dKSA6IFtdO1xufVxuXG5jbGFzcyBPdXRsZXRPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5vdXRsZXRzQnlOYW1lID0gbmV3IE11bHRpbWFwKCk7XG4gICAgICAgIHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUgPSBuZXcgTXVsdGltYXAoKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0RGVmaW5pdGlvbnMuZm9yRWFjaCgob3V0bGV0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBBdHRyaWJ1dGVPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGVwZW5kZW50Q29udGV4dHMuZm9yRWFjaCgoY29udGV4dCkgPT4gY29udGV4dC5yZWZyZXNoKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5mb3JFYWNoKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIucmVmcmVzaCgpKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5mb3JFYWNoKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIucmVmcmVzaCgpKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RBbGxPdXRsZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3BTZWxlY3Rvck9ic2VydmVycygpO1xuICAgICAgICAgICAgdGhpcy5zdG9wQXR0cmlidXRlT2JzZXJ2ZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcFNlbGVjdG9yT2JzZXJ2ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLnN0b3AoKSk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wQXR0cmlidXRlT2JzZXJ2ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5mb3JFYWNoKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIuc3RvcCgpKTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgX3NlbGVjdG9yLCB7IG91dGxldE5hbWUgfSkge1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmdldE91dGxldChlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0T3V0bGV0KG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3JVbm1hdGNoZWQoZWxlbWVudCwgX3NlbGVjdG9yLCB7IG91dGxldE5hbWUgfSkge1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmdldE91dGxldEZyb21NYXAoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9yTWF0Y2hFbGVtZW50KGVsZW1lbnQsIHsgb3V0bGV0TmFtZSB9KSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihvdXRsZXROYW1lKTtcbiAgICAgICAgY29uc3QgaGFzT3V0bGV0ID0gdGhpcy5oYXNPdXRsZXQoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgIGNvbnN0IGhhc091dGxldENvbnRyb2xsZXIgPSBlbGVtZW50Lm1hdGNoZXMoYFske3RoaXMuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGV9fj0ke291dGxldE5hbWV9XWApO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBoYXNPdXRsZXQgJiYgaGFzT3V0bGV0Q29udHJvbGxlciAmJiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkQXR0cmlidXRlKF9lbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IG91dGxldE5hbWUgPSB0aGlzLmdldE91dGxldE5hbWVGcm9tT3V0bGV0QXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKG91dGxldE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0b3JPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50QXR0cmlidXRlVmFsdWVDaGFuZ2VkKF9lbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IG91dGxldE5hbWUgPSB0aGlzLmdldE91dGxldE5hbWVGcm9tT3V0bGV0QXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKG91dGxldE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0b3JPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkQXR0cmlidXRlKF9lbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IG91dGxldE5hbWUgPSB0aGlzLmdldE91dGxldE5hbWVGcm9tT3V0bGV0QXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKG91dGxldE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0b3JPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0T3V0bGV0KG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5oYXMob3V0bGV0TmFtZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0c0J5TmFtZS5hZGQob3V0bGV0TmFtZSwgb3V0bGV0KTtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUuYWRkKG91dGxldE5hbWUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLmdldChvdXRsZXROYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCgpID0+IHRoaXMuZGVsZWdhdGUub3V0bGV0Q29ubmVjdGVkKG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUuaGFzKG91dGxldE5hbWUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldHNCeU5hbWUuZGVsZXRlKG91dGxldE5hbWUsIG91dGxldCk7XG4gICAgICAgICAgICB0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmRlbGV0ZShvdXRsZXROYW1lLCBlbGVtZW50KTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcFxuICAgICAgICAgICAgICAgIC5nZXQob3V0bGV0TmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXVzZSgoKSA9PiB0aGlzLmRlbGVnYXRlLm91dGxldERpc2Nvbm5lY3RlZChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0QWxsT3V0bGV0cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdXRsZXROYW1lIG9mIHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUua2V5cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG91dGxldE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvdXRsZXQgb2YgdGhpcy5vdXRsZXRzQnlOYW1lLmdldFZhbHVlc0ZvcktleShvdXRsZXROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU2VsZWN0b3JPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLmdldChvdXRsZXROYW1lKTtcbiAgICAgICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5zZWxlY3RvciA9IHRoaXMuc2VsZWN0b3Iob3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0dXBTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yKG91dGxldE5hbWUpO1xuICAgICAgICBjb25zdCBzZWxlY3Rvck9ic2VydmVyID0gbmV3IFNlbGVjdG9yT2JzZXJ2ZXIoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHRoaXMsIHsgb3V0bGV0TmFtZSB9KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLnNldChvdXRsZXROYW1lLCBzZWxlY3Rvck9ic2VydmVyKTtcbiAgICAgICAgc2VsZWN0b3JPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBzZXR1cEF0dHJpYnV0ZU9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuYXR0cmlidXRlTmFtZUZvck91dGxldE5hbWUob3V0bGV0TmFtZSk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU9ic2VydmVyID0gbmV3IEF0dHJpYnV0ZU9ic2VydmVyKHRoaXMuc2NvcGUuZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAuc2V0KG91dGxldE5hbWUsIGF0dHJpYnV0ZU9ic2VydmVyKTtcbiAgICAgICAgYXR0cmlidXRlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgc2VsZWN0b3Iob3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5vdXRsZXRzLmdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKTtcbiAgICB9XG4gICAgYXR0cmlidXRlTmFtZUZvck91dGxldE5hbWUob3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5zY2hlbWEub3V0bGV0QXR0cmlidXRlRm9yU2NvcGUodGhpcy5pZGVudGlmaWVyLCBvdXRsZXROYW1lKTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0RGVmaW5pdGlvbnMuZmluZCgob3V0bGV0TmFtZSkgPT4gdGhpcy5hdHRyaWJ1dGVOYW1lRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKSA9PT0gYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICAgIGdldCBvdXRsZXREZXBlbmRlbmNpZXMoKSB7XG4gICAgICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IG5ldyBNdWx0aW1hcCgpO1xuICAgICAgICB0aGlzLnJvdXRlci5tb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3IgPSBtb2R1bGUuZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3I7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIFwib3V0bGV0c1wiKTtcbiAgICAgICAgICAgIG91dGxldHMuZm9yRWFjaCgob3V0bGV0KSA9PiBkZXBlbmRlbmNpZXMuYWRkKG91dGxldCwgbW9kdWxlLmlkZW50aWZpZXIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXM7XG4gICAgfVxuICAgIGdldCBvdXRsZXREZWZpbml0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0RGVwZW5kZW5jaWVzLmdldEtleXNGb3JWYWx1ZSh0aGlzLmlkZW50aWZpZXIpO1xuICAgIH1cbiAgICBnZXQgZGVwZW5kZW50Q29udHJvbGxlcklkZW50aWZpZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXREZXBlbmRlbmNpZXMuZ2V0VmFsdWVzRm9yS2V5KHRoaXMuaWRlbnRpZmllcik7XG4gICAgfVxuICAgIGdldCBkZXBlbmRlbnRDb250ZXh0cygpIHtcbiAgICAgICAgY29uc3QgaWRlbnRpZmllcnMgPSB0aGlzLmRlcGVuZGVudENvbnRyb2xsZXJJZGVudGlmaWVycztcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLmNvbnRleHRzLmZpbHRlcigoY29udGV4dCkgPT4gaWRlbnRpZmllcnMuaW5jbHVkZXMoY29udGV4dC5pZGVudGlmaWVyKSk7XG4gICAgfVxuICAgIGhhc091dGxldChlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0T3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpIHx8ICEhdGhpcy5nZXRPdXRsZXRGcm9tTWFwKGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBnZXRPdXRsZXQoZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5nZXRDb250cm9sbGVyRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGdldE91dGxldEZyb21NYXAoZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXRzQnlOYW1lLmdldFZhbHVlc0ZvcktleShvdXRsZXROYW1lKS5maW5kKChvdXRsZXQpID0+IG91dGxldC5lbGVtZW50ID09PSBlbGVtZW50KTtcbiAgICB9XG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjb3BlO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjaGVtYTtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IGFwcGxpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmFwcGxpY2F0aW9uO1xuICAgIH1cbiAgICBnZXQgcm91dGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5yb3V0ZXI7XG4gICAgfVxufVxuXG5jbGFzcyBDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcihtb2R1bGUsIHNjb3BlKSB7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eSA9IChmdW5jdGlvbk5hbWUsIGRldGFpbCA9IHt9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQgfSA9IHRoaXM7XG4gICAgICAgICAgICBkZXRhaWwgPSBPYmplY3QuYXNzaWduKHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCB9LCBkZXRhaWwpO1xuICAgICAgICAgICAgdGhpcy5hcHBsaWNhdGlvbi5sb2dEZWJ1Z0FjdGl2aXR5KHRoaXMuaWRlbnRpZmllciwgZnVuY3Rpb25OYW1lLCBkZXRhaWwpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vZHVsZSA9IG1vZHVsZTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgbW9kdWxlLmNvbnRyb2xsZXJDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kaW5nT2JzZXJ2ZXIgPSBuZXcgQmluZGluZ09ic2VydmVyKHRoaXMsIHRoaXMuZGlzcGF0Y2hlcik7XG4gICAgICAgIHRoaXMudmFsdWVPYnNlcnZlciA9IG5ldyBWYWx1ZU9ic2VydmVyKHRoaXMsIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIgPSBuZXcgVGFyZ2V0T2JzZXJ2ZXIodGhpcywgdGhpcyk7XG4gICAgICAgIHRoaXMub3V0bGV0T2JzZXJ2ZXIgPSBuZXcgT3V0bGV0T2JzZXJ2ZXIodGhpcywgdGhpcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiaW5pdGlhbGl6ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIFwiaW5pdGlhbGl6aW5nIGNvbnRyb2xsZXJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy52YWx1ZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5vdXRsZXRPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmNvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImNvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBcImNvbm5lY3RpbmcgY29udHJvbGxlclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLm91dGxldE9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgXCJkaXNjb25uZWN0aW5nIGNvbnRyb2xsZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRsZXRPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnZhbHVlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIGdldCBhcHBsaWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kdWxlLmFwcGxpY2F0aW9uO1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kdWxlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLnNjaGVtYTtcbiAgICB9XG4gICAgZ2V0IGRpc3BhdGNoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLmRpc3BhdGNoZXI7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgcGFyZW50RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvciwgbWVzc2FnZSwgZGV0YWlsID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICBkZXRhaWwgPSBPYmplY3QuYXNzaWduKHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCB9LCBkZXRhaWwpO1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uLmhhbmRsZUVycm9yKGVycm9yLCBgRXJyb3IgJHttZXNzYWdlfWAsIGRldGFpbCk7XG4gICAgfVxuICAgIHRhcmdldENvbm5lY3RlZChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lfVRhcmdldENvbm5lY3RlZGAsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB0YXJnZXREaXNjb25uZWN0ZWQoZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB0aGlzLmludm9rZUNvbnRyb2xsZXJNZXRob2QoYCR7bmFtZX1UYXJnZXREaXNjb25uZWN0ZWRgLCBlbGVtZW50KTtcbiAgICB9XG4gICAgb3V0bGV0Q29ubmVjdGVkKG91dGxldCwgZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB0aGlzLmludm9rZUNvbnRyb2xsZXJNZXRob2QoYCR7bmFtZXNwYWNlQ2FtZWxpemUobmFtZSl9T3V0bGV0Q29ubmVjdGVkYCwgb3V0bGV0LCBlbGVtZW50KTtcbiAgICB9XG4gICAgb3V0bGV0RGlzY29ubmVjdGVkKG91dGxldCwgZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB0aGlzLmludm9rZUNvbnRyb2xsZXJNZXRob2QoYCR7bmFtZXNwYWNlQ2FtZWxpemUobmFtZSl9T3V0bGV0RGlzY29ubmVjdGVkYCwgb3V0bGV0LCBlbGVtZW50KTtcbiAgICB9XG4gICAgaW52b2tlQ29udHJvbGxlck1ldGhvZChtZXRob2ROYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmNvbnRyb2xsZXI7XG4gICAgICAgIGlmICh0eXBlb2YgY29udHJvbGxlclttZXRob2ROYW1lXSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJbbWV0aG9kTmFtZV0oLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJsZXNzKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIHNoYWRvdyhjb25zdHJ1Y3RvciwgZ2V0Qmxlc3NlZFByb3BlcnRpZXMoY29uc3RydWN0b3IpKTtcbn1cbmZ1bmN0aW9uIHNoYWRvdyhjb25zdHJ1Y3RvciwgcHJvcGVydGllcykge1xuICAgIGNvbnN0IHNoYWRvd0NvbnN0cnVjdG9yID0gZXh0ZW5kKGNvbnN0cnVjdG9yKTtcbiAgICBjb25zdCBzaGFkb3dQcm9wZXJ0aWVzID0gZ2V0U2hhZG93UHJvcGVydGllcyhjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BlcnRpZXMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNoYWRvd0NvbnN0cnVjdG9yLnByb3RvdHlwZSwgc2hhZG93UHJvcGVydGllcyk7XG4gICAgcmV0dXJuIHNoYWRvd0NvbnN0cnVjdG9yO1xufVxuZnVuY3Rpb24gZ2V0Qmxlc3NlZFByb3BlcnRpZXMoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBibGVzc2luZ3MgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJibGVzc2luZ3NcIik7XG4gICAgcmV0dXJuIGJsZXNzaW5ncy5yZWR1Y2UoKGJsZXNzZWRQcm9wZXJ0aWVzLCBibGVzc2luZykgPT4ge1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYmxlc3NpbmcoY29uc3RydWN0b3IpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gYmxlc3NlZFByb3BlcnRpZXNba2V5XSB8fCB7fTtcbiAgICAgICAgICAgIGJsZXNzZWRQcm9wZXJ0aWVzW2tleV0gPSBPYmplY3QuYXNzaWduKGRlc2NyaXB0b3IsIHByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJsZXNzZWRQcm9wZXJ0aWVzO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGdldFNoYWRvd1Byb3BlcnRpZXMocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIGdldE93bktleXMocHJvcGVydGllcykucmVkdWNlKChzaGFkb3dQcm9wZXJ0aWVzLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IGdldFNoYWRvd2VkRGVzY3JpcHRvcihwcm90b3R5cGUsIHByb3BlcnRpZXMsIGtleSk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHNoYWRvd1Byb3BlcnRpZXMsIHsgW2tleV06IGRlc2NyaXB0b3IgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYWRvd1Byb3BlcnRpZXM7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0U2hhZG93ZWREZXNjcmlwdG9yKHByb3RvdHlwZSwgcHJvcGVydGllcywga2V5KSB7XG4gICAgY29uc3Qgc2hhZG93aW5nRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG90eXBlLCBrZXkpO1xuICAgIGNvbnN0IHNoYWRvd2VkQnlWYWx1ZSA9IHNoYWRvd2luZ0Rlc2NyaXB0b3IgJiYgXCJ2YWx1ZVwiIGluIHNoYWRvd2luZ0Rlc2NyaXB0b3I7XG4gICAgaWYgKCFzaGFkb3dlZEJ5VmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvcGVydGllcywga2V5KS52YWx1ZTtcbiAgICAgICAgaWYgKHNoYWRvd2luZ0Rlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IuZ2V0ID0gc2hhZG93aW5nRGVzY3JpcHRvci5nZXQgfHwgZGVzY3JpcHRvci5nZXQ7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLnNldCA9IHNoYWRvd2luZ0Rlc2NyaXB0b3Iuc2V0IHx8IGRlc2NyaXB0b3Iuc2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH1cbn1cbmNvbnN0IGdldE93bktleXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIChvYmplY3QpID0+IFsuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpLCAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICAgIH1cbn0pKCk7XG5jb25zdCBleHRlbmQgPSAoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGV4dGVuZFdpdGhSZWZsZWN0KGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KGNvbnN0cnVjdG9yLCBhcmd1bWVudHMsIG5ldy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGV4dGVuZGVkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoY29uc3RydWN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogZXh0ZW5kZWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIFJlZmxlY3Quc2V0UHJvdG90eXBlT2YoZXh0ZW5kZWQsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0UmVmbGVjdEV4dGVuc2lvbigpIHtcbiAgICAgICAgY29uc3QgYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuYS5jYWxsKHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBiID0gZXh0ZW5kV2l0aFJlZmxlY3QoYSk7XG4gICAgICAgIGIucHJvdG90eXBlLmEgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHJldHVybiBuZXcgYigpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB0ZXN0UmVmbGVjdEV4dGVuc2lvbigpO1xuICAgICAgICByZXR1cm4gZXh0ZW5kV2l0aFJlZmxlY3Q7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gKGNvbnN0cnVjdG9yKSA9PiBjbGFzcyBleHRlbmRlZCBleHRlbmRzIGNvbnN0cnVjdG9yIHtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuXG5mdW5jdGlvbiBibGVzc0RlZmluaXRpb24oZGVmaW5pdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkZW50aWZpZXI6IGRlZmluaXRpb24uaWRlbnRpZmllcixcbiAgICAgICAgY29udHJvbGxlckNvbnN0cnVjdG9yOiBibGVzcyhkZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3RvciksXG4gICAgfTtcbn1cblxuY2xhc3MgTW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihhcHBsaWNhdGlvbiwgZGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uID0gYXBwbGljYXRpb247XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGJsZXNzRGVmaW5pdGlvbihkZWZpbml0aW9uKTtcbiAgICAgICAgdGhpcy5jb250ZXh0c0J5U2NvcGUgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENvbnRleHRzID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbi5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlckNvbnN0cnVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3RvcjtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHRzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNvbm5lY3RlZENvbnRleHRzKTtcbiAgICB9XG4gICAgY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5mZXRjaENvbnRleHRGb3JTY29wZShzY29wZSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ29udGV4dHMuYWRkKGNvbnRleHQpO1xuICAgICAgICBjb250ZXh0LmNvbm5lY3QoKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0c0J5U2NvcGUuZ2V0KHNjb3BlKTtcbiAgICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkQ29udGV4dHMuZGVsZXRlKGNvbnRleHQpO1xuICAgICAgICAgICAgY29udGV4dC5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hDb250ZXh0Rm9yU2NvcGUoc2NvcGUpIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRzQnlTY29wZS5nZXQoc2NvcGUpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0aGlzLCBzY29wZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRzQnlTY29wZS5zZXQoc2NvcGUsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbn1cblxuY2xhc3MgQ2xhc3NNYXAge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlKSB7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgaGFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5oYXModGhpcy5nZXREYXRhS2V5KG5hbWUpKTtcbiAgICB9XG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsKG5hbWUpWzBdO1xuICAgIH1cbiAgICBnZXRBbGwobmFtZSkge1xuICAgICAgICBjb25zdCB0b2tlblN0cmluZyA9IHRoaXMuZGF0YS5nZXQodGhpcy5nZXREYXRhS2V5KG5hbWUpKSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gdG9rZW5pemUodG9rZW5TdHJpbmcpO1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGVOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KHRoaXMuZ2V0RGF0YUtleShuYW1lKSk7XG4gICAgfVxuICAgIGdldERhdGFLZXkobmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7bmFtZX0tY2xhc3NgO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZGF0YTtcbiAgICB9XG59XG5cbmNsYXNzIERhdGFNYXAge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlKSB7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkoa2V5KTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChrZXkpO1xuICAgIH1cbiAgICBoYXMoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkoa2V5KTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KGtleSkge1xuICAgICAgICByZXR1cm4gYGRhdGEtJHt0aGlzLmlkZW50aWZpZXJ9LSR7ZGFzaGVyaXplKGtleSl9YDtcbiAgICB9XG59XG5cbmNsYXNzIEd1aWRlIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2dnZXIpIHtcbiAgICAgICAgdGhpcy53YXJuZWRLZXlzQnlPYmplY3QgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICB9XG4gICAgd2FybihvYmplY3QsIGtleSwgbWVzc2FnZSkge1xuICAgICAgICBsZXQgd2FybmVkS2V5cyA9IHRoaXMud2FybmVkS2V5c0J5T2JqZWN0LmdldChvYmplY3QpO1xuICAgICAgICBpZiAoIXdhcm5lZEtleXMpIHtcbiAgICAgICAgICAgIHdhcm5lZEtleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICB0aGlzLndhcm5lZEtleXNCeU9iamVjdC5zZXQob2JqZWN0LCB3YXJuZWRLZXlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXdhcm5lZEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHdhcm5lZEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UsIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGF0dHJpYnV0ZVZhbHVlQ29udGFpbnNUb2tlbihhdHRyaWJ1dGVOYW1lLCB0b2tlbikge1xuICAgIHJldHVybiBgWyR7YXR0cmlidXRlTmFtZX1+PVwiJHt0b2tlbn1cIl1gO1xufVxuXG5jbGFzcyBUYXJnZXRTZXQge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlKSB7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5zY2hlbWE7XG4gICAgfVxuICAgIGhhcyh0YXJnZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQodGFyZ2V0TmFtZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgZmluZCguLi50YXJnZXROYW1lcykge1xuICAgICAgICByZXR1cm4gdGFyZ2V0TmFtZXMucmVkdWNlKCh0YXJnZXQsIHRhcmdldE5hbWUpID0+IHRhcmdldCB8fCB0aGlzLmZpbmRUYXJnZXQodGFyZ2V0TmFtZSkgfHwgdGhpcy5maW5kTGVnYWN5VGFyZ2V0KHRhcmdldE5hbWUpLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBmaW5kQWxsKC4uLnRhcmdldE5hbWVzKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXROYW1lcy5yZWR1Y2UoKHRhcmdldHMsIHRhcmdldE5hbWUpID0+IFtcbiAgICAgICAgICAgIC4uLnRhcmdldHMsXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRBbGxUYXJnZXRzKHRhcmdldE5hbWUpLFxuICAgICAgICAgICAgLi4udGhpcy5maW5kQWxsTGVnYWN5VGFyZ2V0cyh0YXJnZXROYW1lKSxcbiAgICAgICAgXSwgW10pO1xuICAgIH1cbiAgICBmaW5kVGFyZ2V0KHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldFNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZmluZEVsZW1lbnQoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBmaW5kQWxsVGFyZ2V0cyh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmZpbmRBbGxFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgfVxuICAgIGdldFNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGVGb3JTY29wZSh0aGlzLmlkZW50aWZpZXIpO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKGF0dHJpYnV0ZU5hbWUsIHRhcmdldE5hbWUpO1xuICAgIH1cbiAgICBmaW5kTGVnYWN5VGFyZ2V0KHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldExlZ2FjeVNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVwcmVjYXRlKHRoaXMuc2NvcGUuZmluZEVsZW1lbnQoc2VsZWN0b3IpLCB0YXJnZXROYW1lKTtcbiAgICB9XG4gICAgZmluZEFsbExlZ2FjeVRhcmdldHModGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0TGVnYWN5U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5maW5kQWxsRWxlbWVudHMoc2VsZWN0b3IpLm1hcCgoZWxlbWVudCkgPT4gdGhpcy5kZXByZWNhdGUoZWxlbWVudCwgdGFyZ2V0TmFtZSkpO1xuICAgIH1cbiAgICBnZXRMZWdhY3lTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCB0YXJnZXREZXNjcmlwdG9yID0gYCR7dGhpcy5pZGVudGlmaWVyfS4ke3RhcmdldE5hbWV9YDtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQ29udGFpbnNUb2tlbih0aGlzLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGUsIHRhcmdldERlc2NyaXB0b3IpO1xuICAgIH1cbiAgICBkZXByZWNhdGUoZWxlbWVudCwgdGFyZ2V0TmFtZSkge1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgeyBpZGVudGlmaWVyIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZTtcbiAgICAgICAgICAgIGNvbnN0IHJldmlzZWRBdHRyaWJ1dGVOYW1lID0gdGhpcy5zY2hlbWEudGFyZ2V0QXR0cmlidXRlRm9yU2NvcGUoaWRlbnRpZmllcik7XG4gICAgICAgICAgICB0aGlzLmd1aWRlLndhcm4oZWxlbWVudCwgYHRhcmdldDoke3RhcmdldE5hbWV9YCwgYFBsZWFzZSByZXBsYWNlICR7YXR0cmlidXRlTmFtZX09XCIke2lkZW50aWZpZXJ9LiR7dGFyZ2V0TmFtZX1cIiB3aXRoICR7cmV2aXNlZEF0dHJpYnV0ZU5hbWV9PVwiJHt0YXJnZXROYW1lfVwiLiBgICtcbiAgICAgICAgICAgICAgICBgVGhlICR7YXR0cmlidXRlTmFtZX0gYXR0cmlidXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIFN0aW11bHVzLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBnZXQgZ3VpZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmd1aWRlO1xuICAgIH1cbn1cblxuY2xhc3MgT3V0bGV0U2V0IHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZSwgY29udHJvbGxlckVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXJFbGVtZW50ID0gY29udHJvbGxlckVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuc2NoZW1hO1xuICAgIH1cbiAgICBoYXMob3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKG91dGxldE5hbWUpICE9IG51bGw7XG4gICAgfVxuICAgIGZpbmQoLi4ub3V0bGV0TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIG91dGxldE5hbWVzLnJlZHVjZSgob3V0bGV0LCBvdXRsZXROYW1lKSA9PiBvdXRsZXQgfHwgdGhpcy5maW5kT3V0bGV0KG91dGxldE5hbWUpLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBmaW5kQWxsKC4uLm91dGxldE5hbWVzKSB7XG4gICAgICAgIHJldHVybiBvdXRsZXROYW1lcy5yZWR1Y2UoKG91dGxldHMsIG91dGxldE5hbWUpID0+IFsuLi5vdXRsZXRzLCAuLi50aGlzLmZpbmRBbGxPdXRsZXRzKG91dGxldE5hbWUpXSwgW10pO1xuICAgIH1cbiAgICBnZXRTZWxlY3RvckZvck91dGxldE5hbWUob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5zY2hlbWEub3V0bGV0QXR0cmlidXRlRm9yU2NvcGUodGhpcy5pZGVudGlmaWVyLCBvdXRsZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlckVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgICBmaW5kT3V0bGV0KG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKTtcbiAgICAgICAgaWYgKHNlbGVjdG9yKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZEVsZW1lbnQoc2VsZWN0b3IsIG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBmaW5kQWxsT3V0bGV0cyhvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUob3V0bGV0TmFtZSk7XG4gICAgICAgIHJldHVybiBzZWxlY3RvciA/IHRoaXMuZmluZEFsbEVsZW1lbnRzKHNlbGVjdG9yLCBvdXRsZXROYW1lKSA6IFtdO1xuICAgIH1cbiAgICBmaW5kRWxlbWVudChzZWxlY3Rvciwgb3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuc2NvcGUucXVlcnlFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiBlbGVtZW50cy5maWx0ZXIoKGVsZW1lbnQpID0+IHRoaXMubWF0Y2hlc0VsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IsIG91dGxldE5hbWUpKVswXTtcbiAgICB9XG4gICAgZmluZEFsbEVsZW1lbnRzKHNlbGVjdG9yLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5zY29wZS5xdWVyeUVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCkgPT4gdGhpcy5tYXRjaGVzRWxlbWVudChlbGVtZW50LCBzZWxlY3Rvciwgb3V0bGV0TmFtZSkpO1xuICAgIH1cbiAgICBtYXRjaGVzRWxlbWVudChlbGVtZW50LCBzZWxlY3Rvciwgb3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyQXR0cmlidXRlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUodGhpcy5zY29wZS5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZSkgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgJiYgY29udHJvbGxlckF0dHJpYnV0ZS5zcGxpdChcIiBcIikuaW5jbHVkZXMob3V0bGV0TmFtZSk7XG4gICAgfVxufVxuXG5jbGFzcyBTY29wZSB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hLCBlbGVtZW50LCBpZGVudGlmaWVyLCBsb2dnZXIpIHtcbiAgICAgICAgdGhpcy50YXJnZXRzID0gbmV3IFRhcmdldFNldCh0aGlzKTtcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gbmV3IENsYXNzTWFwKHRoaXMpO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRGF0YU1hcCh0aGlzKTtcbiAgICAgICAgdGhpcy5jb250YWluc0VsZW1lbnQgPSAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xvc2VzdCh0aGlzLmNvbnRyb2xsZXJTZWxlY3RvcikgPT09IHRoaXMuZWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuZ3VpZGUgPSBuZXcgR3VpZGUobG9nZ2VyKTtcbiAgICAgICAgdGhpcy5vdXRsZXRzID0gbmV3IE91dGxldFNldCh0aGlzLmRvY3VtZW50U2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBmaW5kRWxlbWVudChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpID8gdGhpcy5lbGVtZW50IDogdGhpcy5xdWVyeUVsZW1lbnRzKHNlbGVjdG9yKS5maW5kKHRoaXMuY29udGFpbnNFbGVtZW50KTtcbiAgICB9XG4gICAgZmluZEFsbEVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi4odGhpcy5lbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpID8gW3RoaXMuZWxlbWVudF0gOiBbXSksXG4gICAgICAgICAgICAuLi50aGlzLnF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpLmZpbHRlcih0aGlzLmNvbnRhaW5zRWxlbWVudCksXG4gICAgICAgIF07XG4gICAgfVxuICAgIHF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXJTZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQ29udGFpbnNUb2tlbih0aGlzLnNjaGVtYS5jb250cm9sbGVyQXR0cmlidXRlLCB0aGlzLmlkZW50aWZpZXIpO1xuICAgIH1cbiAgICBnZXQgaXNEb2N1bWVudFNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50ID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBkb2N1bWVudFNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RvY3VtZW50U2NvcGVcbiAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgOiBuZXcgU2NvcGUodGhpcy5zY2hlbWEsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy5pZGVudGlmaWVyLCB0aGlzLmd1aWRlLmxvZ2dlcik7XG4gICAgfVxufVxuXG5jbGFzcyBTY29wZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBzY2hlbWEsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIgPSBuZXcgVmFsdWVMaXN0T2JzZXJ2ZXIodGhpcy5lbGVtZW50LCB0aGlzLmNvbnRyb2xsZXJBdHRyaWJ1dGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnNjb3Blc0J5SWRlbnRpZmllckJ5RWxlbWVudCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuc2NvcGVSZWZlcmVuY2VDb3VudHMgPSBuZXcgV2Vha01hcCgpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXJBdHRyaWJ1dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYS5jb250cm9sbGVyQXR0cmlidXRlO1xuICAgIH1cbiAgICBwYXJzZVZhbHVlRm9yVG9rZW4odG9rZW4pIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBjb250ZW50OiBpZGVudGlmaWVyIH0gPSB0b2tlbjtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VWYWx1ZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xuICAgIH1cbiAgICBwYXJzZVZhbHVlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBzY29wZXNCeUlkZW50aWZpZXIgPSB0aGlzLmZldGNoU2NvcGVzQnlJZGVudGlmaWVyRm9yRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgbGV0IHNjb3BlID0gc2NvcGVzQnlJZGVudGlmaWVyLmdldChpZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKCFzY29wZSkge1xuICAgICAgICAgICAgc2NvcGUgPSB0aGlzLmRlbGVnYXRlLmNyZWF0ZVNjb3BlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG4gICAgICAgICAgICBzY29wZXNCeUlkZW50aWZpZXIuc2V0KGlkZW50aWZpZXIsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkVmFsdWUoZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlQ291bnQgPSAodGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cy5nZXQodmFsdWUpIHx8IDApICsgMTtcbiAgICAgICAgdGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cy5zZXQodmFsdWUsIHJlZmVyZW5jZUNvdW50KTtcbiAgICAgICAgaWYgKHJlZmVyZW5jZUNvdW50ID09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuc2NvcGVDb25uZWN0ZWQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWRWYWx1ZShlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VDb3VudCA9IHRoaXMuc2NvcGVSZWZlcmVuY2VDb3VudHMuZ2V0KHZhbHVlKTtcbiAgICAgICAgaWYgKHJlZmVyZW5jZUNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzLnNldCh2YWx1ZSwgcmVmZXJlbmNlQ291bnQgLSAxKTtcbiAgICAgICAgICAgIGlmIChyZWZlcmVuY2VDb3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zY29wZURpc2Nvbm5lY3RlZCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hTY29wZXNCeUlkZW50aWZpZXJGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgbGV0IHNjb3Blc0J5SWRlbnRpZmllciA9IHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyQnlFbGVtZW50LmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKCFzY29wZXNCeUlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIHNjb3Blc0J5SWRlbnRpZmllciA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyQnlFbGVtZW50LnNldChlbGVtZW50LCBzY29wZXNCeUlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY29wZXNCeUlkZW50aWZpZXI7XG4gICAgfVxufVxuXG5jbGFzcyBSb3V0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGFwcGxpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24gPSBhcHBsaWNhdGlvbjtcbiAgICAgICAgdGhpcy5zY29wZU9ic2VydmVyID0gbmV3IFNjb3BlT2JzZXJ2ZXIodGhpcy5lbGVtZW50LCB0aGlzLnNjaGVtYSwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyID0gbmV3IE11bHRpbWFwKCk7XG4gICAgICAgIHRoaXMubW9kdWxlc0J5SWRlbnRpZmllciA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLnNjaGVtYTtcbiAgICB9XG4gICAgZ2V0IGxvZ2dlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24ubG9nZ2VyO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlckF0dHJpYnV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGU7XG4gICAgfVxuICAgIGdldCBtb2R1bGVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIudmFsdWVzKCkpO1xuICAgIH1cbiAgICBnZXQgY29udGV4dHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZHVsZXMucmVkdWNlKChjb250ZXh0cywgbW9kdWxlKSA9PiBjb250ZXh0cy5jb25jYXQobW9kdWxlLmNvbnRleHRzKSwgW10pO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zY29wZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuc2NvcGVPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIGxvYWREZWZpbml0aW9uKGRlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy51bmxvYWRJZGVudGlmaWVyKGRlZmluaXRpb24uaWRlbnRpZmllcik7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IG5ldyBNb2R1bGUodGhpcy5hcHBsaWNhdGlvbiwgZGVmaW5pdGlvbik7XG4gICAgICAgIHRoaXMuY29ubmVjdE1vZHVsZShtb2R1bGUpO1xuICAgICAgICBjb25zdCBhZnRlckxvYWQgPSBkZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3Rvci5hZnRlckxvYWQ7XG4gICAgICAgIGlmIChhZnRlckxvYWQpIHtcbiAgICAgICAgICAgIGFmdGVyTG9hZC5jYWxsKGRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yLCBkZWZpbml0aW9uLmlkZW50aWZpZXIsIHRoaXMuYXBwbGljYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVubG9hZElkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZ2V0KGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RNb2R1bGUobW9kdWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb250ZXh0Rm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZ2V0KGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlLmNvbnRleHRzLmZpbmQoKGNvbnRleHQpID0+IGNvbnRleHQuZWxlbWVudCA9PSBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9wb3NlVG9Db25uZWN0U2NvcGVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5zY29wZU9ic2VydmVyLnBhcnNlVmFsdWVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlT2JzZXJ2ZXIuZWxlbWVudE1hdGNoZWRWYWx1ZShzY29wZS5lbGVtZW50LCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZG4ndCBmaW5kIG9yIGNyZWF0ZSBzY29wZSBmb3IgaWRlbnRpZmllcjogXCIke2lkZW50aWZpZXJ9XCIgYW5kIGVsZW1lbnQ6YCwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCkge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uLmhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgIH1cbiAgICBjcmVhdGVTY29wZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTY29wZSh0aGlzLnNjaGVtYSwgZWxlbWVudCwgaWRlbnRpZmllciwgdGhpcy5sb2dnZXIpO1xuICAgIH1cbiAgICBzY29wZUNvbm5lY3RlZChzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3Blc0J5SWRlbnRpZmllci5hZGQoc2NvcGUuaWRlbnRpZmllciwgc2NvcGUpO1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZ2V0KHNjb3BlLmlkZW50aWZpZXIpO1xuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICBtb2R1bGUuY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2NvcGVEaXNjb25uZWN0ZWQoc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXIuZGVsZXRlKHNjb3BlLmlkZW50aWZpZXIsIHNjb3BlKTtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLmdldChzY29wZS5pZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgbW9kdWxlLmRpc2Nvbm5lY3RDb250ZXh0Rm9yU2NvcGUoc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RNb2R1bGUobW9kdWxlKSB7XG4gICAgICAgIHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5zZXQobW9kdWxlLmlkZW50aWZpZXIsIG1vZHVsZSk7XG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyLmdldFZhbHVlc0ZvcktleShtb2R1bGUuaWRlbnRpZmllcik7XG4gICAgICAgIHNjb3Blcy5mb3JFYWNoKChzY29wZSkgPT4gbW9kdWxlLmNvbm5lY3RDb250ZXh0Rm9yU2NvcGUoc2NvcGUpKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdE1vZHVsZShtb2R1bGUpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLmRlbGV0ZShtb2R1bGUuaWRlbnRpZmllcik7XG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyLmdldFZhbHVlc0ZvcktleShtb2R1bGUuaWRlbnRpZmllcik7XG4gICAgICAgIHNjb3Blcy5mb3JFYWNoKChzY29wZSkgPT4gbW9kdWxlLmRpc2Nvbm5lY3RDb250ZXh0Rm9yU2NvcGUoc2NvcGUpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRlZmF1bHRTY2hlbWEgPSB7XG4gICAgY29udHJvbGxlckF0dHJpYnV0ZTogXCJkYXRhLWNvbnRyb2xsZXJcIixcbiAgICBhY3Rpb25BdHRyaWJ1dGU6IFwiZGF0YS1hY3Rpb25cIixcbiAgICB0YXJnZXRBdHRyaWJ1dGU6IFwiZGF0YS10YXJnZXRcIixcbiAgICB0YXJnZXRBdHRyaWJ1dGVGb3JTY29wZTogKGlkZW50aWZpZXIpID0+IGBkYXRhLSR7aWRlbnRpZmllcn0tdGFyZ2V0YCxcbiAgICBvdXRsZXRBdHRyaWJ1dGVGb3JTY29wZTogKGlkZW50aWZpZXIsIG91dGxldCkgPT4gYGRhdGEtJHtpZGVudGlmaWVyfS0ke291dGxldH0tb3V0bGV0YCxcbiAgICBrZXlNYXBwaW5nczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgZW50ZXI6IFwiRW50ZXJcIiwgdGFiOiBcIlRhYlwiLCBlc2M6IFwiRXNjYXBlXCIsIHNwYWNlOiBcIiBcIiwgdXA6IFwiQXJyb3dVcFwiLCBkb3duOiBcIkFycm93RG93blwiLCBsZWZ0OiBcIkFycm93TGVmdFwiLCByaWdodDogXCJBcnJvd1JpZ2h0XCIsIGhvbWU6IFwiSG9tZVwiLCBlbmQ6IFwiRW5kXCIsIHBhZ2VfdXA6IFwiUGFnZVVwXCIsIHBhZ2VfZG93bjogXCJQYWdlRG93blwiIH0sIG9iamVjdEZyb21FbnRyaWVzKFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5zcGxpdChcIlwiKS5tYXAoKGMpID0+IFtjLCBjXSkpKSwgb2JqZWN0RnJvbUVudHJpZXMoXCIwMTIzNDU2Nzg5XCIuc3BsaXQoXCJcIikubWFwKChuKSA9PiBbbiwgbl0pKSksXG59O1xuZnVuY3Rpb24gb2JqZWN0RnJvbUVudHJpZXMoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXkucmVkdWNlKChtZW1vLCBbaywgdl0pID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1lbW8pLCB7IFtrXTogdiB9KSksIHt9KTtcbn1cblxuY2xhc3MgQXBwbGljYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHNjaGVtYSA9IGRlZmF1bHRTY2hlbWEpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBjb25zb2xlO1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eSA9IChpZGVudGlmaWVyLCBmdW5jdGlvbk5hbWUsIGRldGFpbCA9IHt9KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nRm9ybWF0dGVkTWVzc2FnZShpZGVudGlmaWVyLCBmdW5jdGlvbk5hbWUsIGRldGFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcih0aGlzKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSBuZXcgUm91dGVyKHRoaXMpO1xuICAgICAgICB0aGlzLmFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzKTtcbiAgICB9XG4gICAgc3RhdGljIHN0YXJ0KGVsZW1lbnQsIHNjaGVtYSkge1xuICAgICAgICBjb25zdCBhcHBsaWNhdGlvbiA9IG5ldyB0aGlzKGVsZW1lbnQsIHNjaGVtYSk7XG4gICAgICAgIGFwcGxpY2F0aW9uLnN0YXJ0KCk7XG4gICAgICAgIHJldHVybiBhcHBsaWNhdGlvbjtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGF3YWl0IGRvbVJlYWR5KCk7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImFwcGxpY2F0aW9uXCIsIFwic3RhcnRpbmdcIik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zdGFydCgpO1xuICAgICAgICB0aGlzLnJvdXRlci5zdGFydCgpO1xuICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJhcHBsaWNhdGlvblwiLCBcInN0YXJ0XCIpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJhcHBsaWNhdGlvblwiLCBcInN0b3BwaW5nXCIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJvdXRlci5zdG9wKCk7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImFwcGxpY2F0aW9uXCIsIFwic3RvcFwiKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoaWRlbnRpZmllciwgY29udHJvbGxlckNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRoaXMubG9hZCh7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXJDb25zdHJ1Y3RvciB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJBY3Rpb25PcHRpb24obmFtZSwgZmlsdGVyKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVzY3JpcHRvckZpbHRlcnNbbmFtZV0gPSBmaWx0ZXI7XG4gICAgfVxuICAgIGxvYWQoaGVhZCwgLi4ucmVzdCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IEFycmF5LmlzQXJyYXkoaGVhZCkgPyBoZWFkIDogW2hlYWQsIC4uLnJlc3RdO1xuICAgICAgICBkZWZpbml0aW9ucy5mb3JFYWNoKChkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3Iuc2hvdWxkTG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyLmxvYWREZWZpbml0aW9uKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW5sb2FkKGhlYWQsIC4uLnJlc3QpIHtcbiAgICAgICAgY29uc3QgaWRlbnRpZmllcnMgPSBBcnJheS5pc0FycmF5KGhlYWQpID8gaGVhZCA6IFtoZWFkLCAuLi5yZXN0XTtcbiAgICAgICAgaWRlbnRpZmllcnMuZm9yRWFjaCgoaWRlbnRpZmllcikgPT4gdGhpcy5yb3V0ZXIudW5sb2FkSWRlbnRpZmllcihpZGVudGlmaWVyKSk7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLmNvbnRleHRzLm1hcCgoY29udGV4dCkgPT4gY29udGV4dC5jb250cm9sbGVyKTtcbiAgICB9XG4gICAgZ2V0Q29udHJvbGxlckZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMucm91dGVyLmdldENvbnRleHRGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyBjb250ZXh0LmNvbnRyb2xsZXIgOiBudWxsO1xuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvciwgbWVzc2FnZSwgZGV0YWlsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYCVzXFxuXFxuJW9cXG5cXG4lb2AsIG1lc3NhZ2UsIGVycm9yLCBkZXRhaWwpO1xuICAgICAgICAoX2EgPSB3aW5kb3cub25lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwod2luZG93LCBtZXNzYWdlLCBcIlwiLCAwLCAwLCBlcnJvcik7XG4gICAgfVxuICAgIGxvZ0Zvcm1hdHRlZE1lc3NhZ2UoaWRlbnRpZmllciwgZnVuY3Rpb25OYW1lLCBkZXRhaWwgPSB7fSkge1xuICAgICAgICBkZXRhaWwgPSBPYmplY3QuYXNzaWduKHsgYXBwbGljYXRpb246IHRoaXMgfSwgZGV0YWlsKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZ3JvdXBDb2xsYXBzZWQoYCR7aWRlbnRpZmllcn0gIyR7ZnVuY3Rpb25OYW1lfWApO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJkZXRhaWxzOlwiLCBPYmplY3QuYXNzaWduKHt9LCBkZXRhaWwpKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZ3JvdXBFbmQoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkb21SZWFkeSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NQcm9wZXJ0aWVzQmxlc3NpbmcoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBjbGFzc2VzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIFwiY2xhc3Nlc1wiKTtcbiAgICByZXR1cm4gY2xhc3Nlcy5yZWR1Y2UoKHByb3BlcnRpZXMsIGNsYXNzRGVmaW5pdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzRm9yQ2xhc3NEZWZpbml0aW9uKGNsYXNzRGVmaW5pdGlvbikpO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHByb3BlcnRpZXNGb3JDbGFzc0RlZmluaXRpb24oa2V5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2Ake2tleX1DbGFzc2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc2VzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gY2xhc3Nlcy5nZXRBdHRyaWJ1dGVOYW1lKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBhdHRyaWJ1dGUgXCIke2F0dHJpYnV0ZX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtrZXl9Q2xhc3Nlc2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3Nlcy5nZXRBbGwoa2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgaGFzJHtjYXBpdGFsaXplKGtleSl9Q2xhc3NgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYXNzZXMuaGFzKGtleSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIE91dGxldFByb3BlcnRpZXNCbGVzc2luZyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IG91dGxldHMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJvdXRsZXRzXCIpO1xuICAgIHJldHVybiBvdXRsZXRzLnJlZHVjZSgocHJvcGVydGllcywgb3V0bGV0RGVmaW5pdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzRm9yT3V0bGV0RGVmaW5pdGlvbihvdXRsZXREZWZpbml0aW9uKSk7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0T3V0bGV0Q29udHJvbGxlcihjb250cm9sbGVyLCBlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXIuYXBwbGljYXRpb24uZ2V0Q29udHJvbGxlckZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xufVxuZnVuY3Rpb24gZ2V0Q29udHJvbGxlckFuZEVuc3VyZUNvbm5lY3RlZFNjb3BlKGNvbnRyb2xsZXIsIGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICBsZXQgb3V0bGV0Q29udHJvbGxlciA9IGdldE91dGxldENvbnRyb2xsZXIoY29udHJvbGxlciwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgIHJldHVybiBvdXRsZXRDb250cm9sbGVyO1xuICAgIGNvbnRyb2xsZXIuYXBwbGljYXRpb24ucm91dGVyLnByb3Bvc2VUb0Nvbm5lY3RTY29wZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgIG91dGxldENvbnRyb2xsZXIgPSBnZXRPdXRsZXRDb250cm9sbGVyKGNvbnRyb2xsZXIsIGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgIGlmIChvdXRsZXRDb250cm9sbGVyKVxuICAgICAgICByZXR1cm4gb3V0bGV0Q29udHJvbGxlcjtcbn1cbmZ1bmN0aW9uIHByb3BlcnRpZXNGb3JPdXRsZXREZWZpbml0aW9uKG5hbWUpIHtcbiAgICBjb25zdCBjYW1lbGl6ZWROYW1lID0gbmFtZXNwYWNlQ2FtZWxpemUobmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2Ake2NhbWVsaXplZE5hbWV9T3V0bGV0YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRFbGVtZW50ID0gdGhpcy5vdXRsZXRzLmZpbmQobmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm91dGxldHMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChvdXRsZXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldENvbnRyb2xsZXIgPSBnZXRDb250cm9sbGVyQW5kRW5zdXJlQ29ubmVjdGVkU2NvcGUodGhpcywgb3V0bGV0RWxlbWVudCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRsZXRDb250cm9sbGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGxldENvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHByb3ZpZGVkIG91dGxldCBlbGVtZW50IGlzIG1pc3NpbmcgYW4gb3V0bGV0IGNvbnRyb2xsZXIgXCIke25hbWV9XCIgaW5zdGFuY2UgZm9yIGhvc3QgY29udHJvbGxlciBcIiR7dGhpcy5pZGVudGlmaWVyfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvdXRsZXQgZWxlbWVudCBcIiR7bmFtZX1cIiBmb3IgaG9zdCBjb250cm9sbGVyIFwiJHt0aGlzLmlkZW50aWZpZXJ9XCIuIFN0aW11bHVzIGNvdWxkbid0IGZpbmQgYSBtYXRjaGluZyBvdXRsZXQgZWxlbWVudCB1c2luZyBzZWxlY3RvciBcIiR7c2VsZWN0b3J9XCIuYCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYCR7Y2FtZWxpemVkTmFtZX1PdXRsZXRzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRzID0gdGhpcy5vdXRsZXRzLmZpbmRBbGwobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0bGV0c1xuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgob3V0bGV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0Q29udHJvbGxlciA9IGdldENvbnRyb2xsZXJBbmRFbnN1cmVDb25uZWN0ZWRTY29wZSh0aGlzLCBvdXRsZXRFbGVtZW50LCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRsZXRDb250cm9sbGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRsZXRDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGUgcHJvdmlkZWQgb3V0bGV0IGVsZW1lbnQgaXMgbWlzc2luZyBhbiBvdXRsZXQgY29udHJvbGxlciBcIiR7bmFtZX1cIiBpbnN0YW5jZSBmb3IgaG9zdCBjb250cm9sbGVyIFwiJHt0aGlzLmlkZW50aWZpZXJ9XCJgLCBvdXRsZXRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGNvbnRyb2xsZXIpID0+IGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYCR7Y2FtZWxpemVkTmFtZX1PdXRsZXRFbGVtZW50YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRFbGVtZW50ID0gdGhpcy5vdXRsZXRzLmZpbmQobmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm91dGxldHMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChvdXRsZXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRsZXRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG91dGxldCBlbGVtZW50IFwiJHtuYW1lfVwiIGZvciBob3N0IGNvbnRyb2xsZXIgXCIke3RoaXMuaWRlbnRpZmllcn1cIi4gU3RpbXVsdXMgY291bGRuJ3QgZmluZCBhIG1hdGNoaW5nIG91dGxldCBlbGVtZW50IHVzaW5nIHNlbGVjdG9yIFwiJHtzZWxlY3Rvcn1cIi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYCR7Y2FtZWxpemVkTmFtZX1PdXRsZXRFbGVtZW50c2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0cy5maW5kQWxsKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2BoYXMke2NhcGl0YWxpemUoY2FtZWxpemVkTmFtZSl9T3V0bGV0YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXRzLmhhcyhuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gVGFyZ2V0UHJvcGVydGllc0JsZXNzaW5nKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgdGFyZ2V0cyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcInRhcmdldHNcIik7XG4gICAgcmV0dXJuIHRhcmdldHMucmVkdWNlKChwcm9wZXJ0aWVzLCB0YXJnZXREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIHByb3BlcnRpZXNGb3JUYXJnZXREZWZpbml0aW9uKHRhcmdldERlZmluaXRpb24pKTtcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBwcm9wZXJ0aWVzRm9yVGFyZ2V0RGVmaW5pdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2Ake25hbWV9VGFyZ2V0YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnRhcmdldHMuZmluZChuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgdGFyZ2V0IGVsZW1lbnQgXCIke25hbWV9XCIgZm9yIFwiJHt0aGlzLmlkZW50aWZpZXJ9XCIgY29udHJvbGxlcmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtuYW1lfVRhcmdldHNgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldHMuZmluZEFsbChuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgaGFzJHtjYXBpdGFsaXplKG5hbWUpfVRhcmdldGBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5oYXMobmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIFZhbHVlUHJvcGVydGllc0JsZXNzaW5nKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgdmFsdWVEZWZpbml0aW9uUGFpcnMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNPYmplY3RQYWlycyhjb25zdHJ1Y3RvciwgXCJ2YWx1ZXNcIik7XG4gICAgY29uc3QgcHJvcGVydHlEZXNjcmlwdG9yTWFwID0ge1xuICAgICAgICB2YWx1ZURlc2NyaXB0b3JNYXA6IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVEZWZpbml0aW9uUGFpcnMucmVkdWNlKChyZXN1bHQsIHZhbHVlRGVmaW5pdGlvblBhaXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVEZXNjcmlwdG9yID0gcGFyc2VWYWx1ZURlZmluaXRpb25QYWlyKHZhbHVlRGVmaW5pdGlvblBhaXIsIHRoaXMuaWRlbnRpZmllcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLmRhdGEuZ2V0QXR0cmlidXRlTmFtZUZvcktleSh2YWx1ZURlc2NyaXB0b3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocmVzdWx0LCB7IFthdHRyaWJ1dGVOYW1lXTogdmFsdWVEZXNjcmlwdG9yIH0pO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gdmFsdWVEZWZpbml0aW9uUGFpcnMucmVkdWNlKChwcm9wZXJ0aWVzLCB2YWx1ZURlZmluaXRpb25QYWlyKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIHByb3BlcnRpZXNGb3JWYWx1ZURlZmluaXRpb25QYWlyKHZhbHVlRGVmaW5pdGlvblBhaXIpKTtcbiAgICB9LCBwcm9wZXJ0eURlc2NyaXB0b3JNYXApO1xufVxuZnVuY3Rpb24gcHJvcGVydGllc0ZvclZhbHVlRGVmaW5pdGlvblBhaXIodmFsdWVEZWZpbml0aW9uUGFpciwgY29udHJvbGxlcikge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBwYXJzZVZhbHVlRGVmaW5pdGlvblBhaXIodmFsdWVEZWZpbml0aW9uUGFpciwgY29udHJvbGxlcik7XG4gICAgY29uc3QgeyBrZXksIG5hbWUsIHJlYWRlcjogcmVhZCwgd3JpdGVyOiB3cml0ZSB9ID0gZGVmaW5pdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICBbbmFtZV06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZGF0YS5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluaXRpb24uZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2V0KGtleSwgd3JpdGUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYGhhcyR7Y2FwaXRhbGl6ZShuYW1lKX1gXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuaGFzKGtleSkgfHwgZGVmaW5pdGlvbi5oYXNDdXN0b21EZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlRGVmaW5pdGlvblBhaXIoW3Rva2VuLCB0eXBlRGVmaW5pdGlvbl0sIGNvbnRyb2xsZXIpIHtcbiAgICByZXR1cm4gdmFsdWVEZXNjcmlwdG9yRm9yVG9rZW5BbmRUeXBlRGVmaW5pdGlvbih7XG4gICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgIHRva2VuLFxuICAgICAgICB0eXBlRGVmaW5pdGlvbixcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWVUeXBlQ29uc3RhbnQoY29uc3RhbnQpIHtcbiAgICBzd2l0Y2ggKGNvbnN0YW50KSB7XG4gICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCI7XG4gICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZVR5cGVEZWZhdWx0KGRlZmF1bHRWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmF1bHRWYWx1ZSkpXG4gICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkZWZhdWx0VmFsdWUpID09PSBcIltvYmplY3QgT2JqZWN0XVwiKVxuICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWVUeXBlT2JqZWN0KHBheWxvYWQpIHtcbiAgICBjb25zdCB7IGNvbnRyb2xsZXIsIHRva2VuLCB0eXBlT2JqZWN0IH0gPSBwYXlsb2FkO1xuICAgIGNvbnN0IGhhc1R5cGUgPSBpc1NvbWV0aGluZyh0eXBlT2JqZWN0LnR5cGUpO1xuICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBpc1NvbWV0aGluZyh0eXBlT2JqZWN0LmRlZmF1bHQpO1xuICAgIGNvbnN0IGZ1bGxPYmplY3QgPSBoYXNUeXBlICYmIGhhc0RlZmF1bHQ7XG4gICAgY29uc3Qgb25seVR5cGUgPSBoYXNUeXBlICYmICFoYXNEZWZhdWx0O1xuICAgIGNvbnN0IG9ubHlEZWZhdWx0ID0gIWhhc1R5cGUgJiYgaGFzRGVmYXVsdDtcbiAgICBjb25zdCB0eXBlRnJvbU9iamVjdCA9IHBhcnNlVmFsdWVUeXBlQ29uc3RhbnQodHlwZU9iamVjdC50eXBlKTtcbiAgICBjb25zdCB0eXBlRnJvbURlZmF1bHRWYWx1ZSA9IHBhcnNlVmFsdWVUeXBlRGVmYXVsdChwYXlsb2FkLnR5cGVPYmplY3QuZGVmYXVsdCk7XG4gICAgaWYgKG9ubHlUeXBlKVxuICAgICAgICByZXR1cm4gdHlwZUZyb21PYmplY3Q7XG4gICAgaWYgKG9ubHlEZWZhdWx0KVxuICAgICAgICByZXR1cm4gdHlwZUZyb21EZWZhdWx0VmFsdWU7XG4gICAgaWYgKHR5cGVGcm9tT2JqZWN0ICE9PSB0eXBlRnJvbURlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVBhdGggPSBjb250cm9sbGVyID8gYCR7Y29udHJvbGxlcn0uJHt0b2tlbn1gIDogdG9rZW47XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHNwZWNpZmllZCBkZWZhdWx0IHZhbHVlIGZvciB0aGUgU3RpbXVsdXMgVmFsdWUgXCIke3Byb3BlcnR5UGF0aH1cIiBtdXN0IG1hdGNoIHRoZSBkZWZpbmVkIHR5cGUgXCIke3R5cGVGcm9tT2JqZWN0fVwiLiBUaGUgcHJvdmlkZWQgZGVmYXVsdCB2YWx1ZSBvZiBcIiR7dHlwZU9iamVjdC5kZWZhdWx0fVwiIGlzIG9mIHR5cGUgXCIke3R5cGVGcm9tRGVmYXVsdFZhbHVlfVwiLmApO1xuICAgIH1cbiAgICBpZiAoZnVsbE9iamVjdClcbiAgICAgICAgcmV0dXJuIHR5cGVGcm9tT2JqZWN0O1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZVR5cGVEZWZpbml0aW9uKHBheWxvYWQpIHtcbiAgICBjb25zdCB7IGNvbnRyb2xsZXIsIHRva2VuLCB0eXBlRGVmaW5pdGlvbiB9ID0gcGF5bG9hZDtcbiAgICBjb25zdCB0eXBlT2JqZWN0ID0geyBjb250cm9sbGVyLCB0b2tlbiwgdHlwZU9iamVjdDogdHlwZURlZmluaXRpb24gfTtcbiAgICBjb25zdCB0eXBlRnJvbU9iamVjdCA9IHBhcnNlVmFsdWVUeXBlT2JqZWN0KHR5cGVPYmplY3QpO1xuICAgIGNvbnN0IHR5cGVGcm9tRGVmYXVsdFZhbHVlID0gcGFyc2VWYWx1ZVR5cGVEZWZhdWx0KHR5cGVEZWZpbml0aW9uKTtcbiAgICBjb25zdCB0eXBlRnJvbUNvbnN0YW50ID0gcGFyc2VWYWx1ZVR5cGVDb25zdGFudCh0eXBlRGVmaW5pdGlvbik7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVGcm9tT2JqZWN0IHx8IHR5cGVGcm9tRGVmYXVsdFZhbHVlIHx8IHR5cGVGcm9tQ29uc3RhbnQ7XG4gICAgaWYgKHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIGNvbnN0IHByb3BlcnR5UGF0aCA9IGNvbnRyb2xsZXIgPyBgJHtjb250cm9sbGVyfS4ke3R5cGVEZWZpbml0aW9ufWAgOiB0b2tlbjtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdmFsdWUgdHlwZSBcIiR7cHJvcGVydHlQYXRofVwiIGZvciBcIiR7dG9rZW59XCIgdmFsdWVgKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZUZvckRlZmluaXRpb24odHlwZURlZmluaXRpb24pIHtcbiAgICBjb25zdCBjb25zdGFudCA9IHBhcnNlVmFsdWVUeXBlQ29uc3RhbnQodHlwZURlZmluaXRpb24pO1xuICAgIGlmIChjb25zdGFudClcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZXNCeVR5cGVbY29uc3RhbnRdO1xuICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNQcm9wZXJ0eSh0eXBlRGVmaW5pdGlvbiwgXCJkZWZhdWx0XCIpO1xuICAgIGNvbnN0IGhhc1R5cGUgPSBoYXNQcm9wZXJ0eSh0eXBlRGVmaW5pdGlvbiwgXCJ0eXBlXCIpO1xuICAgIGNvbnN0IHR5cGVPYmplY3QgPSB0eXBlRGVmaW5pdGlvbjtcbiAgICBpZiAoaGFzRGVmYXVsdClcbiAgICAgICAgcmV0dXJuIHR5cGVPYmplY3QuZGVmYXVsdDtcbiAgICBpZiAoaGFzVHlwZSkge1xuICAgICAgICBjb25zdCB7IHR5cGUgfSA9IHR5cGVPYmplY3Q7XG4gICAgICAgIGNvbnN0IGNvbnN0YW50RnJvbVR5cGUgPSBwYXJzZVZhbHVlVHlwZUNvbnN0YW50KHR5cGUpO1xuICAgICAgICBpZiAoY29uc3RhbnRGcm9tVHlwZSlcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVzQnlUeXBlW2NvbnN0YW50RnJvbVR5cGVdO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZURlZmluaXRpb247XG59XG5mdW5jdGlvbiB2YWx1ZURlc2NyaXB0b3JGb3JUb2tlbkFuZFR5cGVEZWZpbml0aW9uKHBheWxvYWQpIHtcbiAgICBjb25zdCB7IHRva2VuLCB0eXBlRGVmaW5pdGlvbiB9ID0gcGF5bG9hZDtcbiAgICBjb25zdCBrZXkgPSBgJHtkYXNoZXJpemUodG9rZW4pfS12YWx1ZWA7XG4gICAgY29uc3QgdHlwZSA9IHBhcnNlVmFsdWVUeXBlRGVmaW5pdGlvbihwYXlsb2FkKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlLFxuICAgICAgICBrZXksXG4gICAgICAgIG5hbWU6IGNhbWVsaXplKGtleSksXG4gICAgICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlRm9yRGVmaW5pdGlvbih0eXBlRGVmaW5pdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBoYXNDdXN0b21EZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VWYWx1ZVR5cGVEZWZhdWx0KHR5cGVEZWZpbml0aW9uKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICByZWFkZXI6IHJlYWRlcnNbdHlwZV0sXG4gICAgICAgIHdyaXRlcjogd3JpdGVyc1t0eXBlXSB8fCB3cml0ZXJzLmRlZmF1bHQsXG4gICAgfTtcbn1cbmNvbnN0IGRlZmF1bHRWYWx1ZXNCeVR5cGUgPSB7XG4gICAgZ2V0IGFycmF5KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBib29sZWFuOiBmYWxzZSxcbiAgICBudW1iZXI6IDAsXG4gICAgZ2V0IG9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgc3RyaW5nOiBcIlwiLFxufTtcbmNvbnN0IHJlYWRlcnMgPSB7XG4gICAgYXJyYXkodmFsdWUpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgdmFsdWUgb2YgdHlwZSBcImFycmF5XCIgYnV0IGluc3RlYWQgZ290IHZhbHVlIFwiJHt2YWx1ZX1cIiBvZiB0eXBlIFwiJHtwYXJzZVZhbHVlVHlwZURlZmF1bHQoYXJyYXkpfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sXG4gICAgYm9vbGVhbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISh2YWx1ZSA9PSBcIjBcIiB8fCBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkgPT0gXCJmYWxzZVwiKTtcbiAgICB9LFxuICAgIG51bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlLnJlcGxhY2UoL18vZywgXCJcIikpO1xuICAgIH0sXG4gICAgb2JqZWN0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICBpZiAob2JqZWN0ID09PSBudWxsIHx8IHR5cGVvZiBvYmplY3QgIT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIHZhbHVlIG9mIHR5cGUgXCJvYmplY3RcIiBidXQgaW5zdGVhZCBnb3QgdmFsdWUgXCIke3ZhbHVlfVwiIG9mIHR5cGUgXCIke3BhcnNlVmFsdWVUeXBlRGVmYXVsdChvYmplY3QpfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuICAgIHN0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbn07XG5jb25zdCB3cml0ZXJzID0ge1xuICAgIGRlZmF1bHQ6IHdyaXRlU3RyaW5nLFxuICAgIGFycmF5OiB3cml0ZUpTT04sXG4gICAgb2JqZWN0OiB3cml0ZUpTT04sXG59O1xuZnVuY3Rpb24gd3JpdGVKU09OKHZhbHVlKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHdyaXRlU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG59XG5cbmNsYXNzIENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG4gICAgc3RhdGljIGdldCBzaG91bGRMb2FkKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3RhdGljIGFmdGVyTG9hZChfaWRlbnRpZmllciwgX2FwcGxpY2F0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ2V0IGFwcGxpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmFwcGxpY2F0aW9uO1xuICAgIH1cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NvcGU7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IHRhcmdldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnRhcmdldHM7XG4gICAgfVxuICAgIGdldCBvdXRsZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5vdXRsZXRzO1xuICAgIH1cbiAgICBnZXQgY2xhc3NlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuY2xhc3NlcztcbiAgICB9XG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmRhdGE7XG4gICAgfVxuICAgIGluaXRpYWxpemUoKSB7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgfVxuICAgIGRpc3BhdGNoKGV2ZW50TmFtZSwgeyB0YXJnZXQgPSB0aGlzLmVsZW1lbnQsIGRldGFpbCA9IHt9LCBwcmVmaXggPSB0aGlzLmlkZW50aWZpZXIsIGJ1YmJsZXMgPSB0cnVlLCBjYW5jZWxhYmxlID0gdHJ1ZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBwcmVmaXggPyBgJHtwcmVmaXh9OiR7ZXZlbnROYW1lfWAgOiBldmVudE5hbWU7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xuICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG59XG5Db250cm9sbGVyLmJsZXNzaW5ncyA9IFtcbiAgICBDbGFzc1Byb3BlcnRpZXNCbGVzc2luZyxcbiAgICBUYXJnZXRQcm9wZXJ0aWVzQmxlc3NpbmcsXG4gICAgVmFsdWVQcm9wZXJ0aWVzQmxlc3NpbmcsXG4gICAgT3V0bGV0UHJvcGVydGllc0JsZXNzaW5nLFxuXTtcbkNvbnRyb2xsZXIudGFyZ2V0cyA9IFtdO1xuQ29udHJvbGxlci5vdXRsZXRzID0gW107XG5Db250cm9sbGVyLnZhbHVlcyA9IHt9O1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiwgQXR0cmlidXRlT2JzZXJ2ZXIsIENvbnRleHQsIENvbnRyb2xsZXIsIEVsZW1lbnRPYnNlcnZlciwgSW5kZXhlZE11bHRpbWFwLCBNdWx0aW1hcCwgU2VsZWN0b3JPYnNlcnZlciwgU3RyaW5nTWFwT2JzZXJ2ZXIsIFRva2VuTGlzdE9ic2VydmVyLCBWYWx1ZUxpc3RPYnNlcnZlciwgYWRkLCBkZWZhdWx0U2NoZW1hLCBkZWwsIGZldGNoLCBwcnVuZSB9O1xuIiwgImltcG9ydCB7IEFwcGxpY2F0aW9uIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5cbmNvbnN0IGFwcGxpY2F0aW9uID0gQXBwbGljYXRpb24uc3RhcnQoKVxuXG4vLyBDb25maWd1cmUgU3RpbXVsdXMgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZVxuYXBwbGljYXRpb24uZGVidWcgPSBmYWxzZVxud2luZG93LlN0aW11bHVzICAgPSBhcHBsaWNhdGlvblxuXG5leHBvcnQgeyBhcHBsaWNhdGlvbiB9XG4iLCAiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJ0Bob3R3aXJlZC9zdGltdWx1cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoZ2V0VGhlbWUoKSk7XG4gIH1cblxuICB0b2dnbGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbGlnaHQnKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpO1xuICAgIGNvbnN0IG5ld1RoZW1lID0gZ2V0VGhlbWUoKSA9PT0gJ2xpZ2h0JyA/ICdkYXJrJyA6ICdsaWdodCc7XG4gICAgdGhpcy5zZXRDb29raWUoJ2Rhcmttb2RlJywgbmV3VGhlbWUsIDMwKTsgLy8gU3RvcmUgZm9yIDMwIGRheXNcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChuZXdUaGVtZSk7XG5cbiAgICAvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnQgd2l0aCBuZXcgdGhlbWUgdmFsdWVcbiAgICBjb25zdCB0aGVtZUNoYW5nZWRFdmVudCA9IG5ldyBDdXN0b21FdmVudCgndGhlbWVDaGFuZ2VkJywge1xuICAgICAgZGV0YWlsOiB7IHRoZW1lOiBuZXdUaGVtZSB9LFxuICAgIH0pO1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KHRoZW1lQ2hhbmdlZEV2ZW50KTtcbiAgfVxuXG4gIHNldENvb2tpZShjbmFtZSwgY3ZhbHVlLCBleGRheXMpIHtcbiAgICBjb25zdCBkID0gbmV3IERhdGUoKTtcbiAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyBleGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICBjb25zdCBleHBpcmVzID0gJ2V4cGlyZXM9JyArIGQudG9VVENTdHJpbmcoKTtcbiAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArICc9JyArIGN2YWx1ZSArICc7JyArIGV4cGlyZXMgKyAnO3BhdGg9Lyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkge1xuICBjb25zdCBuYW1lID0gY25hbWUgKyAnPSc7XG4gIGNvbnN0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgYyA9IGNhW2ldO1xuICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PT0gJyAnKSB7XG4gICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT09IDApIHtcbiAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaGVtZSgpIHtcbiAgY29uc3QgdGhlbWVDb29raWUgPSBnZXRDb29raWUoJ2Rhcmttb2RlJyk7XG4gIHJldHVybiB0aGVtZUNvb2tpZSA/IHRoZW1lQ29va2llIDogJ2xpZ2h0Jztcbn1cbiIsICJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gXCJIZWxsbyBXb3JsZCFcIlxuICB9XG59XG5cbiIsICJcbiAgICAgICAgaW1wb3J0ICogYXMgbW9kdWxlMCBmcm9tICcuL2RhcmtfbW9kZV9jb250cm9sbGVyLmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxIGZyb20gJy4vaGVsbG9fY29udHJvbGxlci5qcydcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IFt7bmFtZTogJ2RhcmstbW9kZScsIG1vZHVsZTogbW9kdWxlMCwgZmlsZW5hbWU6ICdkYXJrX21vZGVfY29udHJvbGxlci5qcyd9LHtuYW1lOiAnaGVsbG8nLCBtb2R1bGU6IG1vZHVsZTEsIGZpbGVuYW1lOiAnaGVsbG9fY29udHJvbGxlci5qcyd9XVxuICAgICAgICBleHBvcnQgZGVmYXVsdCBtb2R1bGVzO1xuICAgICAgIiwgImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJpdGVtXCIsIFwiY29udGVudFwiXVxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIGNvbnN0IGNsaWNrZWRJdGVtID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1hY2NvcmRpb24tdGFyZ2V0PVwiaXRlbVwiXScpXG4gICAgY29uc3QgY2xpY2tlZEluZGV4ID0gdGhpcy5pdGVtVGFyZ2V0cy5pbmRleE9mKGNsaWNrZWRJdGVtKVxuXG4gICAgdGhpcy5pdGVtVGFyZ2V0cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09PSBjbGlja2VkSW5kZXgpIHtcbiAgICAgICAgdGhpcy50b2dnbGVJdGVtKGl0ZW0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsb3NlSXRlbShpdGVtKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB0b2dnbGVJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBpc09wZW4gPSBpdGVtLmRhdGFzZXQudWlBY2NvcmRpb25PcGVuVmFsdWUgPT09ICd0cnVlJ1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIHRoaXMuY2xvc2VJdGVtKGl0ZW0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Blbkl0ZW0oaXRlbSlcbiAgICB9XG4gIH1cblxuICBvcGVuSXRlbShpdGVtKSB7XG4gICAgY29uc3QgY29udGVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtdWktYWNjb3JkaW9uLXRhcmdldD1cImNvbnRlbnRcIl0nKVxuICAgIGNvbnN0IGJ1dHRvbiA9IGl0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uJylcblxuICAgIGl0ZW0uZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9ICd0cnVlJ1xuICAgIGNvbnRlbnQuZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9ICd0cnVlJ1xuICAgIGNvbnRlbnQucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKVxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG4gIH1cblxuICBjbG9zZUl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXVpLWFjY29yZGlvbi10YXJnZXQ9XCJjb250ZW50XCJdJylcbiAgICBjb25zdCBidXR0b24gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXG5cbiAgICBpdGVtLmRhdGFzZXQudWlBY2NvcmRpb25PcGVuVmFsdWUgPSAnZmFsc2UnXG4gICAgY29udGVudC5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID0gJ2ZhbHNlJ1xuICAgIGNvbnRlbnQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJylcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2FsZXJ0X2RpYWxvZ19jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VDbGlja091dHNpZGUgfSBmcm9tICdzdGltdWx1cy11c2UnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wib3ZlcmxheVwiLCBcImNvbnRlbnRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBCb29sZWFuXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdXNlQ2xpY2tPdXRzaWRlKHRoaXMsIHsgZWxlbWVudDogdGhpcy5jb250ZW50VGFyZ2V0IH0pXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuZGF0YXNldC51aUFsZXJ0RGlhbG9nU3RhdGUgPSBcIm9wZW5cIlxuICAgICAgdGhpcy5jb250ZW50VGFyZ2V0LmRhdGFzZXQudWlBbGVydERpYWxvZ1N0YXRlID0gXCJvcGVuXCJcbiAgICB9LCAxMCkgLy8gU21hbGwgZGVsYXkgdG8gZW5zdXJlIHRoZSBkaXNwbGF5IGNoYW5nZSBoYXMgdGFrZW4gZWZmZWN0XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuZGF0YXNldC51aUFsZXJ0RGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LmRhdGFzZXQudWlBbGVydERpYWxvZ1N0YXRlID0gXCJjbG9zZWRcIlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgdGhpcy5jb250ZW50VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgIH0sIDMwKSAvLyBBZGp1c3QgdGhpcyB0aW1lb3V0IHRvIG1hdGNoIHlvdXIgYW5pbWF0aW9uIGR1cmF0aW9uXG4gIH1cblxuICBjYW5jZWwoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5jbG9zZSgpXG4gIH1cblxuICBjbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5jbG9zZU9uQ2xpY2tPdXRzaWRlVmFsdWUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxufSIsICIvKlxuICogc3RpbXVsdXMtdXNlIDAuNTIuMVxuICovXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuXG5jb25zdCBtZXRob2QgPSAoY29udHJvbGxlciwgbWV0aG9kTmFtZSkgPT4ge1xuICBjb25zdCBtZXRob2QgPSBjb250cm9sbGVyW21ldGhvZE5hbWVdO1xuICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gbWV0aG9kO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge307XG4gIH1cbn07XG5cbmNvbnN0IGNvbXBvc2VFdmVudE5hbWUgPSAobmFtZSwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpID0+IHtcbiAgbGV0IGNvbXBvc2VkTmFtZSA9IG5hbWU7XG4gIGlmIChldmVudFByZWZpeCA9PT0gdHJ1ZSkge1xuICAgIGNvbXBvc2VkTmFtZSA9IGAke2NvbnRyb2xsZXIuaWRlbnRpZmllcn06JHtuYW1lfWA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50UHJlZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29tcG9zZWROYW1lID0gYCR7ZXZlbnRQcmVmaXh9OiR7bmFtZX1gO1xuICB9XG4gIHJldHVybiBjb21wb3NlZE5hbWU7XG59O1xuXG5jb25zdCBleHRlbmRlZEV2ZW50ID0gKHR5cGUsIGV2ZW50LCBkZXRhaWwpID0+IHtcbiAgY29uc3Qge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsIGNvbXBvc2VkOiBjb21wb3NlZH0gPSBldmVudCB8fCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgIGNvbXBvc2VkOiB0cnVlXG4gIH07XG4gIGlmIChldmVudCkge1xuICAgIE9iamVjdC5hc3NpZ24oZGV0YWlsLCB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICBidWJibGVzOiBidWJibGVzLFxuICAgIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsXG4gICAgY29tcG9zZWQ6IGNvbXBvc2VkLFxuICAgIGRldGFpbDogZGV0YWlsXG4gIH0pO1xuICByZXR1cm4gY3VzdG9tRXZlbnQ7XG59O1xuXG5mdW5jdGlvbiBpc0VsZW1lbnRJblZpZXdwb3J0KGVsKSB7XG4gIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICBjb25zdCB2ZXJ0SW5WaWV3ID0gcmVjdC50b3AgPD0gd2luZG93SGVpZ2h0ICYmIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgPiAwO1xuICBjb25zdCBob3JJblZpZXcgPSByZWN0LmxlZnQgPD0gd2luZG93V2lkdGggJiYgcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCA+IDA7XG4gIHJldHVybiB2ZXJ0SW5WaWV3ICYmIGhvckluVmlldztcbn1cblxuZnVuY3Rpb24gY2FtZWxpemUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyg/OltfLV0pKFthLXowLTldKS9nLCAoKF8sIGNoYXIpID0+IGNoYXIudG9VcHBlckNhc2UoKSkpO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqLyBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSkgdFtwW2ldXSA9IHNbcFtpXV07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDggPSB7XG4gIGRlYnVnOiBmYWxzZSxcbiAgbG9nZ2VyOiBjb25zb2xlLFxuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZVxufTtcblxuY2xhc3MgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICB0aGlzLmxvZyA9IChmdW5jdGlvbk5hbWUsIGFyZ3MpID0+IHtcbiAgICAgIGlmICghdGhpcy5kZWJ1ZykgcmV0dXJuO1xuICAgICAgdGhpcy5sb2dnZXIuZ3JvdXBDb2xsYXBzZWQoYCVjJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn0gJWMjJHtmdW5jdGlvbk5hbWV9YCwgXCJjb2xvcjogIzNCODJGNlwiLCBcImNvbG9yOiB1bnNldFwiKTtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZyhPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY29udHJvbGxlcklkOiB0aGlzLmNvbnRyb2xsZXJJZFxuICAgICAgfSwgYXJncykpO1xuICAgICAgdGhpcy5sb2dnZXIuZ3JvdXBFbmQoKTtcbiAgICB9O1xuICAgIHRoaXMud2FybiA9IG1lc3NhZ2UgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIud2FybihgJWMke3RoaXMuY29udHJvbGxlci5pZGVudGlmaWVyfSAlYyR7bWVzc2FnZX1gLCBcImNvbG9yOiAjM0I4MkY2OyBmb250LXdlaWdodDogYm9sZFwiLCBcImNvbG9yOiB1bnNldFwiKTtcbiAgICB9O1xuICAgIHRoaXMuZGlzcGF0Y2ggPSAoZXZlbnROYW1lLCBkZXRhaWxzID0ge30pID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc3BhdGNoRXZlbnQpIHtcbiAgICAgICAgY29uc3Qge2V2ZW50OiBldmVudH0gPSBkZXRhaWxzLCBldmVudERldGFpbHMgPSBfX3Jlc3QoZGV0YWlscywgWyBcImV2ZW50XCIgXSk7XG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gdGhpcy5leHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgZXZlbnQgfHwgbnVsbCwgZXZlbnREZXRhaWxzKTtcbiAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xuICAgICAgICB0aGlzLmxvZyhcImRpc3BhdGNoRXZlbnRcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgZXZlbnROYW1lOiBjdXN0b21FdmVudC50eXBlXG4gICAgICAgIH0sIGV2ZW50RGV0YWlscykpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jYWxsID0gKG1ldGhvZE5hbWUsIGFyZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgbWV0aG9kID0gdGhpcy5jb250cm9sbGVyW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKHR5cGVvZiBtZXRob2QgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBtZXRob2QuY2FsbCh0aGlzLmNvbnRyb2xsZXIsIGFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5leHRlbmRlZEV2ZW50ID0gKG5hbWUsIGV2ZW50LCBkZXRhaWwpID0+IHtcbiAgICAgIGNvbnN0IHtidWJibGVzOiBidWJibGVzLCBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLCBjb21wb3NlZDogY29tcG9zZWR9ID0gZXZlbnQgfHwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZVxuICAgICAgfTtcbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGRldGFpbCwge1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodGhpcy5jb21wb3NlRXZlbnROYW1lKG5hbWUpLCB7XG4gICAgICAgIGJ1YmJsZXM6IGJ1YmJsZXMsXG4gICAgICAgIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsXG4gICAgICAgIGNvbXBvc2VkOiBjb21wb3NlZCxcbiAgICAgICAgZGV0YWlsOiBkZXRhaWxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGN1c3RvbUV2ZW50O1xuICAgIH07XG4gICAgdGhpcy5jb21wb3NlRXZlbnROYW1lID0gbmFtZSA9PiB7XG4gICAgICBsZXQgY29tcG9zZWROYW1lID0gbmFtZTtcbiAgICAgIGlmICh0aGlzLmV2ZW50UHJlZml4ID09PSB0cnVlKSB7XG4gICAgICAgIGNvbXBvc2VkTmFtZSA9IGAke3RoaXMuY29udHJvbGxlci5pZGVudGlmaWVyfToke25hbWV9YDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuZXZlbnRQcmVmaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29tcG9zZWROYW1lID0gYCR7dGhpcy5ldmVudFByZWZpeH06JHtuYW1lfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcG9zZWROYW1lO1xuICAgIH07XG4gICAgdGhpcy5kZWJ1ZyA9IChfYiA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kZWJ1ZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29udHJvbGxlci5hcHBsaWNhdGlvbi5zdGltdWx1c1VzZURlYnVnKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0T3B0aW9ucyQ4LmRlYnVnO1xuICAgIHRoaXMubG9nZ2VyID0gKF9jID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvZ2dlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdE9wdGlvbnMkOC5sb2dnZXI7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmNvbnRyb2xsZXJJZCA9IGNvbnRyb2xsZXIuZWxlbWVudC5pZCB8fCBjb250cm9sbGVyLmVsZW1lbnQuZGF0YXNldC5pZDtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICBjb25zdCB7ZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4fSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zJDgsIG9wdGlvbnMpO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCxcbiAgICAgIGV2ZW50UHJlZml4OiBldmVudFByZWZpeFxuICAgIH0pO1xuICAgIHRoaXMuY29udHJvbGxlckluaXRpYWxpemUgPSBjb250cm9sbGVyLmluaXRpYWxpemUuYmluZChjb250cm9sbGVyKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJDb25uZWN0ID0gY29udHJvbGxlci5jb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gICAgdGhpcy5jb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDcgPSB7XG4gIGV2ZW50UHJlZml4OiB0cnVlLFxuICBidWJibGVzOiB0cnVlLFxuICBjYW5jZWxhYmxlOiB0cnVlXG59O1xuXG5jbGFzcyBVc2VEaXNwYXRjaCBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMuZGlzcGF0Y2ggPSAoZXZlbnROYW1lLCBkZXRhaWwgPSB7fSkgPT4ge1xuICAgICAgY29uc3Qge2NvbnRyb2xsZXI6IGNvbnRyb2xsZXIsIHRhcmdldEVsZW1lbnQ6IHRhcmdldEVsZW1lbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeCwgYnViYmxlczogYnViYmxlcywgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSwgbG9nOiBsb2csIHdhcm46IHdhcm59ID0gdGhpcztcbiAgICAgIE9iamVjdC5hc3NpZ24oZGV0YWlsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXJcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZXZlbnROYW1lV2l0aFByZWZpeCA9IGNvbXBvc2VFdmVudE5hbWUoZXZlbnROYW1lLCB0aGlzLmNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZVdpdGhQcmVmaXgsIHtcbiAgICAgICAgZGV0YWlsOiBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IGJ1YmJsZXMsXG4gICAgICAgIGNhbmNlbGFibGU6IGNhbmNlbGFibGVcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHdhcm4oXCJgdXNlRGlzcGF0Y2goKWAgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgYnVpbHQtaW4gYHRoaXMuZGlzcGF0Y2goKWAgZnVuY3Rpb24gZnJvbSBTdGltdWx1cy4gWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIHVwZ3JhZGUgYXQ6IGh0dHBzOi8vc3RpbXVsdXMtdXNlLmdpdGh1Yi5pby9zdGltdWx1cy11c2UvIy91c2UtZGlzcGF0Y2hcIik7XG4gICAgICBsb2coXCJkaXNwYXRjaFwiLCB7XG4gICAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lV2l0aFByZWZpeCxcbiAgICAgICAgZGV0YWlsOiBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IGJ1YmJsZXMsXG4gICAgICAgIGNhbmNlbGFibGU6IGNhbmNlbGFibGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH07XG4gICAgdGhpcy50YXJnZXRFbGVtZW50ID0gKF9hID0gb3B0aW9ucy5lbGVtZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgdGhpcy5ldmVudFByZWZpeCA9IChfYiA9IG9wdGlvbnMuZXZlbnRQcmVmaXgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRPcHRpb25zJDcuZXZlbnRQcmVmaXg7XG4gICAgdGhpcy5idWJibGVzID0gKF9jID0gb3B0aW9ucy5idWJibGVzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucyQ3LmJ1YmJsZXM7XG4gICAgdGhpcy5jYW5jZWxhYmxlID0gKF9kID0gb3B0aW9ucy5jYW5jZWxhYmxlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0T3B0aW9ucyQ3LmNhbmNlbGFibGU7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNwYXRjaDogdGhpcy5kaXNwYXRjaFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZURpc3BhdGNoID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4gbmV3IFVzZURpc3BhdGNoKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQ2ID0ge1xuICBvdmVyd3JpdGVEaXNwYXRjaDogdHJ1ZVxufTtcblxuY29uc3QgdXNlQXBwbGljYXRpb24gPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtvdmVyd3JpdGVEaXNwYXRjaDogb3ZlcndyaXRlRGlzcGF0Y2h9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkNiwgb3B0aW9ucyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBcImlzUHJldmlld1wiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvbGlua3MtcHJldmlld1wiKSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1wcmV2aWV3XCIpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBcImlzQ29ubmVjdGVkXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gISFBcnJheS5mcm9tKHRoaXMuY29udGV4dC5tb2R1bGUuY29ubmVjdGVkQ29udGV4dHMpLmZpbmQoKGMgPT4gYyA9PT0gdGhpcy5jb250ZXh0KSk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIFwiY3NyZlRva2VuXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXRhVmFsdWUoXCJjc3JmLXRva2VuXCIpO1xuICAgIH1cbiAgfSk7XG4gIGlmIChvdmVyd3JpdGVEaXNwYXRjaCkge1xuICAgIHVzZURpc3BhdGNoKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICB9XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIG1ldGFWYWx1ZShuYW1lKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKGBtZXRhW25hbWU9XCIke25hbWV9XCJdYCk7XG4gICAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gICAgfVxuICB9KTtcbn07XG5cbmNsYXNzIEFwcGxpY2F0aW9uQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgdGhpcy5pc1ByZXZpZXcgPSBmYWxzZTtcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5jc3JmVG9rZW4gPSBcIlwiO1xuICAgIHVzZUFwcGxpY2F0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkNSA9IHtcbiAgZXZlbnRzOiBbIFwiY2xpY2tcIiwgXCJ0b3VjaGVuZFwiIF0sXG4gIG9ubHlWaXNpYmxlOiB0cnVlLFxuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZVxufTtcblxuY29uc3QgdXNlQ2xpY2tPdXRzaWRlID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCB7b25seVZpc2libGU6IG9ubHlWaXNpYmxlLCBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudHM6IGV2ZW50cywgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4fSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zJDUsIG9wdGlvbnMpO1xuICBjb25zdCBvbkV2ZW50ID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICBpZiAodGFyZ2V0RWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpIHx8ICFpc0VsZW1lbnRJblZpZXdwb3J0KHRhcmdldEVsZW1lbnQpICYmIG9ubHlWaXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjb250cm9sbGVyLmNsaWNrT3V0c2lkZSkge1xuICAgICAgY29udHJvbGxlci5jbGlja091dHNpZGUoZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImNsaWNrOm91dHNpZGVcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgY2xpY2tPdXRzaWRlRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgZXZlbnQsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoY2xpY2tPdXRzaWRlRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBldmVudHMgPT09IG51bGwgfHwgZXZlbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudHMuZm9yRWFjaCgoZXZlbnQgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRXZlbnQsIHRydWUpO1xuICAgIH0pKTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIGV2ZW50cyA9PT0gbnVsbCB8fCBldmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50cy5mb3JFYWNoKChldmVudCA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FdmVudCwgdHJ1ZSk7XG4gICAgfSkpO1xuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBDbGlja091dHNpZGVDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgQ2xpY2tPdXRzaWRlQ29udHJvbGxlciBleHRlbmRzIENsaWNrT3V0c2lkZUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VDbGlja091dHNpZGUodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNsYXNzIERlYm91bmNlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuRGVib3VuY2VDb250cm9sbGVyLmRlYm91bmNlcyA9IFtdO1xuXG5jb25zdCBkZWZhdWx0V2FpdCQxID0gMjAwO1xuXG5jb25zdCBkZWJvdW5jZSA9IChmbiwgd2FpdCA9IGRlZmF1bHRXYWl0JDEpID0+IHtcbiAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgIGNvbnN0IHBhcmFtcyA9IGFyZ3MubWFwKChhcmcgPT4gYXJnLnBhcmFtcykpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgYXJncy5mb3JFYWNoKCgoYXJnLCBpbmRleCkgPT4gYXJnLnBhcmFtcyA9IHBhcmFtc1tpbmRleF0pKTtcbiAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9O1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB3YWl0KTtcbiAgfTtcbn07XG5cbmNvbnN0IHVzZURlYm91bmNlID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3QgY29uc3RydWN0b3IgPSBjb250cm9sbGVyLmNvbnN0cnVjdG9yO1xuICBjb25zdHJ1Y3Rvci5kZWJvdW5jZXMuZm9yRWFjaCgoZnVuYyA9PiB7XG4gICAgaWYgKHR5cGVvZiBmdW5jID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb250cm9sbGVyW2Z1bmNdID0gZGVib3VuY2UoY29udHJvbGxlcltmdW5jXSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndhaXQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHtuYW1lOiBuYW1lLCB3YWl0OiB3YWl0fSA9IGZ1bmM7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICAgIGNvbnRyb2xsZXJbbmFtZV0gPSBkZWJvdW5jZShjb250cm9sbGVyW25hbWVdLCB3YWl0IHx8IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2FpdCkpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuY2xhc3MgVXNlSG92ZXIgZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLm9uRW50ZXIpO1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMub25MZWF2ZSk7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLm9uRW50ZXIpO1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMub25MZWF2ZSk7XG4gICAgfTtcbiAgICB0aGlzLm9uRW50ZXIgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNhbGwoXCJtb3VzZUVudGVyXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwibW91c2VFbnRlclwiLCB7XG4gICAgICAgIGhvdmVyOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJtb3VzZUVudGVyXCIsIHtcbiAgICAgICAgaG92ZXI6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMub25MZWF2ZSA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY2FsbChcIm1vdXNlTGVhdmVcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJtb3VzZUxlYXZlXCIsIHtcbiAgICAgICAgaG92ZXI6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJtb3VzZUxlYXZlXCIsIHtcbiAgICAgICAgaG92ZXI6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlSG92ZXIgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZUhvdmVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIEhvdmVyQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIEhvdmVyQ29udHJvbGxlciBleHRlbmRzIEhvdmVyQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZUhvdmVyKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0RXZlbnRzID0gWyBcIm1vdXNlbW92ZVwiLCBcIm1vdXNlZG93blwiLCBcInJlc2l6ZVwiLCBcImtleWRvd25cIiwgXCJ0b3VjaHN0YXJ0XCIsIFwid2hlZWxcIiBdO1xuXG5jb25zdCBvbmVNaW51dGUgPSA2ZTQ7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDQgPSB7XG4gIG1zOiBvbmVNaW51dGUsXG4gIGluaXRpYWxTdGF0ZTogZmFsc2UsXG4gIGV2ZW50czogZGVmYXVsdEV2ZW50cyxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNvbnN0IHVzZUlkbGUgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IHttczogbXMsIGluaXRpYWxTdGF0ZTogaW5pdGlhbFN0YXRlLCBldmVudHM6IGV2ZW50cywgZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4fSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zJDQsIG9wdGlvbnMpO1xuICBsZXQgaXNJZGxlID0gaW5pdGlhbFN0YXRlO1xuICBsZXQgdGltZW91dCA9IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICBpc0lkbGUgPSB0cnVlO1xuICAgIGRpc3BhdGNoQXdheSgpO1xuICB9KSwgbXMpO1xuICBjb25zdCBkaXNwYXRjaEF3YXkgPSBldmVudCA9PiB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImF3YXlcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgIGNvbnRyb2xsZXIuaXNJZGxlID0gdHJ1ZTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJhd2F5XCIpLmNhbGwoY29udHJvbGxlciwgZXZlbnQpO1xuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBjbGlja091dHNpZGVFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCB8fCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXJcbiAgICAgIH0pO1xuICAgICAgY29udHJvbGxlci5lbGVtZW50LmRpc3BhdGNoRXZlbnQoY2xpY2tPdXRzaWRlRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGlzcGF0Y2hCYWNrID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJiYWNrXCIsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICBjb250cm9sbGVyLmlzSWRsZSA9IGZhbHNlO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImJhY2tcIikuY2FsbChjb250cm9sbGVyLCBldmVudCk7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGNsaWNrT3V0c2lkZUV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50IHx8IG51bGwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxuICAgICAgfSk7XG4gICAgICBjb250cm9sbGVyLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja091dHNpZGVFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvbkV2ZW50ID0gZXZlbnQgPT4ge1xuICAgIGlmIChpc0lkbGUpIGRpc3BhdGNoQmFjayhldmVudCk7XG4gICAgaXNJZGxlID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICBpc0lkbGUgPSB0cnVlO1xuICAgICAgZGlzcGF0Y2hBd2F5KGV2ZW50KTtcbiAgICB9KSwgbXMpO1xuICB9O1xuICBjb25zdCBvblZpc2liaWxpdHkgPSBldmVudCA9PiB7XG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIG9uRXZlbnQoZXZlbnQpO1xuICB9O1xuICBpZiAoaXNJZGxlKSB7XG4gICAgZGlzcGF0Y2hBd2F5KCk7XG4gIH0gZWxzZSB7XG4gICAgZGlzcGF0Y2hCYWNrKCk7XG4gIH1cbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRXZlbnQpO1xuICAgIH0pKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBvblZpc2liaWxpdHkpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FdmVudCk7XG4gICAgfSkpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIG9uVmlzaWJpbGl0eSk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIElkbGVDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaXNJZGxlID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgSWRsZUNvbnRyb2xsZXIgZXh0ZW5kcyBJZGxlQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZUlkbGUodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDMgPSB7XG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlLFxuICB2aXNpYmxlQXR0cmlidXRlOiBcImlzVmlzaWJsZVwiXG59O1xuXG5jb25zdCB1c2VJbnRlcnNlY3Rpb24gPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IHtkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXgsIHZpc2libGVBdHRyaWJ1dGU6IHZpc2libGVBdHRyaWJ1dGV9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkMywgb3B0aW9ucyk7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgaWYgKCFjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzKSBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzID0gW107XG4gIGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMucHVzaCh0YXJnZXRFbGVtZW50KTtcbiAgY29uc3QgY2FsbGJhY2sgPSBlbnRyaWVzID0+IHtcbiAgICBjb25zdCBbZW50cnldID0gZW50cmllcztcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgIGRpc3BhdGNoQXBwZWFyKGVudHJ5KTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldEVsZW1lbnQuaGFzQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpKSB7XG4gICAgICBkaXNwYXRjaERpc2FwcGVhcihlbnRyeSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgb3B0aW9ucyk7XG4gIGNvbnN0IGRpc3BhdGNoQXBwZWFyID0gZW50cnkgPT4ge1xuICAgIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUsIFwidHJ1ZVwiKTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJhcHBlYXJcIikuY2FsbChjb250cm9sbGVyLCBlbnRyeSwgb2JzZXJ2ZXIpO1xuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiYXBwZWFyXCIsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICAgIGNvbnN0IGFwcGVhckV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIG51bGwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcbiAgICAgICAgZW50cnk6IGVudHJ5LFxuICAgICAgICBvYnNlcnZlcjogb2JzZXJ2ZXJcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGFwcGVhckV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRpc3BhdGNoRGlzYXBwZWFyID0gZW50cnkgPT4ge1xuICAgIHRhcmdldEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImRpc2FwcGVhclwiKS5jYWxsKGNvbnRyb2xsZXIsIGVudHJ5LCBvYnNlcnZlcik7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJkaXNhcHBlYXJcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgZGlzYXBwZWFyRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxuICAgICAgICBlbnRyeTogZW50cnksXG4gICAgICAgIG9ic2VydmVyOiBvYnNlcnZlclxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZGlzYXBwZWFyRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICB1bm9ic2VydmUoKTtcbiAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICB9O1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0RWxlbWVudCk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci51bm9ic2VydmUodGFyZ2V0RWxlbWVudCk7XG4gIH07XG4gIGNvbnN0IG5vbmVWaXNpYmxlID0gKCkgPT4gY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5maWx0ZXIoKGVsZW1lbnQgPT4gZWxlbWVudC5oYXNBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSkpKS5sZW5ndGggPT09IDA7XG4gIGNvbnN0IG9uZVZpc2libGUgPSAoKSA9PiBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpLmxlbmd0aCA9PT0gMTtcbiAgY29uc3QgYXRMZWFzdE9uZVZpc2libGUgPSAoKSA9PiBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzLnNvbWUoKGVsZW1lbnQgPT4gZWxlbWVudC5oYXNBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSkpKTtcbiAgY29uc3QgYWxsVmlzaWJsZSA9ICgpID0+IGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMuZXZlcnkoKGVsZW1lbnQgPT4gZWxlbWVudC5oYXNBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSkpKTtcbiAgY29uc3QgaXNWaXNpYmxlID0gYWxsVmlzaWJsZTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgaXNWaXNpYmxlOiBpc1Zpc2libGUsXG4gICAgbm9uZVZpc2libGU6IG5vbmVWaXNpYmxlLFxuICAgIG9uZVZpc2libGU6IG9uZVZpc2libGUsXG4gICAgYXRMZWFzdE9uZVZpc2libGU6IGF0TGVhc3RPbmVWaXNpYmxlLFxuICAgIGFsbFZpc2libGU6IGFsbFZpc2libGUsXG4gICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIEludGVyc2VjdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBJbnRlcnNlY3Rpb25Db250cm9sbGVyIGV4dGVuZHMgSW50ZXJzZWN0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZUludGVyc2VjdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgdXNlTGF6eUxvYWQgPSAoY29udHJvbGxlciwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBjYWxsYmFjayA9IGVudHJpZXMgPT4ge1xuICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyAmJiAhY29udHJvbGxlci5pc0xvYWRlZCkge1xuICAgICAgaGFuZGxlQXBwZWFyKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVBcHBlYXIgPSBlbnRyeSA9PiB7XG4gICAgY29uc3Qgc3JjID0gY29udHJvbGxlci5kYXRhLmdldChcInNyY1wiKTtcbiAgICBpZiAoIXNyYykgcmV0dXJuO1xuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICBjb250cm9sbGVyLmlzTG9hZGluZyA9IHRydWU7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwibG9hZGluZ1wiKS5jYWxsKGNvbnRyb2xsZXIsIHNyYyk7XG4gICAgaW1hZ2VFbGVtZW50Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGhhbmRsZUxvYWRlZChzcmMpO1xuICAgIH07XG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNyYztcbiAgfTtcbiAgY29uc3QgaGFuZGxlTG9hZGVkID0gc3JjID0+IHtcbiAgICBjb250cm9sbGVyLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIGNvbnRyb2xsZXIuaXNMb2FkZWQgPSB0cnVlO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImxvYWRlZFwiKS5jYWxsKGNvbnRyb2xsZXIsIHNyYyk7XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGNvbnRyb2xsZXIuZWxlbWVudCk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci51bm9ic2VydmUoY29udHJvbGxlci5lbGVtZW50KTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBMYXp5TG9hZENvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzTG9hZGVkID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgTGF6eUxvYWRDb250cm9sbGVyIGV4dGVuZHMgTGF6eUxvYWRDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICByb290TWFyZ2luOiBcIjEwJVwiXG4gICAgfTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlTGF6eUxvYWQodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDIgPSB7XG4gIG1lZGlhUXVlcmllczoge30sXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlLFxuICBkZWJ1ZzogZmFsc2Vcbn07XG5cbmNsYXNzIFVzZU1hdGNoTWVkaWEgZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm1hdGNoZXMgPSBbXTtcbiAgICB0aGlzLmNhbGxiYWNrID0gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IE9iamVjdC5rZXlzKHRoaXMubWVkaWFRdWVyaWVzKS5maW5kKChuYW1lID0+IHRoaXMubWVkaWFRdWVyaWVzW25hbWVdID09PSBldmVudC5tZWRpYSkpO1xuICAgICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgICBjb25zdCB7bWVkaWE6IG1lZGlhLCBtYXRjaGVzOiBtYXRjaGVzfSA9IGV2ZW50O1xuICAgICAgdGhpcy5jaGFuZ2VkKHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgICBtYXRjaGVzOiBtYXRjaGVzLFxuICAgICAgICBldmVudDogZXZlbnRcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5jaGFuZ2VkID0gcGF5bG9hZCA9PiB7XG4gICAgICBjb25zdCB7bmFtZTogbmFtZX0gPSBwYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQuZXZlbnQpIHtcbiAgICAgICAgdGhpcy5jYWxsKGNhbWVsaXplKGAke25hbWV9X2NoYW5nZWRgKSwgcGF5bG9hZCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goYCR7bmFtZX06Y2hhbmdlZGAsIHBheWxvYWQpO1xuICAgICAgICB0aGlzLmxvZyhgbWVkaWEgcXVlcnkgXCIke25hbWV9XCIgY2hhbmdlZGAsIHBheWxvYWQpO1xuICAgICAgfVxuICAgICAgaWYgKHBheWxvYWQubWF0Y2hlcykge1xuICAgICAgICB0aGlzLmNhbGwoY2FtZWxpemUoYGlzXyR7bmFtZX1gKSwgcGF5bG9hZCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goYGlzOiR7bmFtZX1gLCBwYXlsb2FkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FsbChjYW1lbGl6ZShgbm90XyR7bmFtZX1gKSwgcGF5bG9hZCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goYG5vdDoke25hbWV9YCwgcGF5bG9hZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLm1lZGlhUXVlcmllcykuZm9yRWFjaCgobmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IG1lZGlhID0gdGhpcy5tZWRpYVF1ZXJpZXNbbmFtZV07XG4gICAgICAgIGNvbnN0IG1hdGNoID0gd2luZG93Lm1hdGNoTWVkaWEobWVkaWEpO1xuICAgICAgICBtYXRjaC5hZGRMaXN0ZW5lcih0aGlzLmNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5tYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoe1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgICAgIG1hdGNoZXM6IG1hdGNoLm1hdGNoZXNcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMubWF0Y2hlcy5mb3JFYWNoKChtYXRjaCA9PiBtYXRjaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmNhbGxiYWNrKSkpO1xuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLm1lZGlhUXVlcmllcyA9IChfYSA9IG9wdGlvbnMubWVkaWFRdWVyaWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0T3B0aW9ucyQyLm1lZGlhUXVlcmllcztcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQgPSAoX2IgPSBvcHRpb25zLmRpc3BhdGNoRXZlbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRPcHRpb25zJDIuZGlzcGF0Y2hFdmVudDtcbiAgICB0aGlzLmV2ZW50UHJlZml4ID0gKF9jID0gb3B0aW9ucy5ldmVudFByZWZpeCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdE9wdGlvbnMkMi5ldmVudFByZWZpeDtcbiAgICB0aGlzLmRlYnVnID0gKF9kID0gb3B0aW9ucy5kZWJ1ZykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZGVmYXVsdE9wdGlvbnMkMi5kZWJ1ZztcbiAgICBpZiAoIXdpbmRvdy5tYXRjaE1lZGlhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwid2luZG93Lm1hdGNoTWVkaWEoKSBpcyBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VNYXRjaE1lZGlhID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VNYXRjaE1lZGlhKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNvbnN0IG1lbW9pemUgPSAoY29udHJvbGxlciwgbmFtZSwgdmFsdWUpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIG5hbWUsIHtcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmNvbnN0IHVzZU1lbW8gPSBjb250cm9sbGVyID0+IHtcbiAgdmFyIF9hO1xuICAoX2EgPSBjb250cm9sbGVyLmNvbnN0cnVjdG9yLm1lbW9zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoZ2V0dGVyID0+IHtcbiAgICBtZW1vaXplKGNvbnRyb2xsZXIsIGdldHRlciwgY29udHJvbGxlcltnZXR0ZXJdKTtcbiAgfSkpO1xufTtcblxuY29uc3QgZGVmaW5lTWV0YUdldHRlciA9IChjb250cm9sbGVyLCBtZXRhTmFtZSwgc3VmZml4KSA9PiB7XG4gIGNvbnN0IGdldHRlck5hbWUgPSBzdWZmaXggPyBgJHtjYW1lbGl6ZShtZXRhTmFtZSl9TWV0YWAgOiBjYW1lbGl6ZShtZXRhTmFtZSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBnZXR0ZXJOYW1lLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHR5cGVDYXN0KG1ldGFWYWx1ZShtZXRhTmFtZSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBtZXRhVmFsdWUobmFtZSkge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKGBtZXRhW25hbWU9XCIke25hbWV9XCJdYCk7XG4gIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcbn1cblxuZnVuY3Rpb24gdHlwZUNhc3QodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gIH0gY2F0Y2ggKG9fTykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5jb25zdCB1c2VNZXRhID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7XG4gIHN1ZmZpeDogdHJ1ZVxufSkgPT4ge1xuICBjb25zdCBtZXRhTmFtZXMgPSBjb250cm9sbGVyLmNvbnN0cnVjdG9yLm1ldGFOYW1lcztcbiAgY29uc3Qgc3VmZml4ID0gb3B0aW9ucy5zdWZmaXg7XG4gIG1ldGFOYW1lcyA9PT0gbnVsbCB8fCBtZXRhTmFtZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1ldGFOYW1lcy5mb3JFYWNoKChtZXRhTmFtZSA9PiB7XG4gICAgZGVmaW5lTWV0YUdldHRlcihjb250cm9sbGVyLCBtZXRhTmFtZSwgc3VmZml4KTtcbiAgfSkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgXCJtZXRhc1wiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICBtZXRhTmFtZXMgPT09IG51bGwgfHwgbWV0YU5hbWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXRhTmFtZXMuZm9yRWFjaCgobWV0YU5hbWUgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHR5cGVDYXN0KG1ldGFWYWx1ZShtZXRhTmFtZSkpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJlc3VsdFtjYW1lbGl6ZShtZXRhTmFtZSldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9KTtcbn07XG5cbmNsYXNzIFVzZU11dGF0aW9uIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy50YXJnZXRFbGVtZW50LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmFwcGxpY2F0aW9uLmhhbmRsZUVycm9yKGVycm9yLCBcIkF0IGEgbWluaW11bSwgb25lIG9mIGNoaWxkTGlzdCwgYXR0cmlidXRlcywgYW5kL29yIGNoYXJhY3RlckRhdGEgbXVzdCBiZSB0cnVlXCIsIHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICB0aGlzLm11dGF0aW9uID0gZW50cmllcyA9PiB7XG4gICAgICB0aGlzLmNhbGwoXCJtdXRhdGVcIiwgZW50cmllcyk7XG4gICAgICB0aGlzLmxvZyhcIm11dGF0ZVwiLCB7XG4gICAgICAgIGVudHJpZXM6IGVudHJpZXNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcIm11dGF0ZVwiLCB7XG4gICAgICAgIGVudHJpZXM6IGVudHJpZXNcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy50YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLm11dGF0aW9uKTtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VNdXRhdGlvbiA9IChjb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlTXV0YXRpb24oY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgTXV0YXRpb25Db21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgTXV0YXRpb25Db250cm9sbGVyIGV4dGVuZHMgTXV0YXRpb25Db21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlTXV0YXRpb24odGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDEgPSB7XG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jb25zdCB1c2VSZXNpemUgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IHtkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkMSwgb3B0aW9ucyk7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgY29uc3QgY2FsbGJhY2sgPSBlbnRyaWVzID0+IHtcbiAgICBjb25zdCBbZW50cnldID0gZW50cmllcztcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJyZXNpemVcIikuY2FsbChjb250cm9sbGVyLCBlbnRyeS5jb250ZW50UmVjdCk7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJyZXNpemVcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgYXBwZWFyRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxuICAgICAgICBlbnRyeTogZW50cnlcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGFwcGVhckV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKTtcbiAgY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldEVsZW1lbnQpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRhcmdldEVsZW1lbnQpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBSZXNpemVDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgUmVzaXplQ29udHJvbGxlciBleHRlbmRzIFJlc2l6ZUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VSZXNpemUodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNsYXNzIFVzZVRhcmdldE11dGF0aW9uIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy50YXJnZXRFbGVtZW50LCB7XG4gICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWyB0aGlzLnRhcmdldFNlbGVjdG9yLCB0aGlzLnNjb3BlZFRhcmdldFNlbGVjdG9yIF1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIHRoaXMubXV0YXRpb24gPSBlbnRyaWVzID0+IHtcbiAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgZW50cmllcykge1xuICAgICAgICBzd2l0Y2ggKG11dGF0aW9uLnR5cGUpIHtcbiAgICAgICAgIGNhc2UgXCJhdHRyaWJ1dGVzXCI6XG4gICAgICAgICAgbGV0IG5ld1ZhbHVlID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICBsZXQgb2xkVmFsdWUgPSBtdXRhdGlvbi5vbGRWYWx1ZTtcbiAgICAgICAgICBpZiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gdGhpcy50YXJnZXRTZWxlY3RvciB8fCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSB0aGlzLnNjb3BlZFRhcmdldFNlbGVjdG9yKSB7XG4gICAgICAgICAgICBsZXQgb2xkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyKG9sZFZhbHVlKTtcbiAgICAgICAgICAgIGxldCBuZXdUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXIobmV3VmFsdWUpO1xuICAgICAgICAgICAgbGV0IHJlbW92ZWRUYXJnZXRzID0gb2xkVGFyZ2V0cy5maWx0ZXIoKHRhcmdldCA9PiAhbmV3VGFyZ2V0cy5pbmNsdWRlcyh0YXJnZXQpKSk7XG4gICAgICAgICAgICBsZXQgYWRkZWRUYXJnZXRzID0gbmV3VGFyZ2V0cy5maWx0ZXIoKHRhcmdldCA9PiAhb2xkVGFyZ2V0cy5pbmNsdWRlcyh0YXJnZXQpKSk7XG4gICAgICAgICAgICByZW1vdmVkVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQgPT4gdGhpcy50YXJnZXRSZW1vdmVkKHRoaXMuc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldCksIG11dGF0aW9uLnRhcmdldCwgXCJhdHRyaWJ1dGVDaGFuZ2VcIikpKTtcbiAgICAgICAgICAgIGFkZGVkVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQgPT4gdGhpcy50YXJnZXRBZGRlZCh0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpLCBtdXRhdGlvbi50YXJnZXQsIFwiYXR0cmlidXRlQ2hhbmdlXCIpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICBjYXNlIFwiY2hhcmFjdGVyRGF0YVwiOlxuICAgICAgICAgIGxldCBub2R1bGUgPSB0aGlzLmZpbmRUYXJnZXRJbkFuY2VzdHJ5KG11dGF0aW9uLnRhcmdldCk7XG4gICAgICAgICAgaWYgKG5vZHVsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgICAgICAgICAgc3VwcG9ydGVkVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnRhcmdldENoYW5nZWQodGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSwgbm9kdWxlLCBcImRvbU11dGF0aW9uXCIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAgY2FzZSBcImNoaWxkTGlzdFwiOlxuICAgICAgICAgIGxldCB7YWRkZWROb2RlczogYWRkZWROb2RlcywgcmVtb3ZlZE5vZGVzOiByZW1vdmVkTm9kZXN9ID0gbXV0YXRpb247XG4gICAgICAgICAgYWRkZWROb2Rlcy5mb3JFYWNoKChub2RlID0+IHRoaXMucHJvY2Vzc05vZGVET01NdXRhdGlvbihub2RlLCB0aGlzLnRhcmdldEFkZGVkKSkpO1xuICAgICAgICAgIHJlbW92ZWROb2Rlcy5mb3JFYWNoKChub2RlID0+IHRoaXMucHJvY2Vzc05vZGVET01NdXRhdGlvbihub2RlLCB0aGlzLnRhcmdldFJlbW92ZWQpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgdGhpcy5pZGVudGlmaWVyID0gY29udHJvbGxlci5zY29wZS5pZGVudGlmaWVyO1xuICAgIHRoaXMuaWRlbnRpZmllclByZWZpeCA9IGAke3RoaXMuaWRlbnRpZmllcn0uYDtcbiAgICB0aGlzLnRhcmdldFNlbGVjdG9yID0gY29udHJvbGxlci5zY29wZS5zY2hlbWEudGFyZ2V0QXR0cmlidXRlO1xuICAgIHRoaXMuc2NvcGVkVGFyZ2V0U2VsZWN0b3IgPSBgZGF0YS0ke3RoaXMuaWRlbnRpZmllcn0tdGFyZ2V0YDtcbiAgICB0aGlzLnRhcmdldHMgPSBvcHRpb25zLnRhcmdldHMgfHwgY29udHJvbGxlci5jb25zdHJ1Y3Rvci50YXJnZXRzO1xuICAgIHRoaXMucHJlZml4ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzLm1hcCgodGFyZ2V0ID0+IGAke3RoaXMuaWRlbnRpZmllclByZWZpeH0ke3RhcmdldH1gKSk7XG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubXV0YXRpb24pO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBwcm9jZXNzTm9kZURPTU11dGF0aW9uKG5vZGUsIGluaXRpYWxDaGFuZ2VNb2RlQXNzdW1wdGlvbikge1xuICAgIGxldCBub2R1bGUgPSBub2RlO1xuICAgIGxldCBjaGFuZ2UgPSBpbml0aWFsQ2hhbmdlTW9kZUFzc3VtcHRpb247XG4gICAgbGV0IHN1cHBvcnRlZFRhcmdldHMgPSBbXTtcbiAgICBpZiAobm9kdWxlLm5vZGVOYW1lID09IFwiI3RleHRcIiB8fCB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSkubGVuZ3RoID09IDApIHtcbiAgICAgIGNoYW5nZSA9IHRoaXMudGFyZ2V0Q2hhbmdlZDtcbiAgICAgIG5vZHVsZSA9IHRoaXMuZmluZFRhcmdldEluQW5jZXN0cnkobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cHBvcnRlZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSk7XG4gICAgfVxuICAgIGlmIChub2R1bGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydGVkVGFyZ2V0cy5sZW5ndGggPT0gMCkge1xuICAgICAgc3VwcG9ydGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKTtcbiAgICB9XG4gICAgc3VwcG9ydGVkVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQgPT4ge1xuICAgICAgY2hhbmdlLmNhbGwodGhpcywgdGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSwgbm9kdWxlLCBcImRvbU11dGF0aW9uXCIpO1xuICAgIH0pKTtcbiAgfVxuICBmaW5kVGFyZ2V0SW5BbmNlc3RyeShub2RlKSB7XG4gICAgbGV0IG5vZHVsZSA9IG5vZGU7XG4gICAgbGV0IHN1cHBvcnRlZFRhcmdldHMgPSBbXTtcbiAgICBpZiAobm9kdWxlLm5vZGVOYW1lICE9IFwiI3RleHRcIikge1xuICAgICAgc3VwcG9ydGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKTtcbiAgICB9XG4gICAgd2hpbGUgKG5vZHVsZS5wYXJlbnROb2RlICE9PSBudWxsICYmIG5vZHVsZS5wYXJlbnROb2RlICE9IHRoaXMudGFyZ2V0RWxlbWVudCAmJiBzdXBwb3J0ZWRUYXJnZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICBub2R1bGUgPSBub2R1bGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChub2R1bGUubm9kZU5hbWUgIT09IFwiI3RleHRcIikge1xuICAgICAgICBsZXQgc3VwcG9ydGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKTtcbiAgICAgICAgaWYgKHN1cHBvcnRlZFRhcmdldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBub2R1bGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZHVsZS5ub2RlTmFtZSA9PSBcIiN0ZXh0XCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobm9kdWxlLnBhcmVudE5vZGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChub2R1bGUucGFyZW50Tm9kZSA9PSB0aGlzLnRhcmdldEVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gbm9kdWxlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRhcmdldEFkZGVkKG5hbWUsIG5vZGUsIHRyaWdnZXIpIHtcbiAgICBsZXQgdGFyZ2V0Q2FsbGJhY2sgPSBgJHtuYW1lfVRhcmdldEFkZGVkYDtcbiAgICB0aGlzLmNvbnRyb2xsZXJbdGFyZ2V0Q2FsbGJhY2tdICYmIG1ldGhvZCh0aGlzLmNvbnRyb2xsZXIsIHRhcmdldENhbGxiYWNrKS5jYWxsKHRoaXMuY29udHJvbGxlciwgbm9kZSk7XG4gICAgdGhpcy5sb2coXCJ0YXJnZXRBZGRlZFwiLCB7XG4gICAgICB0YXJnZXQ6IG5hbWUsXG4gICAgICBub2RlOiBub2RlLFxuICAgICAgdHJpZ2dlcjogdHJpZ2dlclxuICAgIH0pO1xuICB9XG4gIHRhcmdldFJlbW92ZWQobmFtZSwgbm9kZSwgdHJpZ2dlcikge1xuICAgIGxldCB0YXJnZXRDYWxsYmFjayA9IGAke25hbWV9VGFyZ2V0UmVtb3ZlZGA7XG4gICAgdGhpcy5jb250cm9sbGVyW3RhcmdldENhbGxiYWNrXSAmJiBtZXRob2QodGhpcy5jb250cm9sbGVyLCB0YXJnZXRDYWxsYmFjaykuY2FsbCh0aGlzLmNvbnRyb2xsZXIsIG5vZGUpO1xuICAgIHRoaXMubG9nKFwidGFyZ2V0UmVtb3ZlZFwiLCB7XG4gICAgICB0YXJnZXQ6IG5hbWUsXG4gICAgICBub2RlOiBub2RlLFxuICAgICAgdHJpZ2dlcjogdHJpZ2dlclxuICAgIH0pO1xuICB9XG4gIHRhcmdldENoYW5nZWQobmFtZSwgbm9kZSwgdHJpZ2dlcikge1xuICAgIGxldCB0YXJnZXRDYWxsYmFjayA9IGAke25hbWV9VGFyZ2V0Q2hhbmdlZGA7XG4gICAgdGhpcy5jb250cm9sbGVyW3RhcmdldENhbGxiYWNrXSAmJiBtZXRob2QodGhpcy5jb250cm9sbGVyLCB0YXJnZXRDYWxsYmFjaykuY2FsbCh0aGlzLmNvbnRyb2xsZXIsIG5vZGUpO1xuICAgIHRoaXMubG9nKFwidGFyZ2V0Q2hhbmdlZFwiLCB7XG4gICAgICB0YXJnZXQ6IG5hbWUsXG4gICAgICBub2RlOiBub2RlLFxuICAgICAgdHJpZ2dlcjogdHJpZ2dlclxuICAgIH0pO1xuICB9XG4gIHRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIiN0ZXh0XCIgfHwgbm9kZS5ub2RlTmFtZSA9PSBcIiNjb21tZW50XCIpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IG5vZGVFbGVtZW50ID0gbm9kZTtcbiAgICByZXR1cm4gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXIobm9kZUVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMuc2NvcGVkVGFyZ2V0U2VsZWN0b3IpIHx8IG5vZGVFbGVtZW50LmdldEF0dHJpYnV0ZSh0aGlzLnRhcmdldFNlbGVjdG9yKSk7XG4gIH1cbiAgdGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyKHRhcmdldFN0cikge1xuICAgIHRhcmdldFN0ciA9IHRhcmdldFN0ciB8fCBcIlwiO1xuICAgIGxldCB0YXJnZXRzVG9DaGVjayA9IHRoaXMuc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldFN0cikuc3BsaXQoXCIgXCIpO1xuICAgIHJldHVybiB0aGlzLnRhcmdldHMuZmlsdGVyKChuID0+IHRhcmdldHNUb0NoZWNrLmluZGV4T2YobikgIT09IC0xKSk7XG4gIH1cbiAgc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuaWRlbnRpZmllclByZWZpeCwgXCJnXCIpLCBcIlwiKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZVRhcmdldE11dGF0aW9uID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VUYXJnZXRNdXRhdGlvbihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBUYXJnZXRNdXRhdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBUYXJnZXRNdXRhdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBUYXJnZXRNdXRhdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VUYXJnZXRNdXRhdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgVGhyb3R0bGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5UaHJvdHRsZUNvbnRyb2xsZXIudGhyb3R0bGVzID0gW107XG5cbmNvbnN0IGRlZmF1bHRXYWl0ID0gMjAwO1xuXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0ID0gZGVmYXVsdFdhaXQpIHtcbiAgbGV0IGluVGhyb3R0bGU7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgIGlmICghaW5UaHJvdHRsZSkge1xuICAgICAgaW5UaHJvdHRsZSA9IHRydWU7XG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgc2V0VGltZW91dCgoKCkgPT4gaW5UaHJvdHRsZSA9IGZhbHNlKSwgd2FpdCk7XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCB1c2VUaHJvdHRsZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBjb25zdHJ1Y3RvciA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3I7XG4gIChfYSA9IGNvbnN0cnVjdG9yLnRocm90dGxlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGZ1bmMgPT4ge1xuICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29udHJvbGxlcltmdW5jXSA9IHRocm90dGxlKGNvbnRyb2xsZXJbZnVuY10sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmdW5jID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCB7bmFtZTogbmFtZSwgd2FpdDogd2FpdH0gPSBmdW5jO1xuICAgICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgICBjb250cm9sbGVyW25hbWVdID0gdGhyb3R0bGUoY29udHJvbGxlcltuYW1lXSwgd2FpdCB8fCAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndhaXQpKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbmNvbnN0IGFscGluZU5hbWVzID0ge1xuICBlbnRlckZyb21DbGFzczogXCJlbnRlclwiLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBcImVudGVyU3RhcnRcIixcbiAgZW50ZXJUb0NsYXNzOiBcImVudGVyRW5kXCIsXG4gIGxlYXZlRnJvbUNsYXNzOiBcImxlYXZlXCIsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFwibGVhdmVTdGFydFwiLFxuICBsZWF2ZVRvQ2xhc3M6IFwibGVhdmVFbmRcIlxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHRyYW5zaXRpb25lZDogZmFsc2UsXG4gIGhpZGRlbkNsYXNzOiBcImhpZGRlblwiLFxuICBwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3M6IHRydWUsXG4gIHJlbW92ZVRvQ2xhc3NlczogdHJ1ZVxufTtcblxuY29uc3QgdXNlVHJhbnNpdGlvbiA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IHRhcmdldE5hbWUgPSBjb250cm9sbGVyLmVsZW1lbnQuZGF0YXNldC50cmFuc2l0aW9uVGFyZ2V0O1xuICBsZXQgdGFyZ2V0RnJvbUF0dHJpYnV0ZTtcbiAgaWYgKHRhcmdldE5hbWUpIHtcbiAgICB0YXJnZXRGcm9tQXR0cmlidXRlID0gY29udHJvbGxlcltgJHt0YXJnZXROYW1lfVRhcmdldGBdO1xuICB9XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IHRhcmdldEZyb21BdHRyaWJ1dGUgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICBpZiAoISh0YXJnZXRFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdGFyZ2V0RWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpKSByZXR1cm47XG4gIGNvbnN0IGRhdGFzZXQgPSB0YXJnZXRFbGVtZW50LmRhdGFzZXQ7XG4gIGNvbnN0IGxlYXZlQWZ0ZXIgPSBwYXJzZUludChkYXRhc2V0LmxlYXZlQWZ0ZXIgfHwgXCJcIikgfHwgb3B0aW9ucy5sZWF2ZUFmdGVyIHx8IDA7XG4gIGNvbnN0IHt0cmFuc2l0aW9uZWQ6IHRyYW5zaXRpb25lZCwgaGlkZGVuQ2xhc3M6IGhpZGRlbkNsYXNzLCBwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3M6IHByZXNlcnZlT3JpZ2luYWxDbGFzcywgcmVtb3ZlVG9DbGFzc2VzOiByZW1vdmVUb0NsYXNzZXN9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICBjb25zdCBjb250cm9sbGVyRW50ZXIgPSAoX2EgPSBjb250cm9sbGVyLmVudGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3QgY29udHJvbGxlckxlYXZlID0gKF9iID0gY29udHJvbGxlci5sZWF2ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IGNvbnRyb2xsZXJUb2dnbGVUcmFuc2l0aW9uID0gKF9jID0gY29udHJvbGxlci50b2dnbGVUcmFuc2l0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYmluZChjb250cm9sbGVyKTtcbiAgYXN5bmMgZnVuY3Rpb24gZW50ZXIoZXZlbnQpIHtcbiAgICBpZiAoY29udHJvbGxlci50cmFuc2l0aW9uZWQpIHJldHVybjtcbiAgICBjb250cm9sbGVyLnRyYW5zaXRpb25lZCA9IHRydWU7XG4gICAgY29udHJvbGxlckVudGVyICYmIGNvbnRyb2xsZXJFbnRlcihldmVudCk7XG4gICAgY29uc3QgZW50ZXJGcm9tQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImVudGVyRnJvbVwiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBlbnRlckFjdGl2ZUNsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJlbnRlckFjdGl2ZVwiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBlbnRlclRvQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImVudGVyVG9cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgbGVhdmVUb0NsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJsZWF2ZVRvXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGlmICghIWhpZGRlbkNsYXNzKSB7XG4gICAgICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaGlkZGVuQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAoIXJlbW92ZVRvQ2xhc3Nlcykge1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0YXJnZXRFbGVtZW50LCBsZWF2ZVRvQ2xhc3Nlcyk7XG4gICAgfVxuICAgIGF3YWl0IHRyYW5zaXRpb24odGFyZ2V0RWxlbWVudCwgZW50ZXJGcm9tQ2xhc3NlcywgZW50ZXJBY3RpdmVDbGFzc2VzLCBlbnRlclRvQ2xhc3NlcywgaGlkZGVuQ2xhc3MsIHByZXNlcnZlT3JpZ2luYWxDbGFzcywgcmVtb3ZlVG9DbGFzc2VzKTtcbiAgICBpZiAobGVhdmVBZnRlciA+IDApIHtcbiAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgbGVhdmUoZXZlbnQpO1xuICAgICAgfSksIGxlYXZlQWZ0ZXIpO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsZWF2ZShldmVudCkge1xuICAgIGlmICghY29udHJvbGxlci50cmFuc2l0aW9uZWQpIHJldHVybjtcbiAgICBjb250cm9sbGVyLnRyYW5zaXRpb25lZCA9IGZhbHNlO1xuICAgIGNvbnRyb2xsZXJMZWF2ZSAmJiBjb250cm9sbGVyTGVhdmUoZXZlbnQpO1xuICAgIGNvbnN0IGxlYXZlRnJvbUNsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJsZWF2ZUZyb21cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgbGVhdmVBY3RpdmVDbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwibGVhdmVBY3RpdmVcIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgbGVhdmVUb0NsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJsZWF2ZVRvXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGVudGVyVG9DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwiZW50ZXJUb1wiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBpZiAoIXJlbW92ZVRvQ2xhc3Nlcykge1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0YXJnZXRFbGVtZW50LCBlbnRlclRvQ2xhc3Nlcyk7XG4gICAgfVxuICAgIGF3YWl0IHRyYW5zaXRpb24odGFyZ2V0RWxlbWVudCwgbGVhdmVGcm9tQ2xhc3NlcywgbGVhdmVBY3RpdmVDbGFzc2VzLCBsZWF2ZVRvQ2xhc3NlcywgaGlkZGVuQ2xhc3MsIHByZXNlcnZlT3JpZ2luYWxDbGFzcywgcmVtb3ZlVG9DbGFzc2VzKTtcbiAgICBpZiAoISFoaWRkZW5DbGFzcykge1xuICAgICAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGhpZGRlbkNsYXNzKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdG9nZ2xlVHJhbnNpdGlvbihldmVudCkge1xuICAgIGNvbnRyb2xsZXJUb2dnbGVUcmFuc2l0aW9uICYmIGNvbnRyb2xsZXJUb2dnbGVUcmFuc2l0aW9uKGV2ZW50KTtcbiAgICBpZiAoY29udHJvbGxlci50cmFuc2l0aW9uZWQpIHtcbiAgICAgIGxlYXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudGVyKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHRyYW5zaXRpb24oZWxlbWVudCwgaW5pdGlhbENsYXNzZXMsIGFjdGl2ZUNsYXNzZXMsIGVuZENsYXNzZXMsIGhpZGRlbkNsYXNzLCBwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MsIHJlbW92ZUVuZENsYXNzZXMpIHtcbiAgICBjb25zdCBzdGFzaGVkQ2xhc3NlcyA9IFtdO1xuICAgIGlmIChwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MpIHtcbiAgICAgIGluaXRpYWxDbGFzc2VzLmZvckVhY2goKGNscyA9PiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbHMpICYmIGNscyAhPT0gaGlkZGVuQ2xhc3MgJiYgc3Rhc2hlZENsYXNzZXMucHVzaChjbHMpKSk7XG4gICAgICBhY3RpdmVDbGFzc2VzLmZvckVhY2goKGNscyA9PiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbHMpICYmIGNscyAhPT0gaGlkZGVuQ2xhc3MgJiYgc3Rhc2hlZENsYXNzZXMucHVzaChjbHMpKSk7XG4gICAgICBlbmRDbGFzc2VzLmZvckVhY2goKGNscyA9PiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbHMpICYmIGNscyAhPT0gaGlkZGVuQ2xhc3MgJiYgc3Rhc2hlZENsYXNzZXMucHVzaChjbHMpKSk7XG4gICAgfVxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgaW5pdGlhbENsYXNzZXMpO1xuICAgIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgc3Rhc2hlZENsYXNzZXMpO1xuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgYWN0aXZlQ2xhc3Nlcyk7XG4gICAgYXdhaXQgbmV4dEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBpbml0aWFsQ2xhc3Nlcyk7XG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBlbmRDbGFzc2VzKTtcbiAgICBhd2FpdCBhZnRlclRyYW5zaXRpb24oZWxlbWVudCk7XG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBhY3RpdmVDbGFzc2VzKTtcbiAgICBpZiAocmVtb3ZlRW5kQ2xhc3Nlcykge1xuICAgICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBlbmRDbGFzc2VzKTtcbiAgICB9XG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBzdGFzaGVkQ2xhc3Nlcyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdGlhbFN0YXRlKCkge1xuICAgIGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkID0gdHJhbnNpdGlvbmVkO1xuICAgIGlmICh0cmFuc2l0aW9uZWQpIHtcbiAgICAgIGlmICghIWhpZGRlbkNsYXNzKSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShoaWRkZW5DbGFzcyk7XG4gICAgICB9XG4gICAgICBlbnRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISFoaWRkZW5DbGFzcykge1xuICAgICAgICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaGlkZGVuQ2xhc3MpO1xuICAgICAgfVxuICAgICAgbGVhdmUoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhlbGVtZW50LCBjbGFzc2VzKSB7XG4gICAgaWYgKGNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBpZiAoY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlcyk7XG4gICAgfVxuICB9XG4gIGluaXRpYWxTdGF0ZSgpO1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBlbnRlcjogZW50ZXIsXG4gICAgbGVhdmU6IGxlYXZlLFxuICAgIHRvZ2dsZVRyYW5zaXRpb246IHRvZ2dsZVRyYW5zaXRpb25cbiAgfSk7XG4gIHJldHVybiBbIGVudGVyLCBsZWF2ZSwgdG9nZ2xlVHJhbnNpdGlvbiBdO1xufTtcblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUsIG9wdGlvbnMsIGRhdGFzZXQpIHtcbiAgY29uc3QgZGF0YXNldE5hbWUgPSBgdHJhbnNpdGlvbiR7bmFtZVswXS50b1VwcGVyQ2FzZSgpfSR7bmFtZS5zdWJzdHIoMSl9YDtcbiAgY29uc3QgZGF0YXNldEFscGluZU5hbWUgPSBhbHBpbmVOYW1lc1tuYW1lXTtcbiAgY29uc3QgY2xhc3NlcyA9IG9wdGlvbnNbbmFtZV0gfHwgZGF0YXNldFtkYXRhc2V0TmFtZV0gfHwgZGF0YXNldFtkYXRhc2V0QWxwaW5lTmFtZV0gfHwgXCIgXCI7XG4gIHJldHVybiBpc0VtcHR5KGNsYXNzZXMpID8gW10gOiBjbGFzc2VzLnNwbGl0KFwiIFwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWZ0ZXJUcmFuc2l0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlID0+IHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IE51bWJlcihnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdChcIixcIilbMF0ucmVwbGFjZShcInNcIiwgXCJcIikpICogMWUzO1xuICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgIHJlc29sdmUoZHVyYXRpb24pO1xuICAgIH0pLCBkdXJhdGlvbik7XG4gIH0pKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbmV4dEFuaW1hdGlvbkZyYW1lKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUgPT4ge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlc29sdmUpO1xuICAgIH0pKTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBpc0VtcHR5KHN0cikge1xuICByZXR1cm4gc3RyLmxlbmd0aCA9PT0gMCB8fCAhc3RyLnRyaW0oKTtcbn1cblxuY2xhc3MgVHJhbnNpdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy50cmFuc2l0aW9uZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBUcmFuc2l0aW9uQ29udHJvbGxlciBleHRlbmRzIFRyYW5zaXRpb25Db21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIHVzZVRyYW5zaXRpb24odGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgVXNlVmlzaWJpbGl0eSBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmlzVmlzaWJsZSA9ICFkb2N1bWVudC5oaWRkZW47XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgICAgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCk7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLmJlY29tZXNJbnZpc2libGUgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLmNhbGwoXCJpbnZpc2libGVcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJpbnZpc2libGVcIiwge1xuICAgICAgICBpc1Zpc2libGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJpbnZpc2libGVcIiwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5iZWNvbWVzVmlzaWJsZSA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsKFwidmlzaWJsZVwiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcInZpc2libGVcIiwge1xuICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcInZpc2libGVcIiwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIHRoaXMuYmVjb21lc0ludmlzaWJsZShldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJlY29tZXNWaXNpYmxlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyRGlzY29ubmVjdDtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZVZpc2liaWxpdHkgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZVZpc2liaWxpdHkoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgVmlzaWJpbGl0eUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBWaXNpYmlsaXR5Q29udHJvbGxlciBleHRlbmRzIFZpc2liaWxpdHlDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlVmlzaWJpbGl0eSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgVXNlV2luZG93Rm9jdXMgZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5oYXNGb2N1cygpKSB7XG4gICAgICAgIHRoaXMuYmVjb21lc0ZvY3VzZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYmVjb21lc1VuZm9jdXNlZCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlV2luZG93Rm9jdXNDaGFuZ2UoKTtcbiAgICAgIH0pLCB0aGlzLmludGVydmFsRHVyYXRpb24pO1xuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgIH07XG4gICAgdGhpcy5iZWNvbWVzVW5mb2N1c2VkID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmhhc0ZvY3VzID0gZmFsc2U7XG4gICAgICB0aGlzLmNhbGwoXCJ1bmZvY3VzXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwidW5mb2N1c1wiLCB7XG4gICAgICAgIGhhc0ZvY3VzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwidW5mb2N1c1wiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaGFzRm9jdXM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuYmVjb21lc0ZvY3VzZWQgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaGFzRm9jdXMgPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsKFwiZm9jdXNcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJmb2N1c1wiLCB7XG4gICAgICAgIGhhc0ZvY3VzOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJmb2N1c1wiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaGFzRm9jdXM6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5oYW5kbGVXaW5kb3dGb2N1c0NoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5oYXNGb2N1cygpICYmICF0aGlzLmNvbnRyb2xsZXIuaGFzRm9jdXMpIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzRm9jdXNlZChldmVudCk7XG4gICAgICB9IGVsc2UgaWYgKCFkb2N1bWVudC5oYXNGb2N1cygpICYmIHRoaXMuY29udHJvbGxlci5oYXNGb2N1cykge1xuICAgICAgICB0aGlzLmJlY29tZXNVbmZvY3VzZWQoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmludGVydmFsRHVyYXRpb24gPSBvcHRpb25zLmludGVydmFsIHx8IDIwMDtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0O1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlV2luZG93Rm9jdXMgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZVdpbmRvd0ZvY3VzKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFdpbmRvd0ZvY3VzQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmhhc0ZvY3VzID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgV2luZG93Rm9jdXNDb250cm9sbGVyIGV4dGVuZHMgV2luZG93Rm9jdXNDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlV2luZG93Rm9jdXModGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IHVzZVdpbmRvd1Jlc2l6ZSA9IGNvbXBvc2FibGVDb250cm9sbGVyID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBjYWxsYmFjayA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB7aW5uZXJXaWR0aDogaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQ6IGlubmVySGVpZ2h0fSA9IHdpbmRvdztcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCB8fCBJbmZpbml0eSxcbiAgICAgIHdpZHRoOiBpbm5lcldpZHRoIHx8IEluZmluaXR5LFxuICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgfTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJ3aW5kb3dSZXNpemVcIikuY2FsbChjb250cm9sbGVyLCBwYXlsb2FkKTtcbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBjYWxsYmFjayk7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNhbGxiYWNrKTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgV2luZG93UmVzaXplQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIFdpbmRvd1Jlc2l6ZUNvbnRyb2xsZXIgZXh0ZW5kcyBXaW5kb3dSZXNpemVDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlV2luZG93UmVzaXplKHRoaXMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSG90a2V5cygpIHtcbiAgdGhyb3cgXCJbc3RpbXVsdXMtdXNlXSBOb3RpY2U6IFRoZSBpbXBvcnQgZm9yIGB1c2VIb3RrZXlzKClgIGhhcyBiZWVuIG1vdmVkIGZyb20gYHN0aW11bHVzLXVzZWAgdG8gYHN0aW11bHVzLXVzZS9ob3RrZXlzYC4gXFxuUGxlYXNlIGNoYW5nZSB0aGUgaW1wb3J0IGFjY29yZGluZ2x5IGFuZCBhZGQgYGhvdGtleS1qc2AgYXMgYSBkZXBlbmRlbmN5IHRvIHlvdXIgcHJvamVjdC4gXFxuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlOiBodHRwczovL3N0aW11bHVzLXVzZS5naXRodWIuaW8vc3RpbXVsdXMtdXNlLyMvdXNlLWhvdGtleXM/aWQ9aW1wb3J0aW5nLXRoZS1iZWhhdmlvclwiO1xufVxuXG5leHBvcnQgeyBBcHBsaWNhdGlvbkNvbnRyb2xsZXIsIENsaWNrT3V0c2lkZUNvbnRyb2xsZXIsIEhvdmVyQ29udHJvbGxlciwgSWRsZUNvbnRyb2xsZXIsIEludGVyc2VjdGlvbkNvbnRyb2xsZXIsIExhenlMb2FkQ29udHJvbGxlciwgTXV0YXRpb25Db250cm9sbGVyLCBSZXNpemVDb250cm9sbGVyLCBUYXJnZXRNdXRhdGlvbkNvbnRyb2xsZXIsIFRyYW5zaXRpb25Db250cm9sbGVyLCBVc2VIb3ZlciwgVXNlTXV0YXRpb24sIFVzZVRhcmdldE11dGF0aW9uLCBVc2VWaXNpYmlsaXR5LCBVc2VXaW5kb3dGb2N1cywgVmlzaWJpbGl0eUNvbnRyb2xsZXIsIFdpbmRvd0ZvY3VzQ29udHJvbGxlciwgV2luZG93UmVzaXplQ29udHJvbGxlciwgZGVib3VuY2UsIHVzZUFwcGxpY2F0aW9uLCB1c2VDbGlja091dHNpZGUsIHVzZURlYm91bmNlLCB1c2VEaXNwYXRjaCwgdXNlSG90a2V5cywgdXNlSG92ZXIsIHVzZUlkbGUsIHVzZUludGVyc2VjdGlvbiwgdXNlTGF6eUxvYWQsIHVzZU1hdGNoTWVkaWEsIHVzZU1lbW8sIHVzZU1ldGEsIHVzZU11dGF0aW9uLCB1c2VSZXNpemUsIHVzZVRhcmdldE11dGF0aW9uLCB1c2VUaHJvdHRsZSwgdXNlVHJhbnNpdGlvbiwgdXNlVmlzaWJpbGl0eSwgdXNlV2luZG93Rm9jdXMsIHVzZVdpbmRvd1Jlc2l6ZSB9O1xuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9jYWxlbmRhcl9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBmb3JtYXQsIGFkZE1vbnRocywgc3RhcnRPZk1vbnRoLCBlbmRPZk1vbnRoLCBlYWNoRGF5T2ZJbnRlcnZhbCwgaXNTYW1lTW9udGgsIGlzVG9kYXksIGlzU2FtZURheSwgc3RhcnRPZldlZWssIGVuZE9mV2VlayB9IGZyb20gXCJkYXRlLWZuc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1widGl0bGVcIiwgXCJjYWxlbmRhclwiLCBcImRheVRlbXBsYXRlXCIsIFwiaW5wdXRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBmb3JtYXQ6IFN0cmluZyxcbiAgICB2aWV3RGF0ZTogU3RyaW5nLFxuICAgIHNlbGVjdGVkRGF0ZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICBpbnB1dElkOiBTdHJpbmdcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy52aWV3RGF0ZSA9IG5ldyBEYXRlKHRoaXMudmlld0RhdGVWYWx1ZSlcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlVmFsdWUgPyBuZXcgRGF0ZSh0aGlzLnNlbGVjdGVkRGF0ZVZhbHVlKSA6IG51bGxcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKClcbiAgfVxuXG4gIHJlbmRlckNhbGVuZGFyKCkge1xuICAgIHRoaXMudGl0bGVUYXJnZXQudGV4dENvbnRlbnQgPSBmb3JtYXQodGhpcy52aWV3RGF0ZSwgXCJNTU1NIHl5eXlcIilcbiAgICBjb25zdCBzdGFydCA9IHN0YXJ0T2ZXZWVrKHN0YXJ0T2ZNb250aCh0aGlzLnZpZXdEYXRlKSlcbiAgICBjb25zdCBlbmQgPSBlbmRPZldlZWsoZW5kT2ZNb250aCh0aGlzLnZpZXdEYXRlKSlcbiAgICBjb25zdCBkYXlzID0gZWFjaERheU9mSW50ZXJ2YWwoeyBzdGFydCwgZW5kIH0pXG5cbiAgICBjb25zdCBjYWxlbmRhckNvbnRhaW5lciA9IHRoaXMuY2FsZW5kYXJUYXJnZXRcbiAgICAvLyBDbGVhciBleGlzdGluZyBkYXkgZWxlbWVudHMsIGJ1dCBrZWVwIHRoZSB3ZWVrZGF5IGhlYWRlcnNcbiAgICBjb25zdCB3ZWVrZGF5SGVhZGVycyA9IGNhbGVuZGFyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdjpudGgtY2hpbGQoLW4rNyknKVxuICAgIGNhbGVuZGFyQ29udGFpbmVyLmlubmVySFRNTCA9ICcnXG4gICAgd2Vla2RheUhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4gY2FsZW5kYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKSlcblxuICAgIGRheXMuZm9yRWFjaChkYXkgPT4ge1xuICAgICAgY29uc3QgZGF5RWxlbWVudCA9IHRoaXMuY3JlYXRlRGF5RWxlbWVudChkYXkpXG4gICAgICBjYWxlbmRhckNvbnRhaW5lci5hcHBlbmRDaGlsZChkYXlFbGVtZW50KVxuICAgIH0pXG5cbiAgICB0aGlzLnVwZGF0ZUlucHV0KClcbiAgfVxuXG4gIGNyZWF0ZURheUVsZW1lbnQoZGF5KSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLmRheVRlbXBsYXRlVGFyZ2V0LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXG4gICAgY29uc3QgYnV0dG9uID0gdGVtcGxhdGUucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKVxuICAgIFxuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGZvcm1hdChkYXksIFwiZFwiKVxuICAgIGJ1dHRvbi5kYXRhc2V0LmRheSA9IGRheS50b0lTT1N0cmluZygpXG5cbiAgICBsZXQgYnV0dG9uQ2xhc3MgPSBcImhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCJcbiAgICBcbiAgICBpZiAoIWlzU2FtZU1vbnRoKGRheSwgdGhpcy52aWV3RGF0ZSkpIHtcbiAgICAgIGJ1dHRvbkNsYXNzICs9IFwiIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgfSBlbHNlIGlmIChpc1RvZGF5KGRheSkpIHtcbiAgICAgIGJ1dHRvbkNsYXNzICs9IFwiIGJnLWFjY2VudCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCJcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zZWxlY3RlZERhdGUgJiYgaXNTYW1lRGF5KGRheSwgdGhpcy5zZWxlY3RlZERhdGUpKSB7XG4gICAgICBidXR0b25DbGFzcyArPSBcIiBiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kXCJcbiAgICB9XG5cbiAgICBidXR0b24uY2xhc3NOYW1lID0gYnV0dG9uLmNsYXNzTmFtZS5yZXBsYWNlKFwie3tidXR0b25DbGFzc319XCIsIGJ1dHRvbkNsYXNzKVxuICAgIFxuICAgIHJldHVybiB0ZW1wbGF0ZVxuICB9XG5cbiAgcHJldk1vbnRoKCkge1xuICAgIHRoaXMudmlld0RhdGUgPSBhZGRNb250aHModGhpcy52aWV3RGF0ZSwgLTEpXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpXG4gIH1cblxuICBuZXh0TW9udGgoKSB7XG4gICAgdGhpcy52aWV3RGF0ZSA9IGFkZE1vbnRocyh0aGlzLnZpZXdEYXRlLCAxKVxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKVxuICB9XG5cbiAgc2VsZWN0RGF5KGV2ZW50KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWREYXkgPSBuZXcgRGF0ZShldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZGF5KVxuICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gc2VsZWN0ZWREYXlcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVZhbHVlID0gc2VsZWN0ZWREYXkudG9JU09TdHJpbmcoKVxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKVxuICB9XG5cbiAgdXBkYXRlSW5wdXQoKSB7XG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pbnB1dElkVmFsdWUpXG4gICAgaWYgKGlucHV0RWxlbWVudCAmJiB0aGlzLnNlbGVjdGVkRGF0ZSkge1xuICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gZm9ybWF0KHRoaXMuc2VsZWN0ZWREYXRlLCB0aGlzLmZvcm1hdFZhbHVlKVxuICAgIH1cbiAgfVxufSIsICIvKipcbiAqIEBuYW1lIHRvRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXRzIGNsb25lLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciwgaXQgaXMgdHJlYXRlZCBhcyBhIHRpbWVzdGFtcC5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgbm9uZSBvZiB0aGUgYWJvdmUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIEludmFsaWQgRGF0ZS5cbiAqXG4gKiAqKk5vdGUqKjogKmFsbCogRGF0ZSBhcmd1bWVudHMgcGFzc2VkIHRvIGFueSAqZGF0ZS1mbnMqIGZ1bmN0aW9uIGlzIHByb2Nlc3NlZCBieSBgdG9EYXRlYC5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gYXJndW1lbnQgLSBUaGUgdmFsdWUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gIGNvbnN0IGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7XG5cbiAgLy8gQ2xvbmUgdGhlIGRhdGVcbiAgaWYgKFxuICAgIGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICh0eXBlb2YgYXJndW1lbnQgPT09IFwib2JqZWN0XCIgJiYgYXJnU3RyID09PSBcIltvYmplY3QgRGF0ZV1cIilcbiAgKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBhcmd1bWVudC5jb25zdHJ1Y3RvcigrYXJndW1lbnQpO1xuICB9IGVsc2UgaWYgKFxuICAgIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJudW1iZXJcIiB8fFxuICAgIGFyZ1N0ciA9PT0gXCJbb2JqZWN0IE51bWJlcl1cIiB8fFxuICAgIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgIGFyZ1N0ciA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIlxuICApIHtcbiAgICAvLyBUT0RPOiBDYW4gd2UgZ2V0IHJpZCBvZiBhcz9cbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIC8vIFRPRE86IENhbiB3ZSBnZXQgcmlkIG9mIGFzP1xuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgdG9EYXRlO1xuIiwgIi8qKlxuICogQG5hbWUgY29uc3RydWN0RnJvbVxuICogQGNhdGVnb3J5IEdlbmVyaWMgSGVscGVyc1xuICogQHN1bW1hcnkgQ29uc3RydWN0cyBhIGRhdGUgdXNpbmcgdGhlIHJlZmVyZW5jZSBkYXRlIGFuZCB0aGUgdmFsdWVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBmdW5jdGlvbiBjb25zdHJ1Y3RzIGEgbmV3IGRhdGUgdXNpbmcgdGhlIGNvbnN0cnVjdG9yIGZyb20gdGhlIHJlZmVyZW5jZVxuICogZGF0ZSBhbmQgdGhlIGdpdmVuIHZhbHVlLiBJdCBoZWxwcyB0byBidWlsZCBnZW5lcmljIGZ1bmN0aW9ucyB0aGF0IGFjY2VwdFxuICogZGF0ZSBleHRlbnNpb25zLlxuICpcbiAqIEl0IGRlZmF1bHRzIHRvIGBEYXRlYCBpZiB0aGUgcGFzc2VkIHJlZmVyZW5jZSBkYXRlIGlzIGEgbnVtYmVyIG9yIGEgc3RyaW5nLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIHJlZmVyZW5jZSBkYXRlIHRvIHRha2UgY29uc3RydWN0b3IgZnJvbVxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNyZWF0ZSB0aGUgZGF0ZVxuICpcbiAqIEByZXR1cm5zIERhdGUgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlIGdpdmVuIGRhdGUgYW5kIHZhbHVlXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tICdkYXRlLWZucydcbiAqXG4gKiAvLyBBIGZ1bmN0aW9uIHRoYXQgY2xvbmVzIGEgZGF0ZSBwcmVzZXJ2aW5nIHRoZSBvcmlnaW5hbCB0eXBlXG4gKiBmdW5jdGlvbiBjbG9uZURhdGU8RGF0ZVR5cGUgZXh0ZW5kcyBEYXRlKGRhdGU6IERhdGVUeXBlKTogRGF0ZVR5cGUge1xuICogICByZXR1cm4gY29uc3RydWN0RnJvbShcbiAqICAgICBkYXRlLCAvLyBVc2UgY29udHJ1c3RvciBmcm9tIHRoZSBnaXZlbiBkYXRlXG4gKiAgICAgZGF0ZS5nZXRUaW1lKCkgLy8gVXNlIHRoZSBkYXRlIHZhbHVlIHRvIGNyZWF0ZSBhIG5ldyBkYXRlXG4gKiAgIClcbiAqIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdEZyb20oZGF0ZSwgdmFsdWUpIHtcbiAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIG5ldyBkYXRlLmNvbnN0cnVjdG9yKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgY29uc3RydWN0RnJvbTtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBhZGRNb250aHNcbiAqIEBjYXRlZ29yeSBNb250aCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgbW9udGhzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQWRkIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIG1vbnRocyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGJlIGNoYW5nZWRcbiAqIEBwYXJhbSBhbW91bnQgLSBUaGUgYW1vdW50IG9mIG1vbnRocyB0byBiZSBhZGRlZC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3IGRhdGUgd2l0aCB0aGUgbW9udGhzIGFkZGVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFkZCA1IG1vbnRocyB0byAxIFNlcHRlbWJlciAyMDE0OlxuICogY29uc3QgcmVzdWx0ID0gYWRkTW9udGhzKG5ldyBEYXRlKDIwMTQsIDgsIDEpLCA1KVxuICogLy89PiBTdW4gRmViIDAxIDIwMTUgMDA6MDA6MDBcbiAqXG4gKiAvLyBBZGQgb25lIG1vbnRoIHRvIDMwIEphbnVhcnkgMjAyMzpcbiAqIGNvbnN0IHJlc3VsdCA9IGFkZE1vbnRocyhuZXcgRGF0ZSgyMDIzLCAwLCAzMCksIDEpXG4gKiAvLz0+IFR1ZSBGZWIgMjggMjAyMyAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkTW9udGhzKGRhdGUsIGFtb3VudCkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgaWYgKGlzTmFOKGFtb3VudCkpIHJldHVybiBjb25zdHJ1Y3RGcm9tKGRhdGUsIE5hTik7XG4gIGlmICghYW1vdW50KSB7XG4gICAgLy8gSWYgMCBtb250aHMsIG5vLW9wIHRvIGF2b2lkIGNoYW5naW5nIHRpbWVzIGluIHRoZSBob3VyIGJlZm9yZSBlbmQgb2YgRFNUXG4gICAgcmV0dXJuIF9kYXRlO1xuICB9XG4gIGNvbnN0IGRheU9mTW9udGggPSBfZGF0ZS5nZXREYXRlKCk7XG5cbiAgLy8gVGhlIEpTIERhdGUgb2JqZWN0IHN1cHBvcnRzIGRhdGUgbWF0aCBieSBhY2NlcHRpbmcgb3V0LW9mLWJvdW5kcyB2YWx1ZXMgZm9yXG4gIC8vIG1vbnRoLCBkYXksIGV0Yy4gRm9yIGV4YW1wbGUsIG5ldyBEYXRlKDIwMjAsIDAsIDApIHJldHVybnMgMzEgRGVjIDIwMTkgYW5kXG4gIC8vIG5ldyBEYXRlKDIwMjAsIDEzLCAxKSByZXR1cm5zIDEgRmViIDIwMjEuICBUaGlzIGlzICphbG1vc3QqIHRoZSBiZWhhdmlvciB3ZVxuICAvLyB3YW50IGV4Y2VwdCB0aGF0IGRhdGVzIHdpbGwgd3JhcCBhcm91bmQgdGhlIGVuZCBvZiBhIG1vbnRoLCBtZWFuaW5nIHRoYXRcbiAgLy8gbmV3IERhdGUoMjAyMCwgMTMsIDMxKSB3aWxsIHJldHVybiAzIE1hciAyMDIxIG5vdCAyOCBGZWIgMjAyMSBhcyBkZXNpcmVkLiBTb1xuICAvLyB3ZSdsbCBkZWZhdWx0IHRvIHRoZSBlbmQgb2YgdGhlIGRlc2lyZWQgbW9udGggYnkgYWRkaW5nIDEgdG8gdGhlIGRlc2lyZWRcbiAgLy8gbW9udGggYW5kIHVzaW5nIGEgZGF0ZSBvZiAwIHRvIGJhY2sgdXAgb25lIGRheSB0byB0aGUgZW5kIG9mIHRoZSBkZXNpcmVkXG4gIC8vIG1vbnRoLlxuICBjb25zdCBlbmRPZkRlc2lyZWRNb250aCA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgX2RhdGUuZ2V0VGltZSgpKTtcbiAgZW5kT2ZEZXNpcmVkTW9udGguc2V0TW9udGgoX2RhdGUuZ2V0TW9udGgoKSArIGFtb3VudCArIDEsIDApO1xuICBjb25zdCBkYXlzSW5Nb250aCA9IGVuZE9mRGVzaXJlZE1vbnRoLmdldERhdGUoKTtcbiAgaWYgKGRheU9mTW9udGggPj0gZGF5c0luTW9udGgpIHtcbiAgICAvLyBJZiB3ZSdyZSBhbHJlYWR5IGF0IHRoZSBlbmQgb2YgdGhlIG1vbnRoLCB0aGVuIHRoaXMgaXMgdGhlIGNvcnJlY3QgZGF0ZVxuICAgIC8vIGFuZCB3ZSdyZSBkb25lLlxuICAgIHJldHVybiBlbmRPZkRlc2lyZWRNb250aDtcbiAgfSBlbHNlIHtcbiAgICAvLyBPdGhlcndpc2UsIHdlIG5vdyBrbm93IHRoYXQgc2V0dGluZyB0aGUgb3JpZ2luYWwgZGF5LW9mLW1vbnRoIHZhbHVlIHdvbid0XG4gICAgLy8gY2F1c2UgYW4gb3ZlcmZsb3csIHNvIHNldCB0aGUgZGVzaXJlZCBkYXktb2YtbW9udGguIE5vdGUgdGhhdCB3ZSBjYW4ndFxuICAgIC8vIGp1c3Qgc2V0IHRoZSBkYXRlIG9mIGBlbmRPZkRlc2lyZWRNb250aGAgYmVjYXVzZSB0aGF0IG9iamVjdCBtYXkgaGF2ZSBoYWRcbiAgICAvLyBpdHMgdGltZSBjaGFuZ2VkIGluIHRoZSB1bnVzdWFsIGNhc2Ugd2hlcmUgd2hlcmUgYSBEU1QgdHJhbnNpdGlvbiB3YXMgb25cbiAgICAvLyB0aGUgbGFzdCBkYXkgb2YgdGhlIG1vbnRoIGFuZCBpdHMgbG9jYWwgdGltZSB3YXMgaW4gdGhlIGhvdXIgc2tpcHBlZCBvclxuICAgIC8vIHJlcGVhdGVkIG5leHQgdG8gYSBEU1QgdHJhbnNpdGlvbi4gIFNvIHdlIHVzZSBgZGF0ZWAgaW5zdGVhZCB3aGljaCBpc1xuICAgIC8vIGd1YXJhbnRlZWQgdG8gc3RpbGwgaGF2ZSB0aGUgb3JpZ2luYWwgdGltZS5cbiAgICBfZGF0ZS5zZXRGdWxsWWVhcihcbiAgICAgIGVuZE9mRGVzaXJlZE1vbnRoLmdldEZ1bGxZZWFyKCksXG4gICAgICBlbmRPZkRlc2lyZWRNb250aC5nZXRNb250aCgpLFxuICAgICAgZGF5T2ZNb250aCxcbiAgICApO1xuICAgIHJldHVybiBfZGF0ZTtcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGFkZE1vbnRocztcbiIsICIvKipcbiAqIEBtb2R1bGUgY29uc3RhbnRzXG4gKiBAc3VtbWFyeSBVc2VmdWwgY29uc3RhbnRzXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbGxlY3Rpb24gb2YgdXNlZnVsIGRhdGUgY29uc3RhbnRzLlxuICpcbiAqIFRoZSBjb25zdGFudHMgY291bGQgYmUgaW1wb3J0ZWQgZnJvbSBgZGF0ZS1mbnMvY29uc3RhbnRzYDpcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgbWF4VGltZSwgbWluVGltZSB9IGZyb20gXCIuL2NvbnN0YW50cy9kYXRlLWZucy9jb25zdGFudHNcIjtcbiAqXG4gKiBmdW5jdGlvbiBpc0FsbG93ZWRUaW1lKHRpbWUpIHtcbiAqICAgcmV0dXJuIHRpbWUgPD0gbWF4VGltZSAmJiB0aW1lID49IG1pblRpbWU7XG4gKiB9XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgZGF5c0luV2Vla1xuICogQHN1bW1hcnkgRGF5cyBpbiAxIHdlZWsuXG4gKi9cbmV4cG9ydCBjb25zdCBkYXlzSW5XZWVrID0gNztcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIGRheXNJblllYXJcbiAqIEBzdW1tYXJ5IERheXMgaW4gMSB5ZWFyLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSG93IG1hbnkgZGF5cyBpbiBhIHllYXIuXG4gKlxuICogT25lIHllYXJzIGVxdWFscyAzNjUuMjQyNSBkYXlzIGFjY29yZGluZyB0byB0aGUgZm9ybXVsYTpcbiAqXG4gKiA+IExlYXAgeWVhciBvY2N1cmVzIGV2ZXJ5IDQgeWVhcnMsIGV4Y2VwdCBmb3IgeWVhcnMgdGhhdCBhcmUgZGl2aXNhYmxlIGJ5IDEwMCBhbmQgbm90IGRpdmlzYWJsZSBieSA0MDAuXG4gKiA+IDEgbWVhbiB5ZWFyID0gKDM2NSsxLzQtMS8xMDArMS80MDApIGRheXMgPSAzNjUuMjQyNSBkYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBkYXlzSW5ZZWFyID0gMzY1LjI0MjU7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtYXhUaW1lXG4gKiBAc3VtbWFyeSBNYXhpbXVtIGFsbG93ZWQgdGltZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbWF4VGltZSB9IGZyb20gXCIuL2NvbnN0YW50cy9kYXRlLWZucy9jb25zdGFudHNcIjtcbiAqXG4gKiBjb25zdCBpc1ZhbGlkID0gODY0MDAwMDAwMDAwMDAwMSA8PSBtYXhUaW1lO1xuICogLy89PiBmYWxzZVxuICpcbiAqIG5ldyBEYXRlKDg2NDAwMDAwMDAwMDAwMDEpO1xuICogLy89PiBJbnZhbGlkIERhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IG1heFRpbWUgPSBNYXRoLnBvdygxMCwgOCkgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWluVGltZVxuICogQHN1bW1hcnkgTWluaW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG1pblRpbWUgfSBmcm9tIFwiLi9jb25zdGFudHMvZGF0ZS1mbnMvY29uc3RhbnRzXCI7XG4gKlxuICogY29uc3QgaXNWYWxpZCA9IC04NjQwMDAwMDAwMDAwMDAxID49IG1pblRpbWU7XG4gKiAvLz0+IGZhbHNlXG4gKlxuICogbmV3IERhdGUoLTg2NDAwMDAwMDAwMDAwMDEpXG4gKiAvLz0+IEludmFsaWQgRGF0ZVxuICovXG5leHBvcnQgY29uc3QgbWluVGltZSA9IC1tYXhUaW1lO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWlsbGlzZWNvbmRzSW5XZWVrXG4gKiBAc3VtbWFyeSBNaWxsaXNlY29uZHMgaW4gMSB3ZWVrLlxuICovXG5leHBvcnQgY29uc3QgbWlsbGlzZWNvbmRzSW5XZWVrID0gNjA0ODAwMDAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWlsbGlzZWNvbmRzSW5EYXlcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIGRheS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luRGF5ID0gODY0MDAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbk1pbnV0ZVxuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgbWludXRlXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJbk1pbnV0ZSA9IDYwMDAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWlsbGlzZWNvbmRzSW5Ib3VyXG4gKiBAc3VtbWFyeSBNaWxsaXNlY29uZHMgaW4gMSBob3VyXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJbkhvdXIgPSAzNjAwMDAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWlsbGlzZWNvbmRzSW5TZWNvbmRcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIHNlY29uZFxuICovXG5leHBvcnQgY29uc3QgbWlsbGlzZWNvbmRzSW5TZWNvbmQgPSAxMDAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWludXRlc0luWWVhclxuICogQHN1bW1hcnkgTWludXRlcyBpbiAxIHllYXIuXG4gKi9cbmV4cG9ydCBjb25zdCBtaW51dGVzSW5ZZWFyID0gNTI1NjAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWludXRlc0luTW9udGhcbiAqIEBzdW1tYXJ5IE1pbnV0ZXMgaW4gMSBtb250aC5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJbk1vbnRoID0gNDMyMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5EYXlcbiAqIEBzdW1tYXJ5IE1pbnV0ZXMgaW4gMSBkYXkuXG4gKi9cbmV4cG9ydCBjb25zdCBtaW51dGVzSW5EYXkgPSAxNDQwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWludXRlc0luSG91clxuICogQHN1bW1hcnkgTWludXRlcyBpbiAxIGhvdXIuXG4gKi9cbmV4cG9ydCBjb25zdCBtaW51dGVzSW5Ib3VyID0gNjA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtb250aHNJblF1YXJ0ZXJcbiAqIEBzdW1tYXJ5IE1vbnRocyBpbiAxIHF1YXJ0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBtb250aHNJblF1YXJ0ZXIgPSAzO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbW9udGhzSW5ZZWFyXG4gKiBAc3VtbWFyeSBNb250aHMgaW4gMSB5ZWFyLlxuICovXG5leHBvcnQgY29uc3QgbW9udGhzSW5ZZWFyID0gMTI7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBxdWFydGVyc0luWWVhclxuICogQHN1bW1hcnkgUXVhcnRlcnMgaW4gMSB5ZWFyXG4gKi9cbmV4cG9ydCBjb25zdCBxdWFydGVyc0luWWVhciA9IDQ7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5Ib3VyXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgaG91ci5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJbkhvdXIgPSAzNjAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luTWludXRlXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgbWludXRlLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luTWludXRlID0gNjA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5EYXlcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBkYXkuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5EYXkgPSBzZWNvbmRzSW5Ib3VyICogMjQ7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5XZWVrXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgd2Vlay5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJbldlZWsgPSBzZWNvbmRzSW5EYXkgKiA3O1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luWWVhclxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIHllYXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5ZZWFyID0gc2Vjb25kc0luRGF5ICogZGF5c0luWWVhcjtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbk1vbnRoXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgbW9udGhcbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJbk1vbnRoID0gc2Vjb25kc0luWWVhciAvIDEyO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luUXVhcnRlclxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIHF1YXJ0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5RdWFydGVyID0gc2Vjb25kc0luTW9udGggKiAzO1xuIiwgImxldCBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE9wdGlvbnMoKSB7XG4gIHJldHVybiBkZWZhdWx0T3B0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRPcHRpb25zKG5ld09wdGlvbnMpIHtcbiAgZGVmYXVsdE9wdGlvbnMgPSBuZXdPcHRpb25zO1xufVxuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIHN0YXJ0T2ZXZWVrfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZldlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgd2Vla1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gU3VuIEF1ZyAzMSAyMDE0IDAwOjAwOjAwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRoZSB3ZWVrIHN0YXJ0cyBvbiBNb25kYXksIHRoZSBzdGFydCBvZiB0aGUgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCksIHsgd2Vla1N0YXJ0c09uOiAxIH0pXG4gKiAvLz0+IE1vbiBTZXAgMDEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZldlZWsoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IHdlZWtTdGFydHNPbiA9XG4gICAgb3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIDA7XG5cbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IGRheSA9IF9kYXRlLmdldERheSgpO1xuICBjb25zdCBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IDcgOiAwKSArIGRheSAtIHdlZWtTdGFydHNPbjtcblxuICBfZGF0ZS5zZXREYXRlKF9kYXRlLmdldERhdGUoKSAtIGRpZmYpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZXZWVrO1xuIiwgImltcG9ydCB7IHN0YXJ0T2ZXZWVrIH0gZnJvbSBcIi4vc3RhcnRPZldlZWsubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZklTT1dlZWtcbiAqIEBjYXRlZ29yeSBJU08gV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYW4gSVNPIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBJU08gd2Vlay1udW1iZXJpbmcgeWVhcjogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhbiBJU08gd2Vla1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYW4gSVNPIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mSVNPV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZJU09XZWVrKGRhdGUpIHtcbiAgcmV0dXJuIHN0YXJ0T2ZXZWVrKGRhdGUsIHsgd2Vla1N0YXJ0c09uOiAxIH0pO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZJU09XZWVrO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZklTT1dlZWsgfSBmcm9tIFwiLi9zdGFydE9mSVNPV2Vlay5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBnZXRJU09XZWVrWWVhclxuICogQGNhdGVnb3J5IElTTyBXZWVrLU51bWJlcmluZyBZZWFyIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyIG9mIHRoZSBnaXZlbiBkYXRlLFxuICogd2hpY2ggYWx3YXlzIHN0YXJ0cyAzIGRheXMgYmVmb3JlIHRoZSB5ZWFyJ3MgZmlyc3QgVGh1cnNkYXkuXG4gKlxuICogSVNPIHdlZWstbnVtYmVyaW5nIHllYXI6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGdpdmVuIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgSVNPIHdlZWstbnVtYmVyaW5nIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggSVNPLXdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMiBKYW51YXJ5IDIwMDU/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRJU09XZWVrWWVhcihuZXcgRGF0ZSgyMDA1LCAwLCAyKSlcbiAqIC8vPT4gMjAwNFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SVNPV2Vla1llYXIoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgeWVhciA9IF9kYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgY29uc3QgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhciA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIuc2V0RnVsbFllYXIoeWVhciArIDEsIDAsIDQpO1xuICBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mTmV4dFllYXIgPSBzdGFydE9mSVNPV2Vlayhmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyKTtcblxuICBjb25zdCBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZm91cnRoT2ZKYW51YXJ5T2ZUaGlzWWVhci5zZXRGdWxsWWVhcih5ZWFyLCAwLCA0KTtcbiAgZm91cnRoT2ZKYW51YXJ5T2ZUaGlzWWVhci5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3Qgc3RhcnRPZlRoaXNZZWFyID0gc3RhcnRPZklTT1dlZWsoZm91cnRoT2ZKYW51YXJ5T2ZUaGlzWWVhcik7XG5cbiAgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mTmV4dFllYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXIgKyAxO1xuICB9IGVsc2UgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mVGhpc1llYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHllYXIgLSAxO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0SVNPV2Vla1llYXI7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZEYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIGRheVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBkYXkgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZkRheShkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZEYXk7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4uL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBHb29nbGUgQ2hyb21lIGFzIG9mIDY3LjAuMzM5Ni44NyBpbnRyb2R1Y2VkIHRpbWV6b25lcyB3aXRoIG9mZnNldCB0aGF0IGluY2x1ZGVzIHNlY29uZHMuXG4gKiBUaGV5IHVzdWFsbHkgYXBwZWFyIGZvciBkYXRlcyB0aGF0IGRlbm90ZSB0aW1lIGJlZm9yZSB0aGUgdGltZXpvbmVzIHdlcmUgaW50cm9kdWNlZFxuICogKGUuZy4gZm9yICdFdXJvcGUvUHJhZ3VlJyB0aW1lem9uZSB0aGUgb2Zmc2V0IGlzIEdNVCswMDo1Nzo0NCBiZWZvcmUgMSBPY3RvYmVyIDE4OTFcbiAqIGFuZCBHTVQrMDE6MDA6MDAgYWZ0ZXIgdGhhdCBkYXRlKVxuICpcbiAqIERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyB0aGUgb2Zmc2V0IGluIG1pbnV0ZXMgYW5kIHdvdWxkIHJldHVybiA1NyBmb3IgdGhlIGV4YW1wbGUgYWJvdmUsXG4gKiB3aGljaCB3b3VsZCBsZWFkIHRvIGluY29ycmVjdCBjYWxjdWxhdGlvbnMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGFrZXMgc2Vjb25kcyBpbiBhY2NvdW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCB1dGNEYXRlID0gbmV3IERhdGUoXG4gICAgRGF0ZS5VVEMoXG4gICAgICBfZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgX2RhdGUuZ2V0TW9udGgoKSxcbiAgICAgIF9kYXRlLmdldERhdGUoKSxcbiAgICAgIF9kYXRlLmdldEhvdXJzKCksXG4gICAgICBfZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICBfZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICBfZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSxcbiAgICApLFxuICApO1xuICB1dGNEYXRlLnNldFVUQ0Z1bGxZZWFyKF9kYXRlLmdldEZ1bGxZZWFyKCkpO1xuICByZXR1cm4gK2RhdGUgLSArdXRjRGF0ZTtcbn1cbiIsICJpbXBvcnQgeyBtaWxsaXNlY29uZHNJbkRheSB9IGZyb20gXCIuL2NvbnN0YW50cy5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZEYXkgfSBmcm9tIFwiLi9zdGFydE9mRGF5Lm1qc1wiO1xuaW1wb3J0IHsgZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyB9IGZyb20gXCIuL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXNcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuIFRoaXMgbWVhbnMgdGhhdCB0aGUgdGltZXMgYXJlIHJlbW92ZWRcbiAqIGZyb20gdGhlIGRhdGVzIGFuZCB0aGVuIHRoZSBkaWZmZXJlbmNlIGluIGRheXMgaXMgY2FsY3VsYXRlZC5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZUxlZnQgLSBUaGUgbGF0ZXIgZGF0ZVxuICogQHBhcmFtIGRhdGVSaWdodCAtIFRoZSBlYXJsaWVyIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXNcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgY2FsZW5kYXIgZGF5cyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTEgMjM6MDA6MDAgYW5kIDIgSnVseSAyMDEyIDAwOjAwOjAwP1xuICogY29uc3QgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDEyLCA2LCAyLCAwLCAwKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDApXG4gKiApXG4gKiAvLz0+IDM2NlxuICogLy8gSG93IG1hbnkgY2FsZW5kYXIgZGF5cyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTEgMjM6NTk6MDAgYW5kIDMgSnVseSAyMDExIDAwOjAxOjAwP1xuICogY29uc3QgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAzLCAwLCAxKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDU5KVxuICogKVxuICogLy89PiAxXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoZGF0ZUxlZnQsIGRhdGVSaWdodCkge1xuICBjb25zdCBzdGFydE9mRGF5TGVmdCA9IHN0YXJ0T2ZEYXkoZGF0ZUxlZnQpO1xuICBjb25zdCBzdGFydE9mRGF5UmlnaHQgPSBzdGFydE9mRGF5KGRhdGVSaWdodCk7XG5cbiAgY29uc3QgdGltZXN0YW1wTGVmdCA9XG4gICAgK3N0YXJ0T2ZEYXlMZWZ0IC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhzdGFydE9mRGF5TGVmdCk7XG4gIGNvbnN0IHRpbWVzdGFtcFJpZ2h0ID1cbiAgICArc3RhcnRPZkRheVJpZ2h0IC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhzdGFydE9mRGF5UmlnaHQpO1xuXG4gIC8vIFJvdW5kIHRoZSBudW1iZXIgb2YgZGF5cyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIGJlY2F1c2UgdGhlIG51bWJlciBvZlxuICAvLyBtaWxsaXNlY29uZHMgaW4gYSBkYXkgaXMgbm90IGNvbnN0YW50IChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSB3ZWVrIG9mXG4gIC8vIHRoZSBkYXlsaWdodCBzYXZpbmcgdGltZSBjbG9jayBzaGlmdCkuXG4gIHJldHVybiBNYXRoLnJvdW5kKCh0aW1lc3RhbXBMZWZ0IC0gdGltZXN0YW1wUmlnaHQpIC8gbWlsbGlzZWNvbmRzSW5EYXkpO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cztcbiIsICJpbXBvcnQgeyBnZXRJU09XZWVrWWVhciB9IGZyb20gXCIuL2dldElTT1dlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZklTT1dlZWsgfSBmcm9tIFwiLi9zdGFydE9mSVNPV2Vlay5tanNcIjtcbmltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZJU09XZWVrWWVhclxuICogQGNhdGVnb3J5IElTTyBXZWVrLU51bWJlcmluZyBZZWFyIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYW4gSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhbiBJU08gd2Vlay1udW1iZXJpbmcgeWVhcixcbiAqIHdoaWNoIGFsd2F5cyBzdGFydHMgMyBkYXlzIGJlZm9yZSB0aGUgeWVhcidzIGZpcnN0IFRodXJzZGF5LlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBJU08gd2Vlay1udW1iZXJpbmcgeWVhcjogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhbiBJU08gd2Vlay1udW1iZXJpbmcgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYW4gSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgZm9yIDIgSnVseSAyMDA1OlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZklTT1dlZWtZZWFyKG5ldyBEYXRlKDIwMDUsIDYsIDIpKVxuICogLy89PiBNb24gSmFuIDAzIDIwMDUgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZJU09XZWVrWWVhcihkYXRlKSB7XG4gIGNvbnN0IHllYXIgPSBnZXRJU09XZWVrWWVhcihkYXRlKTtcbiAgY29uc3QgZm91cnRoT2ZKYW51YXJ5ID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZm91cnRoT2ZKYW51YXJ5LnNldEZ1bGxZZWFyKHllYXIsIDAsIDQpO1xuICBmb3VydGhPZkphbnVhcnkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBzdGFydE9mSVNPV2Vlayhmb3VydGhPZkphbnVhcnkpO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZJU09XZWVrWWVhcjtcbiIsICJpbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBjb25zdHJ1Y3ROb3dcbiAqIEBjYXRlZ29yeSBHZW5lcmljIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnN0cnVjdHMgYSBuZXcgY3VycmVudCBkYXRlIHVzaW5nIHRoZSBwYXNzZWQgdmFsdWUgY29uc3RydWN0b3IuXG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZ1bmN0aW9uIGNvbnN0cnVjdHMgYSBuZXcgY3VycmVudCBkYXRlIHVzaW5nIHRoZSBjb25zdHJ1Y3RvciBmcm9tXG4gKiB0aGUgcmVmZXJlbmNlIGRhdGUuIEl0IGhlbHBzIHRvIGJ1aWxkIGdlbmVyaWMgZnVuY3Rpb25zIHRoYXQgYWNjZXB0IGRhdGVcbiAqIGV4dGVuc2lvbnMgYW5kIHVzZSB0aGUgY3VycmVudCBkYXRlLlxuICpcbiAqIEl0IGRlZmF1bHRzIHRvIGBEYXRlYCBpZiB0aGUgcGFzc2VkIHJlZmVyZW5jZSBkYXRlIGlzIGEgbnVtYmVyIG9yIGEgc3RyaW5nLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIHJlZmVyZW5jZSBkYXRlIHRvIHRha2UgY29uc3RydWN0b3IgZnJvbVxuICpcbiAqIEByZXR1cm5zIEN1cnJlbnQgZGF0ZSBpbml0aWFsaXplZCB1c2luZyB0aGUgZ2l2ZW4gZGF0ZSBjb25zdHJ1Y3RvclxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBjb25zdHJ1Y3ROb3csIGlzU2FtZURheSB9IGZyb20gJ2RhdGUtZm5zJ1xuICpcbiAqIGZ1bmN0aW9uIGlzVG9kYXk8RGF0ZVR5cGUgZXh0ZW5kcyBEYXRlPihcbiAqICAgZGF0ZTogRGF0ZVR5cGUgfCBudW1iZXIgfCBzdHJpbmcsXG4gKiApOiBib29sZWFuIHtcbiAqICAgLy8gSWYgd2Ugd2VyZSB0byB1c2UgYG5ldyBEYXRlKClgIGRpcmVjdGx5LCB0aGUgZnVuY3Rpb24gd291bGQgIGJlaGF2ZVxuICogICAvLyBkaWZmZXJlbnRseSBpbiBkaWZmZXJlbnQgdGltZXpvbmVzIGFuZCByZXR1cm4gZmFsc2UgZm9yIHRoZSBzYW1lIGRhdGUuXG4gKiAgIHJldHVybiBpc1NhbWVEYXkoZGF0ZSwgY29uc3RydWN0Tm93KGRhdGUpKTtcbiAqIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdE5vdyhkYXRlKSB7XG4gIHJldHVybiBjb25zdHJ1Y3RGcm9tKGRhdGUsIERhdGUubm93KCkpO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGNvbnN0cnVjdE5vdztcbiIsICJpbXBvcnQgeyBzdGFydE9mRGF5IH0gZnJvbSBcIi4vc3RhcnRPZkRheS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1NhbWVEYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKT9cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZUxlZnQgLSBUaGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIGRhdGVSaWdodCAtIFRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuXG4gKiBAcmV0dXJucyBUaGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgMDY6MDA6MDAgYW5kIDQgU2VwdGVtYmVyIDE4OjAwOjAwIGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0LCA2LCAwKSwgbmV3IERhdGUoMjAxNCwgOCwgNCwgMTgsIDApKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciBhbmQgNCBPY3RvYmVyIGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNCwgOSwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciwgMjAxNCBhbmQgNCBTZXB0ZW1iZXIsIDIwMTUgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQpLCBuZXcgRGF0ZSgyMDE1LCA4LCA0KSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZURheShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gIGNvbnN0IGRhdGVMZWZ0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGF0ZUxlZnQpO1xuICBjb25zdCBkYXRlUmlnaHRTdGFydE9mRGF5ID0gc3RhcnRPZkRheShkYXRlUmlnaHQpO1xuXG4gIHJldHVybiArZGF0ZUxlZnRTdGFydE9mRGF5ID09PSArZGF0ZVJpZ2h0U3RhcnRPZkRheTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1NhbWVEYXk7XG4iLCAiLyoqXG4gKiBAbmFtZSBpc0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIHZhbHVlIGEgZGF0ZT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZS4gVGhlIGZ1bmN0aW9uIHdvcmtzIGZvciBkYXRlcyB0cmFuc2ZlcnJlZCBhY3Jvc3MgaWZyYW1lcy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGRhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIGEgdmFsaWQgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzRGF0ZShuZXcgRGF0ZSgpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciBhbiBpbnZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc0RhdGUobmV3IERhdGUoTmFOKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3Igc29tZSB2YWx1ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzRGF0ZSgnMjAxNC0wMi0zMScpXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciBhbiBvYmplY3Q6XG4gKiBjb25zdCByZXN1bHQgPSBpc0RhdGUoe30pXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgfHxcbiAgICAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgRGF0ZV1cIilcbiAgKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc0RhdGU7XG4iLCAiaW1wb3J0IHsgaXNEYXRlIH0gZnJvbSBcIi4vaXNEYXRlLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzVmFsaWRcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgdmFsaWQ/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGZhbHNlIGlmIGFyZ3VtZW50IGlzIEludmFsaWQgRGF0ZSBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gKiBBcmd1bWVudCBpcyBjb252ZXJ0ZWQgdG8gRGF0ZSB1c2luZyBgdG9EYXRlYC4gU2VlIFt0b0RhdGVdKGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvdG9EYXRlKVxuICogSW52YWxpZCBEYXRlIGlzIGEgRGF0ZSwgd2hvc2UgdGltZSB2YWx1ZSBpcyBOYU4uXG4gKlxuICogVGltZSB2YWx1ZSBvZiBEYXRlOiBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjkuMS4xXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZGF0ZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRoZSBkYXRlIGlzIHZhbGlkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciB0aGUgdmFsaWQgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzVmFsaWQobmV3IERhdGUoMjAxNCwgMSwgMzEpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciB0aGUgdmFsdWUsIGNvbnZlcnRhYmxlIGludG8gYSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNWYWxpZCgxMzkzODA0ODAwMDAwKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciB0aGUgaW52YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNWYWxpZChuZXcgRGF0ZSgnJykpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkKGRhdGUpIHtcbiAgaWYgKCFpc0RhdGUoZGF0ZSkgJiYgdHlwZW9mIGRhdGUgIT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIHJldHVybiAhaXNOYU4oTnVtYmVyKF9kYXRlKSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNWYWxpZDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgZW5kT2ZNb250aFxuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgZW5kIG9mIGEgbW9udGggZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBlbmQgb2YgYSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgZW5kIG9mIGEgbW9udGhcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIGVuZCBvZiBhIG1vbnRoIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gZW5kT2ZNb250aChuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBUdWUgU2VwIDMwIDIwMTQgMjM6NTk6NTkuOTk5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPZk1vbnRoKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IG1vbnRoID0gX2RhdGUuZ2V0TW9udGgoKTtcbiAgX2RhdGUuc2V0RnVsbFllYXIoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbW9udGggKyAxLCAwKTtcbiAgX2RhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGVuZE9mTW9udGg7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgZWFjaERheU9mSW50ZXJ2YWx9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBlYWNoRGF5T2ZJbnRlcnZhbFxuICogQGNhdGVnb3J5IEludGVydmFsIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgYXJyYXkgb2YgZGF0ZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgdGltZSBpbnRlcnZhbC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgYXJyYXkgb2YgZGF0ZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgdGltZSBpbnRlcnZhbC5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gaW50ZXJ2YWwgLSBUaGUgaW50ZXJ2YWwuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKlxuICogQHJldHVybnMgVGhlIGFycmF5IHdpdGggc3RhcnRzIG9mIGRheXMgZnJvbSB0aGUgZGF5IG9mIHRoZSBpbnRlcnZhbCBzdGFydCB0byB0aGUgZGF5IG9mIHRoZSBpbnRlcnZhbCBlbmRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRWFjaCBkYXkgYmV0d2VlbiA2IE9jdG9iZXIgMjAxNCBhbmQgMTAgT2N0b2JlciAyMDE0OlxuICogY29uc3QgcmVzdWx0ID0gZWFjaERheU9mSW50ZXJ2YWwoe1xuICogICBzdGFydDogbmV3IERhdGUoMjAxNCwgOSwgNiksXG4gKiAgIGVuZDogbmV3IERhdGUoMjAxNCwgOSwgMTApXG4gKiB9KVxuICogLy89PiBbXG4gKiAvLyAgIE1vbiBPY3QgMDYgMjAxNCAwMDowMDowMCxcbiAqIC8vICAgVHVlIE9jdCAwNyAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBXZWQgT2N0IDA4IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFRodSBPY3QgMDkgMjAxNCAwMDowMDowMCxcbiAqIC8vICAgRnJpIE9jdCAxMCAyMDE0IDAwOjAwOjAwXG4gKiAvLyBdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoRGF5T2ZJbnRlcnZhbChpbnRlcnZhbCwgb3B0aW9ucykge1xuICBjb25zdCBzdGFydERhdGUgPSB0b0RhdGUoaW50ZXJ2YWwuc3RhcnQpO1xuICBjb25zdCBlbmREYXRlID0gdG9EYXRlKGludGVydmFsLmVuZCk7XG5cbiAgbGV0IHJldmVyc2VkID0gK3N0YXJ0RGF0ZSA+ICtlbmREYXRlO1xuICBjb25zdCBlbmRUaW1lID0gcmV2ZXJzZWQgPyArc3RhcnREYXRlIDogK2VuZERhdGU7XG4gIGNvbnN0IGN1cnJlbnREYXRlID0gcmV2ZXJzZWQgPyBlbmREYXRlIDogc3RhcnREYXRlO1xuICBjdXJyZW50RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICBsZXQgc3RlcCA9IG9wdGlvbnM/LnN0ZXAgPz8gMTtcbiAgaWYgKCFzdGVwKSByZXR1cm4gW107XG4gIGlmIChzdGVwIDwgMCkge1xuICAgIHN0ZXAgPSAtc3RlcDtcbiAgICByZXZlcnNlZCA9ICFyZXZlcnNlZDtcbiAgfVxuXG4gIGNvbnN0IGRhdGVzID0gW107XG5cbiAgd2hpbGUgKCtjdXJyZW50RGF0ZSA8PSBlbmRUaW1lKSB7XG4gICAgZGF0ZXMucHVzaCh0b0RhdGUoY3VycmVudERhdGUpKTtcbiAgICBjdXJyZW50RGF0ZS5zZXREYXRlKGN1cnJlbnREYXRlLmdldERhdGUoKSArIHN0ZXApO1xuICAgIGN1cnJlbnREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICB9XG5cbiAgcmV0dXJuIHJldmVyc2VkID8gZGF0ZXMucmV2ZXJzZSgpIDogZGF0ZXM7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZWFjaERheU9mSW50ZXJ2YWw7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZNb250aFxuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgbW9udGggZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgbW9udGhcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgbW9udGggZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mTW9udGgobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mTW9udGgoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgX2RhdGUuc2V0RGF0ZSgxKTtcbiAgX2RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mTW9udGg7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZlllYXJcbiAqIEBjYXRlZ29yeSBZZWFyIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSB5ZWFyIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSB5ZWFyIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgeWVhciBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZZZWFyKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMDApKVxuICogLy89PiBXZWQgSmFuIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZZZWFyKGRhdGUpIHtcbiAgY29uc3QgY2xlYW5EYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBfZGF0ZSA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIF9kYXRlLnNldEZ1bGxZZWFyKGNsZWFuRGF0ZS5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgX2RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mWWVhcjtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL19saWIvZGVmYXVsdE9wdGlvbnMubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBlbmRPZldlZWt9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBlbmRPZldlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgZW5kIG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGVuZCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyBUaGUgZW5kIG9mIGEgd2Vla1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgZW5kIG9mIGEgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IGVuZE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBTYXQgU2VwIDA2IDIwMTQgMjM6NTk6NTkuOTk5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRoZSB3ZWVrIHN0YXJ0cyBvbiBNb25kYXksIHRoZSBlbmQgb2YgdGhlIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBlbmRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gU3VuIFNlcCAwNyAyMDE0IDIzOjU5OjU5Ljk5OVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZXZWVrKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCB3ZWVrU3RhcnRzT24gPVxuICAgIG9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICAwO1xuXG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkYXkgPSBfZGF0ZS5nZXREYXkoKTtcbiAgY29uc3QgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyAtNyA6IDApICsgNiAtIChkYXkgLSB3ZWVrU3RhcnRzT24pO1xuXG4gIF9kYXRlLnNldERhdGUoX2RhdGUuZ2V0RGF0ZSgpICsgZGlmZik7XG4gIF9kYXRlLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBlbmRPZldlZWs7XG4iLCAiY29uc3QgZm9ybWF0RGlzdGFuY2VMb2NhbGUgPSB7XG4gIGxlc3NUaGFuWFNlY29uZHM6IHtcbiAgICBvbmU6IFwibGVzcyB0aGFuIGEgc2Vjb25kXCIsXG4gICAgb3RoZXI6IFwibGVzcyB0aGFuIHt7Y291bnR9fSBzZWNvbmRzXCIsXG4gIH0sXG5cbiAgeFNlY29uZHM6IHtcbiAgICBvbmU6IFwiMSBzZWNvbmRcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gc2Vjb25kc1wiLFxuICB9LFxuXG4gIGhhbGZBTWludXRlOiBcImhhbGYgYSBtaW51dGVcIixcblxuICBsZXNzVGhhblhNaW51dGVzOiB7XG4gICAgb25lOiBcImxlc3MgdGhhbiBhIG1pbnV0ZVwiLFxuICAgIG90aGVyOiBcImxlc3MgdGhhbiB7e2NvdW50fX0gbWludXRlc1wiLFxuICB9LFxuXG4gIHhNaW51dGVzOiB7XG4gICAgb25lOiBcIjEgbWludXRlXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IG1pbnV0ZXNcIixcbiAgfSxcblxuICBhYm91dFhIb3Vyczoge1xuICAgIG9uZTogXCJhYm91dCAxIGhvdXJcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gaG91cnNcIixcbiAgfSxcblxuICB4SG91cnM6IHtcbiAgICBvbmU6IFwiMSBob3VyXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IGhvdXJzXCIsXG4gIH0sXG5cbiAgeERheXM6IHtcbiAgICBvbmU6IFwiMSBkYXlcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gZGF5c1wiLFxuICB9LFxuXG4gIGFib3V0WFdlZWtzOiB7XG4gICAgb25lOiBcImFib3V0IDEgd2Vla1wiLFxuICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSB3ZWVrc1wiLFxuICB9LFxuXG4gIHhXZWVrczoge1xuICAgIG9uZTogXCIxIHdlZWtcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gd2Vla3NcIixcbiAgfSxcblxuICBhYm91dFhNb250aHM6IHtcbiAgICBvbmU6IFwiYWJvdXQgMSBtb250aFwiLFxuICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSBtb250aHNcIixcbiAgfSxcblxuICB4TW9udGhzOiB7XG4gICAgb25lOiBcIjEgbW9udGhcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gbW9udGhzXCIsXG4gIH0sXG5cbiAgYWJvdXRYWWVhcnM6IHtcbiAgICBvbmU6IFwiYWJvdXQgMSB5ZWFyXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG5cbiAgeFllYXJzOiB7XG4gICAgb25lOiBcIjEgeWVhclwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSB5ZWFyc1wiLFxuICB9LFxuXG4gIG92ZXJYWWVhcnM6IHtcbiAgICBvbmU6IFwib3ZlciAxIHllYXJcIixcbiAgICBvdGhlcjogXCJvdmVyIHt7Y291bnR9fSB5ZWFyc1wiLFxuICB9LFxuXG4gIGFsbW9zdFhZZWFyczoge1xuICAgIG9uZTogXCJhbG1vc3QgMSB5ZWFyXCIsXG4gICAgb3RoZXI6IFwiYWxtb3N0IHt7Y291bnR9fSB5ZWFyc1wiLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERpc3RhbmNlID0gKHRva2VuLCBjb3VudCwgb3B0aW9ucykgPT4ge1xuICBsZXQgcmVzdWx0O1xuXG4gIGNvbnN0IHRva2VuVmFsdWUgPSBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl07XG4gIGlmICh0eXBlb2YgdG9rZW5WYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJlc3VsdCA9IHRva2VuVmFsdWU7XG4gIH0gZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICByZXN1bHQgPSB0b2tlblZhbHVlLm9uZTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSB0b2tlblZhbHVlLm90aGVyLnJlcGxhY2UoXCJ7e2NvdW50fX1cIiwgY291bnQudG9TdHJpbmcoKSk7XG4gIH1cblxuICBpZiAob3B0aW9ucz8uYWRkU3VmZml4KSB7XG4gICAgaWYgKG9wdGlvbnMuY29tcGFyaXNvbiAmJiBvcHRpb25zLmNvbXBhcmlzb24gPiAwKSB7XG4gICAgICByZXR1cm4gXCJpbiBcIiArIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIFwiIGFnb1wiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBidWlsZEZvcm1hdExvbmdGbihhcmdzKSB7XG4gIHJldHVybiAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgLy8gVE9ETzogUmVtb3ZlIFN0cmluZygpXG4gICAgY29uc3Qgd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgY29uc3QgZm9ybWF0ID0gYXJncy5mb3JtYXRzW3dpZHRoXSB8fCBhcmdzLmZvcm1hdHNbYXJncy5kZWZhdWx0V2lkdGhdO1xuICAgIHJldHVybiBmb3JtYXQ7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgYnVpbGRGb3JtYXRMb25nRm4gfSBmcm9tIFwiLi4vLi4vX2xpYi9idWlsZEZvcm1hdExvbmdGbi5tanNcIjtcblxuY29uc3QgZGF0ZUZvcm1hdHMgPSB7XG4gIGZ1bGw6IFwiRUVFRSwgTU1NTSBkbywgeVwiLFxuICBsb25nOiBcIk1NTU0gZG8sIHlcIixcbiAgbWVkaXVtOiBcIk1NTSBkLCB5XCIsXG4gIHNob3J0OiBcIk1NL2RkL3l5eXlcIixcbn07XG5cbmNvbnN0IHRpbWVGb3JtYXRzID0ge1xuICBmdWxsOiBcImg6bW06c3MgYSB6enp6XCIsXG4gIGxvbmc6IFwiaDptbTpzcyBhIHpcIixcbiAgbWVkaXVtOiBcImg6bW06c3MgYVwiLFxuICBzaG9ydDogXCJoOm1tIGFcIixcbn07XG5cbmNvbnN0IGRhdGVUaW1lRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gIGxvbmc6IFwie3tkYXRlfX0gJ2F0JyB7e3RpbWV9fVwiLFxuICBtZWRpdW06IFwie3tkYXRlfX0sIHt7dGltZX19XCIsXG4gIHNob3J0OiBcInt7ZGF0ZX19LCB7e3RpbWV9fVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdExvbmcgPSB7XG4gIGRhdGU6IGJ1aWxkRm9ybWF0TG9uZ0ZuKHtcbiAgICBmb3JtYXRzOiBkYXRlRm9ybWF0cyxcbiAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiLFxuICB9KSxcblxuICB0aW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogdGltZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiBcImZ1bGxcIixcbiAgfSksXG5cbiAgZGF0ZVRpbWU6IGJ1aWxkRm9ybWF0TG9uZ0ZuKHtcbiAgICBmb3JtYXRzOiBkYXRlVGltZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiBcImZ1bGxcIixcbiAgfSksXG59O1xuIiwgImNvbnN0IGZvcm1hdFJlbGF0aXZlTG9jYWxlID0ge1xuICBsYXN0V2VlazogXCInbGFzdCcgZWVlZSAnYXQnIHBcIixcbiAgeWVzdGVyZGF5OiBcIid5ZXN0ZXJkYXkgYXQnIHBcIixcbiAgdG9kYXk6IFwiJ3RvZGF5IGF0JyBwXCIsXG4gIHRvbW9ycm93OiBcIid0b21vcnJvdyBhdCcgcFwiLFxuICBuZXh0V2VlazogXCJlZWVlICdhdCcgcFwiLFxuICBvdGhlcjogXCJQXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0UmVsYXRpdmUgPSAodG9rZW4sIF9kYXRlLCBfYmFzZURhdGUsIF9vcHRpb25zKSA9PlxuICBmb3JtYXRSZWxhdGl2ZUxvY2FsZVt0b2tlbl07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuLyoqXG4gKiBUaGUgbG9jYWxpemUgZnVuY3Rpb24gYXJndW1lbnQgY2FsbGJhY2sgd2hpY2ggYWxsb3dzIHRvIGNvbnZlcnQgcmF3IHZhbHVlIHRvXG4gKiB0aGUgYWN0dWFsIHR5cGUuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqXG4gKiBAcmV0dXJucyBUaGUgY29udmVydGVkIHZhbHVlXG4gKi9cblxuLyoqXG4gKiBUaGUgbWFwIG9mIGxvY2FsaXplZCB2YWx1ZXMgZm9yIGVhY2ggd2lkdGguXG4gKi9cblxuLyoqXG4gKiBUaGUgaW5kZXggdHlwZSBvZiB0aGUgbG9jYWxlIHVuaXQgdmFsdWUuIEl0IHR5cGVzIGNvbnZlcnNpb24gb2YgdW5pdHMgb2ZcbiAqIHZhbHVlcyB0aGF0IGRvbid0IHN0YXJ0IGF0IDAgKGkuZS4gcXVhcnRlcnMpLlxuICovXG5cbi8qKlxuICogQ29udmVydHMgdGhlIHVuaXQgdmFsdWUgdG8gdGhlIHR1cGxlIG9mIHZhbHVlcy5cbiAqL1xuXG4vKipcbiAqIFRoZSB0dXBsZSBvZiBsb2NhbGl6ZWQgZXJhIHZhbHVlcy4gVGhlIGZpcnN0IGVsZW1lbnQgcmVwcmVzZW50cyBCQyxcbiAqIHRoZSBzZWNvbmQgZWxlbWVudCByZXByZXNlbnRzIEFELlxuICovXG5cbi8qKlxuICogVGhlIHR1cGxlIG9mIGxvY2FsaXplZCBxdWFydGVyIHZhbHVlcy4gVGhlIGZpcnN0IGVsZW1lbnQgcmVwcmVzZW50cyBRMS5cbiAqL1xuXG4vKipcbiAqIFRoZSB0dXBsZSBvZiBsb2NhbGl6ZWQgZGF5IHZhbHVlcy4gVGhlIGZpcnN0IGVsZW1lbnQgcmVwcmVzZW50cyBTdW5kYXkuXG4gKi9cblxuLyoqXG4gKiBUaGUgdHVwbGUgb2YgbG9jYWxpemVkIG1vbnRoIHZhbHVlcy4gVGhlIGZpcnN0IGVsZW1lbnQgcmVwcmVzZW50cyBKYW51YXJ5LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExvY2FsaXplRm4oYXJncykge1xuICByZXR1cm4gKHZhbHVlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IG9wdGlvbnM/LmNvbnRleHQgPyBTdHJpbmcob3B0aW9ucy5jb250ZXh0KSA6IFwic3RhbmRhbG9uZVwiO1xuXG4gICAgbGV0IHZhbHVlc0FycmF5O1xuICAgIGlmIChjb250ZXh0ID09PSBcImZvcm1hdHRpbmdcIiAmJiBhcmdzLmZvcm1hdHRpbmdWYWx1ZXMpIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdEZvcm1hdHRpbmdXaWR0aCB8fCBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucz8ud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBkZWZhdWx0V2lkdGg7XG5cbiAgICAgIHZhbHVlc0FycmF5ID1cbiAgICAgICAgYXJncy5mb3JtYXR0aW5nVmFsdWVzW3dpZHRoXSB8fCBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbZGVmYXVsdFdpZHRoXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGVmYXVsdFdpZHRoID0gYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnM/LndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG5cbiAgICAgIHZhbHVlc0FycmF5ID0gYXJncy52YWx1ZXNbd2lkdGhdIHx8IGFyZ3MudmFsdWVzW2RlZmF1bHRXaWR0aF07XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gYXJncy5hcmd1bWVudENhbGxiYWNrID8gYXJncy5hcmd1bWVudENhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIEZvciBzb21lIHJlYXNvbiBUeXBlU2NyaXB0IGp1c3QgZG9uJ3Qgd2FudCB0byBtYXRjaCBpdCwgbm8gbWF0dGVyIGhvdyBoYXJkIHdlIHRyeS4gSSBjaGFsbGVuZ2UgeW91IHRvIHRyeSB0byByZW1vdmUgaXQhXG4gICAgcmV0dXJuIHZhbHVlc0FycmF5W2luZGV4XTtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBidWlsZExvY2FsaXplRm4gfSBmcm9tIFwiLi4vLi4vX2xpYi9idWlsZExvY2FsaXplRm4ubWpzXCI7XG5cbmNvbnN0IGVyYVZhbHVlcyA9IHtcbiAgbmFycm93OiBbXCJCXCIsIFwiQVwiXSxcbiAgYWJicmV2aWF0ZWQ6IFtcIkJDXCIsIFwiQURcIl0sXG4gIHdpZGU6IFtcIkJlZm9yZSBDaHJpc3RcIiwgXCJBbm5vIERvbWluaVwiXSxcbn07XG5cbmNvbnN0IHF1YXJ0ZXJWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiXSxcbiAgYWJicmV2aWF0ZWQ6IFtcIlExXCIsIFwiUTJcIiwgXCJRM1wiLCBcIlE0XCJdLFxuICB3aWRlOiBbXCIxc3QgcXVhcnRlclwiLCBcIjJuZCBxdWFydGVyXCIsIFwiM3JkIHF1YXJ0ZXJcIiwgXCI0dGggcXVhcnRlclwiXSxcbn07XG5cbi8vIE5vdGU6IGluIEVuZ2xpc2gsIHRoZSBuYW1lcyBvZiBkYXlzIG9mIHRoZSB3ZWVrIGFuZCBtb250aHMgYXJlIGNhcGl0YWxpemVkLlxuLy8gSWYgeW91IGFyZSBtYWtpbmcgYSBuZXcgbG9jYWxlIGJhc2VkIG9uIHRoaXMgb25lLCBjaGVjayBpZiB0aGUgc2FtZSBpcyB0cnVlIGZvciB0aGUgbGFuZ3VhZ2UgeW91J3JlIHdvcmtpbmcgb24uXG4vLyBHZW5lcmFsbHksIGZvcm1hdHRlZCBkYXRlcyBzaG91bGQgbG9vayBsaWtlIHRoZXkgYXJlIGluIHRoZSBtaWRkbGUgb2YgYSBzZW50ZW5jZSxcbi8vIGUuZy4gaW4gU3BhbmlzaCBsYW5ndWFnZSB0aGUgd2Vla2RheXMgYW5kIG1vbnRocyBzaG91bGQgYmUgaW4gdGhlIGxvd2VyY2FzZS5cbmNvbnN0IG1vbnRoVmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIkpcIiwgXCJGXCIsIFwiTVwiLCBcIkFcIiwgXCJNXCIsIFwiSlwiLCBcIkpcIiwgXCJBXCIsIFwiU1wiLCBcIk9cIiwgXCJOXCIsIFwiRFwiXSxcbiAgYWJicmV2aWF0ZWQ6IFtcbiAgICBcIkphblwiLFxuICAgIFwiRmViXCIsXG4gICAgXCJNYXJcIixcbiAgICBcIkFwclwiLFxuICAgIFwiTWF5XCIsXG4gICAgXCJKdW5cIixcbiAgICBcIkp1bFwiLFxuICAgIFwiQXVnXCIsXG4gICAgXCJTZXBcIixcbiAgICBcIk9jdFwiLFxuICAgIFwiTm92XCIsXG4gICAgXCJEZWNcIixcbiAgXSxcblxuICB3aWRlOiBbXG4gICAgXCJKYW51YXJ5XCIsXG4gICAgXCJGZWJydWFyeVwiLFxuICAgIFwiTWFyY2hcIixcbiAgICBcIkFwcmlsXCIsXG4gICAgXCJNYXlcIixcbiAgICBcIkp1bmVcIixcbiAgICBcIkp1bHlcIixcbiAgICBcIkF1Z3VzdFwiLFxuICAgIFwiU2VwdGVtYmVyXCIsXG4gICAgXCJPY3RvYmVyXCIsXG4gICAgXCJOb3ZlbWJlclwiLFxuICAgIFwiRGVjZW1iZXJcIixcbiAgXSxcbn07XG5cbmNvbnN0IGRheVZhbHVlcyA9IHtcbiAgbmFycm93OiBbXCJTXCIsIFwiTVwiLCBcIlRcIiwgXCJXXCIsIFwiVFwiLCBcIkZcIiwgXCJTXCJdLFxuICBzaG9ydDogW1wiU3VcIiwgXCJNb1wiLCBcIlR1XCIsIFwiV2VcIiwgXCJUaFwiLCBcIkZyXCIsIFwiU2FcIl0sXG4gIGFiYnJldmlhdGVkOiBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl0sXG4gIHdpZGU6IFtcbiAgICBcIlN1bmRheVwiLFxuICAgIFwiTW9uZGF5XCIsXG4gICAgXCJUdWVzZGF5XCIsXG4gICAgXCJXZWRuZXNkYXlcIixcbiAgICBcIlRodXJzZGF5XCIsXG4gICAgXCJGcmlkYXlcIixcbiAgICBcIlNhdHVyZGF5XCIsXG4gIF0sXG59O1xuXG5jb25zdCBkYXlQZXJpb2RWYWx1ZXMgPSB7XG4gIG5hcnJvdzoge1xuICAgIGFtOiBcImFcIixcbiAgICBwbTogXCJwXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlcIixcbiAgICBub29uOiBcIm5cIixcbiAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwibmlnaHRcIixcbiAgfSxcbiAgYWJicmV2aWF0ZWQ6IHtcbiAgICBhbTogXCJBTVwiLFxuICAgIHBtOiBcIlBNXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgICBub29uOiBcIm5vb25cIixcbiAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwibmlnaHRcIixcbiAgfSxcbiAgd2lkZToge1xuICAgIGFtOiBcImEubS5cIixcbiAgICBwbTogXCJwLm0uXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgICBub29uOiBcIm5vb25cIixcbiAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwibmlnaHRcIixcbiAgfSxcbn07XG5cbmNvbnN0IGZvcm1hdHRpbmdEYXlQZXJpb2RWYWx1ZXMgPSB7XG4gIG5hcnJvdzoge1xuICAgIGFtOiBcImFcIixcbiAgICBwbTogXCJwXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlcIixcbiAgICBub29uOiBcIm5cIixcbiAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImluIHRoZSBhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwiYXQgbmlnaHRcIixcbiAgfSxcbiAgYWJicmV2aWF0ZWQ6IHtcbiAgICBhbTogXCJBTVwiLFxuICAgIHBtOiBcIlBNXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgICBub29uOiBcIm5vb25cIixcbiAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImluIHRoZSBhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwiYXQgbmlnaHRcIixcbiAgfSxcbiAgd2lkZToge1xuICAgIGFtOiBcImEubS5cIixcbiAgICBwbTogXCJwLm0uXCIsXG4gICAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgICBub29uOiBcIm5vb25cIixcbiAgICBtb3JuaW5nOiBcImluIHRoZSBtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImluIHRoZSBhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgbmlnaHQ6IFwiYXQgbmlnaHRcIixcbiAgfSxcbn07XG5cbmNvbnN0IG9yZGluYWxOdW1iZXIgPSAoZGlydHlOdW1iZXIsIF9vcHRpb25zKSA9PiB7XG4gIGNvbnN0IG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7XG5cbiAgLy8gSWYgb3JkaW5hbCBudW1iZXJzIGRlcGVuZCBvbiBjb250ZXh0LCBmb3IgZXhhbXBsZSxcbiAgLy8gaWYgdGhleSBhcmUgZGlmZmVyZW50IGZvciBkaWZmZXJlbnQgZ3JhbW1hdGljYWwgZ2VuZGVycyxcbiAgLy8gdXNlIGBvcHRpb25zLnVuaXRgLlxuICAvL1xuICAvLyBgdW5pdGAgY2FuIGJlICd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXRlJywgJ2RheU9mWWVhcicsXG4gIC8vICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJy5cblxuICBjb25zdCByZW0xMDAgPSBudW1iZXIgJSAxMDA7XG4gIGlmIChyZW0xMDAgPiAyMCB8fCByZW0xMDAgPCAxMCkge1xuICAgIHN3aXRjaCAocmVtMTAwICUgMTApIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIG51bWJlciArIFwic3RcIjtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIG51bWJlciArIFwibmRcIjtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIG51bWJlciArIFwicmRcIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bWJlciArIFwidGhcIjtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2NhbGl6ZSA9IHtcbiAgb3JkaW5hbE51bWJlcixcblxuICBlcmE6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBlcmFWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgfSksXG5cbiAgcXVhcnRlcjogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IHF1YXJ0ZXJWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgICBhcmd1bWVudENhbGxiYWNrOiAocXVhcnRlcikgPT4gcXVhcnRlciAtIDEsXG4gIH0pLFxuXG4gIG1vbnRoOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogbW9udGhWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgfSksXG5cbiAgZGF5OiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZGF5VmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gIH0pLFxuXG4gIGRheVBlcmlvZDogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IGRheVBlcmlvZFZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICAgIGZvcm1hdHRpbmdWYWx1ZXM6IGZvcm1hdHRpbmdEYXlQZXJpb2RWYWx1ZXMsXG4gICAgZGVmYXVsdEZvcm1hdHRpbmdXaWR0aDogXCJ3aWRlXCIsXG4gIH0pLFxufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gYnVpbGRNYXRjaEZuKGFyZ3MpIHtcbiAgcmV0dXJuIChzdHJpbmcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucy53aWR0aDtcblxuICAgIGNvbnN0IG1hdGNoUGF0dGVybiA9XG4gICAgICAod2lkdGggJiYgYXJncy5tYXRjaFBhdHRlcm5zW3dpZHRoXSkgfHxcbiAgICAgIGFyZ3MubWF0Y2hQYXR0ZXJuc1thcmdzLmRlZmF1bHRNYXRjaFdpZHRoXTtcbiAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChtYXRjaFBhdHRlcm4pO1xuXG4gICAgaWYgKCFtYXRjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcblxuICAgIGNvbnN0IHBhcnNlUGF0dGVybnMgPVxuICAgICAgKHdpZHRoICYmIGFyZ3MucGFyc2VQYXR0ZXJuc1t3aWR0aF0pIHx8XG4gICAgICBhcmdzLnBhcnNlUGF0dGVybnNbYXJncy5kZWZhdWx0UGFyc2VXaWR0aF07XG5cbiAgICBjb25zdCBrZXkgPSBBcnJheS5pc0FycmF5KHBhcnNlUGF0dGVybnMpXG4gICAgICA/IGZpbmRJbmRleChwYXJzZVBhdHRlcm5zLCAocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KG1hdGNoZWRTdHJpbmcpKVxuICAgICAgOiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAtLSBJIGNoYWxsYW5nZSB5b3UgdG8gZml4IHRoZSB0eXBlXG4gICAgICAgIGZpbmRLZXkocGFyc2VQYXR0ZXJucywgKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKSk7XG5cbiAgICBsZXQgdmFsdWU7XG5cbiAgICB2YWx1ZSA9IGFyZ3MudmFsdWVDYWxsYmFjayA/IGFyZ3MudmFsdWVDYWxsYmFjayhrZXkpIDoga2V5O1xuICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZUNhbGxiYWNrXG4gICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55IC0tIEkgY2hhbGxhbmdlIHlvdSB0byBmaXggdGhlIHR5cGVcbiAgICAgICAgb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKVxuICAgICAgOiB2YWx1ZTtcblxuICAgIGNvbnN0IHJlc3QgPSBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHsgdmFsdWUsIHJlc3QgfTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoXG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmXG4gICAgICBwcmVkaWNhdGUob2JqZWN0W2tleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSkge1xuICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCBhcnJheS5sZW5ndGg7IGtleSsrKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtrZXldKSkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gYnVpbGRNYXRjaFBhdHRlcm5GbihhcmdzKSB7XG4gIHJldHVybiAoc3RyaW5nLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLm1hdGNoUGF0dGVybik7XG4gICAgaWYgKCFtYXRjaFJlc3VsdCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuXG4gICAgY29uc3QgcGFyc2VSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5wYXJzZVBhdHRlcm4pO1xuICAgIGlmICghcGFyc2VSZXN1bHQpIHJldHVybiBudWxsO1xuICAgIGxldCB2YWx1ZSA9IGFyZ3MudmFsdWVDYWxsYmFja1xuICAgICAgPyBhcmdzLnZhbHVlQ2FsbGJhY2socGFyc2VSZXN1bHRbMF0pXG4gICAgICA6IHBhcnNlUmVzdWx0WzBdO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgLS0gSSBjaGFsbGFuZ2UgeW91IHRvIGZpeCB0aGUgdHlwZVxuICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZUNhbGxiYWNrID8gb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgY29uc3QgcmVzdCA9IHN0cmluZy5zbGljZShtYXRjaGVkU3RyaW5nLmxlbmd0aCk7XG5cbiAgICByZXR1cm4geyB2YWx1ZSwgcmVzdCB9O1xuICB9O1xufVxuIiwgImltcG9ydCB7IGJ1aWxkTWF0Y2hGbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkTWF0Y2hGbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkTWF0Y2hQYXR0ZXJuRm4gfSBmcm9tIFwiLi4vLi4vX2xpYi9idWlsZE1hdGNoUGF0dGVybkZuLm1qc1wiO1xuXG5jb25zdCBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL14oXFxkKykodGh8c3R8bmR8cmQpPy9pO1xuY29uc3QgcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9cXGQrL2k7XG5cbmNvbnN0IG1hdGNoRXJhUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL14oYnxhKS9pLFxuICBhYmJyZXZpYXRlZDogL14oYlxcLj9cXHM/Y1xcLj98YlxcLj9cXHM/Y1xcLj9cXHM/ZVxcLj98YVxcLj9cXHM/ZFxcLj98Y1xcLj9cXHM/ZVxcLj8pL2ksXG4gIHdpZGU6IC9eKGJlZm9yZSBjaHJpc3R8YmVmb3JlIGNvbW1vbiBlcmF8YW5ubyBkb21pbml8Y29tbW9uIGVyYSkvaSxcbn07XG5jb25zdCBwYXJzZUVyYVBhdHRlcm5zID0ge1xuICBhbnk6IFsvXmIvaSwgL14oYXxjKS9pXSxcbn07XG5cbmNvbnN0IG1hdGNoUXVhcnRlclBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eWzEyMzRdL2ksXG4gIGFiYnJldmlhdGVkOiAvXnFbMTIzNF0vaSxcbiAgd2lkZTogL15bMTIzNF0odGh8c3R8bmR8cmQpPyBxdWFydGVyL2ksXG59O1xuY29uc3QgcGFyc2VRdWFydGVyUGF0dGVybnMgPSB7XG4gIGFueTogWy8xL2ksIC8yL2ksIC8zL2ksIC80L2ldLFxufTtcblxuY29uc3QgbWF0Y2hNb250aFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW2pmbWFzb25kXS9pLFxuICBhYmJyZXZpYXRlZDogL14oamFufGZlYnxtYXJ8YXByfG1heXxqdW58anVsfGF1Z3xzZXB8b2N0fG5vdnxkZWMpL2ksXG4gIHdpZGU6IC9eKGphbnVhcnl8ZmVicnVhcnl8bWFyY2h8YXByaWx8bWF5fGp1bmV8anVseXxhdWd1c3R8c2VwdGVtYmVyfG9jdG9iZXJ8bm92ZW1iZXJ8ZGVjZW1iZXIpL2ksXG59O1xuY29uc3QgcGFyc2VNb250aFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IFtcbiAgICAvXmovaSxcbiAgICAvXmYvaSxcbiAgICAvXm0vaSxcbiAgICAvXmEvaSxcbiAgICAvXm0vaSxcbiAgICAvXmovaSxcbiAgICAvXmovaSxcbiAgICAvXmEvaSxcbiAgICAvXnMvaSxcbiAgICAvXm8vaSxcbiAgICAvXm4vaSxcbiAgICAvXmQvaSxcbiAgXSxcblxuICBhbnk6IFtcbiAgICAvXmphL2ksXG4gICAgL15mL2ksXG4gICAgL15tYXIvaSxcbiAgICAvXmFwL2ksXG4gICAgL15tYXkvaSxcbiAgICAvXmp1bi9pLFxuICAgIC9eanVsL2ksXG4gICAgL15hdS9pLFxuICAgIC9ecy9pLFxuICAgIC9eby9pLFxuICAgIC9ebi9pLFxuICAgIC9eZC9pLFxuICBdLFxufTtcblxuY29uc3QgbWF0Y2hEYXlQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXltzbXR3Zl0vaSxcbiAgc2hvcnQ6IC9eKHN1fG1vfHR1fHdlfHRofGZyfHNhKS9pLFxuICBhYmJyZXZpYXRlZDogL14oc3VufG1vbnx0dWV8d2VkfHRodXxmcml8c2F0KS9pLFxuICB3aWRlOiAvXihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSkvaSxcbn07XG5jb25zdCBwYXJzZURheVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IFsvXnMvaSwgL15tL2ksIC9edC9pLCAvXncvaSwgL150L2ksIC9eZi9pLCAvXnMvaV0sXG4gIGFueTogWy9ec3UvaSwgL15tL2ksIC9edHUvaSwgL153L2ksIC9edGgvaSwgL15mL2ksIC9ec2EvaV0sXG59O1xuXG5jb25zdCBtYXRjaERheVBlcmlvZFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eKGF8cHxtaXxufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaSxcbiAgYW55OiAvXihbYXBdXFwuP1xccz9tXFwuP3xtaWRuaWdodHxub29ufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaSxcbn07XG5jb25zdCBwYXJzZURheVBlcmlvZFBhdHRlcm5zID0ge1xuICBhbnk6IHtcbiAgICBhbTogL15hL2ksXG4gICAgcG06IC9ecC9pLFxuICAgIG1pZG5pZ2h0OiAvXm1pL2ksXG4gICAgbm9vbjogL15uby9pLFxuICAgIG1vcm5pbmc6IC9tb3JuaW5nL2ksXG4gICAgYWZ0ZXJub29uOiAvYWZ0ZXJub29uL2ksXG4gICAgZXZlbmluZzogL2V2ZW5pbmcvaSxcbiAgICBuaWdodDogL25pZ2h0L2ksXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgbWF0Y2ggPSB7XG4gIG9yZGluYWxOdW1iZXI6IGJ1aWxkTWF0Y2hQYXR0ZXJuRm4oe1xuICAgIG1hdGNoUGF0dGVybjogbWF0Y2hPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICBwYXJzZVBhdHRlcm46IHBhcnNlT3JkaW5hbE51bWJlclBhdHRlcm4sXG4gICAgdmFsdWVDYWxsYmFjazogKHZhbHVlKSA9PiBwYXJzZUludCh2YWx1ZSwgMTApLFxuICB9KSxcblxuICBlcmE6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hFcmFQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VFcmFQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgfSksXG5cbiAgcXVhcnRlcjogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaFF1YXJ0ZXJQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VRdWFydGVyUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gICAgdmFsdWVDYWxsYmFjazogKGluZGV4KSA9PiBpbmRleCArIDEsXG4gIH0pLFxuXG4gIG1vbnRoOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VNb250aFBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcblxuICBkYXk6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hEYXlQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VEYXlQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgfSksXG5cbiAgZGF5UGVyaW9kOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRGF5UGVyaW9kUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwiYW55XCIsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VEYXlQZXJpb2RQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgfSksXG59O1xuIiwgImltcG9ydCB7IGZvcm1hdERpc3RhbmNlIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9mb3JtYXREaXN0YW5jZS5tanNcIjtcbmltcG9ydCB7IGZvcm1hdExvbmcgfSBmcm9tIFwiLi9lbi1VUy9fbGliL2Zvcm1hdExvbmcubWpzXCI7XG5pbXBvcnQgeyBmb3JtYXRSZWxhdGl2ZSB9IGZyb20gXCIuL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUubWpzXCI7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gXCIuL2VuLVVTL19saWIvbG9jYWxpemUubWpzXCI7XG5pbXBvcnQgeyBtYXRjaCB9IGZyb20gXCIuL2VuLVVTL19saWIvbWF0Y2gubWpzXCI7XG5cbi8qKlxuICogQGNhdGVnb3J5IExvY2FsZXNcbiAqIEBzdW1tYXJ5IEVuZ2xpc2ggbG9jYWxlIChVbml0ZWQgU3RhdGVzKS5cbiAqIEBsYW5ndWFnZSBFbmdsaXNoXG4gKiBAaXNvLTYzOS0yIGVuZ1xuICogQGF1dGhvciBTYXNoYSBLb3NzIFtAa29zc25vY29ycF0oaHR0cHM6Ly9naXRodWIuY29tL2tvc3Nub2NvcnApXG4gKiBAYXV0aG9yIExlc2hhIEtvc3MgW0BsZXNoYWtvc3NdKGh0dHBzOi8vZ2l0aHViLmNvbS9sZXNoYWtvc3MpXG4gKi9cbmV4cG9ydCBjb25zdCBlblVTID0ge1xuICBjb2RlOiBcImVuLVVTXCIsXG4gIGZvcm1hdERpc3RhbmNlOiBmb3JtYXREaXN0YW5jZSxcbiAgZm9ybWF0TG9uZzogZm9ybWF0TG9uZyxcbiAgZm9ybWF0UmVsYXRpdmU6IGZvcm1hdFJlbGF0aXZlLFxuICBsb2NhbGl6ZTogbG9jYWxpemUsXG4gIG1hdGNoOiBtYXRjaCxcbiAgb3B0aW9uczoge1xuICAgIHdlZWtTdGFydHNPbjogMCAvKiBTdW5kYXkgKi8sXG4gICAgZmlyc3RXZWVrQ29udGFpbnNEYXRlOiAxLFxuICB9LFxufTtcblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBlblVTO1xuIiwgImltcG9ydCB7IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyB9IGZyb20gXCIuL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZZZWFyIH0gZnJvbSBcIi4vc3RhcnRPZlllYXIubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgZ2V0RGF5T2ZZZWFyXG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgZGF5IG9mIHRoZSB5ZWFyIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBkYXkgb2YgdGhlIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZ2l2ZW4gZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBkYXkgb2YgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCBkYXkgb2YgdGhlIHllYXIgaXMgMiBKdWx5IDIwMTQ/XG4gKiBjb25zdCByZXN1bHQgPSBnZXREYXlPZlllYXIobmV3IERhdGUoMjAxNCwgNiwgMikpXG4gKiAvLz0+IDE4M1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF5T2ZZZWFyKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IGRpZmYgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoX2RhdGUsIHN0YXJ0T2ZZZWFyKF9kYXRlKSk7XG4gIGNvbnN0IGRheU9mWWVhciA9IGRpZmYgKyAxO1xuICByZXR1cm4gZGF5T2ZZZWFyO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGdldERheU9mWWVhcjtcbiIsICJpbXBvcnQgeyBtaWxsaXNlY29uZHNJbldlZWsgfSBmcm9tIFwiLi9jb25zdGFudHMubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZJU09XZWVrLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZklTT1dlZWtZZWFyIH0gZnJvbSBcIi4vc3RhcnRPZklTT1dlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGdldElTT1dlZWtcbiAqIEBjYXRlZ29yeSBJU08gV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIElTTyB3ZWVrIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBJU08gd2VlayBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBJU08gd2Vlay1udW1iZXJpbmcgeWVhcjogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZ2l2ZW4gZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBJU08gd2Vla1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCB3ZWVrIG9mIHRoZSBJU08td2VlayBudW1iZXJpbmcgeWVhciBpcyAyIEphbnVhcnkgMjAwNT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldElTT1dlZWsobmV3IERhdGUoMjAwNSwgMCwgMikpXG4gKiAvLz0+IDUzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJU09XZWVrKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IGRpZmYgPSArc3RhcnRPZklTT1dlZWsoX2RhdGUpIC0gK3N0YXJ0T2ZJU09XZWVrWWVhcihfZGF0ZSk7XG5cbiAgLy8gUm91bmQgdGhlIG51bWJlciBvZiB3ZWVrcyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIGJlY2F1c2UgdGhlIG51bWJlciBvZlxuICAvLyBtaWxsaXNlY29uZHMgaW4gYSB3ZWVrIGlzIG5vdCBjb25zdGFudCAoZS5nLiBpdCdzIGRpZmZlcmVudCBpbiB0aGUgd2VlayBvZlxuICAvLyB0aGUgZGF5bGlnaHQgc2F2aW5nIHRpbWUgY2xvY2sgc2hpZnQpLlxuICByZXR1cm4gTWF0aC5yb3VuZChkaWZmIC8gbWlsbGlzZWNvbmRzSW5XZWVrKSArIDE7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0SVNPV2VlaztcbiIsICJpbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZXZWVrIH0gZnJvbSBcIi4vc3RhcnRPZldlZWsubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL19saWIvZGVmYXVsdE9wdGlvbnMubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBnZXRXZWVrWWVhcn0gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGdldFdlZWtZZWFyXG4gKiBAY2F0ZWdvcnkgV2Vlay1OdW1iZXJpbmcgWWVhciBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgZXhhY3QgY2FsY3VsYXRpb24gZGVwZW5kcyBvbiB0aGUgdmFsdWVzIG9mXG4gKiBgb3B0aW9ucy53ZWVrU3RhcnRzT25gICh3aGljaCBpcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaylcbiAqIGFuZCBgb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGVgICh3aGljaCBpcyB0aGUgZGF5IG9mIEphbnVhcnksIHdoaWNoIGlzIGFsd2F5cyBpblxuICogdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHdlZWstbnVtYmVyaW5nIHllYXIpXG4gKlxuICogV2VlayBudW1iZXJpbmc6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlZWsjVGhlX0lTT193ZWVrX2RhdGVfc3lzdGVtXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZ2l2ZW4gZGF0ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICpcbiAqIEByZXR1cm5zIFRoZSBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMjYgRGVjZW1iZXIgMjAwNCB3aXRoIHRoZSBkZWZhdWx0IHNldHRpbmdzP1xuICogY29uc3QgcmVzdWx0ID0gZ2V0V2Vla1llYXIobmV3IERhdGUoMjAwNCwgMTEsIDI2KSlcbiAqIC8vPT4gMjAwNVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCB3ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDI2IERlY2VtYmVyIDIwMDQgaWYgd2VlayBzdGFydHMgb24gU2F0dXJkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrWWVhcihuZXcgRGF0ZSgyMDA0LCAxMSwgMjYpLCB7IHdlZWtTdGFydHNPbjogNiB9KVxuICogLy89PiAyMDA0XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMjYgRGVjZW1iZXIgMjAwNCBpZiB0aGUgZmlyc3Qgd2VlayBjb250YWlucyA0IEphbnVhcnk/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrWWVhcihuZXcgRGF0ZSgyMDA0LCAxMSwgMjYpLCB7IGZpcnN0V2Vla0NvbnRhaW5zRGF0ZTogNCB9KVxuICogLy89PiAyMDA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrWWVhcihkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCB5ZWFyID0gX2RhdGUuZ2V0RnVsbFllYXIoKTtcblxuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9XG4gICAgb3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIDE7XG5cbiAgY29uc3QgZmlyc3RXZWVrT2ZOZXh0WWVhciA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZpcnN0V2Vla09mTmV4dFllYXIuc2V0RnVsbFllYXIoeWVhciArIDEsIDAsIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gIGZpcnN0V2Vla09mTmV4dFllYXIuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IHN0YXJ0T2ZOZXh0WWVhciA9IHN0YXJ0T2ZXZWVrKGZpcnN0V2Vla09mTmV4dFllYXIsIG9wdGlvbnMpO1xuXG4gIGNvbnN0IGZpcnN0V2Vla09mVGhpc1llYXIgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmaXJzdFdlZWtPZlRoaXNZZWFyLnNldEZ1bGxZZWFyKHllYXIsIDAsIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gIGZpcnN0V2Vla09mVGhpc1llYXIuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IHN0YXJ0T2ZUaGlzWWVhciA9IHN0YXJ0T2ZXZWVrKGZpcnN0V2Vla09mVGhpc1llYXIsIG9wdGlvbnMpO1xuXG4gIGlmIChfZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnRPZk5leHRZZWFyLmdldFRpbWUoKSkge1xuICAgIHJldHVybiB5ZWFyICsgMTtcbiAgfSBlbHNlIGlmIChfZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnRPZlRoaXNZZWFyLmdldFRpbWUoKSkge1xuICAgIHJldHVybiB5ZWFyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB5ZWFyIC0gMTtcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGdldFdlZWtZZWFyO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuaW1wb3J0IHsgZ2V0V2Vla1llYXIgfSBmcm9tIFwiLi9nZXRXZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZXZWVrIH0gZnJvbSBcIi4vc3RhcnRPZldlZWsubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL19saWIvZGVmYXVsdE9wdGlvbnMubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBzdGFydE9mV2Vla1llYXJ9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1llYXJcbiAqIEBjYXRlZ29yeSBXZWVrLU51bWJlcmluZyBZZWFyIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyLlxuICogVGhlIGV4YWN0IGNhbGN1bGF0aW9uIGRlcGVuZHMgb24gdGhlIHZhbHVlcyBvZlxuICogYG9wdGlvbnMud2Vla1N0YXJ0c09uYCAod2hpY2ggaXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWspXG4gKiBhbmQgYG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlYCAod2hpY2ggaXMgdGhlIGRheSBvZiBKYW51YXJ5LCB3aGljaCBpcyBhbHdheXMgaW5cbiAqIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB3ZWVrLW51bWJlcmluZyB5ZWFyKVxuICpcbiAqIFdlZWsgbnVtYmVyaW5nOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWVrI1RoZV9JU09fd2Vla19kYXRlX3N5c3RlbVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIHdlZWstbnVtYmVyaW5nIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGFuIGEgd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgMiBKdWx5IDIwMDUgd2l0aCBkZWZhdWx0IHNldHRpbmdzOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWtZZWFyKG5ldyBEYXRlKDIwMDUsIDYsIDIpKVxuICogLy89PiBTdW4gRGVjIDI2IDIwMDQgMDA6MDA6MDBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgMiBKdWx5IDIwMDVcbiAqIC8vIGlmIE1vbmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHdlZWtcbiAqIC8vIGFuZCA0IEphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWtZZWFyKG5ldyBEYXRlKDIwMDUsIDYsIDIpLCB7XG4gKiAgIHdlZWtTdGFydHNPbjogMSxcbiAqICAgZmlyc3RXZWVrQ29udGFpbnNEYXRlOiA0XG4gKiB9KVxuICogLy89PiBNb24gSmFuIDAzIDIwMDUgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrWWVhcihkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3QgZmlyc3RXZWVrQ29udGFpbnNEYXRlID1cbiAgICBvcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgMTtcblxuICBjb25zdCB5ZWFyID0gZ2V0V2Vla1llYXIoZGF0ZSwgb3B0aW9ucyk7XG4gIGNvbnN0IGZpcnN0V2VlayA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZpcnN0V2Vlay5zZXRGdWxsWWVhcih5ZWFyLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICBmaXJzdFdlZWsuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IF9kYXRlID0gc3RhcnRPZldlZWsoZmlyc3RXZWVrLCBvcHRpb25zKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZXZWVrWWVhcjtcbiIsICJpbXBvcnQgeyBtaWxsaXNlY29uZHNJbldlZWsgfSBmcm9tIFwiLi9jb25zdGFudHMubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZXZWVrLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZldlZWtZZWFyIH0gZnJvbSBcIi4vc3RhcnRPZldlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgZ2V0V2Vla30gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGdldFdlZWtcbiAqIEBjYXRlZ29yeSBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgbG9jYWwgd2VlayBpbmRleCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbG9jYWwgd2VlayBpbmRleCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSBleGFjdCBjYWxjdWxhdGlvbiBkZXBlbmRzIG9uIHRoZSB2YWx1ZXMgb2ZcbiAqIGBvcHRpb25zLndlZWtTdGFydHNPbmAgKHdoaWNoIGlzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrKVxuICogYW5kIGBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZWAgKHdoaWNoIGlzIHRoZSBkYXkgb2YgSmFudWFyeSwgd2hpY2ggaXMgYWx3YXlzIGluXG4gKiB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgd2Vlay1udW1iZXJpbmcgeWVhcilcbiAqXG4gKiBXZWVrIG51bWJlcmluZzogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2VlayNUaGVfSVNPX3dlZWtfZGF0ZV9zeXN0ZW1cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyBUaGUgd2Vla1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCB3ZWVrIG9mIHRoZSBsb2NhbCB3ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDIgSmFudWFyeSAyMDA1IHdpdGggZGVmYXVsdCBvcHRpb25zP1xuICogY29uc3QgcmVzdWx0ID0gZ2V0V2VlayhuZXcgRGF0ZSgyMDA1LCAwLCAyKSlcbiAqIC8vPT4gMlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCB3ZWVrIG9mIHRoZSBsb2NhbCB3ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDIgSmFudWFyeSAyMDA1LFxuICogLy8gaWYgTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWssXG4gKiAvLyBhbmQgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIgYWx3YXlzIGNvbnRhaW5zIDQgSmFudWFyeT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWsobmV3IERhdGUoMjAwNSwgMCwgMiksIHtcbiAqICAgd2Vla1N0YXJ0c09uOiAxLFxuICogICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDRcbiAqIH0pXG4gKiAvLz0+IDUzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWsoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGlmZiA9ICtzdGFydE9mV2VlayhfZGF0ZSwgb3B0aW9ucykgLSArc3RhcnRPZldlZWtZZWFyKF9kYXRlLCBvcHRpb25zKTtcblxuICAvLyBSb3VuZCB0aGUgbnVtYmVyIG9mIHdlZWtzIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgYmVjYXVzZSB0aGUgbnVtYmVyIG9mXG4gIC8vIG1pbGxpc2Vjb25kcyBpbiBhIHdlZWsgaXMgbm90IGNvbnN0YW50IChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSB3ZWVrIG9mXG4gIC8vIHRoZSBkYXlsaWdodCBzYXZpbmcgdGltZSBjbG9jayBzaGlmdCkuXG4gIHJldHVybiBNYXRoLnJvdW5kKGRpZmYgLyBtaWxsaXNlY29uZHNJbldlZWspICsgMTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXRXZWVrO1xuIiwgImV4cG9ydCBmdW5jdGlvbiBhZGRMZWFkaW5nWmVyb3MobnVtYmVyLCB0YXJnZXRMZW5ndGgpIHtcbiAgY29uc3Qgc2lnbiA9IG51bWJlciA8IDAgPyBcIi1cIiA6IFwiXCI7XG4gIGNvbnN0IG91dHB1dCA9IE1hdGguYWJzKG51bWJlcikudG9TdHJpbmcoKS5wYWRTdGFydCh0YXJnZXRMZW5ndGgsIFwiMFwiKTtcbiAgcmV0dXJuIHNpZ24gKyBvdXRwdXQ7XG59XG4iLCAiaW1wb3J0IHsgYWRkTGVhZGluZ1plcm9zIH0gZnJvbSBcIi4uL2FkZExlYWRpbmdaZXJvcy5tanNcIjtcblxuLypcbiAqIHwgICAgIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgIGEgIHwgQU0sIFBNICAgICAgICAgICAgICAgICAgICAgICAgIHwgIEEqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGQgIHwgRGF5IG9mIG1vbnRoICAgICAgICAgICAgICAgICAgIHwgIEQgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGggIHwgSG91ciBbMS0xMl0gICAgICAgICAgICAgICAgICAgIHwgIEggIHwgSG91ciBbMC0yM10gICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIG0gIHwgTWludXRlICAgICAgICAgICAgICAgICAgICAgICAgIHwgIE0gIHwgTW9udGggICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHMgIHwgU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIHwgIFMgIHwgRnJhY3Rpb24gb2Ygc2Vjb25kICAgICAgICAgICAgIHxcbiAqIHwgIHkgIHwgWWVhciAoYWJzKSAgICAgICAgICAgICAgICAgICAgIHwgIFkgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiBMZXR0ZXJzIG1hcmtlZCBieSAqIGFyZSBub3QgaW1wbGVtZW50ZWQgYnV0IHJlc2VydmVkIGJ5IFVuaWNvZGUgc3RhbmRhcmQuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGxpZ2h0Rm9ybWF0dGVycyA9IHtcbiAgLy8gWWVhclxuICB5KGRhdGUsIHRva2VuKSB7XG4gICAgLy8gRnJvbSBodHRwOi8vd3d3LnVuaWNvZGUub3JnL3JlcG9ydHMvdHIzNS90cjM1LTMxL3RyMzUtZGF0ZXMuaHRtbCNEYXRlX0Zvcm1hdF90b2tlbnNcbiAgICAvLyB8IFllYXIgICAgIHwgICAgIHkgfCB5eSB8ICAgeXl5IHwgIHl5eXkgfCB5eXl5eSB8XG4gICAgLy8gfC0tLS0tLS0tLS18LS0tLS0tLXwtLS0tfC0tLS0tLS18LS0tLS0tLXwtLS0tLS0tfFxuICAgIC8vIHwgQUQgMSAgICAgfCAgICAgMSB8IDAxIHwgICAwMDEgfCAgMDAwMSB8IDAwMDAxIHxcbiAgICAvLyB8IEFEIDEyICAgIHwgICAgMTIgfCAxMiB8ICAgMDEyIHwgIDAwMTIgfCAwMDAxMiB8XG4gICAgLy8gfCBBRCAxMjMgICB8ICAgMTIzIHwgMjMgfCAgIDEyMyB8ICAwMTIzIHwgMDAxMjMgfFxuICAgIC8vIHwgQUQgMTIzNCAgfCAgMTIzNCB8IDM0IHwgIDEyMzQgfCAgMTIzNCB8IDAxMjM0IHxcbiAgICAvLyB8IEFEIDEyMzQ1IHwgMTIzNDUgfCA0NSB8IDEyMzQ1IHwgMTIzNDUgfCAxMjM0NSB8XG5cbiAgICBjb25zdCBzaWduZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIC8vIFJldHVybnMgMSBmb3IgMSBCQyAod2hpY2ggaXMgeWVhciAwIGluIEphdmFTY3JpcHQpXG4gICAgY29uc3QgeWVhciA9IHNpZ25lZFllYXIgPiAwID8gc2lnbmVkWWVhciA6IDEgLSBzaWduZWRZZWFyO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3ModG9rZW4gPT09IFwieXlcIiA/IHllYXIgJSAxMDAgOiB5ZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIE1vbnRoXG4gIE0oZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICByZXR1cm4gdG9rZW4gPT09IFwiTVwiID8gU3RyaW5nKG1vbnRoICsgMSkgOiBhZGRMZWFkaW5nWmVyb3MobW9udGggKyAxLCAyKTtcbiAgfSxcblxuICAvLyBEYXkgb2YgdGhlIG1vbnRoXG4gIGQoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0RGF0ZSgpLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEFNIG9yIFBNXG4gIGEoZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXRlLmdldEhvdXJzKCkgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcImFcIjpcbiAgICAgIGNhc2UgXCJhYVwiOlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gICAgICBjYXNlIFwiYWFhXCI6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgICBjYXNlIFwiYWFhYWFcIjpcbiAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZVswXTtcbiAgICAgIGNhc2UgXCJhYWFhXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlID09PSBcImFtXCIgPyBcImEubS5cIiA6IFwicC5tLlwiO1xuICAgIH1cbiAgfSxcblxuICAvLyBIb3VyIFsxLTEyXVxuICBoKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXRlLmdldEhvdXJzKCkgJSAxMiB8fCAxMiwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBIb3VyIFswLTIzXVxuICBIKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXRlLmdldEhvdXJzKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gTWludXRlXG4gIG0oZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0TWludXRlcygpLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIFNlY29uZFxuICBzKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXRlLmdldFNlY29uZHMoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBGcmFjdGlvbiBvZiBzZWNvbmRcbiAgUyhkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IG51bWJlck9mRGlnaXRzID0gdG9rZW4ubGVuZ3RoO1xuICAgIGNvbnN0IG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgY29uc3QgZnJhY3Rpb25hbFNlY29uZHMgPSBNYXRoLnRydW5jKFxuICAgICAgbWlsbGlzZWNvbmRzICogTWF0aC5wb3coMTAsIG51bWJlck9mRGlnaXRzIC0gMyksXG4gICAgKTtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGZyYWN0aW9uYWxTZWNvbmRzLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxufTtcbiIsICJpbXBvcnQgeyBnZXREYXlPZlllYXIgfSBmcm9tIFwiLi4vLi4vZ2V0RGF5T2ZZZWFyLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SVNPV2VlayB9IGZyb20gXCIuLi8uLi9nZXRJU09XZWVrLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SVNPV2Vla1llYXIgfSBmcm9tIFwiLi4vLi4vZ2V0SVNPV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyBnZXRXZWVrIH0gZnJvbSBcIi4uLy4uL2dldFdlZWsubWpzXCI7XG5pbXBvcnQgeyBnZXRXZWVrWWVhciB9IGZyb20gXCIuLi8uLi9nZXRXZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IGFkZExlYWRpbmdaZXJvcyB9IGZyb20gXCIuLi9hZGRMZWFkaW5nWmVyb3MubWpzXCI7XG5pbXBvcnQgeyBsaWdodEZvcm1hdHRlcnMgfSBmcm9tIFwiLi9saWdodEZvcm1hdHRlcnMubWpzXCI7XG5cbmNvbnN0IGRheVBlcmlvZEVudW0gPSB7XG4gIGFtOiBcImFtXCIsXG4gIHBtOiBcInBtXCIsXG4gIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gIG5vb246IFwibm9vblwiLFxuICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgbmlnaHQ6IFwibmlnaHRcIixcbn07XG5cbi8qXG4gKiB8ICAgICB8IFVuaXQgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICB8IFVuaXQgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8ICBhICB8IEFNLCBQTSAgICAgICAgICAgICAgICAgICAgICAgICB8ICBBKiB8IE1pbGxpc2Vjb25kcyBpbiBkYXkgICAgICAgICAgICB8XG4gKiB8ICBiICB8IEFNLCBQTSwgbm9vbiwgbWlkbmlnaHQgICAgICAgICB8ICBCICB8IEZsZXhpYmxlIGRheSBwZXJpb2QgICAgICAgICAgICB8XG4gKiB8ICBjICB8IFN0YW5kLWFsb25lIGxvY2FsIGRheSBvZiB3ZWVrICB8ICBDKiB8IExvY2FsaXplZCBob3VyIHcvIGRheSBwZXJpb2QgICB8XG4gKiB8ICBkICB8IERheSBvZiBtb250aCAgICAgICAgICAgICAgICAgICB8ICBEICB8IERheSBvZiB5ZWFyICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBlICB8IExvY2FsIGRheSBvZiB3ZWVrICAgICAgICAgICAgICB8ICBFICB8IERheSBvZiB3ZWVrICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBmICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICBGKiB8IERheSBvZiB3ZWVrIGluIG1vbnRoICAgICAgICAgICB8XG4gKiB8ICBnKiB8IE1vZGlmaWVkIEp1bGlhbiBkYXkgICAgICAgICAgICB8ICBHICB8IEVyYSAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBoICB8IEhvdXIgWzEtMTJdICAgICAgICAgICAgICAgICAgICB8ICBIICB8IEhvdXIgWzAtMjNdICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBpISB8IElTTyBkYXkgb2Ygd2VlayAgICAgICAgICAgICAgICB8ICBJISB8IElTTyB3ZWVrIG9mIHllYXIgICAgICAgICAgICAgICB8XG4gKiB8ICBqKiB8IExvY2FsaXplZCBob3VyIHcvIGRheSBwZXJpb2QgICB8ICBKKiB8IExvY2FsaXplZCBob3VyIHcvbyBkYXkgcGVyaW9kICB8XG4gKiB8ICBrICB8IEhvdXIgWzEtMjRdICAgICAgICAgICAgICAgICAgICB8ICBLICB8IEhvdXIgWzAtMTFdICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBsKiB8IChkZXByZWNhdGVkKSAgICAgICAgICAgICAgICAgICB8ICBMICB8IFN0YW5kLWFsb25lIG1vbnRoICAgICAgICAgICAgICB8XG4gKiB8ICBtICB8IE1pbnV0ZSAgICAgICAgICAgICAgICAgICAgICAgICB8ICBNICB8IE1vbnRoICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBuICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICBOICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBvISB8IE9yZGluYWwgbnVtYmVyIG1vZGlmaWVyICAgICAgICB8ICBPICB8IFRpbWV6b25lIChHTVQpICAgICAgICAgICAgICAgICB8XG4gKiB8ICBwISB8IExvbmcgbG9jYWxpemVkIHRpbWUgICAgICAgICAgICB8ICBQISB8IExvbmcgbG9jYWxpemVkIGRhdGUgICAgICAgICAgICB8XG4gKiB8ICBxICB8IFN0YW5kLWFsb25lIHF1YXJ0ZXIgICAgICAgICAgICB8ICBRICB8IFF1YXJ0ZXIgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICByKiB8IFJlbGF0ZWQgR3JlZ29yaWFuIHllYXIgICAgICAgICB8ICBSISB8IElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyICAgICAgICB8XG4gKiB8ICBzICB8IFNlY29uZCAgICAgICAgICAgICAgICAgICAgICAgICB8ICBTICB8IEZyYWN0aW9uIG9mIHNlY29uZCAgICAgICAgICAgICB8XG4gKiB8ICB0ISB8IFNlY29uZHMgdGltZXN0YW1wICAgICAgICAgICAgICB8ICBUISB8IE1pbGxpc2Vjb25kcyB0aW1lc3RhbXAgICAgICAgICB8XG4gKiB8ICB1ICB8IEV4dGVuZGVkIHllYXIgICAgICAgICAgICAgICAgICB8ICBVKiB8IEN5Y2xpYyB5ZWFyICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICB2KiB8IFRpbWV6b25lIChnZW5lcmljIG5vbi1sb2NhdC4pICB8ICBWKiB8IFRpbWV6b25lIChsb2NhdGlvbikgICAgICAgICAgICB8XG4gKiB8ICB3ICB8IExvY2FsIHdlZWsgb2YgeWVhciAgICAgICAgICAgICB8ICBXKiB8IFdlZWsgb2YgbW9udGggICAgICAgICAgICAgICAgICB8XG4gKiB8ICB4ICB8IFRpbWV6b25lIChJU08tODYwMSB3L28gWikgICAgICB8ICBYICB8IFRpbWV6b25lIChJU08tODYwMSkgICAgICAgICAgICB8XG4gKiB8ICB5ICB8IFllYXIgKGFicykgICAgICAgICAgICAgICAgICAgICB8ICBZICB8IExvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIgICAgICB8XG4gKiB8ICB6ICB8IFRpbWV6b25lIChzcGVjaWZpYyBub24tbG9jYXQuKSB8ICBaKiB8IFRpbWV6b25lIChhbGlhc2VzKSAgICAgICAgICAgICB8XG4gKlxuICogTGV0dGVycyBtYXJrZWQgYnkgKiBhcmUgbm90IGltcGxlbWVudGVkIGJ1dCByZXNlcnZlZCBieSBVbmljb2RlIHN0YW5kYXJkLlxuICpcbiAqIExldHRlcnMgbWFya2VkIGJ5ICEgYXJlIG5vbi1zdGFuZGFyZCwgYnV0IGltcGxlbWVudGVkIGJ5IGRhdGUtZm5zOlxuICogLSBgb2AgbW9kaWZpZXMgdGhlIHByZXZpb3VzIHRva2VuIHRvIHR1cm4gaXQgaW50byBhbiBvcmRpbmFsIChzZWUgYGZvcm1hdGAgZG9jcylcbiAqIC0gYGlgIGlzIElTTyBkYXkgb2Ygd2Vlay4gRm9yIGBpYCBhbmQgYGlpYCBpcyByZXR1cm5zIG51bWVyaWMgSVNPIHdlZWsgZGF5cyxcbiAqICAgaS5lLiA3IGZvciBTdW5kYXksIDEgZm9yIE1vbmRheSwgZXRjLlxuICogLSBgSWAgaXMgSVNPIHdlZWsgb2YgeWVhciwgYXMgb3Bwb3NlZCB0byBgd2Agd2hpY2ggaXMgbG9jYWwgd2VlayBvZiB5ZWFyLlxuICogLSBgUmAgaXMgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIsIGFzIG9wcG9zZWQgdG8gYFlgIHdoaWNoIGlzIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIuXG4gKiAgIGBSYCBpcyBzdXBwb3NlZCB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYElgIGFuZCBgaWBcbiAqICAgZm9yIHVuaXZlcnNhbCBJU08gd2Vlay1udW1iZXJpbmcgZGF0ZSwgd2hlcmVhc1xuICogICBgWWAgaXMgc3VwcG9zZWQgdG8gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGB3YCBhbmQgYGVgXG4gKiAgIGZvciB3ZWVrLW51bWJlcmluZyBkYXRlIHNwZWNpZmljIHRvIHRoZSBsb2NhbGUuXG4gKiAtIGBQYCBpcyBsb25nIGxvY2FsaXplZCBkYXRlIGZvcm1hdFxuICogLSBgcGAgaXMgbG9uZyBsb2NhbGl6ZWQgdGltZSBmb3JtYXRcbiAqL1xuXG5leHBvcnQgY29uc3QgZm9ybWF0dGVycyA9IHtcbiAgLy8gRXJhXG4gIEc6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBlcmEgPSBkYXRlLmdldEZ1bGxZZWFyKCkgPiAwID8gMSA6IDA7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gQUQsIEJDXG4gICAgICBjYXNlIFwiR1wiOlxuICAgICAgY2FzZSBcIkdHXCI6XG4gICAgICBjYXNlIFwiR0dHXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5lcmEoZXJhLCB7IHdpZHRoOiBcImFiYnJldmlhdGVkXCIgfSk7XG4gICAgICAvLyBBLCBCXG4gICAgICBjYXNlIFwiR0dHR0dcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHsgd2lkdGg6IFwibmFycm93XCIgfSk7XG4gICAgICAvLyBBbm5vIERvbWluaSwgQmVmb3JlIENocmlzdFxuICAgICAgY2FzZSBcIkdHR0dcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5lcmEoZXJhLCB7IHdpZHRoOiBcIndpZGVcIiB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gWWVhclxuICB5OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgLy8gT3JkaW5hbCBudW1iZXJcbiAgICBpZiAodG9rZW4gPT09IFwieW9cIikge1xuICAgICAgY29uc3Qgc2lnbmVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIC8vIFJldHVybnMgMSBmb3IgMSBCQyAod2hpY2ggaXMgeWVhciAwIGluIEphdmFTY3JpcHQpXG4gICAgICBjb25zdCB5ZWFyID0gc2lnbmVkWWVhciA+IDAgPyBzaWduZWRZZWFyIDogMSAtIHNpZ25lZFllYXI7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcih5ZWFyLCB7IHVuaXQ6IFwieWVhclwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMueShkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gTG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhclxuICBZOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2lnbmVkV2Vla1llYXIgPSBnZXRXZWVrWWVhcihkYXRlLCBvcHRpb25zKTtcbiAgICAvLyBSZXR1cm5zIDEgZm9yIDEgQkMgKHdoaWNoIGlzIHllYXIgMCBpbiBKYXZhU2NyaXB0KVxuICAgIGNvbnN0IHdlZWtZZWFyID0gc2lnbmVkV2Vla1llYXIgPiAwID8gc2lnbmVkV2Vla1llYXIgOiAxIC0gc2lnbmVkV2Vla1llYXI7XG5cbiAgICAvLyBUd28gZGlnaXQgeWVhclxuICAgIGlmICh0b2tlbiA9PT0gXCJZWVwiKSB7XG4gICAgICBjb25zdCB0d29EaWdpdFllYXIgPSB3ZWVrWWVhciAlIDEwMDtcbiAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3ModHdvRGlnaXRZZWFyLCAyKTtcbiAgICB9XG5cbiAgICAvLyBPcmRpbmFsIG51bWJlclxuICAgIGlmICh0b2tlbiA9PT0gXCJZb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcih3ZWVrWWVhciwgeyB1bml0OiBcInllYXJcIiB9KTtcbiAgICB9XG5cbiAgICAvLyBQYWRkaW5nXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh3ZWVrWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBJU08gd2Vlay1udW1iZXJpbmcgeWVhclxuICBSOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCBpc29XZWVrWWVhciA9IGdldElTT1dlZWtZZWFyKGRhdGUpO1xuXG4gICAgLy8gUGFkZGluZ1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaXNvV2Vla1llYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gRXh0ZW5kZWQgeWVhci4gVGhpcyBpcyBhIHNpbmdsZSBudW1iZXIgZGVzaWduYXRpbmcgdGhlIHllYXIgb2YgdGhpcyBjYWxlbmRhciBzeXN0ZW0uXG4gIC8vIFRoZSBtYWluIGRpZmZlcmVuY2UgYmV0d2VlbiBgeWAgYW5kIGB1YCBsb2NhbGl6ZXJzIGFyZSBCLkMuIHllYXJzOlxuICAvLyB8IFllYXIgfCBgeWAgfCBgdWAgfFxuICAvLyB8LS0tLS0tfC0tLS0tfC0tLS0tfFxuICAvLyB8IEFDIDEgfCAgIDEgfCAgIDEgfFxuICAvLyB8IEJDIDEgfCAgIDEgfCAgIDAgfFxuICAvLyB8IEJDIDIgfCAgIDIgfCAgLTEgfFxuICAvLyBBbHNvIGB5eWAgYWx3YXlzIHJldHVybnMgdGhlIGxhc3QgdHdvIGRpZ2l0cyBvZiBhIHllYXIsXG4gIC8vIHdoaWxlIGB1dWAgcGFkcyBzaW5nbGUgZGlnaXQgeWVhcnMgdG8gMiBjaGFyYWN0ZXJzIGFuZCByZXR1cm5zIG90aGVyIHllYXJzIHVuY2hhbmdlZC5cbiAgdTogZnVuY3Rpb24gKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHllYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gUXVhcnRlclxuICBROiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgcXVhcnRlciA9IE1hdGguY2VpbCgoZGF0ZS5nZXRNb250aCgpICsgMSkgLyAzKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyAxLCAyLCAzLCA0XG4gICAgICBjYXNlIFwiUVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKHF1YXJ0ZXIpO1xuICAgICAgLy8gMDEsIDAyLCAwMywgMDRcbiAgICAgIGNhc2UgXCJRUVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHF1YXJ0ZXIsIDIpO1xuICAgICAgLy8gMXN0LCAybmQsIDNyZCwgNHRoXG4gICAgICBjYXNlIFwiUW9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIocXVhcnRlciwgeyB1bml0OiBcInF1YXJ0ZXJcIiB9KTtcbiAgICAgIC8vIFExLCBRMiwgUTMsIFE0XG4gICAgICBjYXNlIFwiUVFRXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIDEsIDIsIDMsIDQgKG5hcnJvdyBxdWFydGVyOyBjb3VsZCBiZSBub3QgbnVtZXJpY2FsKVxuICAgICAgY2FzZSBcIlFRUVFRXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyAxc3QgcXVhcnRlciwgMm5kIHF1YXJ0ZXIsIC4uLlxuICAgICAgY2FzZSBcIlFRUVFcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBTdGFuZC1hbG9uZSBxdWFydGVyXG4gIHE6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBxdWFydGVyID0gTWF0aC5jZWlsKChkYXRlLmdldE1vbnRoKCkgKyAxKSAvIDMpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDEsIDIsIDMsIDRcbiAgICAgIGNhc2UgXCJxXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcocXVhcnRlcik7XG4gICAgICAvLyAwMSwgMDIsIDAzLCAwNFxuICAgICAgY2FzZSBcInFxXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MocXVhcnRlciwgMik7XG4gICAgICAvLyAxc3QsIDJuZCwgM3JkLCA0dGhcbiAgICAgIGNhc2UgXCJxb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihxdWFydGVyLCB7IHVuaXQ6IFwicXVhcnRlclwiIH0pO1xuICAgICAgLy8gUTEsIFEyLCBRMywgUTRcbiAgICAgIGNhc2UgXCJxcXFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gMSwgMiwgMywgNCAobmFycm93IHF1YXJ0ZXI7IGNvdWxkIGJlIG5vdCBudW1lcmljYWwpXG4gICAgICBjYXNlIFwicXFxcXFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uXG4gICAgICBjYXNlIFwicXFxcVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIE1vbnRoXG4gIE06IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiTVwiOlxuICAgICAgY2FzZSBcIk1NXCI6XG4gICAgICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMuTShkYXRlLCB0b2tlbik7XG4gICAgICAvLyAxc3QsIDJuZCwgLi4uLCAxMnRoXG4gICAgICBjYXNlIFwiTW9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobW9udGggKyAxLCB7IHVuaXQ6IFwibW9udGhcIiB9KTtcbiAgICAgIC8vIEphbiwgRmViLCAuLi4sIERlY1xuICAgICAgY2FzZSBcIk1NTVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIEosIEYsIC4uLiwgRFxuICAgICAgY2FzZSBcIk1NTU1NXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4sIERlY2VtYmVyXG4gICAgICBjYXNlIFwiTU1NTVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7IHdpZHRoOiBcIndpZGVcIiwgY29udGV4dDogXCJmb3JtYXR0aW5nXCIgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFN0YW5kLWFsb25lIG1vbnRoXG4gIEw6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyAxLCAyLCAuLi4sIDEyXG4gICAgICBjYXNlIFwiTFwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKG1vbnRoICsgMSk7XG4gICAgICAvLyAwMSwgMDIsIC4uLiwgMTJcbiAgICAgIGNhc2UgXCJMTFwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKG1vbnRoICsgMSwgMik7XG4gICAgICAvLyAxc3QsIDJuZCwgLi4uLCAxMnRoXG4gICAgICBjYXNlIFwiTG9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobW9udGggKyAxLCB7IHVuaXQ6IFwibW9udGhcIiB9KTtcbiAgICAgIC8vIEphbiwgRmViLCAuLi4sIERlY1xuICAgICAgY2FzZSBcIkxMTFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIEosIEYsIC4uLiwgRFxuICAgICAgY2FzZSBcIkxMTExMXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4sIERlY2VtYmVyXG4gICAgICBjYXNlIFwiTExMTFwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7IHdpZHRoOiBcIndpZGVcIiwgY29udGV4dDogXCJzdGFuZGFsb25lXCIgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIExvY2FsIHdlZWsgb2YgeWVhclxuICB3OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgd2VlayA9IGdldFdlZWsoZGF0ZSwgb3B0aW9ucyk7XG5cbiAgICBpZiAodG9rZW4gPT09IFwid29cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIod2VlaywgeyB1bml0OiBcIndlZWtcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHdlZWssIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gSVNPIHdlZWsgb2YgeWVhclxuICBJOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaXNvV2VlayA9IGdldElTT1dlZWsoZGF0ZSk7XG5cbiAgICBpZiAodG9rZW4gPT09IFwiSW9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaXNvV2VlaywgeyB1bml0OiBcIndlZWtcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGlzb1dlZWssIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gRGF5IG9mIHRoZSBtb250aFxuICBkOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcImRvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0RGF0ZSgpLCB7IHVuaXQ6IFwiZGF0ZVwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMuZChkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gRGF5IG9mIHllYXJcbiAgRDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGRheU9mWWVhciA9IGdldERheU9mWWVhcihkYXRlKTtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJEb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXlPZlllYXIsIHsgdW5pdDogXCJkYXlPZlllYXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRheU9mWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBEYXkgb2Ygd2Vla1xuICBFOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBUdWVcbiAgICAgIGNhc2UgXCJFXCI6XG4gICAgICBjYXNlIFwiRUVcIjpcbiAgICAgIGNhc2UgXCJFRUVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFRcbiAgICAgIGNhc2UgXCJFRUVFRVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1XG4gICAgICBjYXNlIFwiRUVFRUVFXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdWVzZGF5XG4gICAgICBjYXNlIFwiRUVFRVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBMb2NhbCBkYXkgb2Ygd2Vla1xuICBlOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICBjb25zdCBsb2NhbERheU9mV2VlayA9IChkYXlPZldlZWsgLSBvcHRpb25zLndlZWtTdGFydHNPbiArIDgpICUgNyB8fCA3O1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIE51bWVyaWNhbCB2YWx1ZSAoTnRoIGRheSBvZiB3ZWVrIHdpdGggY3VycmVudCBsb2NhbGUgb3Igd2Vla1N0YXJ0c09uKVxuICAgICAgY2FzZSBcImVcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhsb2NhbERheU9mV2Vlayk7XG4gICAgICAvLyBQYWRkZWQgbnVtZXJpY2FsIHZhbHVlXG4gICAgICBjYXNlIFwiZWVcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhsb2NhbERheU9mV2VlaywgMik7XG4gICAgICAvLyAxc3QsIDJuZCwgLi4uLCA3dGhcbiAgICAgIGNhc2UgXCJlb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihsb2NhbERheU9mV2VlaywgeyB1bml0OiBcImRheVwiIH0pO1xuICAgICAgY2FzZSBcImVlZVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVFxuICAgICAgY2FzZSBcImVlZWVlXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVcbiAgICAgIGNhc2UgXCJlZWVlZWVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1ZXNkYXlcbiAgICAgIGNhc2UgXCJlZWVlXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFN0YW5kLWFsb25lIGxvY2FsIGRheSBvZiB3ZWVrXG4gIGM6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIGNvbnN0IGxvY2FsRGF5T2ZXZWVrID0gKGRheU9mV2VlayAtIG9wdGlvbnMud2Vla1N0YXJ0c09uICsgOCkgJSA3IHx8IDc7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gTnVtZXJpY2FsIHZhbHVlIChzYW1lIGFzIGluIGBlYClcbiAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcobG9jYWxEYXlPZldlZWspO1xuICAgICAgLy8gUGFkZGVkIG51bWVyaWNhbCB2YWx1ZVxuICAgICAgY2FzZSBcImNjXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MobG9jYWxEYXlPZldlZWssIHRva2VuLmxlbmd0aCk7XG4gICAgICAvLyAxc3QsIDJuZCwgLi4uLCA3dGhcbiAgICAgIGNhc2UgXCJjb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihsb2NhbERheU9mV2VlaywgeyB1bml0OiBcImRheVwiIH0pO1xuICAgICAgY2FzZSBcImNjY1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVFxuICAgICAgY2FzZSBcImNjY2NjXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVcbiAgICAgIGNhc2UgXCJjY2NjY2NcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1ZXNkYXlcbiAgICAgIGNhc2UgXCJjY2NjXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIElTTyBkYXkgb2Ygd2Vla1xuICBpOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICBjb25zdCBpc29EYXlPZldlZWsgPSBkYXlPZldlZWsgPT09IDAgPyA3IDogZGF5T2ZXZWVrO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDJcbiAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcoaXNvRGF5T2ZXZWVrKTtcbiAgICAgIC8vIDAyXG4gICAgICBjYXNlIFwiaWlcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhpc29EYXlPZldlZWssIHRva2VuLmxlbmd0aCk7XG4gICAgICAvLyAybmRcbiAgICAgIGNhc2UgXCJpb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihpc29EYXlPZldlZWssIHsgdW5pdDogXCJkYXlcIiB9KTtcbiAgICAgIC8vIFR1ZVxuICAgICAgY2FzZSBcImlpaVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVFxuICAgICAgY2FzZSBcImlpaWlpXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVcbiAgICAgIGNhc2UgXCJpaWlpaWlcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1ZXNkYXlcbiAgICAgIGNhc2UgXCJpaWlpXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEFNIG9yIFBNXG4gIGE6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBjb25zdCBkYXlQZXJpb2RFbnVtVmFsdWUgPSBob3VycyAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiYVwiOlxuICAgICAgY2FzZSBcImFhXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiYWFhXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZVxuICAgICAgICAgIC5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJhYWFhYVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJhYWFhXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEFNLCBQTSwgbWlkbmlnaHQsIG5vb25cbiAgYjogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGxldCBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgaWYgKGhvdXJzID09PSAxMikge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5ub29uO1xuICAgIH0gZWxzZSBpZiAoaG91cnMgPT09IDApIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubWlkbmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGhvdXJzIC8gMTIgPj0gMSA/IFwicG1cIiA6IFwiYW1cIjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiYlwiOlxuICAgICAgY2FzZSBcImJiXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiYmJiXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZVxuICAgICAgICAgIC5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJiYmJiYlwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJiYmJiXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIGluIHRoZSBtb3JuaW5nLCBpbiB0aGUgYWZ0ZXJub29uLCBpbiB0aGUgZXZlbmluZywgYXQgbmlnaHRcbiAgQjogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGxldCBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgaWYgKGhvdXJzID49IDE3KSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLmV2ZW5pbmc7XG4gICAgfSBlbHNlIGlmIChob3VycyA+PSAxMikge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5hZnRlcm5vb247XG4gICAgfSBlbHNlIGlmIChob3VycyA+PSA0KSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm1vcm5pbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubmlnaHQ7XG4gICAgfVxuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcIkJcIjpcbiAgICAgIGNhc2UgXCJCQlwiOlxuICAgICAgY2FzZSBcIkJCQlwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcIkJCQkJCXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcIkJCQkJcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSG91ciBbMS0xMl1cbiAgaDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGlmICh0b2tlbiA9PT0gXCJob1wiKSB7XG4gICAgICBsZXQgaG91cnMgPSBkYXRlLmdldEhvdXJzKCkgJSAxMjtcbiAgICAgIGlmIChob3VycyA9PT0gMCkgaG91cnMgPSAxMjtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7IHVuaXQ6IFwiaG91clwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMuaChkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gSG91ciBbMC0yM11cbiAgSDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGlmICh0b2tlbiA9PT0gXCJIb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldEhvdXJzKCksIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5IKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBIb3VyIFswLTExXVxuICBLOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCkgJSAxMjtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJLb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihob3VycywgeyB1bml0OiBcImhvdXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGhvdXJzLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEhvdXIgWzEtMjRdXG4gIGs6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBsZXQgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgaWYgKGhvdXJzID09PSAwKSBob3VycyA9IDI0O1xuXG4gICAgaWYgKHRva2VuID09PSBcImtvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7IHVuaXQ6IFwiaG91clwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gTWludXRlXG4gIG06IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwibW9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRNaW51dGVzKCksIHsgdW5pdDogXCJtaW51dGVcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLm0oZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIFNlY29uZFxuICBzOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcInNvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0U2Vjb25kcygpLCB7IHVuaXQ6IFwic2Vjb25kXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5zKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBGcmFjdGlvbiBvZiBzZWNvbmRcbiAgUzogZnVuY3Rpb24gKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5TKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBUaW1lem9uZSAoSVNPLTg2MDEuIElmIG9mZnNldCBpcyAwLCBvdXRwdXQgaXMgYWx3YXlzIGAnWidgKVxuICBYOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgaWYgKHRpbWV6b25lT2Zmc2V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gXCJaXCI7XG4gICAgfVxuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gSG91cnMgYW5kIG9wdGlvbmFsIG1pbnV0ZXNcbiAgICAgIGNhc2UgXCJYXCI6XG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZVdpdGhPcHRpb25hbE1pbnV0ZXModGltZXpvbmVPZmZzZXQpO1xuXG4gICAgICAvLyBIb3VycywgbWludXRlcyBhbmQgb3B0aW9uYWwgc2Vjb25kcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgIC8vIE5vdGU6IG5laXRoZXIgSVNPLTg2MDEgbm9yIEphdmFTY3JpcHQgc3VwcG9ydHMgc2Vjb25kcyBpbiB0aW1lem9uZSBvZmZzZXRzXG4gICAgICAvLyBzbyB0aGlzIHRva2VuIGFsd2F5cyBoYXMgdGhlIHNhbWUgb3V0cHV0IGFzIGBYWGBcbiAgICAgIGNhc2UgXCJYWFhYXCI6XG4gICAgICBjYXNlIFwiWFhcIjogLy8gSG91cnMgYW5kIG1pbnV0ZXMgd2l0aG91dCBgOmAgZGVsaW1pdGVyXG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCk7XG5cbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYFhYWGBcbiAgICAgIGNhc2UgXCJYWFhYWFwiOlxuICAgICAgY2FzZSBcIlhYWFwiOiAvLyBIb3VycyBhbmQgbWludXRlcyB3aXRoIGA6YCBkZWxpbWl0ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgIH1cbiAgfSxcblxuICAvLyBUaW1lem9uZSAoSVNPLTg2MDEuIElmIG9mZnNldCBpcyAwLCBvdXRwdXQgaXMgYCcrMDA6MDAnYCBvciBlcXVpdmFsZW50KVxuICB4OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gSG91cnMgYW5kIG9wdGlvbmFsIG1pbnV0ZXNcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZVdpdGhPcHRpb25hbE1pbnV0ZXModGltZXpvbmVPZmZzZXQpO1xuXG4gICAgICAvLyBIb3VycywgbWludXRlcyBhbmQgb3B0aW9uYWwgc2Vjb25kcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgIC8vIE5vdGU6IG5laXRoZXIgSVNPLTg2MDEgbm9yIEphdmFTY3JpcHQgc3VwcG9ydHMgc2Vjb25kcyBpbiB0aW1lem9uZSBvZmZzZXRzXG4gICAgICAvLyBzbyB0aGlzIHRva2VuIGFsd2F5cyBoYXMgdGhlIHNhbWUgb3V0cHV0IGFzIGB4eGBcbiAgICAgIGNhc2UgXCJ4eHh4XCI6XG4gICAgICBjYXNlIFwieHhcIjogLy8gSG91cnMgYW5kIG1pbnV0ZXMgd2l0aG91dCBgOmAgZGVsaW1pdGVyXG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCk7XG5cbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYHh4eGBcbiAgICAgIGNhc2UgXCJ4eHh4eFwiOlxuICAgICAgY2FzZSBcInh4eFwiOiAvLyBIb3VycyBhbmQgbWludXRlcyB3aXRoIGA6YCBkZWxpbWl0ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgIH1cbiAgfSxcblxuICAvLyBUaW1lem9uZSAoR01UKVxuICBPOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gU2hvcnRcbiAgICAgIGNhc2UgXCJPXCI6XG4gICAgICBjYXNlIFwiT09cIjpcbiAgICAgIGNhc2UgXCJPT09cIjpcbiAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZVNob3J0KHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAvLyBMb25nXG4gICAgICBjYXNlIFwiT09PT1wiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgIH1cbiAgfSxcblxuICAvLyBUaW1lem9uZSAoc3BlY2lmaWMgbm9uLWxvY2F0aW9uKVxuICB6OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gU2hvcnRcbiAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICBjYXNlIFwienpcIjpcbiAgICAgIGNhc2UgXCJ6enpcIjpcbiAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZVNob3J0KHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAvLyBMb25nXG4gICAgICBjYXNlIFwienp6elwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgIH1cbiAgfSxcblxuICAvLyBTZWNvbmRzIHRpbWVzdGFtcFxuICB0OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGgudHJ1bmMoZGF0ZS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHRpbWVzdGFtcCwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBNaWxsaXNlY29uZHMgdGltZXN0YW1wXG4gIFQ6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0aW1lc3RhbXAsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBmb3JtYXRUaW1lem9uZVNob3J0KG9mZnNldCwgZGVsaW1pdGVyID0gXCJcIikge1xuICBjb25zdCBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gIGNvbnN0IGFic09mZnNldCA9IE1hdGguYWJzKG9mZnNldCk7XG4gIGNvbnN0IGhvdXJzID0gTWF0aC50cnVuYyhhYnNPZmZzZXQgLyA2MCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBhYnNPZmZzZXQgJSA2MDtcbiAgaWYgKG1pbnV0ZXMgPT09IDApIHtcbiAgICByZXR1cm4gc2lnbiArIFN0cmluZyhob3Vycyk7XG4gIH1cbiAgcmV0dXJuIHNpZ24gKyBTdHJpbmcoaG91cnMpICsgZGVsaW1pdGVyICsgYWRkTGVhZGluZ1plcm9zKG1pbnV0ZXMsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lem9uZVdpdGhPcHRpb25hbE1pbnV0ZXMob2Zmc2V0LCBkZWxpbWl0ZXIpIHtcbiAgaWYgKG9mZnNldCAlIDYwID09PSAwKSB7XG4gICAgY29uc3Qgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICAgIHJldHVybiBzaWduICsgYWRkTGVhZGluZ1plcm9zKE1hdGguYWJzKG9mZnNldCkgLyA2MCwgMik7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKG9mZnNldCwgZGVsaW1pdGVyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VGltZXpvbmUob2Zmc2V0LCBkZWxpbWl0ZXIgPSBcIlwiKSB7XG4gIGNvbnN0IHNpZ24gPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcbiAgY29uc3QgYWJzT2Zmc2V0ID0gTWF0aC5hYnMob2Zmc2V0KTtcbiAgY29uc3QgaG91cnMgPSBhZGRMZWFkaW5nWmVyb3MoTWF0aC50cnVuYyhhYnNPZmZzZXQgLyA2MCksIDIpO1xuICBjb25zdCBtaW51dGVzID0gYWRkTGVhZGluZ1plcm9zKGFic09mZnNldCAlIDYwLCAyKTtcbiAgcmV0dXJuIHNpZ24gKyBob3VycyArIGRlbGltaXRlciArIG1pbnV0ZXM7XG59XG4iLCAiY29uc3QgZGF0ZUxvbmdGb3JtYXR0ZXIgPSAocGF0dGVybiwgZm9ybWF0TG9uZykgPT4ge1xuICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICBjYXNlIFwiUFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7IHdpZHRoOiBcInNob3J0XCIgfSk7XG4gICAgY2FzZSBcIlBQXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHsgd2lkdGg6IFwibWVkaXVtXCIgfSk7XG4gICAgY2FzZSBcIlBQUFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7IHdpZHRoOiBcImxvbmdcIiB9KTtcbiAgICBjYXNlIFwiUFBQUFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHsgd2lkdGg6IFwiZnVsbFwiIH0pO1xuICB9XG59O1xuXG5jb25zdCB0aW1lTG9uZ0Zvcm1hdHRlciA9IChwYXR0ZXJuLCBmb3JtYXRMb25nKSA9PiB7XG4gIHN3aXRjaCAocGF0dGVybikge1xuICAgIGNhc2UgXCJwXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy50aW1lKHsgd2lkdGg6IFwic2hvcnRcIiB9KTtcbiAgICBjYXNlIFwicHBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoeyB3aWR0aDogXCJtZWRpdW1cIiB9KTtcbiAgICBjYXNlIFwicHBwXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy50aW1lKHsgd2lkdGg6IFwibG9uZ1wiIH0pO1xuICAgIGNhc2UgXCJwcHBwXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoeyB3aWR0aDogXCJmdWxsXCIgfSk7XG4gIH1cbn07XG5cbmNvbnN0IGRhdGVUaW1lTG9uZ0Zvcm1hdHRlciA9IChwYXR0ZXJuLCBmb3JtYXRMb25nKSA9PiB7XG4gIGNvbnN0IG1hdGNoUmVzdWx0ID0gcGF0dGVybi5tYXRjaCgvKFArKShwKyk/LykgfHwgW107XG4gIGNvbnN0IGRhdGVQYXR0ZXJuID0gbWF0Y2hSZXN1bHRbMV07XG4gIGNvbnN0IHRpbWVQYXR0ZXJuID0gbWF0Y2hSZXN1bHRbMl07XG5cbiAgaWYgKCF0aW1lUGF0dGVybikge1xuICAgIHJldHVybiBkYXRlTG9uZ0Zvcm1hdHRlcihwYXR0ZXJuLCBmb3JtYXRMb25nKTtcbiAgfVxuXG4gIGxldCBkYXRlVGltZUZvcm1hdDtcblxuICBzd2l0Y2ggKGRhdGVQYXR0ZXJuKSB7XG4gICAgY2FzZSBcIlBcIjpcbiAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7IHdpZHRoOiBcInNob3J0XCIgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUFBcIjpcbiAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7IHdpZHRoOiBcIm1lZGl1bVwiIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBQUFwiOlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHsgd2lkdGg6IFwibG9uZ1wiIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBQUFBcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHsgd2lkdGg6IFwiZnVsbFwiIH0pO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gZGF0ZVRpbWVGb3JtYXRcbiAgICAucmVwbGFjZShcInt7ZGF0ZX19XCIsIGRhdGVMb25nRm9ybWF0dGVyKGRhdGVQYXR0ZXJuLCBmb3JtYXRMb25nKSlcbiAgICAucmVwbGFjZShcInt7dGltZX19XCIsIHRpbWVMb25nRm9ybWF0dGVyKHRpbWVQYXR0ZXJuLCBmb3JtYXRMb25nKSk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9uZ0Zvcm1hdHRlcnMgPSB7XG4gIHA6IHRpbWVMb25nRm9ybWF0dGVyLFxuICBQOiBkYXRlVGltZUxvbmdGb3JtYXR0ZXIsXG59O1xuIiwgImNvbnN0IGRheU9mWWVhclRva2VuUkUgPSAvXkQrJC87XG5jb25zdCB3ZWVrWWVhclRva2VuUkUgPSAvXlkrJC87XG5cbmNvbnN0IHRocm93VG9rZW5zID0gW1wiRFwiLCBcIkREXCIsIFwiWVlcIiwgXCJZWVlZXCJdO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm90ZWN0ZWREYXlPZlllYXJUb2tlbih0b2tlbikge1xuICByZXR1cm4gZGF5T2ZZZWFyVG9rZW5SRS50ZXN0KHRva2VuKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbih0b2tlbikge1xuICByZXR1cm4gd2Vla1llYXJUb2tlblJFLnRlc3QodG9rZW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2Fybk9yVGhyb3dQcm90ZWN0ZWRFcnJvcih0b2tlbiwgZm9ybWF0LCBpbnB1dCkge1xuICBjb25zdCBfbWVzc2FnZSA9IG1lc3NhZ2UodG9rZW4sIGZvcm1hdCwgaW5wdXQpO1xuICBjb25zb2xlLndhcm4oX21lc3NhZ2UpO1xuICBpZiAodGhyb3dUb2tlbnMuaW5jbHVkZXModG9rZW4pKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihfbWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIG1lc3NhZ2UodG9rZW4sIGZvcm1hdCwgaW5wdXQpIHtcbiAgY29uc3Qgc3ViamVjdCA9IHRva2VuWzBdID09PSBcIllcIiA/IFwieWVhcnNcIiA6IFwiZGF5cyBvZiB0aGUgbW9udGhcIjtcbiAgcmV0dXJuIGBVc2UgXFxgJHt0b2tlbi50b0xvd2VyQ2FzZSgpfVxcYCBpbnN0ZWFkIG9mIFxcYCR7dG9rZW59XFxgIChpbiBcXGAke2Zvcm1hdH1cXGApIGZvciBmb3JtYXR0aW5nICR7c3ViamVjdH0gdG8gdGhlIGlucHV0IFxcYCR7aW5wdXR9XFxgOyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRgO1xufVxuIiwgImltcG9ydCB7IGRlZmF1bHRMb2NhbGUgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRMb2NhbGUubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL19saWIvZGVmYXVsdE9wdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBmb3JtYXR0ZXJzIH0gZnJvbSBcIi4vX2xpYi9mb3JtYXQvZm9ybWF0dGVycy5tanNcIjtcbmltcG9ydCB7IGxvbmdGb3JtYXR0ZXJzIH0gZnJvbSBcIi4vX2xpYi9mb3JtYXQvbG9uZ0Zvcm1hdHRlcnMubWpzXCI7XG5pbXBvcnQge1xuICBpc1Byb3RlY3RlZERheU9mWWVhclRva2VuLFxuICBpc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4sXG4gIHdhcm5PclRocm93UHJvdGVjdGVkRXJyb3IsXG59IGZyb20gXCIuL19saWIvcHJvdGVjdGVkVG9rZW5zLm1qc1wiO1xuaW1wb3J0IHsgaXNWYWxpZCB9IGZyb20gXCIuL2lzVmFsaWQubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8vIFJleHBvcnRzIG9mIGludGVybmFsIGZvciBsaWJyYXJpZXMgdG8gdXNlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvaXNzdWVzLzM2MzgjaXNzdWVjb21tZW50LTE4NzcwODI4NzRcbmV4cG9ydCB7IGZvcm1hdHRlcnMsIGxvbmdGb3JtYXR0ZXJzIH07XG5cbi8vIFRoaXMgUmVnRXhwIGNvbnNpc3RzIG9mIHRocmVlIHBhcnRzIHNlcGFyYXRlZCBieSBgfGA6XG4vLyAtIFt5WVFxTUx3SWREZWNpaEhLa21zXW8gbWF0Y2hlcyBhbnkgYXZhaWxhYmxlIG9yZGluYWwgbnVtYmVyIHRva2VuXG4vLyAgIChvbmUgb2YgdGhlIGNlcnRhaW4gbGV0dGVycyBmb2xsb3dlZCBieSBgb2ApXG4vLyAtIChcXHcpXFwxKiBtYXRjaGVzIGFueSBzZXF1ZW5jZXMgb2YgdGhlIHNhbWUgbGV0dGVyXG4vLyAtICcnIG1hdGNoZXMgdHdvIHF1b3RlIGNoYXJhY3RlcnMgaW4gYSByb3dcbi8vIC0gJygnJ3xbXiddKSsoJ3wkKSBtYXRjaGVzIGFueXRoaW5nIHN1cnJvdW5kZWQgYnkgdHdvIHF1b3RlIGNoYXJhY3RlcnMgKCcpLFxuLy8gICBleGNlcHQgYSBzaW5nbGUgcXVvdGUgc3ltYm9sLCB3aGljaCBlbmRzIHRoZSBzZXF1ZW5jZS5cbi8vICAgVHdvIHF1b3RlIGNoYXJhY3RlcnMgZG8gbm90IGVuZCB0aGUgc2VxdWVuY2UuXG4vLyAgIElmIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHNpbmdsZSBxdW90ZVxuLy8gICB0aGVuIHRoZSBzZXF1ZW5jZSB3aWxsIGNvbnRpbnVlIHVudGlsIHRoZSBlbmQgb2YgdGhlIHN0cmluZy5cbi8vIC0gLiBtYXRjaGVzIGFueSBzaW5nbGUgY2hhcmFjdGVyIHVubWF0Y2hlZCBieSBwcmV2aW91cyBwYXJ0cyBvZiB0aGUgUmVnRXhwc1xuY29uc3QgZm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCA9XG4gIC9beVlRcU1Md0lkRGVjaWhIS2ttc11vfChcXHcpXFwxKnwnJ3wnKCcnfFteJ10pKygnfCQpfC4vZztcblxuLy8gVGhpcyBSZWdFeHAgY2F0Y2hlcyBzeW1ib2xzIGVzY2FwZWQgYnkgcXVvdGVzLCBhbmQgYWxzb1xuLy8gc2VxdWVuY2VzIG9mIHN5bWJvbHMgUCwgcCwgYW5kIHRoZSBjb21iaW5hdGlvbnMgbGlrZSBgUFBQUFBQUHBwcHBwYFxuY29uc3QgbG9uZ0Zvcm1hdHRpbmdUb2tlbnNSZWdFeHAgPSAvUCtwK3xQK3xwK3wnJ3wnKCcnfFteJ10pKygnfCQpfC4vZztcblxuY29uc3QgZXNjYXBlZFN0cmluZ1JlZ0V4cCA9IC9eJyhbXl0qPyknPyQvO1xuY29uc3QgZG91YmxlUXVvdGVSZWdFeHAgPSAvJycvZztcbmNvbnN0IHVuZXNjYXBlZExhdGluQ2hhcmFjdGVyUmVnRXhwID0gL1thLXpBLVpdLztcblxuZXhwb3J0IHsgZm9ybWF0IGFzIGZvcm1hdERhdGUgfTtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGZvcm1hdH0gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGZvcm1hdFxuICogQGFsaWFzIGZvcm1hdERhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgRm9ybWF0IHRoZSBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmcgaW4gdGhlIGdpdmVuIGZvcm1hdC4gVGhlIHJlc3VsdCBtYXkgdmFyeSBieSBsb2NhbGUuXG4gKlxuICogPiBcdTI2QTBcdUZFMEYgUGxlYXNlIG5vdGUgdGhhdCB0aGUgYGZvcm1hdGAgdG9rZW5zIGRpZmZlciBmcm9tIE1vbWVudC5qcyBhbmQgb3RoZXIgbGlicmFyaWVzLlxuICogPiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqXG4gKiBUaGUgY2hhcmFjdGVycyB3cmFwcGVkIGJldHdlZW4gdHdvIHNpbmdsZSBxdW90ZXMgY2hhcmFjdGVycyAoJykgYXJlIGVzY2FwZWQuXG4gKiBUd28gc2luZ2xlIHF1b3RlcyBpbiBhIHJvdywgd2hldGhlciBpbnNpZGUgb3Igb3V0c2lkZSBhIHF1b3RlZCBzZXF1ZW5jZSwgcmVwcmVzZW50IGEgJ3JlYWwnIHNpbmdsZSBxdW90ZS5cbiAqIChzZWUgdGhlIGxhc3QgZXhhbXBsZSlcbiAqXG4gKiBGb3JtYXQgb2YgdGhlIHN0cmluZyBpcyBiYXNlZCBvbiBVbmljb2RlIFRlY2huaWNhbCBTdGFuZGFyZCAjMzU6XG4gKiBodHRwczovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyMzUvdHIzNS1kYXRlcy5odG1sI0RhdGVfRmllbGRfU3ltYm9sX1RhYmxlXG4gKiB3aXRoIGEgZmV3IGFkZGl0aW9ucyAoc2VlIG5vdGUgNyBiZWxvdyB0aGUgdGFibGUpLlxuICpcbiAqIEFjY2VwdGVkIHBhdHRlcm5zOlxuICogfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUGF0dGVybiB8IFJlc3VsdCBleGFtcGxlcyAgICAgICAgICAgICAgICAgICB8IE5vdGVzIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS18XG4gKiB8IEVyYSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBHLi5HR0cgIHwgQUQsIEJDICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgR0dHRyAgICB8IEFubm8gRG9taW5pLCBCZWZvcmUgQ2hyaXN0ICAgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEdHR0dHICAgfCBBLCBCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IENhbGVuZGFyIHllYXIgICAgICAgICAgICAgICAgICAgfCB5ICAgICAgIHwgNDQsIDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeW8gICAgICB8IDQ0dGgsIDFzdCwgMHRoLCAxN3RoICAgICAgICAgICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHl5ICAgICAgfCA0NCwgMDEsIDAwLCAxNyAgICAgICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5eXkgICAgIHwgMDQ0LCAwMDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeXl5eSAgICB8IDAwNDQsIDAwMDEsIDE5MDAsIDIwMTcgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHl5eXl5ICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDUgICB8XG4gKiB8IExvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIgICAgICAgfCBZICAgICAgIHwgNDQsIDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWW8gICAgICB8IDQ0dGgsIDFzdCwgMTkwMHRoLCAyMDE3dGggICAgICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFlZICAgICAgfCA0NCwgMDEsIDAwLCAxNyAgICAgICAgICAgICAgICAgICAgfCA1LDggICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZWVkgICAgIHwgMDQ0LCAwMDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWVlZWSAgICB8IDAwNDQsIDAwMDEsIDE5MDAsIDIwMTcgICAgICAgICAgICB8IDUsOCAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFlZWVlZICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDUgICB8XG4gKiB8IElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyICAgICAgICAgfCBSICAgICAgIHwgLTQzLCAwLCAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUlIgICAgICB8IC00MywgMDAsIDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFJSUiAgICAgfCAtMDQzLCAwMDAsIDAwMSwgMTkwMCwgMjAxNyAgICAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBSUlJSICAgIHwgLTAwNDMsIDAwMDAsIDAwMDEsIDE5MDAsIDIwMTcgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUlJSUlIgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNSw3IHxcbiAqIHwgRXh0ZW5kZWQgeWVhciAgICAgICAgICAgICAgICAgICB8IHUgICAgICAgfCAtNDMsIDAsIDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB1dSAgICAgIHwgLTQzLCAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgdXV1ICAgICB8IC0wNDMsIDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHV1dXUgICAgfCAtMDA0MywgMDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB1dXV1dSAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw1ICAgfFxuICogfCBRdWFydGVyIChmb3JtYXR0aW5nKSAgICAgICAgICAgIHwgUSAgICAgICB8IDEsIDIsIDMsIDQgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFvICAgICAgfCAxc3QsIDJuZCwgM3JkLCA0dGggICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBRUSAgICAgIHwgMDEsIDAyLCAwMywgMDQgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUVFRICAgICB8IFExLCBRMiwgUTMsIFE0ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFRUVEgICAgfCAxc3QgcXVhcnRlciwgMm5kIHF1YXJ0ZXIsIC4uLiAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBRUVFRUSAgIHwgMSwgMiwgMywgNCAgICAgICAgICAgICAgICAgICAgICAgIHwgNCAgICAgfFxuICogfCBRdWFydGVyIChzdGFuZC1hbG9uZSkgICAgICAgICAgIHwgcSAgICAgICB8IDEsIDIsIDMsIDQgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFvICAgICAgfCAxc3QsIDJuZCwgM3JkLCA0dGggICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBxcSAgICAgIHwgMDEsIDAyLCAwMywgMDQgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcXFxICAgICB8IFExLCBRMiwgUTMsIFE0ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFxcXEgICAgfCAxc3QgcXVhcnRlciwgMm5kIHF1YXJ0ZXIsIC4uLiAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBxcXFxcSAgIHwgMSwgMiwgMywgNCAgICAgICAgICAgICAgICAgICAgICAgIHwgNCAgICAgfFxuICogfCBNb250aCAoZm9ybWF0dGluZykgICAgICAgICAgICAgIHwgTSAgICAgICB8IDEsIDIsIC4uLiwgMTIgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1vICAgICAgfCAxc3QsIDJuZCwgLi4uLCAxMnRoICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNTSAgICAgIHwgMDEsIDAyLCAuLi4sIDEyICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTU1NICAgICB8IEphbiwgRmViLCAuLi4sIERlYyAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1NTU0gICAgfCBKYW51YXJ5LCBGZWJydWFyeSwgLi4uLCBEZWNlbWJlciAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNTU1NTSAgIHwgSiwgRiwgLi4uLCBEICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBNb250aCAoc3RhbmQtYWxvbmUpICAgICAgICAgICAgIHwgTCAgICAgICB8IDEsIDIsIC4uLiwgMTIgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExvICAgICAgfCAxc3QsIDJuZCwgLi4uLCAxMnRoICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMTCAgICAgIHwgMDEsIDAyLCAuLi4sIDEyICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTExMICAgICB8IEphbiwgRmViLCAuLi4sIERlYyAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExMTEwgICAgfCBKYW51YXJ5LCBGZWJydWFyeSwgLi4uLCBEZWNlbWJlciAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMTExMTCAgIHwgSiwgRiwgLi4uLCBEICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBMb2NhbCB3ZWVrIG9mIHllYXIgICAgICAgICAgICAgIHwgdyAgICAgICB8IDEsIDIsIC4uLiwgNTMgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHdvICAgICAgfCAxc3QsIDJuZCwgLi4uLCA1M3RoICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB3dyAgICAgIHwgMDEsIDAyLCAuLi4sIDUzICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBJU08gd2VlayBvZiB5ZWFyICAgICAgICAgICAgICAgIHwgSSAgICAgICB8IDEsIDIsIC4uLiwgNTMgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IElvICAgICAgfCAxc3QsIDJuZCwgLi4uLCA1M3RoICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBJSSAgICAgIHwgMDEsIDAyLCAuLi4sIDUzICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCBEYXkgb2YgbW9udGggICAgICAgICAgICAgICAgICAgIHwgZCAgICAgICB8IDEsIDIsIC4uLiwgMzEgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGRvICAgICAgfCAxc3QsIDJuZCwgLi4uLCAzMXN0ICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBkZCAgICAgIHwgMDEsIDAyLCAuLi4sIDMxICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBEYXkgb2YgeWVhciAgICAgICAgICAgICAgICAgICAgIHwgRCAgICAgICB8IDEsIDIsIC4uLiwgMzY1LCAzNjYgICAgICAgICAgICAgICB8IDkgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERvICAgICAgfCAxc3QsIDJuZCwgLi4uLCAzNjV0aCwgMzY2dGggICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBERCAgICAgIHwgMDEsIDAyLCAuLi4sIDM2NSwgMzY2ICAgICAgICAgICAgIHwgOSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgREREICAgICB8IDAwMSwgMDAyLCAuLi4sIDM2NSwgMzY2ICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEREREQgICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzICAgICB8XG4gKiB8IERheSBvZiB3ZWVrIChmb3JtYXR0aW5nKSAgICAgICAgfCBFLi5FRUUgIHwgTW9uLCBUdWUsIFdlZCwgLi4uLCBTdW4gICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRUVFRSAgICB8IE1vbmRheSwgVHVlc2RheSwgLi4uLCBTdW5kYXkgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEVFRUVFICAgfCBNLCBULCBXLCBULCBGLCBTLCBTICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBFRUVFRUUgIHwgTW8sIFR1LCBXZSwgVGgsIEZyLCBTYSwgU3UgICAgICAgIHwgICAgICAgfFxuICogfCBJU08gZGF5IG9mIHdlZWsgKGZvcm1hdHRpbmcpICAgIHwgaSAgICAgICB8IDEsIDIsIDMsIC4uLiwgNyAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlvICAgICAgfCAxc3QsIDJuZCwgLi4uLCA3dGggICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaSAgICAgIHwgMDEsIDAyLCAuLi4sIDA3ICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaWlpICAgICB8IE1vbiwgVHVlLCBXZWQsIC4uLiwgU3VuICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpaWkgICAgfCBNb25kYXksIFR1ZXNkYXksIC4uLiwgU3VuZGF5ICAgICAgfCAyLDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaWlpaSAgIHwgTSwgVCwgVywgVCwgRiwgUywgUyAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaWlpaWlpICB8IE1vLCBUdSwgV2UsIFRoLCBGciwgU2EsIFN1ICAgICAgICB8IDcgICAgIHxcbiAqIHwgTG9jYWwgZGF5IG9mIHdlZWsgKGZvcm1hdHRpbmcpICB8IGUgICAgICAgfCAyLCAzLCA0LCAuLi4sIDEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbyAgICAgIHwgMm5kLCAzcmQsIC4uLiwgMXN0ICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWUgICAgICB8IDAyLCAwMywgLi4uLCAwMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVlZSAgICAgfCBNb24sIFR1ZSwgV2VkLCAuLi4sIFN1biAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZWVlICAgIHwgTW9uZGF5LCBUdWVzZGF5LCAuLi4sIFN1bmRheSAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWVlZWUgICB8IE0sIFQsIFcsIFQsIEYsIFMsIFMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVlZWVlZSAgfCBNbywgVHUsIFdlLCBUaCwgRnIsIFNhLCBTdSAgICAgICAgfCAgICAgICB8XG4gKiB8IExvY2FsIGRheSBvZiB3ZWVrIChzdGFuZC1hbG9uZSkgfCBjICAgICAgIHwgMiwgMywgNCwgLi4uLCAxICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY28gICAgICB8IDJuZCwgM3JkLCAuLi4sIDFzdCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjICAgICAgfCAwMiwgMDMsIC4uLiwgMDEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjY2MgICAgIHwgTW9uLCBUdWUsIFdlZCwgLi4uLCBTdW4gICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2NjYyAgICB8IE1vbmRheSwgVHVlc2RheSwgLi4uLCBTdW5kYXkgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjY2NjICAgfCBNLCBULCBXLCBULCBGLCBTLCBTICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjY2NjY2MgIHwgTW8sIFR1LCBXZSwgVGgsIEZyLCBTYSwgU3UgICAgICAgIHwgICAgICAgfFxuICogfCBBTSwgUE0gICAgICAgICAgICAgICAgICAgICAgICAgIHwgYS4uYWEgICB8IEFNLCBQTSAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFhYSAgICAgfCBhbSwgcG0gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhYWFhICAgIHwgYS5tLiwgcC5tLiAgICAgICAgICAgICAgICAgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYWFhYWEgICB8IGEsIHAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgQU0sIFBNLCBub29uLCBtaWRuaWdodCAgICAgICAgICB8IGIuLmJiICAgfCBBTSwgUE0sIG5vb24sIG1pZG5pZ2h0ICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBiYmIgICAgIHwgYW0sIHBtLCBub29uLCBtaWRuaWdodCAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYmJiYiAgICB8IGEubS4sIHAubS4sIG5vb24sIG1pZG5pZ2h0ICAgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGJiYmJiICAgfCBhLCBwLCBuLCBtaSAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IEZsZXhpYmxlIGRheSBwZXJpb2QgICAgICAgICAgICAgfCBCLi5CQkIgIHwgYXQgbmlnaHQsIGluIHRoZSBtb3JuaW5nLCAuLi4gICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQkJCQiAgICB8IGF0IG5pZ2h0LCBpbiB0aGUgbW9ybmluZywgLi4uICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEJCQkJCICAgfCBhdCBuaWdodCwgaW4gdGhlIG1vcm5pbmcsIC4uLiAgICAgfCAgICAgICB8XG4gKiB8IEhvdXIgWzEtMTJdICAgICAgICAgICAgICAgICAgICAgfCBoICAgICAgIHwgMSwgMiwgLi4uLCAxMSwgMTIgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDExdGgsIDEydGggICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGhoICAgICAgfCAwMSwgMDIsIC4uLiwgMTEsIDEyICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IEhvdXIgWzAtMjNdICAgICAgICAgICAgICAgICAgICAgfCBIICAgICAgIHwgMCwgMSwgMiwgLi4uLCAyMyAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSG8gICAgICB8IDB0aCwgMXN0LCAybmQsIC4uLiwgMjNyZCAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEhIICAgICAgfCAwMCwgMDEsIDAyLCAuLi4sIDIzICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IEhvdXIgWzAtMTFdICAgICAgICAgICAgICAgICAgICAgfCBLICAgICAgIHwgMSwgMiwgLi4uLCAxMSwgMCAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgS28gICAgICB8IDFzdCwgMm5kLCAuLi4sIDExdGgsIDB0aCAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEtLICAgICAgfCAwMSwgMDIsIC4uLiwgMTEsIDAwICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IEhvdXIgWzEtMjRdICAgICAgICAgICAgICAgICAgICAgfCBrICAgICAgIHwgMjQsIDEsIDIsIC4uLiwgMjMgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwga28gICAgICB8IDI0dGgsIDFzdCwgMm5kLCAuLi4sIDIzcmQgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGtrICAgICAgfCAyNCwgMDEsIDAyLCAuLi4sIDIzICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IE1pbnV0ZSAgICAgICAgICAgICAgICAgICAgICAgICAgfCBtICAgICAgIHwgMCwgMSwgLi4uLCA1OSAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgbW8gICAgICB8IDB0aCwgMXN0LCAuLi4sIDU5dGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IG1tICAgICAgfCAwMCwgMDEsIC4uLiwgNTkgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IFNlY29uZCAgICAgICAgICAgICAgICAgICAgICAgICAgfCBzICAgICAgIHwgMCwgMSwgLi4uLCA1OSAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgc28gICAgICB8IDB0aCwgMXN0LCAuLi4sIDU5dGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHNzICAgICAgfCAwMCwgMDEsIC4uLiwgNTkgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IEZyYWN0aW9uIG9mIHNlY29uZCAgICAgICAgICAgICAgfCBTICAgICAgIHwgMCwgMSwgLi4uLCA5ICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU1MgICAgICB8IDAwLCAwMSwgLi4uLCA5OSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFNTUyAgICAgfCAwMDAsIDAwMSwgLi4uLCA5OTkgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTU1NTICAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyAgICAgfFxuICogfCBUaW1lem9uZSAoSVNPLTg2MDEgdy8gWikgICAgICAgIHwgWCAgICAgICB8IC0wOCwgKzA1MzAsIFogICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFhYICAgICAgfCAtMDgwMCwgKzA1MzAsIFogICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBYWFggICAgIHwgLTA4OjAwLCArMDU6MzAsIFogICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWFhYWCAgICB8IC0wODAwLCArMDUzMCwgWiwgKzEyMzQ1NiAgICAgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFhYWFhYICAgfCAtMDg6MDAsICswNTozMCwgWiwgKzEyOjM0OjU2ICAgICAgfCAgICAgICB8XG4gKiB8IFRpbWV6b25lIChJU08tODYwMSB3L28gWikgICAgICAgfCB4ICAgICAgIHwgLTA4LCArMDUzMCwgKzAwICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeHggICAgICB8IC0wODAwLCArMDUzMCwgKzAwMDAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHh4eCAgICAgfCAtMDg6MDAsICswNTozMCwgKzAwOjAwICAgICAgICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4eHh4ICAgIHwgLTA4MDAsICswNTMwLCArMDAwMCwgKzEyMzQ1NiAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeHh4eHggICB8IC0wODowMCwgKzA1OjMwLCArMDA6MDAsICsxMjozNDo1NiB8ICAgICAgIHxcbiAqIHwgVGltZXpvbmUgKEdNVCkgICAgICAgICAgICAgICAgICB8IE8uLi5PT08gfCBHTVQtOCwgR01UKzU6MzAsIEdNVCswICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBPT09PICAgIHwgR01ULTA4OjAwLCBHTVQrMDU6MzAsIEdNVCswMDowMCAgIHwgMiAgICAgfFxuICogfCBUaW1lem9uZSAoc3BlY2lmaWMgbm9uLWxvY2F0LikgIHwgei4uLnp6eiB8IEdNVC04LCBHTVQrNTozMCwgR01UKzAgICAgICAgICAgICB8IDYgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHp6enogICAgfCBHTVQtMDg6MDAsIEdNVCswNTozMCwgR01UKzAwOjAwICAgfCAyLDYgICB8XG4gKiB8IFNlY29uZHMgdGltZXN0YW1wICAgICAgICAgICAgICAgfCB0ICAgICAgIHwgNTEyOTY5NTIwICAgICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgdHQgICAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNyAgIHxcbiAqIHwgTWlsbGlzZWNvbmRzIHRpbWVzdGFtcCAgICAgICAgICB8IFQgICAgICAgfCA1MTI5Njk1MjA5MDAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBUVCAgICAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw3ICAgfFxuICogfCBMb25nIGxvY2FsaXplZCBkYXRlICAgICAgICAgICAgIHwgUCAgICAgICB8IDA0LzI5LzE0NTMgICAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQICAgICAgfCBBcHIgMjksIDE0NTMgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUFAgICAgIHwgQXByaWwgMjl0aCwgMTQ1MyAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFBQUCAgICB8IEZyaWRheSwgQXByaWwgMjl0aCwgMTQ1MyAgICAgICAgICB8IDIsNyAgIHxcbiAqIHwgTG9uZyBsb2NhbGl6ZWQgdGltZSAgICAgICAgICAgICB8IHAgICAgICAgfCAxMjowMCBBTSAgICAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBwcCAgICAgIHwgMTI6MDA6MDAgQU0gICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcHBwICAgICB8IDEyOjAwOjAwIEFNIEdNVCsyICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHBwcHAgICAgfCAxMjowMDowMCBBTSBHTVQrMDI6MDAgICAgICAgICAgICAgfCAyLDcgICB8XG4gKiB8IENvbWJpbmF0aW9uIG9mIGRhdGUgYW5kIHRpbWUgICAgfCBQcCAgICAgIHwgMDQvMjkvMTQ1MywgMTI6MDAgQU0gICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFBwcCAgICB8IEFwciAyOSwgMTQ1MywgMTI6MDA6MDAgQU0gICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQUHBwcCAgfCBBcHJpbCAyOXRoLCAxNDUzIGF0IC4uLiAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUFBQcHBwcHwgRnJpZGF5LCBBcHJpbCAyOXRoLCAxNDUzIGF0IC4uLiAgIHwgMiw3ICAgfFxuICogTm90ZXM6XG4gKiAxLiBcIkZvcm1hdHRpbmdcIiB1bml0cyAoZS5nLiBmb3JtYXR0aW5nIHF1YXJ0ZXIpIGluIHRoZSBkZWZhdWx0IGVuLVVTIGxvY2FsZVxuICogICAgYXJlIHRoZSBzYW1lIGFzIFwic3RhbmQtYWxvbmVcIiB1bml0cywgYnV0IGFyZSBkaWZmZXJlbnQgaW4gc29tZSBsYW5ndWFnZXMuXG4gKiAgICBcIkZvcm1hdHRpbmdcIiB1bml0cyBhcmUgZGVjbGluZWQgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBvZiB0aGUgbGFuZ3VhZ2VcbiAqICAgIGluIHRoZSBjb250ZXh0IG9mIGEgZGF0ZS4gXCJTdGFuZC1hbG9uZVwiIHVuaXRzIGFyZSBhbHdheXMgbm9taW5hdGl2ZSBzaW5ndWxhcjpcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ2RvIExMTEwnLCB7bG9jYWxlOiBjc30pIC8vPT4gJzYuIGxpc3RvcGFkJ2BcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ2RvIE1NTU0nLCB7bG9jYWxlOiBjc30pIC8vPT4gJzYuIGxpc3RvcGFkdSdgXG4gKlxuICogMi4gQW55IHNlcXVlbmNlIG9mIHRoZSBpZGVudGljYWwgbGV0dGVycyBpcyBhIHBhdHRlcm4sIHVubGVzcyBpdCBpcyBlc2NhcGVkIGJ5XG4gKiAgICB0aGUgc2luZ2xlIHF1b3RlIGNoYXJhY3RlcnMgKHNlZSBiZWxvdykuXG4gKiAgICBJZiB0aGUgc2VxdWVuY2UgaXMgbG9uZ2VyIHRoYW4gbGlzdGVkIGluIHRhYmxlIChlLmcuIGBFRUVFRUVFRUVFRWApXG4gKiAgICB0aGUgb3V0cHV0IHdpbGwgYmUgdGhlIHNhbWUgYXMgZGVmYXVsdCBwYXR0ZXJuIGZvciB0aGlzIHVuaXQsIHVzdWFsbHlcbiAqICAgIHRoZSBsb25nZXN0IG9uZSAoaW4gY2FzZSBvZiBJU08gd2Vla2RheXMsIGBFRUVFYCkuIERlZmF1bHQgcGF0dGVybnMgZm9yIHVuaXRzXG4gKiAgICBhcmUgbWFya2VkIHdpdGggXCIyXCIgaW4gdGhlIGxhc3QgY29sdW1uIG9mIHRoZSB0YWJsZS5cbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ01NTScpIC8vPT4gJ05vdidgXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdNTU1NJykgLy89PiAnTm92ZW1iZXInYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NTU0nKSAvLz0+ICdOJ2BcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ01NTU1NTScpIC8vPT4gJ05vdmVtYmVyJ2BcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ01NTU1NTU0nKSAvLz0+ICdOb3ZlbWJlcidgXG4gKlxuICogMy4gU29tZSBwYXR0ZXJucyBjb3VsZCBiZSB1bmxpbWl0ZWQgbGVuZ3RoIChzdWNoIGFzIGB5eXl5eXl5eWApLlxuICogICAgVGhlIG91dHB1dCB3aWxsIGJlIHBhZGRlZCB3aXRoIHplcm9zIHRvIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIHBhdHRlcm4uXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICd5eXl5eXl5eScpIC8vPT4gJzAwMDAyMDE3J2BcbiAqXG4gKiA0LiBgUVFRUVFgIGFuZCBgcXFxcXFgIGNvdWxkIGJlIG5vdCBzdHJpY3RseSBudW1lcmljYWwgaW4gc29tZSBsb2NhbGVzLlxuICogICAgVGhlc2UgdG9rZW5zIHJlcHJlc2VudCB0aGUgc2hvcnRlc3QgZm9ybSBvZiB0aGUgcXVhcnRlci5cbiAqXG4gKiA1LiBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4gYHlgIGFuZCBgdWAgcGF0dGVybnMgYXJlIEIuQy4geWVhcnM6XG4gKlxuICogICAgfCBZZWFyIHwgYHlgIHwgYHVgIHxcbiAqICAgIHwtLS0tLS18LS0tLS18LS0tLS18XG4gKiAgICB8IEFDIDEgfCAgIDEgfCAgIDEgfFxuICogICAgfCBCQyAxIHwgICAxIHwgICAwIHxcbiAqICAgIHwgQkMgMiB8ICAgMiB8ICAtMSB8XG4gKlxuICogICAgQWxzbyBgeXlgIGFsd2F5cyByZXR1cm5zIHRoZSBsYXN0IHR3byBkaWdpdHMgb2YgYSB5ZWFyLFxuICogICAgd2hpbGUgYHV1YCBwYWRzIHNpbmdsZSBkaWdpdCB5ZWFycyB0byAyIGNoYXJhY3RlcnMgYW5kIHJldHVybnMgb3RoZXIgeWVhcnMgdW5jaGFuZ2VkOlxuICpcbiAqICAgIHwgWWVhciB8IGB5eWAgfCBgdXVgIHxcbiAqICAgIHwtLS0tLS18LS0tLS0tfC0tLS0tLXxcbiAqICAgIHwgMSAgICB8ICAgMDEgfCAgIDAxIHxcbiAqICAgIHwgMTQgICB8ICAgMTQgfCAgIDE0IHxcbiAqICAgIHwgMzc2ICB8ICAgNzYgfCAgMzc2IHxcbiAqICAgIHwgMTQ1MyB8ICAgNTMgfCAxNDUzIHxcbiAqXG4gKiAgICBUaGUgc2FtZSBkaWZmZXJlbmNlIGlzIHRydWUgZm9yIGxvY2FsIGFuZCBJU08gd2Vlay1udW1iZXJpbmcgeWVhcnMgKGBZYCBhbmQgYFJgKSxcbiAqICAgIGV4Y2VwdCBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFycyBhcmUgZGVwZW5kZW50IG9uIGBvcHRpb25zLndlZWtTdGFydHNPbmBcbiAqICAgIGFuZCBgb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGVgIChjb21wYXJlIFtnZXRJU09XZWVrWWVhcl0oaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9nZXRJU09XZWVrWWVhcilcbiAqICAgIGFuZCBbZ2V0V2Vla1llYXJdKGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvZ2V0V2Vla1llYXIpKS5cbiAqXG4gKiA2LiBTcGVjaWZpYyBub24tbG9jYXRpb24gdGltZXpvbmVzIGFyZSBjdXJyZW50bHkgdW5hdmFpbGFibGUgaW4gYGRhdGUtZm5zYCxcbiAqICAgIHNvIHJpZ2h0IG5vdyB0aGVzZSB0b2tlbnMgZmFsbCBiYWNrIHRvIEdNVCB0aW1lem9uZXMuXG4gKlxuICogNy4gVGhlc2UgcGF0dGVybnMgYXJlIG5vdCBpbiB0aGUgVW5pY29kZSBUZWNobmljYWwgU3RhbmRhcmQgIzM1OlxuICogICAgLSBgaWA6IElTTyBkYXkgb2Ygd2Vla1xuICogICAgLSBgSWA6IElTTyB3ZWVrIG9mIHllYXJcbiAqICAgIC0gYFJgOiBJU08gd2Vlay1udW1iZXJpbmcgeWVhclxuICogICAgLSBgdGA6IHNlY29uZHMgdGltZXN0YW1wXG4gKiAgICAtIGBUYDogbWlsbGlzZWNvbmRzIHRpbWVzdGFtcFxuICogICAgLSBgb2A6IG9yZGluYWwgbnVtYmVyIG1vZGlmaWVyXG4gKiAgICAtIGBQYDogbG9uZyBsb2NhbGl6ZWQgZGF0ZVxuICogICAgLSBgcGA6IGxvbmcgbG9jYWxpemVkIHRpbWVcbiAqXG4gKiA4LiBgWVlgIGFuZCBgWVlZWWAgdG9rZW5zIHJlcHJlc2VudCB3ZWVrLW51bWJlcmluZyB5ZWFycyBidXQgdGhleSBhcmUgb2Z0ZW4gY29uZnVzZWQgd2l0aCB5ZWFycy5cbiAqICAgIFlvdSBzaG91bGQgZW5hYmxlIGBvcHRpb25zLnVzZUFkZGl0aW9uYWxXZWVrWWVhclRva2Vuc2AgdG8gdXNlIHRoZW0uIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICpcbiAqIDkuIGBEYCBhbmQgYEREYCB0b2tlbnMgcmVwcmVzZW50IGRheXMgb2YgdGhlIHllYXIgYnV0IHRoZXkgYXJlIG9mdGVuIGNvbmZ1c2VkIHdpdGggZGF5cyBvZiB0aGUgbW9udGguXG4gKiAgICBZb3Ugc2hvdWxkIGVuYWJsZSBgb3B0aW9ucy51c2VBZGRpdGlvbmFsRGF5T2ZZZWFyVG9rZW5zYCB0byB1c2UgdGhlbS4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIGZvcm1hdCAtIFRoZSBzdHJpbmcgb2YgdG9rZW5zXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyBUaGUgZm9ybWF0dGVkIGRhdGUgc3RyaW5nXG4gKlxuICogQHRocm93cyBgZGF0ZWAgbXVzdCBub3QgYmUgSW52YWxpZCBEYXRlXG4gKiBAdGhyb3dzIGBvcHRpb25zLmxvY2FsZWAgbXVzdCBjb250YWluIGBsb2NhbGl6ZWAgcHJvcGVydHlcbiAqIEB0aHJvd3MgYG9wdGlvbnMubG9jYWxlYCBtdXN0IGNvbnRhaW4gYGZvcm1hdExvbmdgIHByb3BlcnR5XG4gKiBAdGhyb3dzIHVzZSBgeXl5eWAgaW5zdGVhZCBvZiBgWVlZWWAgZm9yIGZvcm1hdHRpbmcgeWVhcnMgdXNpbmcgW2Zvcm1hdCBwcm92aWRlZF0gdG8gdGhlIGlucHV0IFtpbnB1dCBwcm92aWRlZF07IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICogQHRocm93cyB1c2UgYHl5YCBpbnN0ZWFkIG9mIGBZWWAgZm9yIGZvcm1hdHRpbmcgeWVhcnMgdXNpbmcgW2Zvcm1hdCBwcm92aWRlZF0gdG8gdGhlIGlucHV0IFtpbnB1dCBwcm92aWRlZF07IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICogQHRocm93cyB1c2UgYGRgIGluc3RlYWQgb2YgYERgIGZvciBmb3JtYXR0aW5nIGRheXMgb2YgdGhlIG1vbnRoIHVzaW5nIFtmb3JtYXQgcHJvdmlkZWRdIHRvIHRoZSBpbnB1dCBbaW5wdXQgcHJvdmlkZWRdOyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqIEB0aHJvd3MgdXNlIGBkZGAgaW5zdGVhZCBvZiBgRERgIGZvciBmb3JtYXR0aW5nIGRheXMgb2YgdGhlIG1vbnRoIHVzaW5nIFtmb3JtYXQgcHJvdmlkZWRdIHRvIHRoZSBpbnB1dCBbaW5wdXQgcHJvdmlkZWRdOyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqIEB0aHJvd3MgZm9ybWF0IHN0cmluZyBjb250YWlucyBhbiB1bmVzY2FwZWQgbGF0aW4gYWxwaGFiZXQgY2hhcmFjdGVyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFJlcHJlc2VudCAxMSBGZWJydWFyeSAyMDE0IGluIG1pZGRsZS1lbmRpYW4gZm9ybWF0OlxuICogY29uc3QgcmVzdWx0ID0gZm9ybWF0KG5ldyBEYXRlKDIwMTQsIDEsIDExKSwgJ01NL2RkL3l5eXknKVxuICogLy89PiAnMDIvMTEvMjAxNCdcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gUmVwcmVzZW50IDIgSnVseSAyMDE0IGluIEVzcGVyYW50bzpcbiAqIGltcG9ydCB7IGVvTG9jYWxlIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlL2VvJ1xuICogY29uc3QgcmVzdWx0ID0gZm9ybWF0KG5ldyBEYXRlKDIwMTQsIDYsIDIpLCBcImRvICdkZScgTU1NTSB5eXl5XCIsIHtcbiAqICAgbG9jYWxlOiBlb0xvY2FsZVxuICogfSlcbiAqIC8vPT4gJzItYSBkZSBqdWxpbyAyMDE0J1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBFc2NhcGUgc3RyaW5nIGJ5IHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXJzOlxuICogY29uc3QgcmVzdWx0ID0gZm9ybWF0KG5ldyBEYXRlKDIwMTQsIDYsIDIsIDE1KSwgXCJoICdvJydjbG9jaydcIilcbiAqIC8vPT4gXCIzIG8nY2xvY2tcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGRhdGUsIGZvcm1hdFN0ciwgb3B0aW9ucykge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IGxvY2FsZSA9IG9wdGlvbnM/LmxvY2FsZSA/PyBkZWZhdWx0T3B0aW9ucy5sb2NhbGUgPz8gZGVmYXVsdExvY2FsZTtcblxuICBjb25zdCBmaXJzdFdlZWtDb250YWluc0RhdGUgPVxuICAgIG9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICAxO1xuXG4gIGNvbnN0IHdlZWtTdGFydHNPbiA9XG4gICAgb3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIDA7XG5cbiAgY29uc3Qgb3JpZ2luYWxEYXRlID0gdG9EYXRlKGRhdGUpO1xuXG4gIGlmICghaXNWYWxpZChvcmlnaW5hbERhdGUpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHRpbWUgdmFsdWVcIik7XG4gIH1cblxuICBsZXQgcGFydHMgPSBmb3JtYXRTdHJcbiAgICAubWF0Y2gobG9uZ0Zvcm1hdHRpbmdUb2tlbnNSZWdFeHApXG4gICAgLm1hcCgoc3Vic3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBmaXJzdENoYXJhY3RlciA9IHN1YnN0cmluZ1swXTtcbiAgICAgIGlmIChmaXJzdENoYXJhY3RlciA9PT0gXCJwXCIgfHwgZmlyc3RDaGFyYWN0ZXIgPT09IFwiUFwiKSB7XG4gICAgICAgIGNvbnN0IGxvbmdGb3JtYXR0ZXIgPSBsb25nRm9ybWF0dGVyc1tmaXJzdENoYXJhY3Rlcl07XG4gICAgICAgIHJldHVybiBsb25nRm9ybWF0dGVyKHN1YnN0cmluZywgbG9jYWxlLmZvcm1hdExvbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0cmluZztcbiAgICB9KVxuICAgIC5qb2luKFwiXCIpXG4gICAgLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnNSZWdFeHApXG4gICAgLm1hcCgoc3Vic3RyaW5nKSA9PiB7XG4gICAgICAvLyBSZXBsYWNlIHR3byBzaW5nbGUgcXVvdGUgY2hhcmFjdGVycyB3aXRoIG9uZSBzaW5nbGUgcXVvdGUgY2hhcmFjdGVyXG4gICAgICBpZiAoc3Vic3RyaW5nID09PSBcIicnXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgaXNUb2tlbjogZmFsc2UsIHZhbHVlOiBcIidcIiB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaXJzdENoYXJhY3RlciA9IHN1YnN0cmluZ1swXTtcbiAgICAgIGlmIChmaXJzdENoYXJhY3RlciA9PT0gXCInXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgaXNUb2tlbjogZmFsc2UsIHZhbHVlOiBjbGVhbkVzY2FwZWRTdHJpbmcoc3Vic3RyaW5nKSB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9ybWF0dGVyc1tmaXJzdENoYXJhY3Rlcl0pIHtcbiAgICAgICAgcmV0dXJuIHsgaXNUb2tlbjogdHJ1ZSwgdmFsdWU6IHN1YnN0cmluZyB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlyc3RDaGFyYWN0ZXIubWF0Y2godW5lc2NhcGVkTGF0aW5DaGFyYWN0ZXJSZWdFeHApKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgIFwiRm9ybWF0IHN0cmluZyBjb250YWlucyBhbiB1bmVzY2FwZWQgbGF0aW4gYWxwaGFiZXQgY2hhcmFjdGVyIGBcIiArXG4gICAgICAgICAgICBmaXJzdENoYXJhY3RlciArXG4gICAgICAgICAgICBcImBcIixcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgaXNUb2tlbjogZmFsc2UsIHZhbHVlOiBzdWJzdHJpbmcgfTtcbiAgICB9KTtcblxuICAvLyBpbnZva2UgbG9jYWxpemUgcHJlcHJvY2Vzc29yIChvbmx5IGZvciBmcmVuY2ggbG9jYWxlcyBhdCB0aGUgbW9tZW50KVxuICBpZiAobG9jYWxlLmxvY2FsaXplLnByZXByb2Nlc3Nvcikge1xuICAgIHBhcnRzID0gbG9jYWxlLmxvY2FsaXplLnByZXByb2Nlc3NvcihvcmlnaW5hbERhdGUsIHBhcnRzKTtcbiAgfVxuXG4gIGNvbnN0IGZvcm1hdHRlck9wdGlvbnMgPSB7XG4gICAgZmlyc3RXZWVrQ29udGFpbnNEYXRlLFxuICAgIHdlZWtTdGFydHNPbixcbiAgICBsb2NhbGUsXG4gIH07XG5cbiAgcmV0dXJuIHBhcnRzXG4gICAgLm1hcCgocGFydCkgPT4ge1xuICAgICAgaWYgKCFwYXJ0LmlzVG9rZW4pIHJldHVybiBwYXJ0LnZhbHVlO1xuXG4gICAgICBjb25zdCB0b2tlbiA9IHBhcnQudmFsdWU7XG5cbiAgICAgIGlmIChcbiAgICAgICAgKCFvcHRpb25zPy51c2VBZGRpdGlvbmFsV2Vla1llYXJUb2tlbnMgJiZcbiAgICAgICAgICBpc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4odG9rZW4pKSB8fFxuICAgICAgICAoIW9wdGlvbnM/LnVzZUFkZGl0aW9uYWxEYXlPZlllYXJUb2tlbnMgJiZcbiAgICAgICAgICBpc1Byb3RlY3RlZERheU9mWWVhclRva2VuKHRva2VuKSlcbiAgICAgICkge1xuICAgICAgICB3YXJuT3JUaHJvd1Byb3RlY3RlZEVycm9yKHRva2VuLCBmb3JtYXRTdHIsIFN0cmluZyhkYXRlKSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZvcm1hdHRlciA9IGZvcm1hdHRlcnNbdG9rZW5bMF1dO1xuICAgICAgcmV0dXJuIGZvcm1hdHRlcihvcmlnaW5hbERhdGUsIHRva2VuLCBsb2NhbGUubG9jYWxpemUsIGZvcm1hdHRlck9wdGlvbnMpO1xuICAgIH0pXG4gICAgLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIGNsZWFuRXNjYXBlZFN0cmluZyhpbnB1dCkge1xuICBjb25zdCBtYXRjaGVkID0gaW5wdXQubWF0Y2goZXNjYXBlZFN0cmluZ1JlZ0V4cCk7XG5cbiAgaWYgKCFtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZWRbMV0ucmVwbGFjZShkb3VibGVRdW90ZVJlZ0V4cCwgXCInXCIpO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGZvcm1hdDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNTYW1lTW9udGhcbiAqIEBjYXRlZ29yeSBNb250aCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIG1vbnRoIChhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIG1vbnRoIChhbmQgeWVhcik/XG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGVMZWZ0IC0gVGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBkYXRlUmlnaHQgLSBUaGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUaGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIG1vbnRoIChhbmQgeWVhcilcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDIgU2VwdGVtYmVyIDIwMTQgYW5kIDI1IFNlcHRlbWJlciAyMDE0IGluIHRoZSBzYW1lIG1vbnRoP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lTW9udGgobmV3IERhdGUoMjAxNCwgOCwgMiksIG5ldyBEYXRlKDIwMTQsIDgsIDI1KSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMiBTZXB0ZW1iZXIgMjAxNCBhbmQgMjUgU2VwdGVtYmVyIDIwMTUgaW4gdGhlIHNhbWUgbW9udGg/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVNb250aChuZXcgRGF0ZSgyMDE0LCA4LCAyKSwgbmV3IERhdGUoMjAxNSwgOCwgMjUpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lTW9udGgoZGF0ZUxlZnQsIGRhdGVSaWdodCkge1xuICBjb25zdCBfZGF0ZUxlZnQgPSB0b0RhdGUoZGF0ZUxlZnQpO1xuICBjb25zdCBfZGF0ZVJpZ2h0ID0gdG9EYXRlKGRhdGVSaWdodCk7XG4gIHJldHVybiAoXG4gICAgX2RhdGVMZWZ0LmdldEZ1bGxZZWFyKCkgPT09IF9kYXRlUmlnaHQuZ2V0RnVsbFllYXIoKSAmJlxuICAgIF9kYXRlTGVmdC5nZXRNb250aCgpID09PSBfZGF0ZVJpZ2h0LmdldE1vbnRoKClcbiAgKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1NhbWVNb250aDtcbiIsICJpbXBvcnQgeyBjb25zdHJ1Y3ROb3cgfSBmcm9tIFwiLi9jb25zdHJ1Y3ROb3cubWpzXCI7XG5pbXBvcnQgeyBpc1NhbWVEYXkgfSBmcm9tIFwiLi9pc1NhbWVEYXkubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNUb2RheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVGhlIGRhdGUgaXMgdG9kYXlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgNiBPY3RvYmVyIDIwMTQsIGlzIDYgT2N0b2JlciAxNDowMDowMCB0b2RheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVG9kYXkobmV3IERhdGUoMjAxNCwgOSwgNiwgMTQsIDApKVxuICogLy89PiB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RvZGF5KGRhdGUpIHtcbiAgcmV0dXJuIGlzU2FtZURheShkYXRlLCBjb25zdHJ1Y3ROb3coZGF0ZSkpO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzVG9kYXk7XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfY2Fyb3VzZWxfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgdXNlVHJhbnNpdGlvbiB9IGZyb20gJ3N0aW11bHVzLXVzZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJzbGlkZVwiLCBcInByZXZpb3VzQnV0dG9uXCIsIFwibmV4dEJ1dHRvblwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGN1cnJlbnRJbmRleDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgICBhdXRvUGxheTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIGludGVydmFsOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogNTAwMCB9IC8vIDUgc2Vjb25kc1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB1c2VUcmFuc2l0aW9uKHRoaXMsIHtcbiAgICAgIGVsZW1lbnQ6ICgpID0+IHRoaXMuc2xpZGVUYXJnZXRzW3RoaXMuY3VycmVudEluZGV4VmFsdWVdLFxuICAgICAgZW50ZXJBY3RpdmU6ICd0cmFuc2l0aW9uIGVhc2Utb3V0IGR1cmF0aW9uLTMwMCcsXG4gICAgICBlbnRlckZyb206ICdvcGFjaXR5LTAnLFxuICAgICAgZW50ZXJUbzogJ29wYWNpdHktMTAwJyxcbiAgICAgIGxlYXZlQWN0aXZlOiAndHJhbnNpdGlvbiBlYXNlLWluIGR1cmF0aW9uLTMwMCcsXG4gICAgICBsZWF2ZUZyb206ICdvcGFjaXR5LTEwMCcsXG4gICAgICBsZWF2ZVRvOiAnb3BhY2l0eS0wJyxcbiAgICB9KVxuXG4gICAgdGhpcy51cGRhdGVTbGlkZVBvc2l0aW9uKClcbiAgICB0aGlzLnVwZGF0ZUJ1dHRvblN0YXRlcygpXG5cbiAgICBpZiAodGhpcy5hdXRvUGxheVZhbHVlKSB7XG4gICAgICB0aGlzLnN0YXJ0QXV0b1BsYXkoKVxuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy5zdG9wQXV0b1BsYXkoKVxuICB9XG5cbiAgbmV4dCgpIHtcbiAgICB0aGlzLmN1cnJlbnRJbmRleFZhbHVlID0gKHRoaXMuY3VycmVudEluZGV4VmFsdWUgKyAxKSAlIHRoaXMuc2xpZGVUYXJnZXRzLmxlbmd0aFxuICAgIHRoaXMudXBkYXRlU2xpZGVQb3NpdGlvbigpXG4gICAgdGhpcy51cGRhdGVCdXR0b25TdGF0ZXMoKVxuICB9XG5cbiAgcHJldmlvdXMoKSB7XG4gICAgdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSA9ICh0aGlzLmN1cnJlbnRJbmRleFZhbHVlIC0gMSArIHRoaXMuc2xpZGVUYXJnZXRzLmxlbmd0aCkgJSB0aGlzLnNsaWRlVGFyZ2V0cy5sZW5ndGhcbiAgICB0aGlzLnVwZGF0ZVNsaWRlUG9zaXRpb24oKVxuICAgIHRoaXMudXBkYXRlQnV0dG9uU3RhdGVzKClcbiAgfVxuXG4gIHVwZGF0ZVNsaWRlUG9zaXRpb24oKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSAqIC0xMDBcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZsZXgnKS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHtvZmZzZXR9JSwgMHB4LCAwcHgpYFxuICB9XG5cbiAgdXBkYXRlQnV0dG9uU3RhdGVzKCkge1xuICAgIGlmICh0aGlzLmhhc1ByZXZpb3VzQnV0dG9uVGFyZ2V0ICYmIHRoaXMuaGFzTmV4dEJ1dHRvblRhcmdldCkge1xuICAgICAgdGhpcy5wcmV2aW91c0J1dHRvblRhcmdldC5kaXNhYmxlZCA9IHRoaXMuY3VycmVudEluZGV4VmFsdWUgPT09IDBcbiAgICAgIHRoaXMubmV4dEJ1dHRvblRhcmdldC5kaXNhYmxlZCA9IHRoaXMuY3VycmVudEluZGV4VmFsdWUgPT09IHRoaXMuc2xpZGVUYXJnZXRzLmxlbmd0aCAtIDFcbiAgICB9XG4gIH1cblxuICBzdGFydEF1dG9QbGF5KCkge1xuICAgIHRoaXMuYXV0b1BsYXlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMubmV4dCgpXG4gICAgfSwgdGhpcy5pbnRlcnZhbFZhbHVlKVxuICB9XG5cbiAgc3RvcEF1dG9QbGF5KCkge1xuICAgIGlmICh0aGlzLmF1dG9QbGF5SW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvUGxheUludGVydmFsKVxuICAgIH1cbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpLWNvbGxhcHNpYmxlLWNvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJjb250ZW50XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgb3BlbjogQm9vbGVhblxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKVxuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMub3BlblZhbHVlID0gIXRoaXMub3BlblZhbHVlXG4gIH1cblxuICBvcGVuVmFsdWVDaGFuZ2VkKCkge1xuICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eSgpXG4gIH1cblxuICB1cGRhdGVWaXNpYmlsaXR5KCkge1xuICAgIGlmICh0aGlzLm9wZW5WYWx1ZSkge1xuICAgICAgdGhpcy5jb250ZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250ZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICB9XG4gIH1cbn0iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfY29tbWFuZF9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VIb3RrZXlzIH0gZnJvbSAnc3RpbXVsdXMtdXNlL2hvdGtleXMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wiaW5wdXRcIiwgXCJsaXN0XCIsIFwiaXRlbVwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGhvdGtleXM6IE9iamVjdFxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB1c2VIb3RrZXlzKHRoaXMsIHtcbiAgICAgIC4uLnRoaXMuaG90a2V5c1ZhbHVlLFxuICAgICAgJ0Fycm93VXAnOiAoZXZlbnQpID0+IHRoaXMubmF2aWdhdGVJdGVtcyhldmVudCwgLTEpLFxuICAgICAgJ0Fycm93RG93bic6IChldmVudCkgPT4gdGhpcy5uYXZpZ2F0ZUl0ZW1zKGV2ZW50LCAxKSxcbiAgICAgICdFbnRlcic6IChldmVudCkgPT4gdGhpcy5zZWxlY3RJdGVtKGV2ZW50KVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMVxuICB9XG5cbiAgbmF2aWdhdGVJdGVtcyhldmVudCwgZGlyZWN0aW9uKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuY3VycmVudEluZGV4ICs9IGRpcmVjdGlvblxuICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA8IDApIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5pdGVtVGFyZ2V0cy5sZW5ndGggLSAxXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID49IHRoaXMuaXRlbVRhcmdldHMubGVuZ3RoKSB0aGlzLmN1cnJlbnRJbmRleCA9IDBcbiAgICB0aGlzLmhpZ2hsaWdodEl0ZW0oKVxuICB9XG5cbiAgaGlnaGxpZ2h0SXRlbSgpIHtcbiAgICB0aGlzLml0ZW1UYXJnZXRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudEluZGV4KSB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKVxuICAgICAgICBpdGVtLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICduZWFyZXN0JyB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBzZWxlY3RJdGVtKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHRoaXMuaXRlbVRhcmdldHNbdGhpcy5jdXJyZW50SW5kZXhdXG4gICAgaWYgKHNlbGVjdGVkSXRlbSkge1xuICAgICAgY29uc29sZS5sb2coJ1NlbGVjdGVkOicsIHNlbGVjdGVkSXRlbS5kYXRhc2V0LnZhbHVlKVxuICAgICAgLy8gSW1wbGVtZW50IHlvdXIgc2VsZWN0aW9uIGxvZ2ljIGhlcmVcbiAgICB9XG4gIH1cblxuICBzZWFyY2goKSB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLmlucHV0VGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKClcbiAgICB0aGlzLml0ZW1UYXJnZXRzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBjb25zdCBtYXRjaGVzID0gaXRlbS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KVxuICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gbWF0Y2hlcyA/ICcnIDogJ25vbmUnXG4gICAgfSlcbiAgfVxufVxuIiwgIi8qKiEgXG4gKiBob3RrZXlzLWpzIHYzLjEzLjcgXG4gKiBBIHNpbXBsZSBtaWNyby1saWJyYXJ5IGZvciBkZWZpbmluZyBhbmQgZGlzcGF0Y2hpbmcga2V5Ym9hcmQgc2hvcnRjdXRzLiBJdCBoYXMgbm8gZGVwZW5kZW5jaWVzLiBcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDI0IGtlbm55IHdvbmcgPHdvd29ob29AcXEuY29tPiBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXl3Y2psb3ZlL2hvdGtleXMtanMuZ2l0IFxuICogXG4gKiBAd2Vic2l0ZTogaHR0cHM6Ly9qYXl3Y2psb3ZlLmdpdGh1Yi5pby9ob3RrZXlzLWpzXG4gXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgXG4gKi9cblxuY29uc3QgaXNmZiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2ZpcmVmb3gnKSA+IDAgOiBmYWxzZTtcblxuLy8gXHU3RUQxXHU1QjlBXHU0RThCXHU0RUY2XG5mdW5jdGlvbiBhZGRFdmVudChvYmplY3QsIGV2ZW50LCBtZXRob2QsIHVzZUNhcHR1cmUpIHtcbiAgaWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgb2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0LmF0dGFjaEV2ZW50KSB7XG4gICAgb2JqZWN0LmF0dGFjaEV2ZW50KFwib25cIi5jb25jYXQoZXZlbnQpLCBtZXRob2QpO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudChvYmplY3QsIGV2ZW50LCBtZXRob2QsIHVzZUNhcHR1cmUpIHtcbiAgaWYgKG9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgb2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0LmRldGFjaEV2ZW50KSB7XG4gICAgb2JqZWN0LmRldGFjaEV2ZW50KFwib25cIi5jb25jYXQoZXZlbnQpLCBtZXRob2QpO1xuICB9XG59XG5cbi8vIFx1NEZFRVx1OTk3MFx1OTUyRVx1OEY2Q1x1NjM2Mlx1NjIxMFx1NUJGOVx1NUU5NFx1NzY4NFx1OTUyRVx1NzgwMVxuZnVuY3Rpb24gZ2V0TW9kcyhtb2RpZmllciwga2V5KSB7XG4gIGNvbnN0IG1vZHMgPSBrZXkuc2xpY2UoMCwga2V5Lmxlbmd0aCAtIDEpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZHMubGVuZ3RoOyBpKyspIG1vZHNbaV0gPSBtb2RpZmllclttb2RzW2ldLnRvTG93ZXJDYXNlKCldO1xuICByZXR1cm4gbW9kcztcbn1cblxuLy8gXHU1OTA0XHU3NDA2XHU0RjIwXHU3Njg0a2V5XHU1QjU3XHU3QjI2XHU0RTMyXHU4RjZDXHU2MzYyXHU2MjEwXHU2NTcwXHU3RUM0XG5mdW5jdGlvbiBnZXRLZXlzKGtleSkge1xuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIGtleSA9ICcnO1xuICBrZXkgPSBrZXkucmVwbGFjZSgvXFxzL2csICcnKTsgLy8gXHU1MzM5XHU5MTREXHU0RUZCXHU0RjU1XHU3QTdBXHU3NjdEXHU1QjU3XHU3QjI2LFx1NTMwNVx1NjJFQ1x1N0E3QVx1NjgzQ1x1MzAwMVx1NTIzNlx1ODg2OFx1N0IyNlx1MzAwMVx1NjM2Mlx1OTg3NVx1N0IyNlx1N0I0OVx1N0I0OVxuICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KCcsJyk7IC8vIFx1NTQwQ1x1NjVGNlx1OEJCRVx1N0Y2RVx1NTkxQVx1NEUyQVx1NUZFQlx1NjM3N1x1OTUyRVx1RkYwQ1x1NEVFNScsJ1x1NTIwNlx1NTI3MlxuICBsZXQgaW5kZXggPSBrZXlzLmxhc3RJbmRleE9mKCcnKTtcblxuICAvLyBcdTVGRUJcdTYzNzdcdTk1MkVcdTUzRUZcdTgwRkRcdTUzMDVcdTU0MkInLCdcdUZGMENcdTk3MDBcdTcyNzlcdTZCOEFcdTU5MDRcdTc0MDZcbiAgZm9yICg7IGluZGV4ID49IDA7KSB7XG4gICAga2V5c1tpbmRleCAtIDFdICs9ICcsJztcbiAgICBrZXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaW5kZXggPSBrZXlzLmxhc3RJbmRleE9mKCcnKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuLy8gXHU2QkQ0XHU4RjgzXHU0RkVFXHU5OTcwXHU5NTJFXHU3Njg0XHU2NTcwXHU3RUM0XG5mdW5jdGlvbiBjb21wYXJlQXJyYXkoYTEsIGEyKSB7XG4gIGNvbnN0IGFycjEgPSBhMS5sZW5ndGggPj0gYTIubGVuZ3RoID8gYTEgOiBhMjtcbiAgY29uc3QgYXJyMiA9IGExLmxlbmd0aCA+PSBhMi5sZW5ndGggPyBhMiA6IGExO1xuICBsZXQgaXNJbmRleCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyMS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnIyLmluZGV4T2YoYXJyMVtpXSkgPT09IC0xKSBpc0luZGV4ID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzSW5kZXg7XG59XG5cbi8vIFNwZWNpYWwgS2V5c1xuY29uc3QgX2tleU1hcCA9IHtcbiAgYmFja3NwYWNlOiA4LFxuICAnXHUyMzJCJzogOCxcbiAgdGFiOiA5LFxuICBjbGVhcjogMTIsXG4gIGVudGVyOiAxMyxcbiAgJ1x1MjFBOSc6IDEzLFxuICByZXR1cm46IDEzLFxuICBlc2M6IDI3LFxuICBlc2NhcGU6IDI3LFxuICBzcGFjZTogMzIsXG4gIGxlZnQ6IDM3LFxuICB1cDogMzgsXG4gIHJpZ2h0OiAzOSxcbiAgZG93bjogNDAsXG4gIGRlbDogNDYsXG4gIGRlbGV0ZTogNDYsXG4gIGluczogNDUsXG4gIGluc2VydDogNDUsXG4gIGhvbWU6IDM2LFxuICBlbmQ6IDM1LFxuICBwYWdldXA6IDMzLFxuICBwYWdlZG93bjogMzQsXG4gIGNhcHNsb2NrOiAyMCxcbiAgbnVtXzA6IDk2LFxuICBudW1fMTogOTcsXG4gIG51bV8yOiA5OCxcbiAgbnVtXzM6IDk5LFxuICBudW1fNDogMTAwLFxuICBudW1fNTogMTAxLFxuICBudW1fNjogMTAyLFxuICBudW1fNzogMTAzLFxuICBudW1fODogMTA0LFxuICBudW1fOTogMTA1LFxuICBudW1fbXVsdGlwbHk6IDEwNixcbiAgbnVtX2FkZDogMTA3LFxuICBudW1fZW50ZXI6IDEwOCxcbiAgbnVtX3N1YnRyYWN0OiAxMDksXG4gIG51bV9kZWNpbWFsOiAxMTAsXG4gIG51bV9kaXZpZGU6IDExMSxcbiAgJ1x1MjFFQSc6IDIwLFxuICAnLCc6IDE4OCxcbiAgJy4nOiAxOTAsXG4gICcvJzogMTkxLFxuICAnYCc6IDE5MixcbiAgJy0nOiBpc2ZmID8gMTczIDogMTg5LFxuICAnPSc6IGlzZmYgPyA2MSA6IDE4NyxcbiAgJzsnOiBpc2ZmID8gNTkgOiAxODYsXG4gICdcXCcnOiAyMjIsXG4gICdbJzogMjE5LFxuICAnXSc6IDIyMSxcbiAgJ1xcXFwnOiAyMjBcbn07XG5cbi8vIE1vZGlmaWVyIEtleXNcbmNvbnN0IF9tb2RpZmllciA9IHtcbiAgLy8gc2hpZnRLZXlcbiAgJ1x1MjFFNyc6IDE2LFxuICBzaGlmdDogMTYsXG4gIC8vIGFsdEtleVxuICAnXHUyMzI1JzogMTgsXG4gIGFsdDogMTgsXG4gIG9wdGlvbjogMTgsXG4gIC8vIGN0cmxLZXlcbiAgJ1x1MjMwMyc6IDE3LFxuICBjdHJsOiAxNyxcbiAgY29udHJvbDogMTcsXG4gIC8vIG1ldGFLZXlcbiAgJ1x1MjMxOCc6IDkxLFxuICBjbWQ6IDkxLFxuICBjb21tYW5kOiA5MVxufTtcbmNvbnN0IG1vZGlmaWVyTWFwID0ge1xuICAxNjogJ3NoaWZ0S2V5JyxcbiAgMTg6ICdhbHRLZXknLFxuICAxNzogJ2N0cmxLZXknLFxuICA5MTogJ21ldGFLZXknLFxuICBzaGlmdEtleTogMTYsXG4gIGN0cmxLZXk6IDE3LFxuICBhbHRLZXk6IDE4LFxuICBtZXRhS2V5OiA5MVxufTtcbmNvbnN0IF9tb2RzID0ge1xuICAxNjogZmFsc2UsXG4gIDE4OiBmYWxzZSxcbiAgMTc6IGZhbHNlLFxuICA5MTogZmFsc2Vcbn07XG5jb25zdCBfaGFuZGxlcnMgPSB7fTtcblxuLy8gRjF+RjEyIHNwZWNpYWwga2V5XG5mb3IgKGxldCBrID0gMTsgayA8IDIwOyBrKyspIHtcbiAgX2tleU1hcFtcImZcIi5jb25jYXQoayldID0gMTExICsgaztcbn1cblxubGV0IF9kb3duS2V5cyA9IFtdOyAvLyBcdThCQjBcdTVGNTVcdTY0NDFcdTRFMEJcdTc2ODRcdTdFRDFcdTVCOUFcdTk1MkVcbmxldCB3aW5MaXN0ZW5kRm9jdXMgPSBudWxsOyAvLyB3aW5kb3dcdTY2MkZcdTU0MjZcdTVERjJcdTdFQ0ZcdTc2RDFcdTU0MkNcdTRFODZmb2N1c1x1NEU4Qlx1NEVGNlxubGV0IF9zY29wZSA9ICdhbGwnOyAvLyBcdTlFRDhcdThCQTRcdTcwRURcdTk1MkVcdTgzMDNcdTU2RjRcbmNvbnN0IGVsZW1lbnRFdmVudE1hcCA9IG5ldyBNYXAoKTsgLy8gXHU1REYyXHU3RUQxXHU1QjlBXHU0RThCXHU0RUY2XHU3Njg0XHU4MjgyXHU3MEI5XHU4QkIwXHU1RjU1XG5cbi8vIFx1OEZENFx1NTZERVx1OTUyRVx1NzgwMVxuY29uc3QgY29kZSA9IHggPT4gX2tleU1hcFt4LnRvTG93ZXJDYXNlKCldIHx8IF9tb2RpZmllclt4LnRvTG93ZXJDYXNlKCldIHx8IHgudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApO1xuY29uc3QgZ2V0S2V5ID0geCA9PiBPYmplY3Qua2V5cyhfa2V5TWFwKS5maW5kKGsgPT4gX2tleU1hcFtrXSA9PT0geCk7XG5jb25zdCBnZXRNb2RpZmllciA9IHggPT4gT2JqZWN0LmtleXMoX21vZGlmaWVyKS5maW5kKGsgPT4gX21vZGlmaWVyW2tdID09PSB4KTtcblxuLy8gXHU4QkJFXHU3RjZFXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU4MzAzXHU1NkY0XHVGRjA4XHU5RUQ4XHU4QkE0XHU0RTNBJ1x1NjI0MFx1NjcwOSdcdUZGMDlcbmZ1bmN0aW9uIHNldFNjb3BlKHNjb3BlKSB7XG4gIF9zY29wZSA9IHNjb3BlIHx8ICdhbGwnO1xufVxuLy8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU4MzAzXHU1NkY0XG5mdW5jdGlvbiBnZXRTY29wZSgpIHtcbiAgcmV0dXJuIF9zY29wZSB8fCAnYWxsJztcbn1cbi8vIFx1ODNCN1x1NTNENlx1NjQ0MVx1NEUwQlx1N0VEMVx1NUI5QVx1OTUyRVx1NzY4NFx1OTUyRVx1NTAzQ1xuZnVuY3Rpb24gZ2V0UHJlc3NlZEtleUNvZGVzKCkge1xuICByZXR1cm4gX2Rvd25LZXlzLnNsaWNlKDApO1xufVxuZnVuY3Rpb24gZ2V0UHJlc3NlZEtleVN0cmluZygpIHtcbiAgcmV0dXJuIF9kb3duS2V5cy5tYXAoYyA9PiBnZXRLZXkoYykgfHwgZ2V0TW9kaWZpZXIoYykgfHwgU3RyaW5nLmZyb21DaGFyQ29kZShjKSk7XG59XG5mdW5jdGlvbiBnZXRBbGxLZXlDb2RlcygpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIE9iamVjdC5rZXlzKF9oYW5kbGVycykuZm9yRWFjaChrID0+IHtcbiAgICBfaGFuZGxlcnNba10uZm9yRWFjaChfcmVmID0+IHtcbiAgICAgIGxldCB7XG4gICAgICAgIGtleSxcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIG1vZHMsXG4gICAgICAgIHNob3J0Y3V0XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHNob3J0Y3V0LFxuICAgICAgICBtb2RzLFxuICAgICAgICBrZXlzOiBrZXkuc3BsaXQoJysnKS5tYXAodiA9PiBjb2RlKHYpKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBcdTg4NjhcdTUzNTVcdTYzQTdcdTRFRjZcdTYzQTdcdTRFRjZcdTUyMjRcdTY1QUQgXHU4RkQ0XHU1NkRFIEJvb2xlYW5cbi8vIGhvdGtleSBpcyBlZmZlY3RpdmUgb25seSB3aGVuIGZpbHRlciByZXR1cm4gdHJ1ZVxuZnVuY3Rpb24gZmlsdGVyKGV2ZW50KSB7XG4gIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50O1xuICBjb25zdCB7XG4gICAgdGFnTmFtZVxuICB9ID0gdGFyZ2V0O1xuICBsZXQgZmxhZyA9IHRydWU7XG4gIGNvbnN0IGlzSW5wdXQgPSB0YWdOYW1lID09PSAnSU5QVVQnICYmICFbJ2NoZWNrYm94JywgJ3JhZGlvJywgJ3JhbmdlJywgJ2J1dHRvbicsICdmaWxlJywgJ3Jlc2V0JywgJ3N1Ym1pdCcsICdjb2xvciddLmluY2x1ZGVzKHRhcmdldC50eXBlKTtcbiAgLy8gaWdub3JlOiBpc0NvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnLCA8aW5wdXQ+IGFuZCA8dGV4dGFyZWE+IHdoZW4gcmVhZE9ubHkgc3RhdGUgaXMgZmFsc2UsIDxzZWxlY3Q+XG4gIGlmICh0YXJnZXQuaXNDb250ZW50RWRpdGFibGUgfHwgKGlzSW5wdXQgfHwgdGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCB0YWdOYW1lID09PSAnU0VMRUNUJykgJiYgIXRhcmdldC5yZWFkT25seSkge1xuICAgIGZsYWcgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gZmxhZztcbn1cblxuLy8gXHU1MjI0XHU2NUFEXHU2NDQxXHU0RTBCXHU3Njg0XHU5NTJFXHU2NjJGXHU1NDI2XHU0RTNBXHU2N0QwXHU0RTJBXHU5NTJFXHVGRjBDXHU4RkQ0XHU1NkRFdHJ1ZVx1NjIxNlx1ODAwNWZhbHNlXG5mdW5jdGlvbiBpc1ByZXNzZWQoa2V5Q29kZSkge1xuICBpZiAodHlwZW9mIGtleUNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAga2V5Q29kZSA9IGNvZGUoa2V5Q29kZSk7IC8vIFx1OEY2Q1x1NjM2Mlx1NjIxMFx1OTUyRVx1NzgwMVxuICB9XG4gIHJldHVybiBfZG93bktleXMuaW5kZXhPZihrZXlDb2RlKSAhPT0gLTE7XG59XG5cbi8vIFx1NUZBQVx1NzNBRlx1NTIyMFx1OTY2NGhhbmRsZXJzXHU0RTJEXHU3Njg0XHU2MjQwXHU2NzA5IHNjb3BlKFx1ODMwM1x1NTZGNClcbmZ1bmN0aW9uIGRlbGV0ZVNjb3BlKHNjb3BlLCBuZXdTY29wZSkge1xuICBsZXQgaGFuZGxlcnM7XG4gIGxldCBpO1xuXG4gIC8vIFx1NkNBMVx1NjcwOVx1NjMwN1x1NUI5QXNjb3BlXHVGRjBDXHU4M0I3XHU1M0Q2c2NvcGVcbiAgaWYgKCFzY29wZSkgc2NvcGUgPSBnZXRTY29wZSgpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBfaGFuZGxlcnMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9oYW5kbGVycywga2V5KSkge1xuICAgICAgaGFuZGxlcnMgPSBfaGFuZGxlcnNba2V5XTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7KSB7XG4gICAgICAgIGlmIChoYW5kbGVyc1tpXS5zY29wZSA9PT0gc2NvcGUpIHtcbiAgICAgICAgICBjb25zdCBkZWxldGVJdGVtcyA9IGhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBkZWxldGVJdGVtcy5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVLZXlFdmVudChlbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBcdTU5ODJcdTY3OUNzY29wZVx1ODhBQlx1NTIyMFx1OTY2NFx1RkYwQ1x1NUMwNnNjb3BlXHU5MUNEXHU3RjZFXHU0RTNBYWxsXG4gIGlmIChnZXRTY29wZSgpID09PSBzY29wZSkgc2V0U2NvcGUobmV3U2NvcGUgfHwgJ2FsbCcpO1xufVxuXG4vLyBcdTZFMDVcdTk2NjRcdTRGRUVcdTk5NzBcdTk1MkVcbmZ1bmN0aW9uIGNsZWFyTW9kaWZpZXIoZXZlbnQpIHtcbiAgbGV0IGtleSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2ggfHwgZXZlbnQuY2hhckNvZGU7XG4gIGNvbnN0IGkgPSBfZG93bktleXMuaW5kZXhPZihrZXkpO1xuXG4gIC8vIFx1NEVDRVx1NTIxN1x1ODg2OFx1NEUyRFx1NkUwNVx1OTY2NFx1NjMwOVx1NTM4Qlx1OEZDN1x1NzY4NFx1OTUyRVxuICBpZiAoaSA+PSAwKSB7XG4gICAgX2Rvd25LZXlzLnNwbGljZShpLCAxKTtcbiAgfVxuICAvLyBcdTcyNzlcdTZCOEFcdTU5MDRcdTc0MDYgY21tYW5kIFx1OTUyRVx1RkYwQ1x1NTcyOCBjbW1hbmQgXHU3RUM0XHU1NDA4XHU1RkVCXHU2Mzc3XHU5NTJFIGtleXVwIFx1NTNFQVx1NjI2N1x1ODg0Q1x1NEUwMFx1NkIyMVx1NzY4NFx1OTVFRVx1OTg5OFxuICBpZiAoZXZlbnQua2V5ICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSAnbWV0YScpIHtcbiAgICBfZG93bktleXMuc3BsaWNlKDAsIF9kb3duS2V5cy5sZW5ndGgpO1xuICB9XG5cbiAgLy8gXHU0RkVFXHU5OTcwXHU5NTJFIHNoaWZ0S2V5IGFsdEtleSBjdHJsS2V5IChjb21tYW5kfHxtZXRhS2V5KSBcdTZFMDVcdTk2NjRcbiAgaWYgKGtleSA9PT0gOTMgfHwga2V5ID09PSAyMjQpIGtleSA9IDkxO1xuICBpZiAoa2V5IGluIF9tb2RzKSB7XG4gICAgX21vZHNba2V5XSA9IGZhbHNlO1xuXG4gICAgLy8gXHU1QzA2XHU0RkVFXHU5OTcwXHU5NTJFXHU5MUNEXHU3RjZFXHU0RTNBZmFsc2VcbiAgICBmb3IgKGNvbnN0IGsgaW4gX21vZGlmaWVyKSBpZiAoX21vZGlmaWVyW2tdID09PSBrZXkpIGhvdGtleXNba10gPSBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gdW5iaW5kKGtleXNJbmZvKSB7XG4gIC8vIHVuYmluZCgpLCB1bmJpbmQgYWxsIGtleXNcbiAgaWYgKHR5cGVvZiBrZXlzSW5mbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBPYmplY3Qua2V5cyhfaGFuZGxlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIEFycmF5LmlzQXJyYXkoX2hhbmRsZXJzW2tleV0pICYmIF9oYW5kbGVyc1trZXldLmZvckVhY2goaW5mbyA9PiBlYWNoVW5iaW5kKGluZm8pKTtcbiAgICAgIGRlbGV0ZSBfaGFuZGxlcnNba2V5XTtcbiAgICB9KTtcbiAgICByZW1vdmVLZXlFdmVudChudWxsKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGtleXNJbmZvKSkge1xuICAgIC8vIHN1cHBvcnQgbGlrZSA6IHVuYmluZChbe2tleTogJ2N0cmwrYScsIHNjb3BlOiAnczEnfSwge2tleTogJ2N0cmwtYScsIHNjb3BlOiAnczInLCBzcGxpdEtleTogJy0nfV0pXG4gICAga2V5c0luZm8uZm9yRWFjaChpbmZvID0+IHtcbiAgICAgIGlmIChpbmZvLmtleSkgZWFjaFVuYmluZChpbmZvKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2Yga2V5c0luZm8gPT09ICdvYmplY3QnKSB7XG4gICAgLy8gc3VwcG9ydCBsaWtlIHVuYmluZCh7a2V5OiAnY3RybCthLCBjdHJsK2InLCBzY29wZTonYWJjJ30pXG4gICAgaWYgKGtleXNJbmZvLmtleSkgZWFjaFVuYmluZChrZXlzSW5mbyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGtleXNJbmZvID09PSAnc3RyaW5nJykge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICAvLyBzdXBwb3J0IG9sZCBtZXRob2RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgbGV0IFtzY29wZSwgbWV0aG9kXSA9IGFyZ3M7XG4gICAgaWYgKHR5cGVvZiBzY29wZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbWV0aG9kID0gc2NvcGU7XG4gICAgICBzY29wZSA9ICcnO1xuICAgIH1cbiAgICBlYWNoVW5iaW5kKHtcbiAgICAgIGtleToga2V5c0luZm8sXG4gICAgICBzY29wZSxcbiAgICAgIG1ldGhvZCxcbiAgICAgIHNwbGl0S2V5OiAnKydcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBcdTg5RTNcdTk2NjRcdTdFRDFcdTVCOUFcdTY3RDBcdTRFMkFcdTgzMDNcdTU2RjRcdTc2ODRcdTVGRUJcdTYzNzdcdTk1MkVcbmNvbnN0IGVhY2hVbmJpbmQgPSBfcmVmMyA9PiB7XG4gIGxldCB7XG4gICAga2V5LFxuICAgIHNjb3BlLFxuICAgIG1ldGhvZCxcbiAgICBzcGxpdEtleSA9ICcrJ1xuICB9ID0gX3JlZjM7XG4gIGNvbnN0IG11bHRpcGxlS2V5cyA9IGdldEtleXMoa2V5KTtcbiAgbXVsdGlwbGVLZXlzLmZvckVhY2gob3JpZ2luS2V5ID0+IHtcbiAgICBjb25zdCB1bmJpbmRLZXlzID0gb3JpZ2luS2V5LnNwbGl0KHNwbGl0S2V5KTtcbiAgICBjb25zdCBsZW4gPSB1bmJpbmRLZXlzLmxlbmd0aDtcbiAgICBjb25zdCBsYXN0S2V5ID0gdW5iaW5kS2V5c1tsZW4gLSAxXTtcbiAgICBjb25zdCBrZXlDb2RlID0gbGFzdEtleSA9PT0gJyonID8gJyonIDogY29kZShsYXN0S2V5KTtcbiAgICBpZiAoIV9oYW5kbGVyc1trZXlDb2RlXSkgcmV0dXJuO1xuICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NEYyMFx1NTE2NVx1ODMwM1x1NTZGNFx1RkYwQ1x1NkNBMVx1NjcwOVx1NUMzMVx1ODNCN1x1NTNENlx1ODMwM1x1NTZGNFxuICAgIGlmICghc2NvcGUpIHNjb3BlID0gZ2V0U2NvcGUoKTtcbiAgICBjb25zdCBtb2RzID0gbGVuID4gMSA/IGdldE1vZHMoX21vZGlmaWVyLCB1bmJpbmRLZXlzKSA6IFtdO1xuICAgIGNvbnN0IHVuYmluZEVsZW1lbnRzID0gW107XG4gICAgX2hhbmRsZXJzW2tleUNvZGVdID0gX2hhbmRsZXJzW2tleUNvZGVdLmZpbHRlcihyZWNvcmQgPT4ge1xuICAgICAgLy8gXHU5MDFBXHU4RkM3XHU1MUZEXHU2NTcwXHU1MjI0XHU2NUFEXHVGRjBDXHU2NjJGXHU1NDI2XHU4OUUzXHU5NjY0XHU3RUQxXHU1QjlBXHVGRjBDXHU1MUZEXHU2NTcwXHU3NkY4XHU3QjQ5XHU3NkY0XHU2M0E1XHU4RkQ0XHU1NkRFXG4gICAgICBjb25zdCBpc01hdGNoaW5nTWV0aG9kID0gbWV0aG9kID8gcmVjb3JkLm1ldGhvZCA9PT0gbWV0aG9kIDogdHJ1ZTtcbiAgICAgIGNvbnN0IGlzVW5iaW5kID0gaXNNYXRjaGluZ01ldGhvZCAmJiByZWNvcmQuc2NvcGUgPT09IHNjb3BlICYmIGNvbXBhcmVBcnJheShyZWNvcmQubW9kcywgbW9kcyk7XG4gICAgICBpZiAoaXNVbmJpbmQpIHVuYmluZEVsZW1lbnRzLnB1c2gocmVjb3JkLmVsZW1lbnQpO1xuICAgICAgcmV0dXJuICFpc1VuYmluZDtcbiAgICB9KTtcbiAgICB1bmJpbmRFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gcmVtb3ZlS2V5RXZlbnQoZWxlbWVudCkpO1xuICB9KTtcbn07XG5cbi8vIFx1NUJGOVx1NzZEMVx1NTQyQ1x1NUJGOVx1NUU5NFx1NUZFQlx1NjM3N1x1OTUyRVx1NzY4NFx1NTZERVx1OEMwM1x1NTFGRFx1NjU3MFx1OEZEQlx1ODg0Q1x1NTkwNFx1NzQwNlxuZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGV2ZW50LCBoYW5kbGVyLCBzY29wZSwgZWxlbWVudCkge1xuICBpZiAoaGFuZGxlci5lbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBtb2RpZmllcnNNYXRjaDtcblxuICAvLyBcdTc3MEJcdTVCODNcdTY2MkZcdTU0MjZcdTU3MjhcdTVGNTNcdTUyNERcdTgzMDNcdTU2RjRcbiAgaWYgKGhhbmRsZXIuc2NvcGUgPT09IHNjb3BlIHx8IGhhbmRsZXIuc2NvcGUgPT09ICdhbGwnKSB7XG4gICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1MzM5XHU5MTREXHU0RkVFXHU5OTcwXHU3QjI2XHVGRjA4XHU1OTgyXHU2NzlDXHU2NzA5XHU4RkQ0XHU1NkRFdHJ1ZVx1RkYwOVxuICAgIG1vZGlmaWVyc01hdGNoID0gaGFuZGxlci5tb2RzLmxlbmd0aCA+IDA7XG4gICAgZm9yIChjb25zdCB5IGluIF9tb2RzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9tb2RzLCB5KSkge1xuICAgICAgICBpZiAoIV9tb2RzW3ldICYmIGhhbmRsZXIubW9kcy5pbmRleE9mKCt5KSA+IC0xIHx8IF9tb2RzW3ldICYmIGhhbmRsZXIubW9kcy5pbmRleE9mKCt5KSA9PT0gLTEpIHtcbiAgICAgICAgICBtb2RpZmllcnNNYXRjaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gXHU4QzAzXHU3NTI4XHU1OTA0XHU3NDA2XHU3QTBCXHU1RThGXHVGRjBDXHU1OTgyXHU2NzlDXHU2NjJGXHU0RkVFXHU5OTcwXHU5NTJFXHU0RTBEXHU1MDVBXHU1OTA0XHU3NDA2XG4gICAgaWYgKGhhbmRsZXIubW9kcy5sZW5ndGggPT09IDAgJiYgIV9tb2RzWzE2XSAmJiAhX21vZHNbMThdICYmICFfbW9kc1sxN10gJiYgIV9tb2RzWzkxXSB8fCBtb2RpZmllcnNNYXRjaCB8fCBoYW5kbGVyLnNob3J0Y3V0ID09PSAnKicpIHtcbiAgICAgIGhhbmRsZXIua2V5cyA9IFtdO1xuICAgICAgaGFuZGxlci5rZXlzID0gaGFuZGxlci5rZXlzLmNvbmNhdChfZG93bktleXMpO1xuICAgICAgaWYgKGhhbmRsZXIubWV0aG9kKGV2ZW50LCBoYW5kbGVyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIFx1NTkwNFx1NzQwNmtleWRvd25cdTRFOEJcdTRFRjZcbmZ1bmN0aW9uIGRpc3BhdGNoKGV2ZW50LCBlbGVtZW50KSB7XG4gIGNvbnN0IGFzdGVyaXNrID0gX2hhbmRsZXJzWycqJ107XG4gIGxldCBrZXkgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoIHx8IGV2ZW50LmNoYXJDb2RlO1xuXG4gIC8vIFx1ODg2OFx1NTM1NVx1NjNBN1x1NEVGNlx1OEZDN1x1NkVFNCBcdTlFRDhcdThCQTRcdTg4NjhcdTUzNTVcdTYzQTdcdTRFRjZcdTRFMERcdTg5RTZcdTUzRDFcdTVGRUJcdTYzNzdcdTk1MkVcbiAgaWYgKCFob3RrZXlzLmZpbHRlci5jYWxsKHRoaXMsIGV2ZW50KSkgcmV0dXJuO1xuXG4gIC8vIEdlY2tvKEZpcmVmb3gpXHU3Njg0Y29tbWFuZFx1OTUyRVx1NTAzQzIyNFx1RkYwQ1x1NTcyOFdlYmtpdChDaHJvbWUpXHU0RTJEXHU0RkREXHU2MzAxXHU0RTAwXHU4MUY0XG4gIC8vIFdlYmtpdFx1NURFNlx1NTNGMyBjb21tYW5kIFx1OTUyRVx1NTAzQ1x1NEUwRFx1NEUwMFx1NjgzN1xuICBpZiAoa2V5ID09PSA5MyB8fCBrZXkgPT09IDIyNCkga2V5ID0gOTE7XG5cbiAgLyoqXG4gICAqIENvbGxlY3QgYm91bmQga2V5c1xuICAgKiBJZiBhbiBJbnB1dCBNZXRob2QgRWRpdG9yIGlzIHByb2Nlc3Npbmcga2V5IGlucHV0IGFuZCB0aGUgZXZlbnQgaXMga2V5ZG93biwgcmV0dXJuIDIyOS5cbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjUwNDM5MzQvaXMtaXQtb2stdG8taWdub3JlLWtleWRvd24tZXZlbnRzLXdpdGgta2V5Y29kZS0yMjlcbiAgICogaHR0cDovL2xpc3RzLnczLm9yZy9BcmNoaXZlcy9QdWJsaWMvd3d3LWRvbS8yMDEwSnVsU2VwL2F0dC0wMTgyL2tleUNvZGUtc3BlYy5odG1sXG4gICAqL1xuICBpZiAoX2Rvd25LZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEgJiYga2V5ICE9PSAyMjkpIF9kb3duS2V5cy5wdXNoKGtleSk7XG4gIC8qKlxuICAgKiBKZXN0IHRlc3QgY2FzZXMgYXJlIHJlcXVpcmVkLlxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqL1xuICBbJ2N0cmxLZXknLCAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ21ldGFLZXknXS5mb3JFYWNoKGtleU5hbWUgPT4ge1xuICAgIGNvbnN0IGtleU51bSA9IG1vZGlmaWVyTWFwW2tleU5hbWVdO1xuICAgIGlmIChldmVudFtrZXlOYW1lXSAmJiBfZG93bktleXMuaW5kZXhPZihrZXlOdW0pID09PSAtMSkge1xuICAgICAgX2Rvd25LZXlzLnB1c2goa2V5TnVtKTtcbiAgICB9IGVsc2UgaWYgKCFldmVudFtrZXlOYW1lXSAmJiBfZG93bktleXMuaW5kZXhPZihrZXlOdW0pID4gLTEpIHtcbiAgICAgIF9kb3duS2V5cy5zcGxpY2UoX2Rvd25LZXlzLmluZGV4T2Yoa2V5TnVtKSwgMSk7XG4gICAgfSBlbHNlIGlmIChrZXlOYW1lID09PSAnbWV0YUtleScgJiYgZXZlbnRba2V5TmFtZV0gJiYgX2Rvd25LZXlzLmxlbmd0aCA9PT0gMykge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXggaWYgQ29tbWFuZCBpcyBwcmVzc2VkOlxuICAgICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICovXG4gICAgICBpZiAoIShldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkpIHtcbiAgICAgICAgX2Rvd25LZXlzID0gX2Rvd25LZXlzLnNsaWNlKF9kb3duS2V5cy5pbmRleE9mKGtleU51bSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGlmIChrZXkgaW4gX21vZHMpIHtcbiAgICBfbW9kc1trZXldID0gdHJ1ZTtcblxuICAgIC8vIFx1NUMwNlx1NzI3OVx1NkI4QVx1NUI1N1x1N0IyNlx1NzY4NGtleVx1NkNFOFx1NTE4Q1x1NTIzMCBob3RrZXlzIFx1NEUwQVxuICAgIGZvciAoY29uc3QgayBpbiBfbW9kaWZpZXIpIHtcbiAgICAgIGlmIChfbW9kaWZpZXJba10gPT09IGtleSkgaG90a2V5c1trXSA9IHRydWU7XG4gICAgfVxuICAgIGlmICghYXN0ZXJpc2spIHJldHVybjtcbiAgfVxuXG4gIC8vIFx1NUMwNiBtb2RpZmllck1hcCBcdTkxQ0NcdTk3NjJcdTc2ODRcdTRGRUVcdTk5NzBcdTk1MkVcdTdFRDFcdTVCOUFcdTUyMzAgZXZlbnQgXHU0RTJEXG4gIGZvciAoY29uc3QgZSBpbiBfbW9kcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX21vZHMsIGUpKSB7XG4gICAgICBfbW9kc1tlXSA9IGV2ZW50W21vZGlmaWVyTWFwW2VdXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXl3Y2psb3ZlL2hvdGtleXMvcHVsbC8xMjlcbiAgICogVGhpcyBzb2x2ZXMgdGhlIGlzc3VlIGluIEZpcmVmb3ggb24gV2luZG93cyB3aGVyZSBob3RrZXlzIGNvcnJlc3BvbmRpbmcgdG8gc3BlY2lhbCBjaGFyYWN0ZXJzIHdvdWxkIG5vdCB0cmlnZ2VyLlxuICAgKiBBbiBleGFtcGxlIG9mIHRoaXMgaXMgY3RybCthbHQrbSBvbiBhIFN3ZWRpc2gga2V5Ym9hcmQgd2hpY2ggaXMgdXNlZCB0byB0eXBlIFx1MDNCQy5cbiAgICogQnJvd3NlciBzdXBwb3J0OiBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PWtleWJvYXJkZXZlbnQtZ2V0bW9kaWZpZXJzdGF0ZVxuICAgKi9cbiAgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUgJiYgIShldmVudC5hbHRLZXkgJiYgIWV2ZW50LmN0cmxLZXkpICYmIGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0FsdEdyYXBoJykpIHtcbiAgICBpZiAoX2Rvd25LZXlzLmluZGV4T2YoMTcpID09PSAtMSkge1xuICAgICAgX2Rvd25LZXlzLnB1c2goMTcpO1xuICAgIH1cbiAgICBpZiAoX2Rvd25LZXlzLmluZGV4T2YoMTgpID09PSAtMSkge1xuICAgICAgX2Rvd25LZXlzLnB1c2goMTgpO1xuICAgIH1cbiAgICBfbW9kc1sxN10gPSB0cnVlO1xuICAgIF9tb2RzWzE4XSA9IHRydWU7XG4gIH1cblxuICAvLyBcdTgzQjdcdTUzRDZcdTgzMDNcdTU2RjQgXHU5RUQ4XHU4QkE0XHU0RTNBIGBhbGxgXG4gIGNvbnN0IHNjb3BlID0gZ2V0U2NvcGUoKTtcbiAgLy8gXHU1QkY5XHU0RUZCXHU0RjU1XHU1RkVCXHU2Mzc3XHU5NTJFXHU5MEZEXHU5NzAwXHU4OTgxXHU1MDVBXHU3Njg0XHU1OTA0XHU3NDA2XG4gIGlmIChhc3Rlcmlzaykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0ZXJpc2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhc3Rlcmlza1tpXS5zY29wZSA9PT0gc2NvcGUgJiYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyAmJiBhc3Rlcmlza1tpXS5rZXlkb3duIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgYXN0ZXJpc2tbaV0ua2V5dXApKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcihldmVudCwgYXN0ZXJpc2tbaV0sIHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8ga2V5IFx1NEUwRFx1NTcyOCBfaGFuZGxlcnMgXHU0RTJEXHU4RkQ0XHU1NkRFXG4gIGlmICghKGtleSBpbiBfaGFuZGxlcnMpKSByZXR1cm47XG4gIGNvbnN0IGhhbmRsZXJLZXkgPSBfaGFuZGxlcnNba2V5XTtcbiAgY29uc3Qga2V5TGVuID0gaGFuZGxlcktleS5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5TGVuOyBpKyspIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmIGhhbmRsZXJLZXlbaV0ua2V5ZG93biB8fCBldmVudC50eXBlID09PSAna2V5dXAnICYmIGhhbmRsZXJLZXlbaV0ua2V5dXApIHtcbiAgICAgIGlmIChoYW5kbGVyS2V5W2ldLmtleSkge1xuICAgICAgICBjb25zdCByZWNvcmQgPSBoYW5kbGVyS2V5W2ldO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgc3BsaXRLZXlcbiAgICAgICAgfSA9IHJlY29yZDtcbiAgICAgICAgY29uc3Qga2V5U2hvcnRjdXQgPSByZWNvcmQua2V5LnNwbGl0KHNwbGl0S2V5KTtcbiAgICAgICAgY29uc3QgX2Rvd25LZXlzQ3VycmVudCA9IFtdOyAvLyBcdThCQjBcdTVGNTVcdTVGNTNcdTUyNERcdTYzMDlcdTk1MkVcdTk1MkVcdTUwM0NcbiAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBrZXlTaG9ydGN1dC5sZW5ndGg7IGErKykge1xuICAgICAgICAgIF9kb3duS2V5c0N1cnJlbnQucHVzaChjb2RlKGtleVNob3J0Y3V0W2FdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kb3duS2V5c0N1cnJlbnQuc29ydCgpLmpvaW4oJycpID09PSBfZG93bktleXMuc29ydCgpLmpvaW4oJycpKSB7XG4gICAgICAgICAgLy8gXHU2MjdFXHU1MjMwXHU1OTA0XHU3NDA2XHU1MTg1XHU1QkI5XG4gICAgICAgICAgZXZlbnRIYW5kbGVyKGV2ZW50LCByZWNvcmQsIHNjb3BlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaG90a2V5cyhrZXksIG9wdGlvbiwgbWV0aG9kKSB7XG4gIF9kb3duS2V5cyA9IFtdO1xuICBjb25zdCBrZXlzID0gZ2V0S2V5cyhrZXkpOyAvLyBcdTk3MDBcdTg5ODFcdTU5MDRcdTc0MDZcdTc2ODRcdTVGRUJcdTYzNzdcdTk1MkVcdTUyMTdcdTg4NjhcbiAgbGV0IG1vZHMgPSBbXTtcbiAgbGV0IHNjb3BlID0gJ2FsbCc7IC8vIHNjb3BlXHU5RUQ4XHU4QkE0XHU0RTNBYWxsXHVGRjBDXHU2MjQwXHU2NzA5XHU4MzAzXHU1NkY0XHU5MEZEXHU2NzA5XHU2NTQ4XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQ7IC8vIFx1NUZFQlx1NjM3N1x1OTUyRVx1NEU4Qlx1NEVGNlx1N0VEMVx1NUI5QVx1ODI4Mlx1NzBCOVxuICBsZXQgaSA9IDA7XG4gIGxldCBrZXl1cCA9IGZhbHNlO1xuICBsZXQga2V5ZG93biA9IHRydWU7XG4gIGxldCBzcGxpdEtleSA9ICcrJztcbiAgbGV0IGNhcHR1cmUgPSBmYWxzZTtcbiAgbGV0IHNpbmdsZSA9IGZhbHNlOyAvLyBcdTUzNTVcdTRFMkFjYWxsYmFja1xuXG4gIC8vIFx1NUJGOVx1NEUzQVx1OEJCRVx1NUI5QVx1ODMwM1x1NTZGNFx1NzY4NFx1NTIyNFx1NjVBRFxuICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG1ldGhvZCA9IG9wdGlvbjtcbiAgfVxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9wdGlvbikgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgaWYgKG9wdGlvbi5zY29wZSkgc2NvcGUgPSBvcHRpb24uc2NvcGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAob3B0aW9uLmVsZW1lbnQpIGVsZW1lbnQgPSBvcHRpb24uZWxlbWVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChvcHRpb24ua2V5dXApIGtleXVwID0gb3B0aW9uLmtleXVwOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5rZXlkb3duICE9PSB1bmRlZmluZWQpIGtleWRvd24gPSBvcHRpb24ua2V5ZG93bjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChvcHRpb24uY2FwdHVyZSAhPT0gdW5kZWZpbmVkKSBjYXB0dXJlID0gb3B0aW9uLmNhcHR1cmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAodHlwZW9mIG9wdGlvbi5zcGxpdEtleSA9PT0gJ3N0cmluZycpIHNwbGl0S2V5ID0gb3B0aW9uLnNwbGl0S2V5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5zaW5nbGUgPT09IHRydWUpIHNpbmdsZSA9IHRydWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxuICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHNjb3BlID0gb3B0aW9uO1xuXG4gIC8vIFx1NTk4Mlx1Njc5Q1x1NTNFQVx1NTE0MVx1OEJCOFx1NTM1NVx1NEUyQWNhbGxiYWNrXHVGRjBDXHU1MTQ4dW5iaW5kXG4gIGlmIChzaW5nbGUpIHVuYmluZChrZXksIHNjb3BlKTtcblxuICAvLyBcdTVCRjlcdTRFOEVcdTZCQ0ZcdTRFMkFcdTVGRUJcdTYzNzdcdTk1MkVcdThGREJcdTg4NENcdTU5MDRcdTc0MDZcbiAgZm9yICg7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXS5zcGxpdChzcGxpdEtleSk7IC8vIFx1NjMwOVx1OTUyRVx1NTIxN1x1ODg2OFxuICAgIG1vZHMgPSBbXTtcblxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1N0VDNFx1NTQwOFx1NUZFQlx1NjM3N1x1OTUyRVx1NTNENlx1NUY5N1x1N0VDNFx1NTQwOFx1NUZFQlx1NjM3N1x1OTUyRVxuICAgIGlmIChrZXkubGVuZ3RoID4gMSkgbW9kcyA9IGdldE1vZHMoX21vZGlmaWVyLCBrZXkpO1xuXG4gICAgLy8gXHU1QzA2XHU5NzVFXHU0RkVFXHU5OTcwXHU5NTJFXHU4RjZDXHU1MzE2XHU0RTNBXHU5NTJFXHU3ODAxXG4gICAga2V5ID0ga2V5W2tleS5sZW5ndGggLSAxXTtcbiAgICBrZXkgPSBrZXkgPT09ICcqJyA/ICcqJyA6IGNvZGUoa2V5KTsgLy8gKlx1ODg2OFx1NzkzQVx1NTMzOVx1OTE0RFx1NjI0MFx1NjcwOVx1NUZFQlx1NjM3N1x1OTUyRVxuXG4gICAgLy8gXHU1MjI0XHU2NUFEa2V5XHU2NjJGXHU1NDI2XHU1NzI4X2hhbmRsZXJzXHU0RTJEXHVGRjBDXHU0RTBEXHU1NzI4XHU1QzMxXHU4RDRCXHU0RTAwXHU0RTJBXHU3QTdBXHU2NTcwXHU3RUM0XG4gICAgaWYgKCEoa2V5IGluIF9oYW5kbGVycykpIF9oYW5kbGVyc1trZXldID0gW107XG4gICAgX2hhbmRsZXJzW2tleV0ucHVzaCh7XG4gICAgICBrZXl1cCxcbiAgICAgIGtleWRvd24sXG4gICAgICBzY29wZSxcbiAgICAgIG1vZHMsXG4gICAgICBzaG9ydGN1dDoga2V5c1tpXSxcbiAgICAgIG1ldGhvZCxcbiAgICAgIGtleToga2V5c1tpXSxcbiAgICAgIHNwbGl0S2V5LFxuICAgICAgZWxlbWVudFxuICAgIH0pO1xuICB9XG4gIC8vIFx1NTcyOFx1NTE2OFx1NUM0MGRvY3VtZW50XHU0RTBBXHU4QkJFXHU3RjZFXHU1RkVCXHU2Mzc3XHU5NTJFXG4gIGlmICh0eXBlb2YgZWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93KSB7XG4gICAgaWYgKCFlbGVtZW50RXZlbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICBjb25zdCBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogd2luZG93LmV2ZW50O1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2goZXZlbnQsIGVsZW1lbnQpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGtleXVwTGlzdGVuciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGRpc3BhdGNoKGV2ZW50LCBlbGVtZW50KTtcbiAgICAgICAgY2xlYXJNb2RpZmllcihldmVudCk7XG4gICAgICB9O1xuICAgICAgZWxlbWVudEV2ZW50TWFwLnNldChlbGVtZW50LCB7XG4gICAgICAgIGtleWRvd25MaXN0ZW5lcixcbiAgICAgICAga2V5dXBMaXN0ZW5yLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50KGVsZW1lbnQsICdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgIGFkZEV2ZW50KGVsZW1lbnQsICdrZXl1cCcsIGtleXVwTGlzdGVuciwgY2FwdHVyZSk7XG4gICAgfVxuICAgIGlmICghd2luTGlzdGVuZEZvY3VzKSB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgX2Rvd25LZXlzID0gW107XG4gICAgICB9O1xuICAgICAgd2luTGlzdGVuZEZvY3VzID0ge1xuICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgY2FwdHVyZVxuICAgICAgfTtcbiAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ2ZvY3VzJywgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcihzaG9ydGN1dCkge1xuICBsZXQgc2NvcGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdhbGwnO1xuICBPYmplY3Qua2V5cyhfaGFuZGxlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBkYXRhTGlzdCA9IF9oYW5kbGVyc1trZXldLmZpbHRlcihpdGVtID0+IGl0ZW0uc2NvcGUgPT09IHNjb3BlICYmIGl0ZW0uc2hvcnRjdXQgPT09IHNob3J0Y3V0KTtcbiAgICBkYXRhTGlzdC5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5tZXRob2QpIHtcbiAgICAgICAgZGF0YS5tZXRob2QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIFx1OTUwMFx1NkJDMVx1NEU4Qlx1NEVGNix1bmJpbmRcdTRFNEJcdTU0MEVcdTUyMjRcdTY1QURlbGVtZW50XHU0RTBBXHU2NjJGXHU1NDI2XHU4RkQ4XHU2NzA5XHU5NTJFXHU3NkQ4XHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjBDXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU3OUZCXHU5NjY0XHU3NkQxXHU1NDJDXG5mdW5jdGlvbiByZW1vdmVLZXlFdmVudChlbGVtZW50KSB7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoX2hhbmRsZXJzKS5mbGF0KCk7XG4gIGNvbnN0IGZpbmRpbmRleCA9IHZhbHVlcy5maW5kSW5kZXgoX3JlZjQgPT4ge1xuICAgIGxldCB7XG4gICAgICBlbGVtZW50OiBlbFxuICAgIH0gPSBfcmVmNDtcbiAgICByZXR1cm4gZWwgPT09IGVsZW1lbnQ7XG4gIH0pO1xuICBpZiAoZmluZGluZGV4IDwgMCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGtleWRvd25MaXN0ZW5lcixcbiAgICAgIGtleXVwTGlzdGVucixcbiAgICAgIGNhcHR1cmVcbiAgICB9ID0gZWxlbWVudEV2ZW50TWFwLmdldChlbGVtZW50KSB8fCB7fTtcbiAgICBpZiAoa2V5ZG93bkxpc3RlbmVyICYmIGtleXVwTGlzdGVucikge1xuICAgICAgcmVtb3ZlRXZlbnQoZWxlbWVudCwgJ2tleXVwJywga2V5dXBMaXN0ZW5yLCBjYXB0dXJlKTtcbiAgICAgIHJlbW92ZUV2ZW50KGVsZW1lbnQsICdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgIGVsZW1lbnRFdmVudE1hcC5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGlmICh2YWx1ZXMubGVuZ3RoIDw9IDAgfHwgZWxlbWVudEV2ZW50TWFwLnNpemUgPD0gMCkge1xuICAgIC8vIFx1NzlGQlx1OTY2NFx1NjI0MFx1NjcwOVx1NzY4NFx1NTE0M1x1N0QyMFx1NEUwQVx1NzY4NFx1NzZEMVx1NTQyQ1xuICAgIGNvbnN0IGV2ZW50S2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnRFdmVudE1hcCk7XG4gICAgZXZlbnRLZXlzLmZvckVhY2goZWwgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlkb3duTGlzdGVuZXIsXG4gICAgICAgIGtleXVwTGlzdGVucixcbiAgICAgICAgY2FwdHVyZVxuICAgICAgfSA9IGVsZW1lbnRFdmVudE1hcC5nZXQoZWwpIHx8IHt9O1xuICAgICAgaWYgKGtleWRvd25MaXN0ZW5lciAmJiBrZXl1cExpc3RlbnIpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZWwsICdrZXl1cCcsIGtleXVwTGlzdGVuciwgY2FwdHVyZSk7XG4gICAgICAgIHJlbW92ZUV2ZW50KGVsLCAna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgIGVsZW1lbnRFdmVudE1hcC5kZWxldGUoZWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1NkUwNVx1N0E3QSBlbGVtZW50RXZlbnRNYXBcbiAgICBlbGVtZW50RXZlbnRNYXAuY2xlYXIoKTtcbiAgICAvLyBcdTZFMDVcdTdBN0EgX2hhbmRsZXJzXG4gICAgT2JqZWN0LmtleXMoX2hhbmRsZXJzKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgX2hhbmRsZXJzW2tleV0pO1xuICAgIC8vIFx1NzlGQlx1OTY2NHdpbmRvd1x1NEUwQVx1NzY4NGZvY3VzXHU3NkQxXHU1NDJDXG4gICAgaWYgKHdpbkxpc3RlbmRGb2N1cykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgY2FwdHVyZVxuICAgICAgfSA9IHdpbkxpc3RlbmRGb2N1cztcbiAgICAgIHJlbW92ZUV2ZW50KHdpbmRvdywgJ2ZvY3VzJywgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgd2luTGlzdGVuZEZvY3VzID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IF9hcGkgPSB7XG4gIGdldFByZXNzZWRLZXlTdHJpbmcsXG4gIHNldFNjb3BlLFxuICBnZXRTY29wZSxcbiAgZGVsZXRlU2NvcGUsXG4gIGdldFByZXNzZWRLZXlDb2RlcyxcbiAgZ2V0QWxsS2V5Q29kZXMsXG4gIGlzUHJlc3NlZCxcbiAgZmlsdGVyLFxuICB0cmlnZ2VyLFxuICB1bmJpbmQsXG4gIGtleU1hcDogX2tleU1hcCxcbiAgbW9kaWZpZXI6IF9tb2RpZmllcixcbiAgbW9kaWZpZXJNYXBcbn07XG5mb3IgKGNvbnN0IGEgaW4gX2FwaSkge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9hcGksIGEpKSB7XG4gICAgaG90a2V5c1thXSA9IF9hcGlbYV07XG4gIH1cbn1cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBjb25zdCBfaG90a2V5cyA9IHdpbmRvdy5ob3RrZXlzO1xuICBob3RrZXlzLm5vQ29uZmxpY3QgPSBkZWVwID0+IHtcbiAgICBpZiAoZGVlcCAmJiB3aW5kb3cuaG90a2V5cyA9PT0gaG90a2V5cykge1xuICAgICAgd2luZG93LmhvdGtleXMgPSBfaG90a2V5cztcbiAgICB9XG4gICAgcmV0dXJuIGhvdGtleXM7XG4gIH07XG4gIHdpbmRvdy5ob3RrZXlzID0gaG90a2V5cztcbn1cblxuZXhwb3J0IHsgaG90a2V5cyBhcyBkZWZhdWx0IH07XG4iLCAiLypcbiAqIHN0aW11bHVzLXVzZSAwLjUyLjFcbiAqL1xuaW1wb3J0IGhvdGtleXMgZnJvbSBcImhvdGtleXMtanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi8gZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZGVidWc6IGZhbHNlLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jbGFzcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRoaXMubG9nID0gKGZ1bmN0aW9uTmFtZSwgYXJncykgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRlYnVnKSByZXR1cm47XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cENvbGxhcHNlZChgJWMke3RoaXMuY29udHJvbGxlci5pZGVudGlmaWVyfSAlYyMke2Z1bmN0aW9uTmFtZX1gLCBcImNvbG9yOiAjM0I4MkY2XCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjb250cm9sbGVySWQ6IHRoaXMuY29udHJvbGxlcklkXG4gICAgICB9LCBhcmdzKSk7XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH07XG4gICAgdGhpcy53YXJuID0gbWVzc2FnZSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjJHttZXNzYWdlfWAsIFwiY29sb3I6ICMzQjgyRjY7IGZvbnQtd2VpZ2h0OiBib2xkXCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgIH07XG4gICAgdGhpcy5kaXNwYXRjaCA9IChldmVudE5hbWUsIGRldGFpbHMgPSB7fSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudCkge1xuICAgICAgICBjb25zdCB7ZXZlbnQ6IGV2ZW50fSA9IGRldGFpbHMsIGV2ZW50RGV0YWlscyA9IF9fcmVzdChkZXRhaWxzLCBbIFwiZXZlbnRcIiBdKTtcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSB0aGlzLmV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCB8fCBudWxsLCBldmVudERldGFpbHMpO1xuICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgICAgIHRoaXMubG9nKFwiZGlzcGF0Y2hFdmVudFwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBldmVudE5hbWU6IGN1c3RvbUV2ZW50LnR5cGVcbiAgICAgICAgfSwgZXZlbnREZXRhaWxzKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNhbGwgPSAobWV0aG9kTmFtZSwgYXJncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmNvbnRyb2xsZXJbbWV0aG9kTmFtZV07XG4gICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMuY29udHJvbGxlciwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmV4dGVuZGVkRXZlbnQgPSAobmFtZSwgZXZlbnQsIGRldGFpbCkgPT4ge1xuICAgICAgY29uc3Qge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsIGNvbXBvc2VkOiBjb21wb3NlZH0gPSBldmVudCB8fCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgICB9O1xuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZGV0YWlsLCB7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudCh0aGlzLmNvbXBvc2VFdmVudE5hbWUobmFtZSksIHtcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSxcbiAgICAgICAgY29tcG9zZWQ6IGNvbXBvc2VkLFxuICAgICAgICBkZXRhaWw6IGRldGFpbFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY3VzdG9tRXZlbnQ7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBvc2VFdmVudE5hbWUgPSBuYW1lID0+IHtcbiAgICAgIGxldCBjb21wb3NlZE5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHRoaXMuZXZlbnRQcmVmaXggPT09IHRydWUpIHtcbiAgICAgICAgY29tcG9zZWROYW1lID0gYCR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9OiR7bmFtZX1gO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5ldmVudFByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmV2ZW50UHJlZml4fToke25hbWV9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb3NlZE5hbWU7XG4gICAgfTtcbiAgICB0aGlzLmRlYnVnID0gKF9iID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRlYnVnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250cm9sbGVyLmFwcGxpY2F0aW9uLnN0aW11bHVzVXNlRGVidWcpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRPcHRpb25zLmRlYnVnO1xuICAgIHRoaXMubG9nZ2VyID0gKF9jID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvZ2dlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdE9wdGlvbnMubG9nZ2VyO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5jb250cm9sbGVySWQgPSBjb250cm9sbGVyLmVsZW1lbnQuaWQgfHwgY29udHJvbGxlci5lbGVtZW50LmRhdGFzZXQuaWQ7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LFxuICAgICAgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4XG4gICAgfSk7XG4gICAgdGhpcy5jb250cm9sbGVySW5pdGlhbGl6ZSA9IGNvbnRyb2xsZXIuaW5pdGlhbGl6ZS5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckNvbm5lY3QgPSBjb250cm9sbGVyLmNvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIH1cbn1cblxuY2xhc3MgVXNlSG90a2V5cyBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgaG90a2V5c09wdGlvbnMpIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBob3RrZXlzT3B0aW9ucyk7XG4gICAgdGhpcy5iaW5kID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBbaG90a2V5LCBkZWZpbml0aW9uXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmhvdGtleXNPcHRpb25zLmhvdGtleXMpKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBkZWZpbml0aW9uLmhhbmRsZXIuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBob3RrZXlzKGhvdGtleSwgZGVmaW5pdGlvbi5vcHRpb25zLCAoZSA9PiBoYW5kbGVyKGUsIGUpKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnVuYmluZCA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgaG90a2V5IGluIHRoaXMuaG90a2V5c09wdGlvbnMuaG90a2V5cykge1xuICAgICAgICBob3RrZXlzLnVuYmluZChob3RrZXkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmhvdGtleXNPcHRpb25zID0gaG90a2V5c09wdGlvbnM7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMuYmluZCgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGlmICh0aGlzLmhvdGtleXNPcHRpb25zLmZpbHRlcikge1xuICAgICAgaG90a2V5cy5maWx0ZXIgPSB0aGlzLmhvdGtleXNPcHRpb25zLmZpbHRlcjtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBjb252ZXJ0U2ltcGxlSG90a2V5RGVmaW5pdGlvbiA9IGRlZmluaXRpb24gPT4gKHtcbiAgaGFuZGxlcjogZGVmaW5pdGlvblswXSxcbiAgb3B0aW9uczoge1xuICAgIGVsZW1lbnQ6IGRlZmluaXRpb25bMV1cbiAgfVxufSk7XG5cbmNvbnN0IGNvZXJjZU9wdGlvbnMgPSBvcHRpb25zID0+IHtcbiAgaWYgKCFvcHRpb25zLmhvdGtleXMpIHtcbiAgICBjb25zdCBob3RrZXlzID0ge307XG4gICAgT2JqZWN0LmVudHJpZXMob3B0aW9ucykuZm9yRWFjaCgoKFtob3RrZXksIGRlZmluaXRpb25dKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaG90a2V5cywgaG90a2V5LCB7XG4gICAgICAgIHZhbHVlOiBjb252ZXJ0U2ltcGxlSG90a2V5RGVmaW5pdGlvbihkZWZpbml0aW9uKSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGhvdGtleXM6IGhvdGtleXNcbiAgICB9O1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuY29uc3QgdXNlSG90a2V5cyA9IChjb250cm9sbGVyLCBvcHRpb25zKSA9PiBuZXcgVXNlSG90a2V5cyhjb250cm9sbGVyLCBjb2VyY2VPcHRpb25zKG9wdGlvbnMpKTtcblxuZXhwb3J0IHsgdXNlSG90a2V5cyB9O1xuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpLWNvbnRleHQtbWVudS1jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGZsaXAsIHNoaWZ0LCBvZmZzZXQgfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm1lbnVcIiwgXCJzdWJtZW51VHJpZ2dlclwiLCBcInN1Ym1lbnVcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBzaWRlOiBTdHJpbmcsXG4gICAgYWxpZ246IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIHRoaXMuc2hvd01lbnUuYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oaWRlTWVudS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIHRoaXMuc2hvd01lbnUuYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oaWRlTWVudS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgc2hvd01lbnUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcbiAgICB0aGlzLm1lbnVUYXJnZXQuZGF0YXNldC5zdGF0ZSA9IFwib3BlblwiXG4gICAgXG4gICAgY29tcHV0ZVBvc2l0aW9uKFxuICAgICAgeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0sXG4gICAgICB0aGlzLm1lbnVUYXJnZXQsXG4gICAgICB7XG4gICAgICAgIHBsYWNlbWVudDogYCR7dGhpcy5zaWRlVmFsdWV9LSR7dGhpcy5hbGlnblZhbHVlfWAsXG4gICAgICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgICAgICBvZmZzZXQoNSksXG4gICAgICAgICAgZmxpcCgpLFxuICAgICAgICAgIHNoaWZ0KHtwYWRkaW5nOiA1fSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgICkudGhlbigoe3gsIHl9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMubWVudVRhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaGlkZU1lbnUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMubWVudVRhcmdldC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICB0aGlzLm1lbnVUYXJnZXQuZGF0YXNldC5zdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm1lbnVUYXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgICAgfSwgMjAwKVxuICAgIH1cbiAgfVxuXG4gIHNob3dTdWJtZW51KGV2ZW50KSB7XG4gICAgY29uc3Qgc3VibWVudSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktY29udGV4dC1tZW51LXRhcmdldD1cInN1Ym1lbnVcIl0nKVxuICAgIGlmIChzdWJtZW51KSB7XG4gICAgICBzdWJtZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcbiAgICAgIGNvbXB1dGVQb3NpdGlvbihldmVudC5jdXJyZW50VGFyZ2V0LCBzdWJtZW51LCB7XG4gICAgICAgIHBsYWNlbWVudDogJ3JpZ2h0LXN0YXJ0JyxcbiAgICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICAgIG9mZnNldCg1KSxcbiAgICAgICAgICBmbGlwKCksXG4gICAgICAgICAgc2hpZnQoe3BhZGRpbmc6IDV9KVxuICAgICAgICBdXG4gICAgICB9KS50aGVuKCh7eCwgeX0pID0+IHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdWJtZW51LnN0eWxlLCB7XG4gICAgICAgICAgbGVmdDogYCR7eH1weGAsXG4gICAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoaWRlU3VibWVudShldmVudCkge1xuICAgIGNvbnN0IHN1Ym1lbnUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXVpLWNvbnRleHQtbWVudS10YXJnZXQ9XCJzdWJtZW51XCJdJylcbiAgICBpZiAoc3VibWVudSkge1xuICAgICAgc3VibWVudS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gICAgfVxuICB9XG59IiwgIi8qKlxuICogQ3VzdG9tIHBvc2l0aW9uaW5nIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3ZpcnR1YWwtZWxlbWVudHNcbiAqL1xuXG5jb25zdCBzaWRlcyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J107XG5jb25zdCBhbGlnbm1lbnRzID0gWydzdGFydCcsICdlbmQnXTtcbmNvbnN0IHBsYWNlbWVudHMgPSAvKiNfX1BVUkVfXyovc2lkZXMucmVkdWNlKChhY2MsIHNpZGUpID0+IGFjYy5jb25jYXQoc2lkZSwgc2lkZSArIFwiLVwiICsgYWxpZ25tZW50c1swXSwgc2lkZSArIFwiLVwiICsgYWxpZ25tZW50c1sxXSksIFtdKTtcbmNvbnN0IG1pbiA9IE1hdGgubWluO1xuY29uc3QgbWF4ID0gTWF0aC5tYXg7XG5jb25zdCByb3VuZCA9IE1hdGgucm91bmQ7XG5jb25zdCBmbG9vciA9IE1hdGguZmxvb3I7XG5jb25zdCBjcmVhdGVDb29yZHMgPSB2ID0+ICh7XG4gIHg6IHYsXG4gIHk6IHZcbn0pO1xuY29uc3Qgb3Bwb3NpdGVTaWRlTWFwID0ge1xuICBsZWZ0OiAncmlnaHQnLFxuICByaWdodDogJ2xlZnQnLFxuICBib3R0b206ICd0b3AnLFxuICB0b3A6ICdib3R0b20nXG59O1xuY29uc3Qgb3Bwb3NpdGVBbGlnbm1lbnRNYXAgPSB7XG4gIHN0YXJ0OiAnZW5kJyxcbiAgZW5kOiAnc3RhcnQnXG59O1xuZnVuY3Rpb24gY2xhbXAoc3RhcnQsIHZhbHVlLCBlbmQpIHtcbiAgcmV0dXJuIG1heChzdGFydCwgbWluKHZhbHVlLCBlbmQpKTtcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlKHZhbHVlLCBwYXJhbSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUocGFyYW0pIDogdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRTaWRlKHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG59XG5mdW5jdGlvbiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQXhpcyhheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneCcgPyAneScgOiAneCc7XG59XG5mdW5jdGlvbiBnZXRBeGlzTGVuZ3RoKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbn1cbmZ1bmN0aW9uIGdldFNpZGVBeGlzKHBsYWNlbWVudCkge1xuICByZXR1cm4gWyd0b3AnLCAnYm90dG9tJ10uaW5jbHVkZXMoZ2V0U2lkZShwbGFjZW1lbnQpKSA/ICd5JyA6ICd4Jztcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KSB7XG4gIHJldHVybiBnZXRPcHBvc2l0ZUF4aXMoZ2V0U2lkZUF4aXMocGxhY2VtZW50KSk7XG59XG5mdW5jdGlvbiBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpIHtcbiAgaWYgKHJ0bCA9PT0gdm9pZCAwKSB7XG4gICAgcnRsID0gZmFsc2U7XG4gIH1cbiAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWdubWVudEF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gIGNvbnN0IGxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYWxpZ25tZW50QXhpcyk7XG4gIGxldCBtYWluQWxpZ25tZW50U2lkZSA9IGFsaWdubWVudEF4aXMgPT09ICd4JyA/IGFsaWdubWVudCA9PT0gKHJ0bCA/ICdlbmQnIDogJ3N0YXJ0JykgPyAncmlnaHQnIDogJ2xlZnQnIDogYWxpZ25tZW50ID09PSAnc3RhcnQnID8gJ2JvdHRvbScgOiAndG9wJztcbiAgaWYgKHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdID4gcmVjdHMuZmxvYXRpbmdbbGVuZ3RoXSkge1xuICAgIG1haW5BbGlnbm1lbnRTaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpbkFsaWdubWVudFNpZGUpO1xuICB9XG4gIHJldHVybiBbbWFpbkFsaWdubWVudFNpZGUsIGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKV07XG59XG5mdW5jdGlvbiBnZXRFeHBhbmRlZFBsYWNlbWVudHMocGxhY2VtZW50KSB7XG4gIGNvbnN0IG9wcG9zaXRlUGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgcmV0dXJuIFtnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpLCBvcHBvc2l0ZVBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQob3Bwb3NpdGVQbGFjZW1lbnQpXTtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL3N0YXJ0fGVuZC9nLCBhbGlnbm1lbnQgPT4gb3Bwb3NpdGVBbGlnbm1lbnRNYXBbYWxpZ25tZW50XSk7XG59XG5mdW5jdGlvbiBnZXRTaWRlTGlzdChzaWRlLCBpc1N0YXJ0LCBydGwpIHtcbiAgY29uc3QgbHIgPSBbJ2xlZnQnLCAncmlnaHQnXTtcbiAgY29uc3QgcmwgPSBbJ3JpZ2h0JywgJ2xlZnQnXTtcbiAgY29uc3QgdGIgPSBbJ3RvcCcsICdib3R0b20nXTtcbiAgY29uc3QgYnQgPSBbJ2JvdHRvbScsICd0b3AnXTtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAgaWYgKHJ0bCkgcmV0dXJuIGlzU3RhcnQgPyBybCA6IGxyO1xuICAgICAgcmV0dXJuIGlzU3RhcnQgPyBsciA6IHJsO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHJldHVybiBpc1N0YXJ0ID8gdGIgOiBidDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFtdO1xuICB9XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKHBsYWNlbWVudCwgZmxpcEFsaWdubWVudCwgZGlyZWN0aW9uLCBydGwpIHtcbiAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gIGxldCBsaXN0ID0gZ2V0U2lkZUxpc3QoZ2V0U2lkZShwbGFjZW1lbnQpLCBkaXJlY3Rpb24gPT09ICdzdGFydCcsIHJ0bCk7XG4gIGlmIChhbGlnbm1lbnQpIHtcbiAgICBsaXN0ID0gbGlzdC5tYXAoc2lkZSA9PiBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnQpO1xuICAgIGlmIChmbGlwQWxpZ25tZW50KSB7XG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQobGlzdC5tYXAoZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywgc2lkZSA9PiBvcHBvc2l0ZVNpZGVNYXBbc2lkZV0pO1xufVxuZnVuY3Rpb24gZXhwYW5kUGFkZGluZ09iamVjdChwYWRkaW5nKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwLFxuICAgIC4uLnBhZGRpbmdcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhZGRpbmdPYmplY3QocGFkZGluZykge1xuICByZXR1cm4gdHlwZW9mIHBhZGRpbmcgIT09ICdudW1iZXInID8gZXhwYW5kUGFkZGluZ09iamVjdChwYWRkaW5nKSA6IHtcbiAgICB0b3A6IHBhZGRpbmcsXG4gICAgcmlnaHQ6IHBhZGRpbmcsXG4gICAgYm90dG9tOiBwYWRkaW5nLFxuICAgIGxlZnQ6IHBhZGRpbmdcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlY3RUb0NsaWVudFJlY3QocmVjdCkge1xuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9ID0gcmVjdDtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgdG9wOiB5LFxuICAgIGxlZnQ6IHgsXG4gICAgcmlnaHQ6IHggKyB3aWR0aCxcbiAgICBib3R0b206IHkgKyBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmV4cG9ydCB7IGFsaWdubWVudHMsIGNsYW1wLCBjcmVhdGVDb29yZHMsIGV2YWx1YXRlLCBleHBhbmRQYWRkaW5nT2JqZWN0LCBmbG9vciwgZ2V0QWxpZ25tZW50LCBnZXRBbGlnbm1lbnRBeGlzLCBnZXRBbGlnbm1lbnRTaWRlcywgZ2V0QXhpc0xlbmd0aCwgZ2V0RXhwYW5kZWRQbGFjZW1lbnRzLCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVBeGlzLCBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzLCBnZXRPcHBvc2l0ZVBsYWNlbWVudCwgZ2V0UGFkZGluZ09iamVjdCwgZ2V0U2lkZSwgZ2V0U2lkZUF4aXMsIG1heCwgbWluLCBwbGFjZW1lbnRzLCByZWN0VG9DbGllbnRSZWN0LCByb3VuZCwgc2lkZXMgfTtcbiIsICJpbXBvcnQgeyBnZXRTaWRlQXhpcywgZ2V0QWxpZ25tZW50QXhpcywgZ2V0QXhpc0xlbmd0aCwgZ2V0U2lkZSwgZ2V0QWxpZ25tZW50LCBldmFsdWF0ZSwgZ2V0UGFkZGluZ09iamVjdCwgcmVjdFRvQ2xpZW50UmVjdCwgbWluLCBjbGFtcCwgcGxhY2VtZW50cywgZ2V0QWxpZ25tZW50U2lkZXMsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50LCBnZXRPcHBvc2l0ZVBsYWNlbWVudCwgZ2V0RXhwYW5kZWRQbGFjZW1lbnRzLCBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzLCBzaWRlcywgbWF4LCBnZXRPcHBvc2l0ZUF4aXMgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuZXhwb3J0IHsgcmVjdFRvQ2xpZW50UmVjdCB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5cbmZ1bmN0aW9uIGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KF9yZWYsIHBsYWNlbWVudCwgcnRsKSB7XG4gIGxldCB7XG4gICAgcmVmZXJlbmNlLFxuICAgIGZsb2F0aW5nXG4gIH0gPSBfcmVmO1xuICBjb25zdCBzaWRlQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWdubWVudEF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWduTGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IHNpZGVBeGlzID09PSAneSc7XG4gIGNvbnN0IGNvbW1vblggPSByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCAvIDIgLSBmbG9hdGluZy53aWR0aCAvIDI7XG4gIGNvbnN0IGNvbW1vblkgPSByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHQgLyAyIC0gZmxvYXRpbmcuaGVpZ2h0IC8gMjtcbiAgY29uc3QgY29tbW9uQWxpZ24gPSByZWZlcmVuY2VbYWxpZ25MZW5ndGhdIC8gMiAtIGZsb2F0aW5nW2FsaWduTGVuZ3RoXSAvIDI7XG4gIGxldCBjb29yZHM7XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55IC0gZmxvYXRpbmcuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCAtIGZsb2F0aW5nLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55XG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkpIHtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gLT0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSArPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gY29vcmRzO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyB0aGF0IHdpbGwgcGxhY2UgdGhlIGZsb2F0aW5nIGVsZW1lbnRcbiAqIG5leHQgdG8gYSBnaXZlbiByZWZlcmVuY2UgZWxlbWVudC5cbiAqXG4gKiBUaGlzIGV4cG9ydCBkb2VzIG5vdCBoYXZlIGFueSBgcGxhdGZvcm1gIGludGVyZmFjZSBsb2dpYy4gWW91IHdpbGwgbmVlZCB0b1xuICogd3JpdGUgb25lIGZvciB0aGUgcGxhdGZvcm0geW91IGFyZSB1c2luZyBGbG9hdGluZyBVSSB3aXRoLlxuICovXG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSBhc3luYyAocmVmZXJlbmNlLCBmbG9hdGluZywgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQgPSAnYm90dG9tJyxcbiAgICBzdHJhdGVneSA9ICdhYnNvbHV0ZScsXG4gICAgbWlkZGxld2FyZSA9IFtdLFxuICAgIHBsYXRmb3JtXG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHZhbGlkTWlkZGxld2FyZSA9IG1pZGRsZXdhcmUuZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGZsb2F0aW5nKSk7XG4gIGxldCByZWN0cyA9IGF3YWl0IHBsYXRmb3JtLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgcmVmZXJlbmNlLFxuICAgIGZsb2F0aW5nLFxuICAgIHN0cmF0ZWd5XG4gIH0pO1xuICBsZXQge1xuICAgIHgsXG4gICAgeVxuICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHBsYWNlbWVudCwgcnRsKTtcbiAgbGV0IHN0YXRlZnVsUGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICBsZXQgbWlkZGxld2FyZURhdGEgPSB7fTtcbiAgbGV0IHJlc2V0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbGlkTWlkZGxld2FyZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBmblxuICAgIH0gPSB2YWxpZE1pZGRsZXdhcmVbaV07XG4gICAgY29uc3Qge1xuICAgICAgeDogbmV4dFgsXG4gICAgICB5OiBuZXh0WSxcbiAgICAgIGRhdGEsXG4gICAgICByZXNldFxuICAgIH0gPSBhd2FpdCBmbih7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudDogc3RhdGVmdWxQbGFjZW1lbnQsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgcmVjdHMsXG4gICAgICBwbGF0Zm9ybSxcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIHJlZmVyZW5jZSxcbiAgICAgICAgZmxvYXRpbmdcbiAgICAgIH1cbiAgICB9KTtcbiAgICB4ID0gbmV4dFggIT0gbnVsbCA/IG5leHRYIDogeDtcbiAgICB5ID0gbmV4dFkgIT0gbnVsbCA/IG5leHRZIDogeTtcbiAgICBtaWRkbGV3YXJlRGF0YSA9IHtcbiAgICAgIC4uLm1pZGRsZXdhcmVEYXRhLFxuICAgICAgW25hbWVdOiB7XG4gICAgICAgIC4uLm1pZGRsZXdhcmVEYXRhW25hbWVdLFxuICAgICAgICAuLi5kYXRhXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAocmVzZXQgJiYgcmVzZXRDb3VudCA8PSA1MCkge1xuICAgICAgcmVzZXRDb3VudCsrO1xuICAgICAgaWYgKHR5cGVvZiByZXNldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHJlc2V0LnBsYWNlbWVudCkge1xuICAgICAgICAgIHN0YXRlZnVsUGxhY2VtZW50ID0gcmVzZXQucGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNldC5yZWN0cykge1xuICAgICAgICAgIHJlY3RzID0gcmVzZXQucmVjdHMgPT09IHRydWUgPyBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICAgICAgZmxvYXRpbmcsXG4gICAgICAgICAgICBzdHJhdGVneVxuICAgICAgICAgIH0pIDogcmVzZXQucmVjdHM7XG4gICAgICAgIH1cbiAgICAgICAgKHtcbiAgICAgICAgICB4LFxuICAgICAgICAgIHlcbiAgICAgICAgfSA9IGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KHJlY3RzLCBzdGF0ZWZ1bFBsYWNlbWVudCwgcnRsKSk7XG4gICAgICB9XG4gICAgICBpID0gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5LFxuICAgIHBsYWNlbWVudDogc3RhdGVmdWxQbGFjZW1lbnQsXG4gICAgc3RyYXRlZ3ksXG4gICAgbWlkZGxld2FyZURhdGFcbiAgfTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3Qgb2Ygb3ZlcmZsb3cgc2lkZSBvZmZzZXRzIHRoYXQgZGV0ZXJtaW5lIGhvdyBtdWNoIHRoZVxuICogZWxlbWVudCBpcyBvdmVyZmxvd2luZyBhIGdpdmVuIGNsaXBwaW5nIGJvdW5kYXJ5IG9uIGVhY2ggc2lkZS5cbiAqIC0gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgYm91bmRhcnkgYnkgdGhhdCBudW1iZXIgb2YgcGl4ZWxzXG4gKiAtIG5lZ2F0aXZlID0gaG93IG1hbnkgcGl4ZWxzIGxlZnQgYmVmb3JlIGl0IHdpbGwgb3ZlcmZsb3dcbiAqIC0gMCA9IGxpZXMgZmx1c2ggd2l0aCB0aGUgYm91bmRhcnlcbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9kZXRlY3RPdmVyZmxvd1xuICovXG5hc3luYyBmdW5jdGlvbiBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgb3B0aW9ucykge1xuICB2YXIgX2F3YWl0JHBsYXRmb3JtJGlzRWxlO1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgcGxhdGZvcm0sXG4gICAgcmVjdHMsXG4gICAgZWxlbWVudHMsXG4gICAgc3RyYXRlZ3lcbiAgfSA9IHN0YXRlO1xuICBjb25zdCB7XG4gICAgYm91bmRhcnkgPSAnY2xpcHBpbmdBbmNlc3RvcnMnLFxuICAgIHJvb3RCb3VuZGFyeSA9ICd2aWV3cG9ydCcsXG4gICAgZWxlbWVudENvbnRleHQgPSAnZmxvYXRpbmcnLFxuICAgIGFsdEJvdW5kYXJ5ID0gZmFsc2UsXG4gICAgcGFkZGluZyA9IDBcbiAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgY29uc3QgcGFkZGluZ09iamVjdCA9IGdldFBhZGRpbmdPYmplY3QocGFkZGluZyk7XG4gIGNvbnN0IGFsdENvbnRleHQgPSBlbGVtZW50Q29udGV4dCA9PT0gJ2Zsb2F0aW5nJyA/ICdyZWZlcmVuY2UnIDogJ2Zsb2F0aW5nJztcbiAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2FsdEJvdW5kYXJ5ID8gYWx0Q29udGV4dCA6IGVsZW1lbnRDb250ZXh0XTtcbiAgY29uc3QgY2xpcHBpbmdDbGllbnRSZWN0ID0gcmVjdFRvQ2xpZW50UmVjdChhd2FpdCBwbGF0Zm9ybS5nZXRDbGlwcGluZ1JlY3Qoe1xuICAgIGVsZW1lbnQ6ICgoX2F3YWl0JHBsYXRmb3JtJGlzRWxlID0gYXdhaXQgKHBsYXRmb3JtLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNFbGVtZW50KGVsZW1lbnQpKSkgIT0gbnVsbCA/IF9hd2FpdCRwbGF0Zm9ybSRpc0VsZSA6IHRydWUpID8gZWxlbWVudCA6IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgfHwgKGF3YWl0IChwbGF0Zm9ybS5nZXREb2N1bWVudEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldERvY3VtZW50RWxlbWVudChlbGVtZW50cy5mbG9hdGluZykpKSxcbiAgICBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnksXG4gICAgc3RyYXRlZ3lcbiAgfSkpO1xuICBjb25zdCByZWN0ID0gZWxlbWVudENvbnRleHQgPT09ICdmbG9hdGluZycgPyB7XG4gICAgeCxcbiAgICB5LFxuICAgIHdpZHRoOiByZWN0cy5mbG9hdGluZy53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3RzLmZsb2F0aW5nLmhlaWdodFxuICB9IDogcmVjdHMucmVmZXJlbmNlO1xuICBjb25zdCBvZmZzZXRQYXJlbnQgPSBhd2FpdCAocGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgY29uc3Qgb2Zmc2V0U2NhbGUgPSAoYXdhaXQgKHBsYXRmb3JtLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNFbGVtZW50KG9mZnNldFBhcmVudCkpKSA/IChhd2FpdCAocGxhdGZvcm0uZ2V0U2NhbGUgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldFNjYWxlKG9mZnNldFBhcmVudCkpKSB8fCB7XG4gICAgeDogMSxcbiAgICB5OiAxXG4gIH0gOiB7XG4gICAgeDogMSxcbiAgICB5OiAxXG4gIH07XG4gIGNvbnN0IGVsZW1lbnRDbGllbnRSZWN0ID0gcmVjdFRvQ2xpZW50UmVjdChwbGF0Zm9ybS5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCA/IGF3YWl0IHBsYXRmb3JtLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KHtcbiAgICBlbGVtZW50cyxcbiAgICByZWN0LFxuICAgIG9mZnNldFBhcmVudCxcbiAgICBzdHJhdGVneVxuICB9KSA6IHJlY3QpO1xuICByZXR1cm4ge1xuICAgIHRvcDogKGNsaXBwaW5nQ2xpZW50UmVjdC50b3AgLSBlbGVtZW50Q2xpZW50UmVjdC50b3AgKyBwYWRkaW5nT2JqZWN0LnRvcCkgLyBvZmZzZXRTY2FsZS55LFxuICAgIGJvdHRvbTogKGVsZW1lbnRDbGllbnRSZWN0LmJvdHRvbSAtIGNsaXBwaW5nQ2xpZW50UmVjdC5ib3R0b20gKyBwYWRkaW5nT2JqZWN0LmJvdHRvbSkgLyBvZmZzZXRTY2FsZS55LFxuICAgIGxlZnQ6IChjbGlwcGluZ0NsaWVudFJlY3QubGVmdCAtIGVsZW1lbnRDbGllbnRSZWN0LmxlZnQgKyBwYWRkaW5nT2JqZWN0LmxlZnQpIC8gb2Zmc2V0U2NhbGUueCxcbiAgICByaWdodDogKGVsZW1lbnRDbGllbnRSZWN0LnJpZ2h0IC0gY2xpcHBpbmdDbGllbnRSZWN0LnJpZ2h0ICsgcGFkZGluZ09iamVjdC5yaWdodCkgLyBvZmZzZXRTY2FsZS54XG4gIH07XG59XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2Fycm93XG4gKi9cbmNvbnN0IGFycm93ID0gb3B0aW9ucyA9PiAoe1xuICBuYW1lOiAnYXJyb3cnLFxuICBvcHRpb25zLFxuICBhc3luYyBmbihzdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgcGxhY2VtZW50LFxuICAgICAgcmVjdHMsXG4gICAgICBwbGF0Zm9ybSxcbiAgICAgIGVsZW1lbnRzLFxuICAgICAgbWlkZGxld2FyZURhdGFcbiAgICB9ID0gc3RhdGU7XG4gICAgLy8gU2luY2UgYGVsZW1lbnRgIGlzIHJlcXVpcmVkLCB3ZSBkb24ndCBQYXJ0aWFsPD4gdGhlIHR5cGUuXG4gICAgY29uc3Qge1xuICAgICAgZWxlbWVudCxcbiAgICAgIHBhZGRpbmcgPSAwXG4gICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKSB8fCB7fTtcbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgIHgsXG4gICAgICB5XG4gICAgfTtcbiAgICBjb25zdCBheGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICAgIGNvbnN0IGxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYXhpcyk7XG4gICAgY29uc3QgYXJyb3dEaW1lbnNpb25zID0gYXdhaXQgcGxhdGZvcm0uZ2V0RGltZW5zaW9ucyhlbGVtZW50KTtcbiAgICBjb25zdCBpc1lBeGlzID0gYXhpcyA9PT0gJ3knO1xuICAgIGNvbnN0IG1pblByb3AgPSBpc1lBeGlzID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgY29uc3QgbWF4UHJvcCA9IGlzWUF4aXMgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gICAgY29uc3QgY2xpZW50UHJvcCA9IGlzWUF4aXMgPyAnY2xpZW50SGVpZ2h0JyA6ICdjbGllbnRXaWR0aCc7XG4gICAgY29uc3QgZW5kRGlmZiA9IHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdICsgcmVjdHMucmVmZXJlbmNlW2F4aXNdIC0gY29vcmRzW2F4aXNdIC0gcmVjdHMuZmxvYXRpbmdbbGVuZ3RoXTtcbiAgICBjb25zdCBzdGFydERpZmYgPSBjb29yZHNbYXhpc10gLSByZWN0cy5yZWZlcmVuY2VbYXhpc107XG4gICAgY29uc3QgYXJyb3dPZmZzZXRQYXJlbnQgPSBhd2FpdCAocGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkpO1xuICAgIGxldCBjbGllbnRTaXplID0gYXJyb3dPZmZzZXRQYXJlbnQgPyBhcnJvd09mZnNldFBhcmVudFtjbGllbnRQcm9wXSA6IDA7XG5cbiAgICAvLyBET00gcGxhdGZvcm0gY2FuIHJldHVybiBgd2luZG93YCBhcyB0aGUgYG9mZnNldFBhcmVudGAuXG4gICAgaWYgKCFjbGllbnRTaXplIHx8ICEoYXdhaXQgKHBsYXRmb3JtLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNFbGVtZW50KGFycm93T2Zmc2V0UGFyZW50KSkpKSB7XG4gICAgICBjbGllbnRTaXplID0gZWxlbWVudHMuZmxvYXRpbmdbY2xpZW50UHJvcF0gfHwgcmVjdHMuZmxvYXRpbmdbbGVuZ3RoXTtcbiAgICB9XG4gICAgY29uc3QgY2VudGVyVG9SZWZlcmVuY2UgPSBlbmREaWZmIC8gMiAtIHN0YXJ0RGlmZiAvIDI7XG5cbiAgICAvLyBJZiB0aGUgcGFkZGluZyBpcyBsYXJnZSBlbm91Z2ggdGhhdCBpdCBjYXVzZXMgdGhlIGFycm93IHRvIG5vIGxvbmdlciBiZVxuICAgIC8vIGNlbnRlcmVkLCBtb2RpZnkgdGhlIHBhZGRpbmcgc28gdGhhdCBpdCBpcyBjZW50ZXJlZC5cbiAgICBjb25zdCBsYXJnZXN0UG9zc2libGVQYWRkaW5nID0gY2xpZW50U2l6ZSAvIDIgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgLSAxO1xuICAgIGNvbnN0IG1pblBhZGRpbmcgPSBtaW4ocGFkZGluZ09iamVjdFttaW5Qcm9wXSwgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyk7XG4gICAgY29uc3QgbWF4UGFkZGluZyA9IG1pbihwYWRkaW5nT2JqZWN0W21heFByb3BdLCBsYXJnZXN0UG9zc2libGVQYWRkaW5nKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgYXJyb3cgZG9lc24ndCBvdmVyZmxvdyB0aGUgZmxvYXRpbmcgZWxlbWVudCBpZiB0aGUgY2VudGVyXG4gICAgLy8gcG9pbnQgaXMgb3V0c2lkZSB0aGUgZmxvYXRpbmcgZWxlbWVudCdzIGJvdW5kcy5cbiAgICBjb25zdCBtaW4kMSA9IG1pblBhZGRpbmc7XG4gICAgY29uc3QgbWF4ID0gY2xpZW50U2l6ZSAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC0gbWF4UGFkZGluZztcbiAgICBjb25zdCBjZW50ZXIgPSBjbGllbnRTaXplIC8gMiAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiArIGNlbnRlclRvUmVmZXJlbmNlO1xuICAgIGNvbnN0IG9mZnNldCA9IGNsYW1wKG1pbiQxLCBjZW50ZXIsIG1heCk7XG5cbiAgICAvLyBJZiB0aGUgcmVmZXJlbmNlIGlzIHNtYWxsIGVub3VnaCB0aGF0IHRoZSBhcnJvdydzIHBhZGRpbmcgY2F1c2VzIGl0IHRvXG4gICAgLy8gdG8gcG9pbnQgdG8gbm90aGluZyBmb3IgYW4gYWxpZ25lZCBwbGFjZW1lbnQsIGFkanVzdCB0aGUgb2Zmc2V0IG9mIHRoZVxuICAgIC8vIGZsb2F0aW5nIGVsZW1lbnQgaXRzZWxmLiBUbyBlbnN1cmUgYHNoaWZ0KClgIGNvbnRpbnVlcyB0byB0YWtlIGFjdGlvbixcbiAgICAvLyBhIHNpbmdsZSByZXNldCBpcyBwZXJmb3JtZWQgd2hlbiB0aGlzIGlzIHRydWUuXG4gICAgY29uc3Qgc2hvdWxkQWRkT2Zmc2V0ID0gIW1pZGRsZXdhcmVEYXRhLmFycm93ICYmIGdldEFsaWdubWVudChwbGFjZW1lbnQpICE9IG51bGwgJiYgY2VudGVyICE9PSBvZmZzZXQgJiYgcmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gLyAyIC0gKGNlbnRlciA8IG1pbiQxID8gbWluUGFkZGluZyA6IG1heFBhZGRpbmcpIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyIDwgMDtcbiAgICBjb25zdCBhbGlnbm1lbnRPZmZzZXQgPSBzaG91bGRBZGRPZmZzZXQgPyBjZW50ZXIgPCBtaW4kMSA/IGNlbnRlciAtIG1pbiQxIDogY2VudGVyIC0gbWF4IDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgW2F4aXNdOiBjb29yZHNbYXhpc10gKyBhbGlnbm1lbnRPZmZzZXQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFtheGlzXTogb2Zmc2V0LFxuICAgICAgICBjZW50ZXJPZmZzZXQ6IGNlbnRlciAtIG9mZnNldCAtIGFsaWdubWVudE9mZnNldCxcbiAgICAgICAgLi4uKHNob3VsZEFkZE9mZnNldCAmJiB7XG4gICAgICAgICAgYWxpZ25tZW50T2Zmc2V0XG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVzZXQ6IHNob3VsZEFkZE9mZnNldFxuICAgIH07XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBnZXRQbGFjZW1lbnRMaXN0KGFsaWdubWVudCwgYXV0b0FsaWdubWVudCwgYWxsb3dlZFBsYWNlbWVudHMpIHtcbiAgY29uc3QgYWxsb3dlZFBsYWNlbWVudHNTb3J0ZWRCeUFsaWdubWVudCA9IGFsaWdubWVudCA/IFsuLi5hbGxvd2VkUGxhY2VtZW50cy5maWx0ZXIocGxhY2VtZW50ID0+IGdldEFsaWdubWVudChwbGFjZW1lbnQpID09PSBhbGlnbm1lbnQpLCAuLi5hbGxvd2VkUGxhY2VtZW50cy5maWx0ZXIocGxhY2VtZW50ID0+IGdldEFsaWdubWVudChwbGFjZW1lbnQpICE9PSBhbGlnbm1lbnQpXSA6IGFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0U2lkZShwbGFjZW1lbnQpID09PSBwbGFjZW1lbnQpO1xuICByZXR1cm4gYWxsb3dlZFBsYWNlbWVudHNTb3J0ZWRCeUFsaWdubWVudC5maWx0ZXIocGxhY2VtZW50ID0+IHtcbiAgICBpZiAoYWxpZ25tZW50KSB7XG4gICAgICByZXR1cm4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgPT09IGFsaWdubWVudCB8fCAoYXV0b0FsaWdubWVudCA/IGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCkgIT09IHBsYWNlbWVudCA6IGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgY2hvb3NpbmcgdGhlIHBsYWNlbWVudFxuICogdGhhdCBoYXMgdGhlIG1vc3Qgc3BhY2UgYXZhaWxhYmxlIGF1dG9tYXRpY2FsbHksIHdpdGhvdXQgbmVlZGluZyB0byBzcGVjaWZ5IGFcbiAqIHByZWZlcnJlZCBwbGFjZW1lbnQuIEFsdGVybmF0aXZlIHRvIGBmbGlwYC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hdXRvUGxhY2VtZW50XG4gKi9cbmNvbnN0IGF1dG9QbGFjZW1lbnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2F1dG9QbGFjZW1lbnQnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkYXV0b1AsIF9taWRkbGV3YXJlRGF0YSRhdXRvUDIsIF9wbGFjZW1lbnRzVGhhdEZpdE9uRTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBlbGVtZW50c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjcm9zc0F4aXMgPSBmYWxzZSxcbiAgICAgICAgYWxpZ25tZW50LFxuICAgICAgICBhbGxvd2VkUGxhY2VtZW50cyA9IHBsYWNlbWVudHMsXG4gICAgICAgIGF1dG9BbGlnbm1lbnQgPSB0cnVlLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBwbGFjZW1lbnRzJDEgPSBhbGlnbm1lbnQgIT09IHVuZGVmaW5lZCB8fCBhbGxvd2VkUGxhY2VtZW50cyA9PT0gcGxhY2VtZW50cyA/IGdldFBsYWNlbWVudExpc3QoYWxpZ25tZW50IHx8IG51bGwsIGF1dG9BbGlnbm1lbnQsIGFsbG93ZWRQbGFjZW1lbnRzKSA6IGFsbG93ZWRQbGFjZW1lbnRzO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9ICgoX21pZGRsZXdhcmVEYXRhJGF1dG9QID0gbWlkZGxld2FyZURhdGEuYXV0b1BsYWNlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRhdXRvUC5pbmRleCkgfHwgMDtcbiAgICAgIGNvbnN0IGN1cnJlbnRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzJDFbY3VycmVudEluZGV4XTtcbiAgICAgIGlmIChjdXJyZW50UGxhY2VtZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgYWxpZ25tZW50U2lkZXMgPSBnZXRBbGlnbm1lbnRTaWRlcyhjdXJyZW50UGxhY2VtZW50LCByZWN0cywgYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpKTtcblxuICAgICAgLy8gTWFrZSBgY29tcHV0ZUNvb3Jkc2Agc3RhcnQgZnJvbSB0aGUgcmlnaHQgcGxhY2UuXG4gICAgICBpZiAocGxhY2VtZW50ICE9PSBjdXJyZW50UGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50cyQxWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudE92ZXJmbG93cyA9IFtvdmVyZmxvd1tnZXRTaWRlKGN1cnJlbnRQbGFjZW1lbnQpXSwgb3ZlcmZsb3dbYWxpZ25tZW50U2lkZXNbMF1dLCBvdmVyZmxvd1thbGlnbm1lbnRTaWRlc1sxXV1dO1xuICAgICAgY29uc3QgYWxsT3ZlcmZsb3dzID0gWy4uLigoKF9taWRkbGV3YXJlRGF0YSRhdXRvUDIgPSBtaWRkbGV3YXJlRGF0YS5hdXRvUGxhY2VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGF1dG9QMi5vdmVyZmxvd3MpIHx8IFtdKSwge1xuICAgICAgICBwbGFjZW1lbnQ6IGN1cnJlbnRQbGFjZW1lbnQsXG4gICAgICAgIG92ZXJmbG93czogY3VycmVudE92ZXJmbG93c1xuICAgICAgfV07XG4gICAgICBjb25zdCBuZXh0UGxhY2VtZW50ID0gcGxhY2VtZW50cyQxW2N1cnJlbnRJbmRleCArIDFdO1xuXG4gICAgICAvLyBUaGVyZSBhcmUgbW9yZSBwbGFjZW1lbnRzIHRvIGNoZWNrLlxuICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbmRleDogY3VycmVudEluZGV4ICsgMSxcbiAgICAgICAgICAgIG92ZXJmbG93czogYWxsT3ZlcmZsb3dzXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBuZXh0UGxhY2VtZW50XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlID0gYWxsT3ZlcmZsb3dzLm1hcChkID0+IHtcbiAgICAgICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KGQucGxhY2VtZW50KTtcbiAgICAgICAgcmV0dXJuIFtkLnBsYWNlbWVudCwgYWxpZ25tZW50ICYmIGNyb3NzQXhpcyA/XG4gICAgICAgIC8vIENoZWNrIGFsb25nIHRoZSBtYWluQXhpcyBhbmQgbWFpbiBjcm9zc0F4aXMgc2lkZS5cbiAgICAgICAgZC5vdmVyZmxvd3Muc2xpY2UoMCwgMikucmVkdWNlKChhY2MsIHYpID0+IGFjYyArIHYsIDApIDpcbiAgICAgICAgLy8gQ2hlY2sgb25seSB0aGUgbWFpbkF4aXMuXG4gICAgICAgIGQub3ZlcmZsb3dzWzBdLCBkLm92ZXJmbG93c107XG4gICAgICB9KS5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG4gICAgICBjb25zdCBwbGFjZW1lbnRzVGhhdEZpdE9uRWFjaFNpZGUgPSBwbGFjZW1lbnRzU29ydGVkQnlNb3N0U3BhY2UuZmlsdGVyKGQgPT4gZFsyXS5zbGljZSgwLFxuICAgICAgLy8gQWxpZ25lZCBwbGFjZW1lbnRzIHNob3VsZCBub3QgY2hlY2sgdGhlaXIgb3Bwb3NpdGUgY3Jvc3NBeGlzXG4gICAgICAvLyBzaWRlLlxuICAgICAgZ2V0QWxpZ25tZW50KGRbMF0pID8gMiA6IDMpLmV2ZXJ5KHYgPT4gdiA8PSAwKSk7XG4gICAgICBjb25zdCByZXNldFBsYWNlbWVudCA9ICgoX3BsYWNlbWVudHNUaGF0Rml0T25FID0gcGxhY2VtZW50c1RoYXRGaXRPbkVhY2hTaWRlWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX3BsYWNlbWVudHNUaGF0Rml0T25FWzBdKSB8fCBwbGFjZW1lbnRzU29ydGVkQnlNb3N0U3BhY2VbMF1bMF07XG4gICAgICBpZiAocmVzZXRQbGFjZW1lbnQgIT09IHBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGluZGV4OiBjdXJyZW50SW5kZXggKyAxLFxuICAgICAgICAgICAgb3ZlcmZsb3dzOiBhbGxPdmVyZmxvd3NcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHJlc2V0UGxhY2VtZW50XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGZsaXBwaW5nIHRoZSBgcGxhY2VtZW50YFxuICogaW4gb3JkZXIgdG8ga2VlcCBpdCBpbiB2aWV3IHdoZW4gdGhlIHByZWZlcnJlZCBwbGFjZW1lbnQocykgd2lsbCBvdmVyZmxvdyB0aGVcbiAqIGNsaXBwaW5nIGJvdW5kYXJ5LiBBbHRlcm5hdGl2ZSB0byBgYXV0b1BsYWNlbWVudGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZmxpcFxuICovXG5jb25zdCBmbGlwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdmbGlwJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGFycm93LCBfbWlkZGxld2FyZURhdGEkZmxpcDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIGluaXRpYWxQbGFjZW1lbnQsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBlbGVtZW50c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSB0cnVlLFxuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHM6IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgICAgZmFsbGJhY2tTdHJhdGVneSA9ICdiZXN0Rml0JyxcbiAgICAgICAgZmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiA9ICdub25lJyxcbiAgICAgICAgZmxpcEFsaWdubWVudCA9IHRydWUsXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcblxuICAgICAgLy8gSWYgYSByZXNldCBieSB0aGUgYXJyb3cgd2FzIGNhdXNlZCBkdWUgdG8gYW4gYWxpZ25tZW50IG9mZnNldCBiZWluZ1xuICAgICAgLy8gYWRkZWQsIHdlIHNob3VsZCBza2lwIGFueSBsb2dpYyBub3cgc2luY2UgYGZsaXAoKWAgaGFzIGFscmVhZHkgZG9uZSBpdHNcbiAgICAgIC8vIHdvcmsuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzI1NDkjaXNzdWVjb21tZW50LTE3MTk2MDE2NDNcbiAgICAgIGlmICgoX21pZGRsZXdhcmVEYXRhJGFycm93ID0gbWlkZGxld2FyZURhdGEuYXJyb3cpICE9IG51bGwgJiYgX21pZGRsZXdhcmVEYXRhJGFycm93LmFsaWdubWVudE9mZnNldCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaW5pdGlhbFNpZGVBeGlzID0gZ2V0U2lkZUF4aXMoaW5pdGlhbFBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpc0Jhc2VQbGFjZW1lbnQgPSBnZXRTaWRlKGluaXRpYWxQbGFjZW1lbnQpID09PSBpbml0aWFsUGxhY2VtZW50O1xuICAgICAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICAgICAgY29uc3QgZmFsbGJhY2tQbGFjZW1lbnRzID0gc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIHx8IChpc0Jhc2VQbGFjZW1lbnQgfHwgIWZsaXBBbGlnbm1lbnQgPyBbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoaW5pdGlhbFBsYWNlbWVudCldIDogZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQpKTtcbiAgICAgIGNvbnN0IGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uICE9PSAnbm9uZSc7XG4gICAgICBpZiAoIXNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyAmJiBoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uKSB7XG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50cy5wdXNoKC4uLmdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMoaW5pdGlhbFBsYWNlbWVudCwgZmxpcEFsaWdubWVudCwgZmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiwgcnRsKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwbGFjZW1lbnRzID0gW2luaXRpYWxQbGFjZW1lbnQsIC4uLmZhbGxiYWNrUGxhY2VtZW50c107XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3dzID0gW107XG4gICAgICBsZXQgb3ZlcmZsb3dzRGF0YSA9ICgoX21pZGRsZXdhcmVEYXRhJGZsaXAgPSBtaWRkbGV3YXJlRGF0YS5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGZsaXAub3ZlcmZsb3dzKSB8fCBbXTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIG92ZXJmbG93cy5wdXNoKG92ZXJmbG93W3NpZGVdKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICBjb25zdCBzaWRlcyA9IGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCk7XG4gICAgICAgIG92ZXJmbG93cy5wdXNoKG92ZXJmbG93W3NpZGVzWzBdXSwgb3ZlcmZsb3dbc2lkZXNbMV1dKTtcbiAgICAgIH1cbiAgICAgIG92ZXJmbG93c0RhdGEgPSBbLi4ub3ZlcmZsb3dzRGF0YSwge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG92ZXJmbG93c1xuICAgICAgfV07XG5cbiAgICAgIC8vIE9uZSBvciBtb3JlIHNpZGVzIGlzIG92ZXJmbG93aW5nLlxuICAgICAgaWYgKCFvdmVyZmxvd3MuZXZlcnkoc2lkZSA9PiBzaWRlIDw9IDApKSB7XG4gICAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkZmxpcDIsIF9vdmVyZmxvd3NEYXRhJGZpbHRlcjtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gKCgoX21pZGRsZXdhcmVEYXRhJGZsaXAyID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwMi5pbmRleCkgfHwgMCkgKyAxO1xuICAgICAgICBjb25zdCBuZXh0UGxhY2VtZW50ID0gcGxhY2VtZW50c1tuZXh0SW5kZXhdO1xuICAgICAgICBpZiAobmV4dFBsYWNlbWVudCkge1xuICAgICAgICAgIC8vIFRyeSBuZXh0IHBsYWNlbWVudCBhbmQgcmUtcnVuIHRoZSBsaWZlY3ljbGUuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgICAgICAgb3ZlcmZsb3dzOiBvdmVyZmxvd3NEYXRhXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBuZXh0UGxhY2VtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcnN0LCBmaW5kIHRoZSBjYW5kaWRhdGVzIHRoYXQgZml0IG9uIHRoZSBtYWluQXhpcyBzaWRlIG9mIG92ZXJmbG93LFxuICAgICAgICAvLyB0aGVuIGZpbmQgdGhlIHBsYWNlbWVudCB0aGF0IGZpdHMgdGhlIGJlc3Qgb24gdGhlIG1haW4gY3Jvc3NBeGlzIHNpZGUuXG4gICAgICAgIGxldCByZXNldFBsYWNlbWVudCA9IChfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIgPSBvdmVyZmxvd3NEYXRhLmZpbHRlcihkID0+IGQub3ZlcmZsb3dzWzBdIDw9IDApLnNvcnQoKGEsIGIpID0+IGEub3ZlcmZsb3dzWzFdIC0gYi5vdmVyZmxvd3NbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX292ZXJmbG93c0RhdGEkZmlsdGVyLnBsYWNlbWVudDtcblxuICAgICAgICAvLyBPdGhlcndpc2UgZmFsbGJhY2suXG4gICAgICAgIGlmICghcmVzZXRQbGFjZW1lbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGZhbGxiYWNrU3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Jlc3RGaXQnOlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIF9vdmVyZmxvd3NEYXRhJGZpbHRlcjI7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlcjIgPSBvdmVyZmxvd3NEYXRhLmZpbHRlcihkID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGQucGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTaWRlQXhpcyA9PT0gaW5pdGlhbFNpZGVBeGlzIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGJpYXMgdG8gdGhlIGB5YCBzaWRlIGF4aXMgZHVlIHRvIGhvcml6b250YWxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhZGluZyBkaXJlY3Rpb25zIGZhdm9yaW5nIGdyZWF0ZXIgd2lkdGguXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTaWRlQXhpcyA9PT0gJ3knO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSkubWFwKGQgPT4gW2QucGxhY2VtZW50LCBkLm92ZXJmbG93cy5maWx0ZXIob3ZlcmZsb3cgPT4gb3ZlcmZsb3cgPiAwKS5yZWR1Y2UoKGFjYywgb3ZlcmZsb3cpID0+IGFjYyArIG92ZXJmbG93LCAwKV0pLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlcjJbMF07XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgcmVzZXRQbGFjZW1lbnQgPSBwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdpbml0aWFsUGxhY2VtZW50JzpcbiAgICAgICAgICAgICAgcmVzZXRQbGFjZW1lbnQgPSBpbml0aWFsUGxhY2VtZW50O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYWNlbWVudCAhPT0gcmVzZXRQbGFjZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiByZXNldFBsYWNlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXRTaWRlT2Zmc2V0cyhvdmVyZmxvdywgcmVjdCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogb3ZlcmZsb3cudG9wIC0gcmVjdC5oZWlnaHQsXG4gICAgcmlnaHQ6IG92ZXJmbG93LnJpZ2h0IC0gcmVjdC53aWR0aCxcbiAgICBib3R0b206IG92ZXJmbG93LmJvdHRvbSAtIHJlY3QuaGVpZ2h0LFxuICAgIGxlZnQ6IG92ZXJmbG93LmxlZnQgLSByZWN0LndpZHRoXG4gIH07XG59XG5mdW5jdGlvbiBpc0FueVNpZGVGdWxseUNsaXBwZWQob3ZlcmZsb3cpIHtcbiAgcmV0dXJuIHNpZGVzLnNvbWUoc2lkZSA9PiBvdmVyZmxvd1tzaWRlXSA+PSAwKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBoaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50IGluIGFwcGxpY2FibGUgc2l0dWF0aW9ucywgc3VjaCBhc1xuICogd2hlbiBpdCBpcyBub3QgaW4gdGhlIHNhbWUgY2xpcHBpbmcgY29udGV4dCBhcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaGlkZVxuICovXG5jb25zdCBoaWRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdoaWRlJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlY3RzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHN0cmF0ZWd5ID0gJ3JlZmVyZW5jZUhpZGRlbicsXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSAncmVmZXJlbmNlSGlkZGVuJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICAgICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgICAgICAgICAgZWxlbWVudENvbnRleHQ6ICdyZWZlcmVuY2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhvdmVyZmxvdywgcmVjdHMucmVmZXJlbmNlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VIaWRkZW5PZmZzZXRzOiBvZmZzZXRzLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUhpZGRlbjogaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG9mZnNldHMpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlICdlc2NhcGVkJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICAgICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgICAgICAgICAgYWx0Qm91bmRhcnk6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0cy5mbG9hdGluZyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZXNjYXBlZE9mZnNldHM6IG9mZnNldHMsXG4gICAgICAgICAgICAgICAgZXNjYXBlZDogaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG9mZnNldHMpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdSZWN0KHJlY3RzKSB7XG4gIGNvbnN0IG1pblggPSBtaW4oLi4ucmVjdHMubWFwKHJlY3QgPT4gcmVjdC5sZWZ0KSk7XG4gIGNvbnN0IG1pblkgPSBtaW4oLi4ucmVjdHMubWFwKHJlY3QgPT4gcmVjdC50b3ApKTtcbiAgY29uc3QgbWF4WCA9IG1heCguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LnJpZ2h0KSk7XG4gIGNvbnN0IG1heFkgPSBtYXgoLi4ucmVjdHMubWFwKHJlY3QgPT4gcmVjdC5ib3R0b20pKTtcbiAgcmV0dXJuIHtcbiAgICB4OiBtaW5YLFxuICAgIHk6IG1pblksXG4gICAgd2lkdGg6IG1heFggLSBtaW5YLFxuICAgIGhlaWdodDogbWF4WSAtIG1pbllcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFJlY3RzQnlMaW5lKHJlY3RzKSB7XG4gIGNvbnN0IHNvcnRlZFJlY3RzID0gcmVjdHMuc2xpY2UoKS5zb3J0KChhLCBiKSA9PiBhLnkgLSBiLnkpO1xuICBjb25zdCBncm91cHMgPSBbXTtcbiAgbGV0IHByZXZSZWN0ID0gbnVsbDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRSZWN0cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHJlY3QgPSBzb3J0ZWRSZWN0c1tpXTtcbiAgICBpZiAoIXByZXZSZWN0IHx8IHJlY3QueSAtIHByZXZSZWN0LnkgPiBwcmV2UmVjdC5oZWlnaHQgLyAyKSB7XG4gICAgICBncm91cHMucHVzaChbcmVjdF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdLnB1c2gocmVjdCk7XG4gICAgfVxuICAgIHByZXZSZWN0ID0gcmVjdDtcbiAgfVxuICByZXR1cm4gZ3JvdXBzLm1hcChyZWN0ID0+IHJlY3RUb0NsaWVudFJlY3QoZ2V0Qm91bmRpbmdSZWN0KHJlY3QpKSk7XG59XG4vKipcbiAqIFByb3ZpZGVzIGltcHJvdmVkIHBvc2l0aW9uaW5nIGZvciBpbmxpbmUgcmVmZXJlbmNlIGVsZW1lbnRzIHRoYXQgY2FuIHNwYW5cbiAqIG92ZXIgbXVsdGlwbGUgbGluZXMsIHN1Y2ggYXMgaHlwZXJsaW5rcyBvciByYW5nZSBzZWxlY3Rpb25zLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2lubGluZVxuICovXG5jb25zdCBpbmxpbmUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2lubGluZScsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICByZWN0cyxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIHN0cmF0ZWd5XG4gICAgICB9ID0gc3RhdGU7XG4gICAgICAvLyBBIE1vdXNlRXZlbnQncyBjbGllbnR7WCxZfSBjb29yZHMgY2FuIGJlIHVwIHRvIDIgcGl4ZWxzIG9mZiBhXG4gICAgICAvLyBDbGllbnRSZWN0J3MgYm91bmRzLCBkZXNwaXRlIHRoZSBldmVudCBsaXN0ZW5lciBiZWluZyB0cmlnZ2VyZWQuIEFcbiAgICAgIC8vIHBhZGRpbmcgb2YgMiBzZWVtcyB0byBoYW5kbGUgdGhpcyBpc3N1ZS5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGFkZGluZyA9IDIsXG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBuYXRpdmVDbGllbnRSZWN0cyA9IEFycmF5LmZyb20oKGF3YWl0IChwbGF0Zm9ybS5nZXRDbGllbnRSZWN0cyA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0Q2xpZW50UmVjdHMoZWxlbWVudHMucmVmZXJlbmNlKSkpIHx8IFtdKTtcbiAgICAgIGNvbnN0IGNsaWVudFJlY3RzID0gZ2V0UmVjdHNCeUxpbmUobmF0aXZlQ2xpZW50UmVjdHMpO1xuICAgICAgY29uc3QgZmFsbGJhY2sgPSByZWN0VG9DbGllbnRSZWN0KGdldEJvdW5kaW5nUmVjdChuYXRpdmVDbGllbnRSZWN0cykpO1xuICAgICAgY29uc3QgcGFkZGluZ09iamVjdCA9IGdldFBhZGRpbmdPYmplY3QocGFkZGluZyk7XG4gICAgICBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgICAgIC8vIFRoZXJlIGFyZSB0d28gcmVjdHMgYW5kIHRoZXkgYXJlIGRpc2pvaW5lZC5cbiAgICAgICAgaWYgKGNsaWVudFJlY3RzLmxlbmd0aCA9PT0gMiAmJiBjbGllbnRSZWN0c1swXS5sZWZ0ID4gY2xpZW50UmVjdHNbMV0ucmlnaHQgJiYgeCAhPSBudWxsICYmIHkgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IHJlY3QgaW4gd2hpY2ggdGhlIHBvaW50IGlzIGZ1bGx5IGluc2lkZS5cbiAgICAgICAgICByZXR1cm4gY2xpZW50UmVjdHMuZmluZChyZWN0ID0+IHggPiByZWN0LmxlZnQgLSBwYWRkaW5nT2JqZWN0LmxlZnQgJiYgeCA8IHJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0ICYmIHkgPiByZWN0LnRvcCAtIHBhZGRpbmdPYmplY3QudG9wICYmIHkgPCByZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tKSB8fCBmYWxsYmFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXJlIGFyZSAyIG9yIG1vcmUgY29ubmVjdGVkIHJlY3RzLlxuICAgICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICBpZiAoZ2V0U2lkZUF4aXMocGxhY2VtZW50KSA9PT0gJ3knKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFJlY3QgPSBjbGllbnRSZWN0c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RSZWN0ID0gY2xpZW50UmVjdHNbY2xpZW50UmVjdHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCBpc1RvcCA9IGdldFNpZGUocGxhY2VtZW50KSA9PT0gJ3RvcCc7XG4gICAgICAgICAgICBjb25zdCB0b3AgPSBmaXJzdFJlY3QudG9wO1xuICAgICAgICAgICAgY29uc3QgYm90dG9tID0gbGFzdFJlY3QuYm90dG9tO1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9IGlzVG9wID8gZmlyc3RSZWN0LmxlZnQgOiBsYXN0UmVjdC5sZWZ0O1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBpc1RvcCA/IGZpcnN0UmVjdC5yaWdodCA6IGxhc3RSZWN0LnJpZ2h0O1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IGxlZnQsXG4gICAgICAgICAgICAgIHk6IHRvcFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXNMZWZ0U2lkZSA9IGdldFNpZGUocGxhY2VtZW50KSA9PT0gJ2xlZnQnO1xuICAgICAgICAgIGNvbnN0IG1heFJpZ2h0ID0gbWF4KC4uLmNsaWVudFJlY3RzLm1hcChyZWN0ID0+IHJlY3QucmlnaHQpKTtcbiAgICAgICAgICBjb25zdCBtaW5MZWZ0ID0gbWluKC4uLmNsaWVudFJlY3RzLm1hcChyZWN0ID0+IHJlY3QubGVmdCkpO1xuICAgICAgICAgIGNvbnN0IG1lYXN1cmVSZWN0cyA9IGNsaWVudFJlY3RzLmZpbHRlcihyZWN0ID0+IGlzTGVmdFNpZGUgPyByZWN0LmxlZnQgPT09IG1pbkxlZnQgOiByZWN0LnJpZ2h0ID09PSBtYXhSaWdodCk7XG4gICAgICAgICAgY29uc3QgdG9wID0gbWVhc3VyZVJlY3RzWzBdLnRvcDtcbiAgICAgICAgICBjb25zdCBib3R0b20gPSBtZWFzdXJlUmVjdHNbbWVhc3VyZVJlY3RzLmxlbmd0aCAtIDFdLmJvdHRvbTtcbiAgICAgICAgICBjb25zdCBsZWZ0ID0gbWluTGVmdDtcbiAgICAgICAgICBjb25zdCByaWdodCA9IG1heFJpZ2h0O1xuICAgICAgICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICB4OiBsZWZ0LFxuICAgICAgICAgICAgeTogdG9wXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNldFJlY3RzID0gYXdhaXQgcGxhdGZvcm0uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgICAgcmVmZXJlbmNlOiB7XG4gICAgICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gICAgICAgIH0sXG4gICAgICAgIGZsb2F0aW5nOiBlbGVtZW50cy5mbG9hdGluZyxcbiAgICAgICAgc3RyYXRlZ3lcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlY3RzLnJlZmVyZW5jZS54ICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS54IHx8IHJlY3RzLnJlZmVyZW5jZS55ICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS55IHx8IHJlY3RzLnJlZmVyZW5jZS53aWR0aCAhPT0gcmVzZXRSZWN0cy5yZWZlcmVuY2Uud2lkdGggfHwgcmVjdHMucmVmZXJlbmNlLmhlaWdodCAhPT0gcmVzZXRSZWN0cy5yZWZlcmVuY2UuaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHJlY3RzOiByZXNldFJlY3RzXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIEZvciB0eXBlIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LCB0aGUgYE9mZnNldE9wdGlvbnNgIHR5cGUgd2FzIGFsc29cbi8vIERlcml2YWJsZS5cblxuYXN5bmMgZnVuY3Rpb24gY29udmVydFZhbHVlVG9Db29yZHMoc3RhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudCxcbiAgICBwbGF0Zm9ybSxcbiAgICBlbGVtZW50c1xuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneSc7XG4gIGNvbnN0IG1haW5BeGlzTXVsdGkgPSBbJ2xlZnQnLCAndG9wJ10uaW5jbHVkZXMoc2lkZSkgPyAtMSA6IDE7XG4gIGNvbnN0IGNyb3NzQXhpc011bHRpID0gcnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDE7XG4gIGNvbnN0IHJhd1ZhbHVlID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgbGV0IHtcbiAgICBtYWluQXhpcyxcbiAgICBjcm9zc0F4aXMsXG4gICAgYWxpZ25tZW50QXhpc1xuICB9ID0gdHlwZW9mIHJhd1ZhbHVlID09PSAnbnVtYmVyJyA/IHtcbiAgICBtYWluQXhpczogcmF3VmFsdWUsXG4gICAgY3Jvc3NBeGlzOiAwLFxuICAgIGFsaWdubWVudEF4aXM6IG51bGxcbiAgfSA6IHtcbiAgICBtYWluQXhpczogMCxcbiAgICBjcm9zc0F4aXM6IDAsXG4gICAgYWxpZ25tZW50QXhpczogbnVsbCxcbiAgICAuLi5yYXdWYWx1ZVxuICB9O1xuICBpZiAoYWxpZ25tZW50ICYmIHR5cGVvZiBhbGlnbm1lbnRBeGlzID09PSAnbnVtYmVyJykge1xuICAgIGNyb3NzQXhpcyA9IGFsaWdubWVudCA9PT0gJ2VuZCcgPyBhbGlnbm1lbnRBeGlzICogLTEgOiBhbGlnbm1lbnRBeGlzO1xuICB9XG4gIHJldHVybiBpc1ZlcnRpY2FsID8ge1xuICAgIHg6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpLFxuICAgIHk6IG1haW5BeGlzICogbWFpbkF4aXNNdWx0aVxuICB9IDoge1xuICAgIHg6IG1haW5BeGlzICogbWFpbkF4aXNNdWx0aSxcbiAgICB5OiBjcm9zc0F4aXMgKiBjcm9zc0F4aXNNdWx0aVxuICB9O1xufVxuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwbGFjZW1lbnQgYnkgdHJhbnNsYXRpbmcgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYWxvbmcgdGhlXG4gKiBzcGVjaWZpZWQgYXhlcy5cbiAqIEEgbnVtYmVyIChzaG9ydGhhbmQgZm9yIGBtYWluQXhpc2Agb3IgZGlzdGFuY2UpLCBvciBhbiBheGVzIGNvbmZpZ3VyYXRpb25cbiAqIG9iamVjdCBtYXkgYmUgcGFzc2VkLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL29mZnNldFxuICovXG5jb25zdCBvZmZzZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnb2Zmc2V0JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkYXJyb3c7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGFcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IGRpZmZDb29yZHMgPSBhd2FpdCBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIElmIHRoZSBwbGFjZW1lbnQgaXMgdGhlIHNhbWUgYW5kIHRoZSBhcnJvdyBjYXVzZWQgYW4gYWxpZ25tZW50IG9mZnNldFxuICAgICAgLy8gdGhlbiB3ZSBkb24ndCBuZWVkIHRvIGNoYW5nZSB0aGUgcG9zaXRpb25pbmcgY29vcmRpbmF0ZXMuXG4gICAgICBpZiAocGxhY2VtZW50ID09PSAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZSA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZS5wbGFjZW1lbnQpICYmIChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggKyBkaWZmQ29vcmRzLngsXG4gICAgICAgIHk6IHkgKyBkaWZmQ29vcmRzLnksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5kaWZmQ29vcmRzLFxuICAgICAgICAgIHBsYWNlbWVudFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IHNoaWZ0aW5nIGl0IGluIG9yZGVyIHRvXG4gKiBrZWVwIGl0IGluIHZpZXcgd2hlbiBpdCB3aWxsIG92ZXJmbG93IHRoZSBjbGlwcGluZyBib3VuZGFyeS5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaGlmdFxuICovXG5jb25zdCBzaGlmdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc2hpZnQnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50XG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IGZhbHNlLFxuICAgICAgICBsaW1pdGVyID0ge1xuICAgICAgICAgIGZuOiBfcmVmID0+IHtcbiAgICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgIHlcbiAgICAgICAgICAgIH0gPSBfcmVmO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBjcm9zc0F4aXMgPSBnZXRTaWRlQXhpcyhnZXRTaWRlKHBsYWNlbWVudCkpO1xuICAgICAgY29uc3QgbWFpbkF4aXMgPSBnZXRPcHBvc2l0ZUF4aXMoY3Jvc3NBeGlzKTtcbiAgICAgIGxldCBtYWluQXhpc0Nvb3JkID0gY29vcmRzW21haW5BeGlzXTtcbiAgICAgIGxldCBjcm9zc0F4aXNDb29yZCA9IGNvb3Jkc1tjcm9zc0F4aXNdO1xuICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgY29uc3QgbWluU2lkZSA9IG1haW5BeGlzID09PSAneScgPyAndG9wJyA6ICdsZWZ0JztcbiAgICAgICAgY29uc3QgbWF4U2lkZSA9IG1haW5BeGlzID09PSAneScgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gICAgICAgIGNvbnN0IG1pbiA9IG1haW5BeGlzQ29vcmQgKyBvdmVyZmxvd1ttaW5TaWRlXTtcbiAgICAgICAgY29uc3QgbWF4ID0gbWFpbkF4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICBtYWluQXhpc0Nvb3JkID0gY2xhbXAobWluLCBtYWluQXhpc0Nvb3JkLCBtYXgpO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIGNvbnN0IG1pblNpZGUgPSBjcm9zc0F4aXMgPT09ICd5JyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gY3Jvc3NBeGlzID09PSAneScgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gICAgICAgIGNvbnN0IG1pbiA9IGNyb3NzQXhpc0Nvb3JkICsgb3ZlcmZsb3dbbWluU2lkZV07XG4gICAgICAgIGNvbnN0IG1heCA9IGNyb3NzQXhpc0Nvb3JkIC0gb3ZlcmZsb3dbbWF4U2lkZV07XG4gICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gY2xhbXAobWluLCBjcm9zc0F4aXNDb29yZCwgbWF4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxpbWl0ZWRDb29yZHMgPSBsaW1pdGVyLmZuKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFttYWluQXhpc106IG1haW5BeGlzQ29vcmQsXG4gICAgICAgIFtjcm9zc0F4aXNdOiBjcm9zc0F4aXNDb29yZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5saW1pdGVkQ29vcmRzLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgeDogbGltaXRlZENvb3Jkcy54IC0geCxcbiAgICAgICAgICB5OiBsaW1pdGVkQ29vcmRzLnkgLSB5XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgb3B0aW9ucyxcbiAgICBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBvZmZzZXQgPSAwLFxuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSB0cnVlXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9O1xuICAgICAgY29uc3QgY3Jvc3NBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IG1haW5BeGlzID0gZ2V0T3Bwb3NpdGVBeGlzKGNyb3NzQXhpcyk7XG4gICAgICBsZXQgbWFpbkF4aXNDb29yZCA9IGNvb3Jkc1ttYWluQXhpc107XG4gICAgICBsZXQgY3Jvc3NBeGlzQ29vcmQgPSBjb29yZHNbY3Jvc3NBeGlzXTtcbiAgICAgIGNvbnN0IHJhd09mZnNldCA9IGV2YWx1YXRlKG9mZnNldCwgc3RhdGUpO1xuICAgICAgY29uc3QgY29tcHV0ZWRPZmZzZXQgPSB0eXBlb2YgcmF3T2Zmc2V0ID09PSAnbnVtYmVyJyA/IHtcbiAgICAgICAgbWFpbkF4aXM6IHJhd09mZnNldCxcbiAgICAgICAgY3Jvc3NBeGlzOiAwXG4gICAgICB9IDoge1xuICAgICAgICBtYWluQXhpczogMCxcbiAgICAgICAgY3Jvc3NBeGlzOiAwLFxuICAgICAgICAuLi5yYXdPZmZzZXRcbiAgICAgIH07XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBjb25zdCBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgICAgICBjb25zdCBsaW1pdE1pbiA9IHJlY3RzLnJlZmVyZW5jZVttYWluQXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5dICsgY29tcHV0ZWRPZmZzZXQubWFpbkF4aXM7XG4gICAgICAgIGNvbnN0IGxpbWl0TWF4ID0gcmVjdHMucmVmZXJlbmNlW21haW5BeGlzXSArIHJlY3RzLnJlZmVyZW5jZVtsZW5dIC0gY29tcHV0ZWRPZmZzZXQubWFpbkF4aXM7XG4gICAgICAgIGlmIChtYWluQXhpc0Nvb3JkIDwgbGltaXRNaW4pIHtcbiAgICAgICAgICBtYWluQXhpc0Nvb3JkID0gbGltaXRNaW47XG4gICAgICAgIH0gZWxzZSBpZiAobWFpbkF4aXNDb29yZCA+IGxpbWl0TWF4KSB7XG4gICAgICAgICAgbWFpbkF4aXNDb29yZCA9IGxpbWl0TWF4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRvZmZzZSwgX21pZGRsZXdhcmVEYXRhJG9mZnNlMjtcbiAgICAgICAgY29uc3QgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcbiAgICAgICAgY29uc3QgaXNPcmlnaW5TaWRlID0gWyd0b3AnLCAnbGVmdCddLmluY2x1ZGVzKGdldFNpZGUocGxhY2VtZW50KSk7XG4gICAgICAgIGNvbnN0IGxpbWl0TWluID0gcmVjdHMucmVmZXJlbmNlW2Nyb3NzQXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5dICsgKGlzT3JpZ2luU2lkZSA/ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlW2Nyb3NzQXhpc10pIHx8IDAgOiAwKSArIChpc09yaWdpblNpZGUgPyAwIDogY29tcHV0ZWRPZmZzZXQuY3Jvc3NBeGlzKTtcbiAgICAgICAgY29uc3QgbGltaXRNYXggPSByZWN0cy5yZWZlcmVuY2VbY3Jvc3NBeGlzXSArIHJlY3RzLnJlZmVyZW5jZVtsZW5dICsgKGlzT3JpZ2luU2lkZSA/IDAgOiAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZTIgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2UyW2Nyb3NzQXhpc10pIHx8IDApIC0gKGlzT3JpZ2luU2lkZSA/IGNvbXB1dGVkT2Zmc2V0LmNyb3NzQXhpcyA6IDApO1xuICAgICAgICBpZiAoY3Jvc3NBeGlzQ29vcmQgPCBsaW1pdE1pbikge1xuICAgICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gbGltaXRNaW47XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NBeGlzQ29vcmQgPiBsaW1pdE1heCkge1xuICAgICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gbGltaXRNYXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIFttYWluQXhpc106IG1haW5BeGlzQ29vcmQsXG4gICAgICAgIFtjcm9zc0F4aXNdOiBjcm9zc0F4aXNDb29yZFxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdGhhdCBhbGxvd3MgeW91IHRvIGNoYW5nZSB0aGUgc2l6ZSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBcdTIwMTRcbiAqIGZvciBpbnN0YW5jZSwgcHJldmVudCBpdCBmcm9tIG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyBib3VuZGFyeSBvciBtYXRjaCB0aGVcbiAqIHdpZHRoIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaXplXG4gKi9cbmNvbnN0IHNpemUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3NpemUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICByZWN0cyxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGFwcGx5ID0gKCkgPT4ge30sXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpc1lBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSA9PT0gJ3knO1xuICAgICAgY29uc3Qge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9ID0gcmVjdHMuZmxvYXRpbmc7XG4gICAgICBsZXQgaGVpZ2h0U2lkZTtcbiAgICAgIGxldCB3aWR0aFNpZGU7XG4gICAgICBpZiAoc2lkZSA9PT0gJ3RvcCcgfHwgc2lkZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IHNpZGU7XG4gICAgICAgIHdpZHRoU2lkZSA9IGFsaWdubWVudCA9PT0gKChhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkpID8gJ3N0YXJ0JyA6ICdlbmQnKSA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aFNpZGUgPSBzaWRlO1xuICAgICAgICBoZWlnaHRTaWRlID0gYWxpZ25tZW50ID09PSAnZW5kJyA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQgPSBoZWlnaHQgLSBvdmVyZmxvdy50b3AgLSBvdmVyZmxvdy5ib3R0b207XG4gICAgICBjb25zdCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCA9IHdpZHRoIC0gb3ZlcmZsb3cubGVmdCAtIG92ZXJmbG93LnJpZ2h0O1xuICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQgPSBtaW4oaGVpZ2h0IC0gb3ZlcmZsb3dbaGVpZ2h0U2lkZV0sIG1heGltdW1DbGlwcGluZ0hlaWdodCk7XG4gICAgICBjb25zdCBvdmVyZmxvd0F2YWlsYWJsZVdpZHRoID0gbWluKHdpZHRoIC0gb3ZlcmZsb3dbd2lkdGhTaWRlXSwgbWF4aW11bUNsaXBwaW5nV2lkdGgpO1xuICAgICAgY29uc3Qgbm9TaGlmdCA9ICFzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdDtcbiAgICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPSBvdmVyZmxvd0F2YWlsYWJsZUhlaWdodDtcbiAgICAgIGxldCBhdmFpbGFibGVXaWR0aCA9IG92ZXJmbG93QXZhaWxhYmxlV2lkdGg7XG4gICAgICBpZiAoaXNZQXhpcykge1xuICAgICAgICBhdmFpbGFibGVXaWR0aCA9IGFsaWdubWVudCB8fCBub1NoaWZ0ID8gbWluKG92ZXJmbG93QXZhaWxhYmxlV2lkdGgsIG1heGltdW1DbGlwcGluZ1dpZHRoKSA6IG1heGltdW1DbGlwcGluZ1dpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXZhaWxhYmxlSGVpZ2h0ID0gYWxpZ25tZW50IHx8IG5vU2hpZnQgPyBtaW4ob3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQsIG1heGltdW1DbGlwcGluZ0hlaWdodCkgOiBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAobm9TaGlmdCAmJiAhYWxpZ25tZW50KSB7XG4gICAgICAgIGNvbnN0IHhNaW4gPSBtYXgob3ZlcmZsb3cubGVmdCwgMCk7XG4gICAgICAgIGNvbnN0IHhNYXggPSBtYXgob3ZlcmZsb3cucmlnaHQsIDApO1xuICAgICAgICBjb25zdCB5TWluID0gbWF4KG92ZXJmbG93LnRvcCwgMCk7XG4gICAgICAgIGNvbnN0IHlNYXggPSBtYXgob3ZlcmZsb3cuYm90dG9tLCAwKTtcbiAgICAgICAgaWYgKGlzWUF4aXMpIHtcbiAgICAgICAgICBhdmFpbGFibGVXaWR0aCA9IHdpZHRoIC0gMiAqICh4TWluICE9PSAwIHx8IHhNYXggIT09IDAgPyB4TWluICsgeE1heCA6IG1heChvdmVyZmxvdy5sZWZ0LCBvdmVyZmxvdy5yaWdodCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IGhlaWdodCAtIDIgKiAoeU1pbiAhPT0gMCB8fCB5TWF4ICE9PSAwID8geU1pbiArIHlNYXggOiBtYXgob3ZlcmZsb3cudG9wLCBvdmVyZmxvdy5ib3R0b20pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXdhaXQgYXBwbHkoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXZhaWxhYmxlV2lkdGgsXG4gICAgICAgIGF2YWlsYWJsZUhlaWdodFxuICAgICAgfSk7XG4gICAgICBjb25zdCBuZXh0RGltZW5zaW9ucyA9IGF3YWl0IHBsYXRmb3JtLmdldERpbWVuc2lvbnMoZWxlbWVudHMuZmxvYXRpbmcpO1xuICAgICAgaWYgKHdpZHRoICE9PSBuZXh0RGltZW5zaW9ucy53aWR0aCB8fCBoZWlnaHQgIT09IG5leHREaW1lbnNpb25zLmhlaWdodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICByZWN0czogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgeyBhcnJvdywgYXV0b1BsYWNlbWVudCwgY29tcHV0ZVBvc2l0aW9uLCBkZXRlY3RPdmVyZmxvdywgZmxpcCwgaGlkZSwgaW5saW5lLCBsaW1pdFNoaWZ0LCBvZmZzZXQsIHNoaWZ0LCBzaXplIH07XG4iLCAiZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobm9kZSkge1xuICBpZiAoaXNOb2RlKG5vZGUpKSB7XG4gICAgcmV0dXJuIChub2RlLm5vZGVOYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8vIE1vY2tlZCBub2RlcyBpbiB0ZXN0aW5nIGVudmlyb25tZW50cyBtYXkgbm90IGJlIGluc3RhbmNlcyBvZiBOb2RlLiBCeVxuICAvLyByZXR1cm5pbmcgYCNkb2N1bWVudGAgYW4gaW5maW5pdGUgbG9vcCB3b24ndCBvY2N1ci5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zsb2F0aW5nLXVpL2Zsb2F0aW5nLXVpL2lzc3Vlcy8yMzE3XG4gIHJldHVybiAnI2RvY3VtZW50Jztcbn1cbmZ1bmN0aW9uIGdldFdpbmRvdyhub2RlKSB7XG4gIHZhciBfbm9kZSRvd25lckRvY3VtZW50O1xuICByZXR1cm4gKG5vZGUgPT0gbnVsbCB8fCAoX25vZGUkb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ub2RlJG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcbn1cbmZ1bmN0aW9uIGdldERvY3VtZW50RWxlbWVudChub2RlKSB7XG4gIHZhciBfcmVmO1xuICByZXR1cm4gKF9yZWYgPSAoaXNOb2RlKG5vZGUpID8gbm9kZS5vd25lckRvY3VtZW50IDogbm9kZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3JlZi5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc05vZGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgTm9kZSB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuTm9kZTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBFbGVtZW50IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5FbGVtZW50O1xufVxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuSFRNTEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc1NoYWRvd1Jvb3QodmFsdWUpIHtcbiAgLy8gQnJvd3NlcnMgd2l0aG91dCBgU2hhZG93Um9vdGAgc3VwcG9ydC5cbiAgaWYgKHR5cGVvZiBTaGFkb3dSb290ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTaGFkb3dSb290IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5TaGFkb3dSb290O1xufVxuZnVuY3Rpb24gaXNPdmVyZmxvd0VsZW1lbnQoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3csXG4gICAgb3ZlcmZsb3dYLFxuICAgIG92ZXJmbG93WSxcbiAgICBkaXNwbGF5XG4gIH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpICYmICFbJ2lubGluZScsICdjb250ZW50cyddLmluY2x1ZGVzKGRpc3BsYXkpO1xufVxuZnVuY3Rpb24gaXNUYWJsZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gWyd0YWJsZScsICd0ZCcsICd0aCddLmluY2x1ZGVzKGdldE5vZGVOYW1lKGVsZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGlzVG9wTGF5ZXIoZWxlbWVudCkge1xuICByZXR1cm4gWyc6cG9wb3Zlci1vcGVuJywgJzptb2RhbCddLnNvbWUoc2VsZWN0b3IgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzQ29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgY29uc3Qgd2Via2l0ID0gaXNXZWJLaXQoKTtcbiAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ29udGFpbmluZ19ibG9jayNpZGVudGlmeWluZ190aGVfY29udGFpbmluZ19ibG9ja1xuICByZXR1cm4gY3NzLnRyYW5zZm9ybSAhPT0gJ25vbmUnIHx8IGNzcy5wZXJzcGVjdGl2ZSAhPT0gJ25vbmUnIHx8IChjc3MuY29udGFpbmVyVHlwZSA/IGNzcy5jb250YWluZXJUeXBlICE9PSAnbm9ybWFsJyA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuYmFja2Ryb3BGaWx0ZXIgPyBjc3MuYmFja2Ryb3BGaWx0ZXIgIT09ICdub25lJyA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuZmlsdGVyID8gY3NzLmZpbHRlciAhPT0gJ25vbmUnIDogZmFsc2UpIHx8IFsndHJhbnNmb3JtJywgJ3BlcnNwZWN0aXZlJywgJ2ZpbHRlciddLnNvbWUodmFsdWUgPT4gKGNzcy53aWxsQ2hhbmdlIHx8ICcnKS5pbmNsdWRlcyh2YWx1ZSkpIHx8IFsncGFpbnQnLCAnbGF5b3V0JywgJ3N0cmljdCcsICdjb250ZW50J10uc29tZSh2YWx1ZSA9PiAoY3NzLmNvbnRhaW4gfHwgJycpLmluY2x1ZGVzKHZhbHVlKSk7XG59XG5mdW5jdGlvbiBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkge1xuICBsZXQgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICB3aGlsZSAoaXNIVE1MRWxlbWVudChjdXJyZW50Tm9kZSkgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShjdXJyZW50Tm9kZSkpIHtcbiAgICBpZiAoaXNUb3BMYXllcihjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNDb250YWluaW5nQmxvY2soY3VycmVudE5vZGUpKSB7XG4gICAgICByZXR1cm4gY3VycmVudE5vZGU7XG4gICAgfVxuICAgIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBpc1dlYktpdCgpIHtcbiAgaWYgKHR5cGVvZiBDU1MgPT09ICd1bmRlZmluZWQnIHx8ICFDU1Muc3VwcG9ydHMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIENTUy5zdXBwb3J0cygnLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXInLCAnbm9uZScpO1xufVxuZnVuY3Rpb24gaXNMYXN0VHJhdmVyc2FibGVOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIFsnaHRtbCcsICdib2R5JywgJyNkb2N1bWVudCddLmluY2x1ZGVzKGdldE5vZGVOYW1lKG5vZGUpKTtcbn1cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0V2luZG93KGVsZW1lbnQpLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG59XG5mdW5jdGlvbiBnZXROb2RlU2Nyb2xsKGVsZW1lbnQpIHtcbiAgaWYgKGlzRWxlbWVudChlbGVtZW50KSkge1xuICAgIHJldHVybiB7XG4gICAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICBzY3JvbGxUb3A6IGVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHNjcm9sbExlZnQ6IGVsZW1lbnQuc2Nyb2xsWCxcbiAgICBzY3JvbGxUb3A6IGVsZW1lbnQuc2Nyb2xsWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShub2RlKSB7XG4gIGlmIChnZXROb2RlTmFtZShub2RlKSA9PT0gJ2h0bWwnKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID1cbiAgLy8gU3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGUuXG4gIG5vZGUuYXNzaWduZWRTbG90IHx8XG4gIC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICBub2RlLnBhcmVudE5vZGUgfHxcbiAgLy8gU2hhZG93Um9vdCBkZXRlY3RlZC5cbiAgaXNTaGFkb3dSb290KG5vZGUpICYmIG5vZGUuaG9zdCB8fFxuICAvLyBGYWxsYmFjay5cbiAgZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpO1xuICByZXR1cm4gaXNTaGFkb3dSb290KHJlc3VsdCkgPyByZXN1bHQuaG9zdCA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKG5vZGUpIHtcbiAgY29uc3QgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUobm9kZSk7XG4gIGlmIChpc0xhc3RUcmF2ZXJzYWJsZU5vZGUocGFyZW50Tm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50ID8gbm9kZS5vd25lckRvY3VtZW50LmJvZHkgOiBub2RlLmJvZHk7XG4gIH1cbiAgaWYgKGlzSFRNTEVsZW1lbnQocGFyZW50Tm9kZSkgJiYgaXNPdmVyZmxvd0VsZW1lbnQocGFyZW50Tm9kZSkpIHtcbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3IocGFyZW50Tm9kZSk7XG59XG5mdW5jdGlvbiBnZXRPdmVyZmxvd0FuY2VzdG9ycyhub2RlLCBsaXN0LCB0cmF2ZXJzZUlmcmFtZXMpIHtcbiAgdmFyIF9ub2RlJG93bmVyRG9jdW1lbnQyO1xuICBpZiAobGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgbGlzdCA9IFtdO1xuICB9XG4gIGlmICh0cmF2ZXJzZUlmcmFtZXMgPT09IHZvaWQgMCkge1xuICAgIHRyYXZlcnNlSWZyYW1lcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc2Nyb2xsYWJsZUFuY2VzdG9yID0gZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3Iobm9kZSk7XG4gIGNvbnN0IGlzQm9keSA9IHNjcm9sbGFibGVBbmNlc3RvciA9PT0gKChfbm9kZSRvd25lckRvY3VtZW50MiA9IG5vZGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ub2RlJG93bmVyRG9jdW1lbnQyLmJvZHkpO1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coc2Nyb2xsYWJsZUFuY2VzdG9yKTtcbiAgaWYgKGlzQm9keSkge1xuICAgIHJldHVybiBsaXN0LmNvbmNhdCh3aW4sIHdpbi52aXN1YWxWaWV3cG9ydCB8fCBbXSwgaXNPdmVyZmxvd0VsZW1lbnQoc2Nyb2xsYWJsZUFuY2VzdG9yKSA/IHNjcm9sbGFibGVBbmNlc3RvciA6IFtdLCB3aW4uZnJhbWVFbGVtZW50ICYmIHRyYXZlcnNlSWZyYW1lcyA/IGdldE92ZXJmbG93QW5jZXN0b3JzKHdpbi5mcmFtZUVsZW1lbnQpIDogW10pO1xuICB9XG4gIHJldHVybiBsaXN0LmNvbmNhdChzY3JvbGxhYmxlQW5jZXN0b3IsIGdldE92ZXJmbG93QW5jZXN0b3JzKHNjcm9sbGFibGVBbmNlc3RvciwgW10sIHRyYXZlcnNlSWZyYW1lcykpO1xufVxuXG5leHBvcnQgeyBnZXRDb21wdXRlZFN0eWxlLCBnZXRDb250YWluaW5nQmxvY2ssIGdldERvY3VtZW50RWxlbWVudCwgZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3IsIGdldE5vZGVOYW1lLCBnZXROb2RlU2Nyb2xsLCBnZXRPdmVyZmxvd0FuY2VzdG9ycywgZ2V0UGFyZW50Tm9kZSwgZ2V0V2luZG93LCBpc0NvbnRhaW5pbmdCbG9jaywgaXNFbGVtZW50LCBpc0hUTUxFbGVtZW50LCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUsIGlzTm9kZSwgaXNPdmVyZmxvd0VsZW1lbnQsIGlzU2hhZG93Um9vdCwgaXNUYWJsZUVsZW1lbnQsIGlzVG9wTGF5ZXIsIGlzV2ViS2l0IH07XG4iLCAiaW1wb3J0IHsgcmVjdFRvQ2xpZW50UmVjdCwgZGV0ZWN0T3ZlcmZsb3cgYXMgZGV0ZWN0T3ZlcmZsb3ckMSwgb2Zmc2V0IGFzIG9mZnNldCQxLCBhdXRvUGxhY2VtZW50IGFzIGF1dG9QbGFjZW1lbnQkMSwgc2hpZnQgYXMgc2hpZnQkMSwgZmxpcCBhcyBmbGlwJDEsIHNpemUgYXMgc2l6ZSQxLCBoaWRlIGFzIGhpZGUkMSwgYXJyb3cgYXMgYXJyb3ckMSwgaW5saW5lIGFzIGlubGluZSQxLCBsaW1pdFNoaWZ0IGFzIGxpbWl0U2hpZnQkMSwgY29tcHV0ZVBvc2l0aW9uIGFzIGNvbXB1dGVQb3NpdGlvbiQxIH0gZnJvbSAnQGZsb2F0aW5nLXVpL2NvcmUnO1xuaW1wb3J0IHsgcm91bmQsIGNyZWF0ZUNvb3JkcywgbWF4LCBtaW4sIGZsb29yIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcbmltcG9ydCB7IGdldENvbXB1dGVkU3R5bGUsIGlzSFRNTEVsZW1lbnQsIGlzRWxlbWVudCwgZ2V0V2luZG93LCBpc1dlYktpdCwgZ2V0RG9jdW1lbnRFbGVtZW50LCBpc1RvcExheWVyLCBnZXROb2RlTmFtZSwgaXNPdmVyZmxvd0VsZW1lbnQsIGdldE5vZGVTY3JvbGwsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUsIGlzQ29udGFpbmluZ0Jsb2NrLCBpc1RhYmxlRWxlbWVudCwgZ2V0Q29udGFpbmluZ0Jsb2NrIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzL2RvbSc7XG5leHBvcnQgeyBnZXRPdmVyZmxvd0FuY2VzdG9ycyB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscy9kb20nO1xuXG5mdW5jdGlvbiBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgLy8gSW4gdGVzdGluZyBlbnZpcm9ubWVudHMsIHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBwcm9wZXJ0aWVzIGFyZSBlbXB0eVxuICAvLyBzdHJpbmdzIGZvciBTVkcgZWxlbWVudHMsIHJldHVybmluZyBOYU4uIEZhbGxiYWNrIHRvIGAwYCBpbiB0aGlzIGNhc2UuXG4gIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoY3NzLndpZHRoKSB8fCAwO1xuICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChjc3MuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBoYXNPZmZzZXQgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBvZmZzZXRXaWR0aCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0V2lkdGggOiB3aWR0aDtcbiAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRIZWlnaHQgOiBoZWlnaHQ7XG4gIGNvbnN0IHNob3VsZEZhbGxiYWNrID0gcm91bmQod2lkdGgpICE9PSBvZmZzZXRXaWR0aCB8fCByb3VuZChoZWlnaHQpICE9PSBvZmZzZXRIZWlnaHQ7XG4gIGlmIChzaG91bGRGYWxsYmFjaykge1xuICAgIHdpZHRoID0gb2Zmc2V0V2lkdGg7XG4gICAgaGVpZ2h0ID0gb2Zmc2V0SGVpZ2h0O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICQ6IHNob3VsZEZhbGxiYWNrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVud3JhcEVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gIWlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgOiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBnZXRTY2FsZShlbGVtZW50KSB7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZG9tRWxlbWVudCkpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29vcmRzKDEpO1xuICB9XG4gIGNvbnN0IHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZG9tRWxlbWVudCk7XG4gIGxldCB4ID0gKCQgPyByb3VuZChyZWN0LndpZHRoKSA6IHJlY3Qud2lkdGgpIC8gd2lkdGg7XG4gIGxldCB5ID0gKCQgPyByb3VuZChyZWN0LmhlaWdodCkgOiByZWN0LmhlaWdodCkgLyBoZWlnaHQ7XG5cbiAgLy8gMCwgTmFOLCBvciBJbmZpbml0eSBzaG91bGQgYWx3YXlzIGZhbGxiYWNrIHRvIDEuXG5cbiAgaWYgKCF4IHx8ICFOdW1iZXIuaXNGaW5pdGUoeCkpIHtcbiAgICB4ID0gMTtcbiAgfVxuICBpZiAoIXkgfHwgIU51bWJlci5pc0Zpbml0ZSh5KSkge1xuICAgIHkgPSAxO1xuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmNvbnN0IG5vT2Zmc2V0cyA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb29yZHMoMCk7XG5mdW5jdGlvbiBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoIWlzV2ViS2l0KCkgfHwgIXdpbi52aXN1YWxWaWV3cG9ydCkge1xuICAgIHJldHVybiBub09mZnNldHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGVsZW1lbnQsIGlzRml4ZWQsIGZsb2F0aW5nT2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKCFmbG9hdGluZ09mZnNldFBhcmVudCB8fCBpc0ZpeGVkICYmIGZsb2F0aW5nT2Zmc2V0UGFyZW50ICE9PSBnZXRXaW5kb3coZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQ7XG59XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBpbmNsdWRlU2NhbGUsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG4gIGlmIChpc0ZpeGVkU3RyYXRlZ3kgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWRTdHJhdGVneSA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBkb21FbGVtZW50ID0gdW53cmFwRWxlbWVudChlbGVtZW50KTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBpZiAoaW5jbHVkZVNjYWxlKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudCkge1xuICAgICAgaWYgKGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGUgPSBnZXRTY2FsZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpID8gZ2V0VmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50KSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgbGV0IHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgdmlzdWFsT2Zmc2V0cy54KSAvIHNjYWxlLng7XG4gIGxldCB5ID0gKGNsaWVudFJlY3QudG9wICsgdmlzdWFsT2Zmc2V0cy55KSAvIHNjYWxlLnk7XG4gIGxldCB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggLyBzY2FsZS54O1xuICBsZXQgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZS55O1xuICBpZiAoZG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb21FbGVtZW50KTtcbiAgICBjb25zdCBvZmZzZXRXaW4gPSBvZmZzZXRQYXJlbnQgJiYgaXNFbGVtZW50KG9mZnNldFBhcmVudCkgPyBnZXRXaW5kb3cob2Zmc2V0UGFyZW50KSA6IG9mZnNldFBhcmVudDtcbiAgICBsZXQgY3VycmVudFdpbiA9IHdpbjtcbiAgICBsZXQgY3VycmVudElGcmFtZSA9IGN1cnJlbnRXaW4uZnJhbWVFbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50SUZyYW1lICYmIG9mZnNldFBhcmVudCAmJiBvZmZzZXRXaW4gIT09IGN1cnJlbnRXaW4pIHtcbiAgICAgIGNvbnN0IGlmcmFtZVNjYWxlID0gZ2V0U2NhbGUoY3VycmVudElGcmFtZSk7XG4gICAgICBjb25zdCBpZnJhbWVSZWN0ID0gY3VycmVudElGcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGNzcyA9IGdldENvbXB1dGVkU3R5bGUoY3VycmVudElGcmFtZSk7XG4gICAgICBjb25zdCBsZWZ0ID0gaWZyYW1lUmVjdC5sZWZ0ICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50TGVmdCArIHBhcnNlRmxvYXQoY3NzLnBhZGRpbmdMZWZ0KSkgKiBpZnJhbWVTY2FsZS54O1xuICAgICAgY29uc3QgdG9wID0gaWZyYW1lUmVjdC50b3AgKyAoY3VycmVudElGcmFtZS5jbGllbnRUb3AgKyBwYXJzZUZsb2F0KGNzcy5wYWRkaW5nVG9wKSkgKiBpZnJhbWVTY2FsZS55O1xuICAgICAgeCAqPSBpZnJhbWVTY2FsZS54O1xuICAgICAgeSAqPSBpZnJhbWVTY2FsZS55O1xuICAgICAgd2lkdGggKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgIGhlaWdodCAqPSBpZnJhbWVTY2FsZS55O1xuICAgICAgeCArPSBsZWZ0O1xuICAgICAgeSArPSB0b3A7XG4gICAgICBjdXJyZW50V2luID0gZ2V0V2luZG93KGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY3VycmVudElGcmFtZSA9IGN1cnJlbnRXaW4uZnJhbWVFbGVtZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVjdFRvQ2xpZW50UmVjdCh7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QoX3JlZikge1xuICBsZXQge1xuICAgIGVsZW1lbnRzLFxuICAgIHJlY3QsXG4gICAgb2Zmc2V0UGFyZW50LFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBfcmVmO1xuICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09ICdmaXhlZCc7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCB0b3BMYXllciA9IGVsZW1lbnRzID8gaXNUb3BMYXllcihlbGVtZW50cy5mbG9hdGluZykgOiBmYWxzZTtcbiAgaWYgKG9mZnNldFBhcmVudCA9PT0gZG9jdW1lbnRFbGVtZW50IHx8IHRvcExheWVyICYmIGlzRml4ZWQpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBsZXQgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIGxldCBzY2FsZSA9IGNyZWF0ZUNvb3JkcygxKTtcbiAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgY29uc3QgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gJ2JvZHknIHx8IGlzT3ZlcmZsb3dFbGVtZW50KGRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIHNjcm9sbCA9IGdldE5vZGVTY3JvbGwob2Zmc2V0UGFyZW50KTtcbiAgICB9XG4gICAgaWYgKGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgY29uc3Qgb2Zmc2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQpO1xuICAgICAgc2NhbGUgPSBnZXRTY2FsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgb2Zmc2V0cy54ID0gb2Zmc2V0UmVjdC54ICsgb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoOiByZWN0LndpZHRoICogc2NhbGUueCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0ICogc2NhbGUueSxcbiAgICB4OiByZWN0LnggKiBzY2FsZS54IC0gc2Nyb2xsLnNjcm9sbExlZnQgKiBzY2FsZS54ICsgb2Zmc2V0cy54LFxuICAgIHk6IHJlY3QueSAqIHNjYWxlLnkgLSBzY3JvbGwuc2Nyb2xsVG9wICogc2NhbGUueSArIG9mZnNldHMueVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0cyhlbGVtZW50KSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKSk7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCkge1xuICAvLyBJZiA8aHRtbD4gaGFzIGEgQ1NTIHdpZHRoIGdyZWF0ZXIgdGhhbiB0aGUgdmlld3BvcnQsIHRoZW4gdGhpcyB3aWxsIGJlXG4gIC8vIGluY29ycmVjdCBmb3IgUlRMLlxuICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGdldE5vZGVTY3JvbGwoZWxlbWVudCkuc2Nyb2xsTGVmdDtcbn1cblxuLy8gR2V0cyB0aGUgZW50aXJlIHNpemUgb2YgdGhlIHNjcm9sbGFibGUgZG9jdW1lbnQgYXJlYSwgZXZlbiBleHRlbmRpbmcgb3V0c2lkZVxuLy8gb2YgdGhlIGA8aHRtbD5gIGFuZCBgPGJvZHk+YCByZWN0IGJvdW5kcyBpZiBob3Jpem9udGFsbHkgc2Nyb2xsYWJsZS5cbmZ1bmN0aW9uIGdldERvY3VtZW50UmVjdChlbGVtZW50KSB7XG4gIGNvbnN0IGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGNvbnN0IHNjcm9sbCA9IGdldE5vZGVTY3JvbGwoZWxlbWVudCk7XG4gIGNvbnN0IGJvZHkgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgY29uc3Qgd2lkdGggPSBtYXgoaHRtbC5zY3JvbGxXaWR0aCwgaHRtbC5jbGllbnRXaWR0aCwgYm9keS5zY3JvbGxXaWR0aCwgYm9keS5jbGllbnRXaWR0aCk7XG4gIGNvbnN0IGhlaWdodCA9IG1heChodG1sLnNjcm9sbEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGJvZHkuc2Nyb2xsSGVpZ2h0LCBib2R5LmNsaWVudEhlaWdodCk7XG4gIGxldCB4ID0gLXNjcm9sbC5zY3JvbGxMZWZ0ICsgZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KTtcbiAgY29uc3QgeSA9IC1zY3JvbGwuc2Nyb2xsVG9wO1xuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShib2R5KS5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgeCArPSBtYXgoaHRtbC5jbGllbnRXaWR0aCwgYm9keS5jbGllbnRXaWR0aCkgLSB3aWR0aDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgY29uc3QgdmlzdWFsVmlld3BvcnQgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gIGxldCB3aWR0aCA9IGh0bWwuY2xpZW50V2lkdGg7XG4gIGxldCBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgbGV0IHggPSAwO1xuICBsZXQgeSA9IDA7XG4gIGlmICh2aXN1YWxWaWV3cG9ydCkge1xuICAgIHdpZHRoID0gdmlzdWFsVmlld3BvcnQud2lkdGg7XG4gICAgaGVpZ2h0ID0gdmlzdWFsVmlld3BvcnQuaGVpZ2h0O1xuICAgIGNvbnN0IHZpc3VhbFZpZXdwb3J0QmFzZWQgPSBpc1dlYktpdCgpO1xuICAgIGlmICghdmlzdWFsVmlld3BvcnRCYXNlZCB8fCB2aXN1YWxWaWV3cG9ydEJhc2VkICYmIHN0cmF0ZWd5ID09PSAnZml4ZWQnKSB7XG4gICAgICB4ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdDtcbiAgICAgIHkgPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3A7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG4vLyBSZXR1cm5zIHRoZSBpbm5lciBjbGllbnQgcmVjdCwgc3VidHJhY3Rpbmcgc2Nyb2xsYmFycyBpZiBwcmVzZW50LlxuZnVuY3Rpb24gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3QgY2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCB0cnVlLCBzdHJhdGVneSA9PT0gJ2ZpeGVkJyk7XG4gIGNvbnN0IHRvcCA9IGNsaWVudFJlY3QudG9wICsgZWxlbWVudC5jbGllbnRUb3A7XG4gIGNvbnN0IGxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudExlZnQ7XG4gIGNvbnN0IHNjYWxlID0gaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IGdldFNjYWxlKGVsZW1lbnQpIDogY3JlYXRlQ29vcmRzKDEpO1xuICBjb25zdCB3aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGggKiBzY2FsZS54O1xuICBjb25zdCBoZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjYWxlLnk7XG4gIGNvbnN0IHggPSBsZWZ0ICogc2NhbGUueDtcbiAgY29uc3QgeSA9IHRvcCAqIHNjYWxlLnk7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KSB7XG4gIGxldCByZWN0O1xuICBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgIHJlY3QgPSBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpO1xuICB9IGVsc2UgaWYgKGNsaXBwaW5nQW5jZXN0b3IgPT09ICdkb2N1bWVudCcpIHtcbiAgICByZWN0ID0gZ2V0RG9jdW1lbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSk7XG4gIH0gZWxzZSBpZiAoaXNFbGVtZW50KGNsaXBwaW5nQW5jZXN0b3IpKSB7XG4gICAgcmVjdCA9IGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB2aXN1YWxPZmZzZXRzID0gZ2V0VmlzdWFsT2Zmc2V0cyhlbGVtZW50KTtcbiAgICByZWN0ID0ge1xuICAgICAgLi4uY2xpcHBpbmdBbmNlc3RvcixcbiAgICAgIHg6IGNsaXBwaW5nQW5jZXN0b3IueCAtIHZpc3VhbE9mZnNldHMueCxcbiAgICAgIHk6IGNsaXBwaW5nQW5jZXN0b3IueSAtIHZpc3VhbE9mZnNldHMueVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlY3RUb0NsaWVudFJlY3QocmVjdCk7XG59XG5mdW5jdGlvbiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgc3RvcE5vZGUpIHtcbiAgY29uc3QgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIGlmIChwYXJlbnROb2RlID09PSBzdG9wTm9kZSB8fCAhaXNFbGVtZW50KHBhcmVudE5vZGUpIHx8IGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnROb2RlKS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJyB8fCBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IocGFyZW50Tm9kZSwgc3RvcE5vZGUpO1xufVxuXG4vLyBBIFwiY2xpcHBpbmcgYW5jZXN0b3JcIiBpcyBhbiBgb3ZlcmZsb3dgIGVsZW1lbnQgd2l0aCB0aGUgY2hhcmFjdGVyaXN0aWMgb2Zcbi8vIGNsaXBwaW5nIChvciBoaWRpbmcpIGNoaWxkIGVsZW1lbnRzLiBUaGlzIHJldHVybnMgYWxsIGNsaXBwaW5nIGFuY2VzdG9yc1xuLy8gb2YgdGhlIGdpdmVuIGVsZW1lbnQgdXAgdGhlIHRyZWUuXG5mdW5jdGlvbiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgY2FjaGUpIHtcbiAgY29uc3QgY2FjaGVkUmVzdWx0ID0gY2FjaGUuZ2V0KGVsZW1lbnQpO1xuICBpZiAoY2FjaGVkUmVzdWx0KSB7XG4gICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgfVxuICBsZXQgcmVzdWx0ID0gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoZWxlbWVudCwgW10sIGZhbHNlKS5maWx0ZXIoZWwgPT4gaXNFbGVtZW50KGVsKSAmJiBnZXROb2RlTmFtZShlbCkgIT09ICdib2R5Jyk7XG4gIGxldCBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IG51bGw7XG4gIGNvbnN0IGVsZW1lbnRJc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJztcbiAgbGV0IGN1cnJlbnROb2RlID0gZWxlbWVudElzRml4ZWQgPyBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIDogZWxlbWVudDtcblxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ29udGFpbmluZ19ibG9jayNpZGVudGlmeWluZ190aGVfY29udGFpbmluZ19ibG9ja1xuICB3aGlsZSAoaXNFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnROb2RlKTtcbiAgICBjb25zdCBjdXJyZW50Tm9kZUlzQ29udGFpbmluZyA9IGlzQ29udGFpbmluZ0Jsb2NrKGN1cnJlbnROb2RlKTtcbiAgICBpZiAoIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmIGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkRHJvcEN1cnJlbnROb2RlID0gZWxlbWVudElzRml4ZWQgPyAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgIWN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlIDogIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmIGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnICYmICEhY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgJiYgWydhYnNvbHV0ZScsICdmaXhlZCddLmluY2x1ZGVzKGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlLnBvc2l0aW9uKSB8fCBpc092ZXJmbG93RWxlbWVudChjdXJyZW50Tm9kZSkgJiYgIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmIGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihlbGVtZW50LCBjdXJyZW50Tm9kZSk7XG4gICAgaWYgKHNob3VsZERyb3BDdXJyZW50Tm9kZSkge1xuICAgICAgLy8gRHJvcCBub24tY29udGFpbmluZyBibG9ja3MuXG4gICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKGFuY2VzdG9yID0+IGFuY2VzdG9yICE9PSBjdXJyZW50Tm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlY29yZCBsYXN0IGNvbnRhaW5pbmcgYmxvY2sgZm9yIG5leHQgaXRlcmF0aW9uLlxuICAgICAgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlO1xuICAgIH1cbiAgICBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoY3VycmVudE5vZGUpO1xuICB9XG4gIGNhY2hlLnNldChlbGVtZW50LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBHZXRzIHRoZSBtYXhpbXVtIGFyZWEgdGhhdCB0aGUgZWxlbWVudCBpcyB2aXNpYmxlIGluIGR1ZSB0byBhbnkgbnVtYmVyIG9mXG4vLyBjbGlwcGluZyBhbmNlc3RvcnMuXG5mdW5jdGlvbiBnZXRDbGlwcGluZ1JlY3QoX3JlZikge1xuICBsZXQge1xuICAgIGVsZW1lbnQsXG4gICAgYm91bmRhcnksXG4gICAgcm9vdEJvdW5kYXJ5LFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBfcmVmO1xuICBjb25zdCBlbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMgPSBib3VuZGFyeSA9PT0gJ2NsaXBwaW5nQW5jZXN0b3JzJyA/IGlzVG9wTGF5ZXIoZWxlbWVudCkgPyBbXSA6IGdldENsaXBwaW5nRWxlbWVudEFuY2VzdG9ycyhlbGVtZW50LCB0aGlzLl9jKSA6IFtdLmNvbmNhdChib3VuZGFyeSk7XG4gIGNvbnN0IGNsaXBwaW5nQW5jZXN0b3JzID0gWy4uLmVsZW1lbnRDbGlwcGluZ0FuY2VzdG9ycywgcm9vdEJvdW5kYXJ5XTtcbiAgY29uc3QgZmlyc3RDbGlwcGluZ0FuY2VzdG9yID0gY2xpcHBpbmdBbmNlc3RvcnNbMF07XG4gIGNvbnN0IGNsaXBwaW5nUmVjdCA9IGNsaXBwaW5nQW5jZXN0b3JzLnJlZHVjZSgoYWNjUmVjdCwgY2xpcHBpbmdBbmNlc3RvcikgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICAgIGFjY1JlY3QudG9wID0gbWF4KHJlY3QudG9wLCBhY2NSZWN0LnRvcCk7XG4gICAgYWNjUmVjdC5yaWdodCA9IG1pbihyZWN0LnJpZ2h0LCBhY2NSZWN0LnJpZ2h0KTtcbiAgICBhY2NSZWN0LmJvdHRvbSA9IG1pbihyZWN0LmJvdHRvbSwgYWNjUmVjdC5ib3R0b20pO1xuICAgIGFjY1JlY3QubGVmdCA9IG1heChyZWN0LmxlZnQsIGFjY1JlY3QubGVmdCk7XG4gICAgcmV0dXJuIGFjY1JlY3Q7XG4gIH0sIGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBmaXJzdENsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KSk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGNsaXBwaW5nUmVjdC5yaWdodCAtIGNsaXBwaW5nUmVjdC5sZWZ0LFxuICAgIGhlaWdodDogY2xpcHBpbmdSZWN0LmJvdHRvbSAtIGNsaXBwaW5nUmVjdC50b3AsXG4gICAgeDogY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgeTogY2xpcHBpbmdSZWN0LnRvcFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9ID0gZ2V0Q3NzRGltZW5zaW9ucyhlbGVtZW50KTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZWxlbWVudCwgb2Zmc2V0UGFyZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IGlzRml4ZWQgPSBzdHJhdGVneSA9PT0gJ2ZpeGVkJztcbiAgY29uc3QgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICBsZXQgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIGNvbnN0IG9mZnNldHMgPSBjcmVhdGVDb29yZHMoMCk7XG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gJ2JvZHknIHx8IGlzT3ZlcmZsb3dFbGVtZW50KGRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIHNjcm9sbCA9IGdldE5vZGVTY3JvbGwob2Zmc2V0UGFyZW50KTtcbiAgICB9XG4gICAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50KSB7XG4gICAgICBjb25zdCBvZmZzZXRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCwgdHJ1ZSwgaXNGaXhlZCwgb2Zmc2V0UGFyZW50KTtcbiAgICAgIG9mZnNldHMueCA9IG9mZnNldFJlY3QueCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgb2Zmc2V0cy55ID0gb2Zmc2V0UmVjdC55ICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgb2Zmc2V0cy54ID0gZ2V0V2luZG93U2Nyb2xsQmFyWChkb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICBjb25zdCB4ID0gcmVjdC5sZWZ0ICsgc2Nyb2xsLnNjcm9sbExlZnQgLSBvZmZzZXRzLng7XG4gIGNvbnN0IHkgPSByZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3AgLSBvZmZzZXRzLnk7XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5LFxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnO1xufVxuXG5mdW5jdGlvbiBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKSB7XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHBvbHlmaWxsKSB7XG4gICAgcmV0dXJuIHBvbHlmaWxsKGVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBlbGVtZW50Lm9mZnNldFBhcmVudDtcbn1cblxuLy8gR2V0cyB0aGUgY2xvc2VzdCBhbmNlc3RvciBwb3NpdGlvbmVkIGVsZW1lbnQuIEhhbmRsZXMgc29tZSBlZGdlIGNhc2VzLFxuLy8gc3VjaCBhcyB0YWJsZSBhbmNlc3RvcnMgYW5kIGNyb3NzIGJyb3dzZXIgYnVncy5cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGlmIChpc1RvcExheWVyKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHdpbjtcbiAgfVxuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBsZXQgc3ZnT2Zmc2V0UGFyZW50ID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgICB3aGlsZSAoc3ZnT2Zmc2V0UGFyZW50ICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoc3ZnT2Zmc2V0UGFyZW50KSkge1xuICAgICAgaWYgKGlzRWxlbWVudChzdmdPZmZzZXRQYXJlbnQpICYmICFpc1N0YXRpY1Bvc2l0aW9uZWQoc3ZnT2Zmc2V0UGFyZW50KSkge1xuICAgICAgICByZXR1cm4gc3ZnT2Zmc2V0UGFyZW50O1xuICAgICAgfVxuICAgICAgc3ZnT2Zmc2V0UGFyZW50ID0gZ2V0UGFyZW50Tm9kZShzdmdPZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gd2luO1xuICB9XG4gIGxldCBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKTtcbiAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBpc1RhYmxlRWxlbWVudChvZmZzZXRQYXJlbnQpICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQsIHBvbHlmaWxsKTtcbiAgfVxuICBpZiAob2Zmc2V0UGFyZW50ICYmIGlzTGFzdFRyYXZlcnNhYmxlTm9kZShvZmZzZXRQYXJlbnQpICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpICYmICFpc0NvbnRhaW5pbmdCbG9jayhvZmZzZXRQYXJlbnQpKSB7XG4gICAgcmV0dXJuIHdpbjtcbiAgfVxuICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW47XG59XG5cbmNvbnN0IGdldEVsZW1lbnRSZWN0cyA9IGFzeW5jIGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnN0IGdldE9mZnNldFBhcmVudEZuID0gdGhpcy5nZXRPZmZzZXRQYXJlbnQgfHwgZ2V0T2Zmc2V0UGFyZW50O1xuICBjb25zdCBnZXREaW1lbnNpb25zRm4gPSB0aGlzLmdldERpbWVuc2lvbnM7XG4gIGNvbnN0IGZsb2F0aW5nRGltZW5zaW9ucyA9IGF3YWl0IGdldERpbWVuc2lvbnNGbihkYXRhLmZsb2F0aW5nKTtcbiAgcmV0dXJuIHtcbiAgICByZWZlcmVuY2U6IGdldFJlY3RSZWxhdGl2ZVRvT2Zmc2V0UGFyZW50KGRhdGEucmVmZXJlbmNlLCBhd2FpdCBnZXRPZmZzZXRQYXJlbnRGbihkYXRhLmZsb2F0aW5nKSwgZGF0YS5zdHJhdGVneSksXG4gICAgZmxvYXRpbmc6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IGZsb2F0aW5nRGltZW5zaW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogZmxvYXRpbmdEaW1lbnNpb25zLmhlaWdodFxuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGlzUlRMKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZGlyZWN0aW9uID09PSAncnRsJztcbn1cblxuY29uc3QgcGxhdGZvcm0gPSB7XG4gIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0LFxuICBnZXREb2N1bWVudEVsZW1lbnQsXG4gIGdldENsaXBwaW5nUmVjdCxcbiAgZ2V0T2Zmc2V0UGFyZW50LFxuICBnZXRFbGVtZW50UmVjdHMsXG4gIGdldENsaWVudFJlY3RzLFxuICBnZXREaW1lbnNpb25zLFxuICBnZXRTY2FsZSxcbiAgaXNFbGVtZW50LFxuICBpc1JUTFxufTtcblxuLy8gaHR0cHM6Ly9zYW10aG9yLmF1LzIwMjEvb2JzZXJ2aW5nLWRvbS9cbmZ1bmN0aW9uIG9ic2VydmVNb3ZlKGVsZW1lbnQsIG9uTW92ZSkge1xuICBsZXQgaW8gPSBudWxsO1xuICBsZXQgdGltZW91dElkO1xuICBjb25zdCByb290ID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHZhciBfaW87XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgKF9pbyA9IGlvKSA9PSBudWxsIHx8IF9pby5kaXNjb25uZWN0KCk7XG4gICAgaW8gPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIHJlZnJlc2goc2tpcCwgdGhyZXNob2xkKSB7XG4gICAgaWYgKHNraXAgPT09IHZvaWQgMCkge1xuICAgICAgc2tpcCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICAgIHRocmVzaG9sZCA9IDE7XG4gICAgfVxuICAgIGNsZWFudXAoKTtcbiAgICBjb25zdCB7XG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIG9uTW92ZSgpO1xuICAgIH1cbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5zZXRUb3AgPSBmbG9vcih0b3ApO1xuICAgIGNvbnN0IGluc2V0UmlnaHQgPSBmbG9vcihyb290LmNsaWVudFdpZHRoIC0gKGxlZnQgKyB3aWR0aCkpO1xuICAgIGNvbnN0IGluc2V0Qm90dG9tID0gZmxvb3Iocm9vdC5jbGllbnRIZWlnaHQgLSAodG9wICsgaGVpZ2h0KSk7XG4gICAgY29uc3QgaW5zZXRMZWZ0ID0gZmxvb3IobGVmdCk7XG4gICAgY29uc3Qgcm9vdE1hcmdpbiA9IC1pbnNldFRvcCArIFwicHggXCIgKyAtaW5zZXRSaWdodCArIFwicHggXCIgKyAtaW5zZXRCb3R0b20gKyBcInB4IFwiICsgLWluc2V0TGVmdCArIFwicHhcIjtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgcm9vdE1hcmdpbixcbiAgICAgIHRocmVzaG9sZDogbWF4KDAsIG1pbigxLCB0aHJlc2hvbGQpKSB8fCAxXG4gICAgfTtcbiAgICBsZXQgaXNGaXJzdFVwZGF0ZSA9IHRydWU7XG4gICAgZnVuY3Rpb24gaGFuZGxlT2JzZXJ2ZShlbnRyaWVzKSB7XG4gICAgICBjb25zdCByYXRpbyA9IGVudHJpZXNbMF0uaW50ZXJzZWN0aW9uUmF0aW87XG4gICAgICBpZiAocmF0aW8gIT09IHRocmVzaG9sZCkge1xuICAgICAgICBpZiAoIWlzRmlyc3RVcGRhdGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmF0aW8pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgcmVmZXJlbmNlIGlzIGNsaXBwZWQsIHRoZSByYXRpbyBpcyAwLiBUaHJvdHRsZSB0aGUgcmVmcmVzaFxuICAgICAgICAgIC8vIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBvZiB1cGRhdGVzLlxuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVmcmVzaChmYWxzZSwgMWUtNyk7XG4gICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaChmYWxzZSwgcmF0aW8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpc0ZpcnN0VXBkYXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gT2xkZXIgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBhIGBkb2N1bWVudGAgYXMgdGhlIHJvb3QgYW5kIHdpbGwgdGhyb3cgYW5cbiAgICAvLyBlcnJvci5cbiAgICB0cnkge1xuICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAvLyBIYW5kbGUgPGlmcmFtZT5zXG4gICAgICAgIHJvb3Q6IHJvb3Qub3duZXJEb2N1bWVudFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlvLm9ic2VydmUoZWxlbWVudCk7XG4gIH1cbiAgcmVmcmVzaCh0cnVlKTtcbiAgcmV0dXJuIGNsZWFudXA7XG59XG5cbi8qKlxuICogQXV0b21hdGljYWxseSB1cGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCB3aGVuIG5lY2Vzc2FyeS5cbiAqIFNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRoZSBmbG9hdGluZyBlbGVtZW50IGlzIG1vdW50ZWQgb24gdGhlIERPTSBvclxuICogdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICogQHJldHVybnMgY2xlYW51cCBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBpbnZva2VkIHdoZW4gdGhlIGZsb2F0aW5nIGVsZW1lbnQgaXNcbiAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NIG9yIGhpZGRlbiBmcm9tIHRoZSBzY3JlZW4uXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1VwZGF0ZVxuICovXG5mdW5jdGlvbiBhdXRvVXBkYXRlKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBhbmNlc3RvclNjcm9sbCA9IHRydWUsXG4gICAgYW5jZXN0b3JSZXNpemUgPSB0cnVlLFxuICAgIGVsZW1lbnRSZXNpemUgPSB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicsXG4gICAgbGF5b3V0U2hpZnQgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicsXG4gICAgYW5pbWF0aW9uRnJhbWUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVmZXJlbmNlRWwgPSB1bndyYXBFbGVtZW50KHJlZmVyZW5jZSk7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IGFuY2VzdG9yU2Nyb2xsIHx8IGFuY2VzdG9yUmVzaXplID8gWy4uLihyZWZlcmVuY2VFbCA/IGdldE92ZXJmbG93QW5jZXN0b3JzKHJlZmVyZW5jZUVsKSA6IFtdKSwgLi4uZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoZmxvYXRpbmcpXSA6IFtdO1xuICBhbmNlc3RvcnMuZm9yRWFjaChhbmNlc3RvciA9PiB7XG4gICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlLCB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgYW5jZXN0b3JSZXNpemUgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlKTtcbiAgfSk7XG4gIGNvbnN0IGNsZWFudXBJbyA9IHJlZmVyZW5jZUVsICYmIGxheW91dFNoaWZ0ID8gb2JzZXJ2ZU1vdmUocmVmZXJlbmNlRWwsIHVwZGF0ZSkgOiBudWxsO1xuICBsZXQgcmVvYnNlcnZlRnJhbWUgPSAtMTtcbiAgbGV0IHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgaWYgKGVsZW1lbnRSZXNpemUpIHtcbiAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihfcmVmID0+IHtcbiAgICAgIGxldCBbZmlyc3RFbnRyeV0gPSBfcmVmO1xuICAgICAgaWYgKGZpcnN0RW50cnkgJiYgZmlyc3RFbnRyeS50YXJnZXQgPT09IHJlZmVyZW5jZUVsICYmIHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIC8vIFByZXZlbnQgdXBkYXRlIGxvb3BzIHdoZW4gdXNpbmcgdGhlIGBzaXplYCBtaWRkbGV3YXJlLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzE3NDBcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVvYnNlcnZlRnJhbWUpO1xuICAgICAgICByZW9ic2VydmVGcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdmFyIF9yZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAoX3Jlc2l6ZU9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIGlmIChyZWZlcmVuY2VFbCAmJiAhYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUocmVmZXJlbmNlRWwpO1xuICAgIH1cbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgfVxuICBsZXQgZnJhbWVJZDtcbiAgbGV0IHByZXZSZWZSZWN0ID0gYW5pbWF0aW9uRnJhbWUgPyBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKSA6IG51bGw7XG4gIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgIGZyYW1lTG9vcCgpO1xuICB9XG4gIGZ1bmN0aW9uIGZyYW1lTG9vcCgpIHtcbiAgICBjb25zdCBuZXh0UmVmUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpO1xuICAgIGlmIChwcmV2UmVmUmVjdCAmJiAobmV4dFJlZlJlY3QueCAhPT0gcHJldlJlZlJlY3QueCB8fCBuZXh0UmVmUmVjdC55ICE9PSBwcmV2UmVmUmVjdC55IHx8IG5leHRSZWZSZWN0LndpZHRoICE9PSBwcmV2UmVmUmVjdC53aWR0aCB8fCBuZXh0UmVmUmVjdC5oZWlnaHQgIT09IHByZXZSZWZSZWN0LmhlaWdodCkpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgICBwcmV2UmVmUmVjdCA9IG5leHRSZWZSZWN0O1xuICAgIGZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWVMb29wKTtcbiAgfVxuICB1cGRhdGUoKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICB2YXIgX3Jlc2l6ZU9ic2VydmVyMjtcbiAgICBhbmNlc3RvcnMuZm9yRWFjaChhbmNlc3RvciA9PiB7XG4gICAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGUpO1xuICAgICAgYW5jZXN0b3JSZXNpemUgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlKTtcbiAgICB9KTtcbiAgICBjbGVhbnVwSW8gPT0gbnVsbCB8fCBjbGVhbnVwSW8oKTtcbiAgICAoX3Jlc2l6ZU9ic2VydmVyMiA9IHJlc2l6ZU9ic2VydmVyKSA9PSBudWxsIHx8IF9yZXNpemVPYnNlcnZlcjIuZGlzY29ubmVjdCgpO1xuICAgIHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICBpZiAoYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBvZiBvdmVyZmxvdyBzaWRlIG9mZnNldHMgdGhhdCBkZXRlcm1pbmUgaG93IG11Y2ggdGhlXG4gKiBlbGVtZW50IGlzIG92ZXJmbG93aW5nIGEgZ2l2ZW4gY2xpcHBpbmcgYm91bmRhcnkgb24gZWFjaCBzaWRlLlxuICogLSBwb3NpdGl2ZSA9IG92ZXJmbG93aW5nIHRoZSBib3VuZGFyeSBieSB0aGF0IG51bWJlciBvZiBwaXhlbHNcbiAqIC0gbmVnYXRpdmUgPSBob3cgbWFueSBwaXhlbHMgbGVmdCBiZWZvcmUgaXQgd2lsbCBvdmVyZmxvd1xuICogLSAwID0gbGllcyBmbHVzaCB3aXRoIHRoZSBib3VuZGFyeVxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2RldGVjdE92ZXJmbG93XG4gKi9cbmNvbnN0IGRldGVjdE92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3ckMTtcblxuLyoqXG4gKiBNb2RpZmllcyB0aGUgcGxhY2VtZW50IGJ5IHRyYW5zbGF0aW5nIHRoZSBmbG9hdGluZyBlbGVtZW50IGFsb25nIHRoZVxuICogc3BlY2lmaWVkIGF4ZXMuXG4gKiBBIG51bWJlciAoc2hvcnRoYW5kIGZvciBgbWFpbkF4aXNgIG9yIGRpc3RhbmNlKSwgb3IgYW4gYXhlcyBjb25maWd1cmF0aW9uXG4gKiBvYmplY3QgbWF5IGJlIHBhc3NlZC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9vZmZzZXRcbiAqL1xuY29uc3Qgb2Zmc2V0ID0gb2Zmc2V0JDE7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGNob29zaW5nIHRoZSBwbGFjZW1lbnRcbiAqIHRoYXQgaGFzIHRoZSBtb3N0IHNwYWNlIGF2YWlsYWJsZSBhdXRvbWF0aWNhbGx5LCB3aXRob3V0IG5lZWRpbmcgdG8gc3BlY2lmeSBhXG4gKiBwcmVmZXJyZWQgcGxhY2VtZW50LiBBbHRlcm5hdGl2ZSB0byBgZmxpcGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1BsYWNlbWVudFxuICovXG5jb25zdCBhdXRvUGxhY2VtZW50ID0gYXV0b1BsYWNlbWVudCQxO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBzaGlmdGluZyBpdCBpbiBvcmRlciB0b1xuICoga2VlcCBpdCBpbiB2aWV3IHdoZW4gaXQgd2lsbCBvdmVyZmxvdyB0aGUgY2xpcHBpbmcgYm91bmRhcnkuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvc2hpZnRcbiAqL1xuY29uc3Qgc2hpZnQgPSBzaGlmdCQxO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBmbGlwcGluZyB0aGUgYHBsYWNlbWVudGBcbiAqIGluIG9yZGVyIHRvIGtlZXAgaXQgaW4gdmlldyB3aGVuIHRoZSBwcmVmZXJyZWQgcGxhY2VtZW50KHMpIHdpbGwgb3ZlcmZsb3cgdGhlXG4gKiBjbGlwcGluZyBib3VuZGFyeS4gQWx0ZXJuYXRpdmUgdG8gYGF1dG9QbGFjZW1lbnRgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2ZsaXBcbiAqL1xuY29uc3QgZmxpcCA9IGZsaXAkMTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRoYXQgYWxsb3dzIHlvdSB0byBjaGFuZ2UgdGhlIHNpemUgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgXHUyMDE0XG4gKiBmb3IgaW5zdGFuY2UsIHByZXZlbnQgaXQgZnJvbSBvdmVyZmxvd2luZyB0aGUgY2xpcHBpbmcgYm91bmRhcnkgb3IgbWF0Y2ggdGhlXG4gKiB3aWR0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvc2l6ZVxuICovXG5jb25zdCBzaXplID0gc2l6ZSQxO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gaGlkZSB0aGUgZmxvYXRpbmcgZWxlbWVudCBpbiBhcHBsaWNhYmxlIHNpdHVhdGlvbnMsIHN1Y2ggYXNcbiAqIHdoZW4gaXQgaXMgbm90IGluIHRoZSBzYW1lIGNsaXBwaW5nIGNvbnRleHQgYXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2hpZGVcbiAqL1xuY29uc3QgaGlkZSA9IGhpZGUkMTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIHBvc2l0aW9uIGFuIGlubmVyIGVsZW1lbnQgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgc28gdGhhdCBpdFxuICogYXBwZWFycyBjZW50ZXJlZCB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXJyb3dcbiAqL1xuY29uc3QgYXJyb3cgPSBhcnJvdyQxO1xuXG4vKipcbiAqIFByb3ZpZGVzIGltcHJvdmVkIHBvc2l0aW9uaW5nIGZvciBpbmxpbmUgcmVmZXJlbmNlIGVsZW1lbnRzIHRoYXQgY2FuIHNwYW5cbiAqIG92ZXIgbXVsdGlwbGUgbGluZXMsIHN1Y2ggYXMgaHlwZXJsaW5rcyBvciByYW5nZSBzZWxlY3Rpb25zLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2lubGluZVxuICovXG5jb25zdCBpbmxpbmUgPSBpbmxpbmUkMTtcblxuLyoqXG4gKiBCdWlsdC1pbiBgbGltaXRlcmAgdGhhdCB3aWxsIHN0b3AgYHNoaWZ0KClgIGF0IGEgY2VydGFpbiBwb2ludC5cbiAqL1xuY29uc3QgbGltaXRTaGlmdCA9IGxpbWl0U2hpZnQkMTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgdGhhdCB3aWxsIHBsYWNlIHRoZSBmbG9hdGluZyBlbGVtZW50XG4gKiBuZXh0IHRvIGEgZ2l2ZW4gcmVmZXJlbmNlIGVsZW1lbnQuXG4gKi9cbmNvbnN0IGNvbXB1dGVQb3NpdGlvbiA9IChyZWZlcmVuY2UsIGZsb2F0aW5nLCBvcHRpb25zKSA9PiB7XG4gIC8vIFRoaXMgY2FjaGVzIHRoZSBleHBlbnNpdmUgYGdldENsaXBwaW5nRWxlbWVudEFuY2VzdG9yc2AgZnVuY3Rpb24gc28gdGhhdFxuICAvLyBtdWx0aXBsZSBsaWZlY3ljbGUgcmVzZXRzIHJlLXVzZSB0aGUgc2FtZSByZXN1bHQuIEl0IG9ubHkgbGl2ZXMgZm9yIGFcbiAgLy8gc2luZ2xlIGNhbGwuIElmIG90aGVyIGZ1bmN0aW9ucyBiZWNvbWUgZXhwZW5zaXZlLCB3ZSBjYW4gYWRkIHRoZW0gYXMgd2VsbC5cbiAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7XG4gICAgcGxhdGZvcm0sXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBjb25zdCBwbGF0Zm9ybVdpdGhDYWNoZSA9IHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLnBsYXRmb3JtLFxuICAgIF9jOiBjYWNoZVxuICB9O1xuICByZXR1cm4gY29tcHV0ZVBvc2l0aW9uJDEocmVmZXJlbmNlLCBmbG9hdGluZywge1xuICAgIC4uLm1lcmdlZE9wdGlvbnMsXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtV2l0aENhY2hlXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgYXJyb3csIGF1dG9QbGFjZW1lbnQsIGF1dG9VcGRhdGUsIGNvbXB1dGVQb3NpdGlvbiwgZGV0ZWN0T3ZlcmZsb3csIGZsaXAsIGhpZGUsIGlubGluZSwgbGltaXRTaGlmdCwgb2Zmc2V0LCBwbGF0Zm9ybSwgc2hpZnQsIHNpemUgfTtcbiIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9hbGVydF9kaWFsb2dfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgdXNlQ2xpY2tPdXRzaWRlIH0gZnJvbSAnc3RpbXVsdXMtdXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm92ZXJsYXlcIiwgXCJjb250ZW50XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogQm9vbGVhblxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy5jbG9zZU9uQ2xpY2tPdXRzaWRlVmFsdWUpIHtcbiAgICAgIHVzZUNsaWNrT3V0c2lkZSh0aGlzLCB7IGVsZW1lbnQ6IHRoaXMuY29udGVudFRhcmdldCB9KVxuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5vdmVybGF5VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICB0aGlzLmNvbnRlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5VGFyZ2V0LmRhdGFzZXQudWlEaWFsb2dTdGF0ZSA9IFwib3BlblwiXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC51aURpYWxvZ1N0YXRlID0gXCJvcGVuXCJcbiAgICB9LCAxMCkgLy8gU21hbGwgZGVsYXkgdG8gZW5zdXJlIHRoZSBkaXNwbGF5IGNoYW5nZSBoYXMgdGFrZW4gZWZmZWN0XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuZGF0YXNldC51aURpYWxvZ1N0YXRlID0gXCJjbG9zZWRcIlxuICAgIHRoaXMuY29udGVudFRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgfSwgMzApIC8vIEFkanVzdCB0aGlzIHRpbWVvdXQgdG8gbWF0Y2ggeW91ciBhbmltYXRpb24gZHVyYXRpb25cbiAgfVxuXG4gIGNhbmNlbChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLmNsb3NlKClcbiAgfVxuXG4gIGNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG59IiwgImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGNvbXB1dGVQb3NpdGlvbiwgZmxpcCwgc2hpZnQsIG9mZnNldCB9IGZyb20gJ0BmbG9hdGluZy11aS9kb20nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1widHJpZ2dlclwiLCBcIm1lbnVcIl1cbiAgc3RhdGljIGNsYXNzZXMgPSBbXCJhY3RpdmVcIl1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuY2xvc2VNZW51ID0gdGhpcy5jbG9zZU1lbnUuYmluZCh0aGlzKVxuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLm1lbnVUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuYWN0aXZlQ2xhc3MpKSB7XG4gICAgICB0aGlzLmNsb3NlTWVudSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Blbk1lbnUoKVxuICAgIH1cbiAgfVxuXG4gIG9wZW5NZW51KCkge1xuICAgIHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QuYWRkKHRoaXMuYWN0aXZlQ2xhc3MpXG4gICAgdGhpcy5tZW51VGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTWVudSlcblxuICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKVxuICB9XG5cbiAgY2xvc2VNZW51KGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhdGhpcy5lbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuYWN0aXZlQ2xhc3MpXG4gICAgICB0aGlzLm1lbnVUYXJnZXQuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZU1lbnUpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgY29tcHV0ZVBvc2l0aW9uKHRoaXMudHJpZ2dlclRhcmdldCwgdGhpcy5tZW51VGFyZ2V0LCB7XG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b20tc3RhcnQnLFxuICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICBvZmZzZXQoNiksXG4gICAgICAgIGZsaXAoKSxcbiAgICAgICAgc2hpZnQoe3BhZGRpbmc6IDV9KVxuICAgICAgXVxuICAgIH0pLnRoZW4oKHt4LCB5fSkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLm1lbnVUYXJnZXQuc3R5bGUsIHtcbiAgICAgICAgbGVmdDogYCR7eH1weGAsXG4gICAgICAgIHRvcDogYCR7eX1weGAsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfaW5wdXRfb3RwX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJpbnB1dFwiLCBcImRpZ2l0XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgZ3JvdXBzOiBBcnJheVxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmlucHV0VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMpKVxuICAgIHRoaXMuaW5wdXRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpKVxuICAgIHRoaXMuaW5wdXRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzLmJpbmQodGhpcykpXG4gICAgdGhpcy5pbnB1dFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyLmJpbmQodGhpcykpXG4gIH1cblxuICBoYW5kbGVJbnB1dChldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC52YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpLnNsaWNlKDAsIHRoaXMudG90YWxEaWdpdHMpXG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZVxuICAgIHRoaXMudXBkYXRlRGlnaXRzKHZhbHVlKVxuICAgIHRoaXMuZm9jdXNEaWdpdCh2YWx1ZS5sZW5ndGgpXG4gIH1cblxuICBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnJykge1xuICAgICAgdGhpcy5mb2N1c1ByZXZpb3VzSW5wdXQoKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUZvY3VzKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkJylcbiAgICB0aGlzLmZvY3VzRGlnaXQodGhpcy5pbnB1dFRhcmdldC52YWx1ZS5sZW5ndGgpXG4gIH1cblxuICBoYW5kbGVCbHVyKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJylcbiAgICB0aGlzLmRpZ2l0VGFyZ2V0cy5mb3JFYWNoKGRpZ2l0ID0+IHtcbiAgICAgIGRpZ2l0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLXJpbmcnLCAncmluZy1vZmZzZXQtYmFja2dyb3VuZCcpXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZURpZ2l0cyh2YWx1ZSkge1xuICAgIHRoaXMuZGlnaXRUYXJnZXRzLmZvckVhY2goKGRpZ2l0LCBpbmRleCkgPT4ge1xuICAgICAgZGlnaXQudGV4dENvbnRlbnQgPSB2YWx1ZVtpbmRleF0gfHwgJydcbiAgICAgIGRpZ2l0LmNsYXNzTGlzdC50b2dnbGUoJ2ZpbGxlZCcsICEhdmFsdWVbaW5kZXhdKVxuICAgIH0pXG4gIH1cblxuICBmb2N1c0RpZ2l0KGluZGV4KSB7XG4gICAgdGhpcy5kaWdpdFRhcmdldHMuZm9yRWFjaCgoZGlnaXQsIGkpID0+IHtcbiAgICAgIGlmIChpID09PSBpbmRleCkge1xuICAgICAgICBkaWdpdC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1yaW5nJywgJ3Jpbmctb2Zmc2V0LWJhY2tncm91bmQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlnaXQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctcmluZycsICdyaW5nLW9mZnNldC1iYWNrZ3JvdW5kJylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZm9jdXNQcmV2aW91c0lucHV0KCkge1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuaW5wdXRUYXJnZXQudmFsdWVcbiAgICBpZiAoY3VycmVudFZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuaW5wdXRUYXJnZXQudmFsdWUgPSBjdXJyZW50VmFsdWUuc2xpY2UoMCwgLTEpXG4gICAgICB0aGlzLnVwZGF0ZURpZ2l0cyh0aGlzLmlucHV0VGFyZ2V0LnZhbHVlKVxuICAgICAgdGhpcy5mb2N1c0RpZ2l0KHRoaXMuaW5wdXRUYXJnZXQudmFsdWUubGVuZ3RoKVxuICAgIH1cbiAgfVxuXG4gIGdldCB0b3RhbERpZ2l0cygpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cHNWYWx1ZS5yZWR1Y2UoKHN1bSwgZ3JvdXApID0+IHN1bSArIGdyb3VwLCAwKVxuICB9XG59IiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX21lbnViYXJfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0LCBhdXRvVXBkYXRlIH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJtZW51SXRlbVwiLCBcInN1Ym1lbnVUZW1wbGF0ZVwiXVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cyA9IG5ldyBTZXQoKVxuICAgIHRoaXMuY2xlYW51cCA9IG51bGxcbiAgICB0aGlzLnN1Ym1lbnVzID0gbmV3IE1hcCgpXG4gICAgdGhpcy5oaWRlVGltZW91dCA9IG51bGxcbiAgICBcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLmhhbmRsZU1vdXNlT3Zlci5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVNb3VzZU91dC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLmNsZWFudXBBbGxTdWJtZW51cygpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5oYW5kbGVNb3VzZU92ZXIuYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuaGFuZGxlTW91c2VPdXQuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgY29uc3QgbWVudUl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1pdGVtXSwgW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJylcbiAgICBpZiAobWVudUl0ZW0pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICBpZiAobWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci10b3AtbGV2ZWxdJykgfHwgbWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51XScpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlTWVudShtZW51SXRlbSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51XScpKSB7XG4gICAgICB0aGlzLmNsb3NlQWxsU3VibWVudXMoKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdXNlT3ZlcihldmVudCkge1xuICAgIGNvbnN0IHN1Ym1lbnVJdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpXG4gICAgaWYgKHN1Ym1lbnVJdGVtICYmIHN1Ym1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItdG9wLWxldmVsXScpKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dClcbiAgICAgIHRoaXMuc2hvd1N1Ym1lbnUoc3VibWVudUl0ZW0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VPdXQoZXZlbnQpIHtcbiAgICBjb25zdCBzdWJtZW51SXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnUtaXRlbV0nKVxuICAgIGlmIChzdWJtZW51SXRlbSAmJiBzdWJtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXRvcC1sZXZlbF0nKSkge1xuICAgICAgdGhpcy5oaWRlU3VibWVudVdpdGhEZWxheShzdWJtZW51SXRlbSlcbiAgICB9XG4gIH1cblxuICB0b2dnbGVNZW51KG1lbnVJdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgIGNvbnN0IGhhc1N1Ym1lbnUgPSBtZW51SXRlbS5kYXRhc2V0Lmhhc1N1Ym1lbnUgPT09ICd0cnVlJ1xuXG4gICAgaWYgKGhhc1N1Ym1lbnUpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVN1Ym1lbnVzLmhhcyhpbmRleCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVN1Ym1lbnUodGhpcy5zdWJtZW51cy5nZXQoaW5kZXgpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaG93U3VibWVudShtZW51SXRlbSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgbWVudSBpdGVtOiAke21lbnVJdGVtLnRleHRDb250ZW50LnRyaW0oKX1gKVxuICAgICAgdGhpcy5jbG9zZUFsbFN1Ym1lbnVzKClcbiAgICB9XG4gIH1cblxuICBzaG93U3VibWVudShtZW51SXRlbSkge1xuICAgIGNvbnN0IGluZGV4ID0gbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICBjb25zdCBoYXNTdWJtZW51ID0gbWVudUl0ZW0uZGF0YXNldC5oYXNTdWJtZW51ID09PSAndHJ1ZSdcblxuICAgIGlmIChoYXNTdWJtZW51KSB7XG4gICAgICAvLyBDbG9zZSBzaWJsaW5nIHN1Ym1lbnVzXG4gICAgICB0aGlzLmNsb3NlU2libGluZ1N1Ym1lbnVzKG1lbnVJdGVtKVxuXG4gICAgICBpZiAoIXRoaXMuc3VibWVudXMuaGFzKGluZGV4KSkge1xuICAgICAgICB0aGlzLmNyZWF0ZVN1Ym1lbnUobWVudUl0ZW0sIGluZGV4KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuU3VibWVudShtZW51SXRlbSwgdGhpcy5zdWJtZW51cy5nZXQoaW5kZXgpKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhpZGVTdWJtZW51V2l0aERlbGF5KG1lbnVJdGVtKSB7XG4gICAgdGhpcy5oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgc3VibWVudUluZGV4ID0gbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICAgIGlmIChzdWJtZW51SW5kZXggJiYgdGhpcy5zdWJtZW51cy5oYXMoc3VibWVudUluZGV4KSkge1xuICAgICAgICBjb25zdCBzdWJtZW51ID0gdGhpcy5zdWJtZW51cy5nZXQoc3VibWVudUluZGV4KVxuICAgICAgICBpZiAoIXN1Ym1lbnUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlU3VibWVudShzdWJtZW51KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMzAwKVxuICB9XG5cbiAgY3JlYXRlU3VibWVudShtZW51SXRlbSwgaW5kZXgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuc3VibWVudVRlbXBsYXRlVGFyZ2V0XG4gICAgY29uc3Qgc3VibWVudUNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXN1Ym1lbnUtZm9yPVwiJHtpbmRleH1cIl1gKVxuICAgIFxuICAgIGlmIChzdWJtZW51Q29udGVudCkge1xuICAgICAgY29uc3Qgc3VibWVudSA9IHN1Ym1lbnVDb250ZW50LmNsb25lTm9kZSh0cnVlKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdWJtZW51KVxuICAgICAgdGhpcy5zdWJtZW51cy5zZXQoaW5kZXgsIHN1Ym1lbnUpXG4gICAgICB0aGlzLm9wZW5TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KVxuICAgIH1cbiAgfVxuXG4gIG9wZW5TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KSB7XG4gICAgbWVudUl0ZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIilcbiAgICBtZW51SXRlbS5kYXRhc2V0LnN0YXRlID0gXCJvcGVuXCJcbiAgICBzdWJtZW51LmRhdGFzZXQuc3RhdGUgPSBcIm9wZW5cIlxuICAgIHN1Ym1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIFxuICAgIGNvbnN0IGluZGV4ID0gbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzLmFkZChpbmRleClcblxuICAgIHRoaXMuY2xlYW51cCA9IGF1dG9VcGRhdGUobWVudUl0ZW0sIHN1Ym1lbnUsICgpID0+IHtcbiAgICAgIHRoaXMucG9zaXRpb25TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KVxuICAgIH0pXG4gIH1cblxuICBjbG9zZVN1Ym1lbnUoc3VibWVudSkge1xuICAgIGNvbnN0IGluZGV4ID0gc3VibWVudS5kYXRhc2V0LnN1Ym1lbnVGb3JcbiAgICBjb25zdCBtZW51SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVpLW1lbnViYXItaXRlbT1cIiR7aW5kZXh9XCJdLCBbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnUtaXRlbT1cIiR7aW5kZXh9XCJdYClcbiAgICBcbiAgICBpZiAobWVudUl0ZW0pIHtcbiAgICAgIG1lbnVJdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKVxuICAgICAgbWVudUl0ZW0uZGF0YXNldC5zdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICB9XG4gICAgc3VibWVudS5kYXRhc2V0LnN0YXRlID0gXCJjbG9zZWRcIlxuICAgIHN1Ym1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgXG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cy5kZWxldGUoaW5kZXgpXG4gICAgXG4gICAgaWYgKHRoaXMuY2xlYW51cCkge1xuICAgICAgdGhpcy5jbGVhbnVwKClcbiAgICAgIHRoaXMuY2xlYW51cCA9IG51bGxcbiAgICB9XG5cbiAgICAvLyBDbG9zZSBhbGwgY2hpbGQgc3VibWVudXNcbiAgICBzdWJtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpLmZvckVhY2goY2hpbGRJdGVtID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBjaGlsZEl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgICAgaWYgKHRoaXMuc3VibWVudXMuaGFzKGNoaWxkSW5kZXgpKSB7XG4gICAgICAgIHRoaXMuY2xvc2VTdWJtZW51KHRoaXMuc3VibWVudXMuZ2V0KGNoaWxkSW5kZXgpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbG9zZVNpYmxpbmdTdWJtZW51cyhtZW51SXRlbSkge1xuICAgIGNvbnN0IHBhcmVudFN1Ym1lbnUgPSBtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnVdJylcbiAgICBjb25zdCBzaWJsaW5nSXRlbXMgPSBwYXJlbnRTdWJtZW51IFxuICAgICAgPyBwYXJlbnRTdWJtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IFtkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpXG4gICAgICA6IHRoaXMubWVudUl0ZW1UYXJnZXRzXG5cbiAgICBzaWJsaW5nSXRlbXMuZm9yRWFjaChzaWJsaW5nID0+IHtcbiAgICAgIGlmIChzaWJsaW5nICE9PSBtZW51SXRlbSkge1xuICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBzaWJsaW5nLmRhdGFzZXQudWlNZW51YmFySXRlbSB8fCBzaWJsaW5nLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3VibWVudXMuaGFzKHNpYmxpbmdJbmRleCkpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlU3VibWVudSh0aGlzLnN1Ym1lbnVzLmdldChzaWJsaW5nSW5kZXgpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlQWxsU3VibWVudXMoKSB7XG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIGlmICh0aGlzLnN1Ym1lbnVzLmhhcyhpbmRleCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVN1Ym1lbnUodGhpcy5zdWJtZW51cy5nZXQoaW5kZXgpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbGVhbnVwQWxsU3VibWVudXMoKSB7XG4gICAgdGhpcy5zdWJtZW51cy5mb3JFYWNoKHN1Ym1lbnUgPT4ge1xuICAgICAgaWYgKHN1Ym1lbnUucGFyZW50Tm9kZSkge1xuICAgICAgICBzdWJtZW51LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3VibWVudSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuc3VibWVudXMuY2xlYXIoKVxuICAgIHRoaXMuYWN0aXZlU3VibWVudXMuY2xlYXIoKVxuICAgIGlmICh0aGlzLmNsZWFudXApIHtcbiAgICAgIHRoaXMuY2xlYW51cCgpXG4gICAgICB0aGlzLmNsZWFudXAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcG9zaXRpb25TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KSB7XG4gICAgY29uc3QgcGFyZW50U3VibWVudSA9IG1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudV0nKVxuICAgIGNvbnN0IHBsYWNlbWVudCA9IHBhcmVudFN1Ym1lbnUgPyAncmlnaHQtc3RhcnQnIDogJ2JvdHRvbS1zdGFydCdcblxuICAgIGNvbXB1dGVQb3NpdGlvbihtZW51SXRlbSwgc3VibWVudSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg0KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICBdXG4gICAgfSkudGhlbigoe3gsIHl9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHN1Ym1lbnUuc3R5bGUsIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgfSlcbiAgICB9KVxuICB9XG59IiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX3BvcG92ZXJfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0LCBhcnJvdyB9IGZyb20gJ0BmbG9hdGluZy11aS9kb20nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1widHJpZ2dlclwiLCBcImNvbnRlbnRUZW1wbGF0ZVwiLCBcImFycm93XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgcGxhY2VtZW50OiBTdHJpbmcsXG4gICAgb2Zmc2V0OiBOdW1iZXIsXG4gICAgYXJyb3c6IEJvb2xlYW4sXG4gICAgdHJpZ2dlclR5cGU6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxuICAgIHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlciA9IHRoaXMuY2xpY2tPdXRzaWRlLmJpbmQodGhpcylcbiAgICBcbiAgICBpZiAodGhpcy50cmlnZ2VyVHlwZVZhbHVlID09PSAnaG92ZXInKSB7XG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuc2hvdy5iaW5kKHRoaXMpKVxuICAgICAgdGhpcy50cmlnZ2VyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmhpZGUuYmluZCh0aGlzKSlcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyKVxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdob3ZlcicpIHtcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5zaG93LmJpbmQodGhpcykpXG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuaGlkZS5iaW5kKHRoaXMpKVxuICAgIH1cbiAgICBpZiAodGhpcy5wb3BvdmVyQ29udGVudCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnBvcG92ZXJDb250ZW50KVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgdGhpcy52aXNpYmxlID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coKVxuICB9XG5cbiAgc2hvdygpIHtcbiAgICBpZiAoIXRoaXMucG9wb3ZlckNvbnRlbnQpIHtcbiAgICAgIHRoaXMucG9wb3ZlckNvbnRlbnQgPSB0aGlzLmNvbnRlbnRUZW1wbGF0ZVRhcmdldC5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnBvcG92ZXJDb250ZW50KVxuICAgIH1cbiAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgdGhpcy5wb3BvdmVyQ29udGVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbicgLy8gSGlkZSBjb250ZW50IHdoaWxlIHBvc2l0aW9uaW5nXG4gICAgXG4gICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIGNvbnRlbnQgaXMgcmVuZGVyZWQgYmVmb3JlIHBvc2l0aW9uaW5nXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnBvc2l0aW9uUG9wb3ZlcigpXG4gICAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZScgLy8gU2hvdyBjb250ZW50IGFmdGVyIHBvc2l0aW9uaW5nXG4gICAgfSwgMClcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICBpZiAodGhpcy50cmlnZ2VyVHlwZVZhbHVlID09PSAnY2xpY2snKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlcilcbiAgICB9XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGlmICh0aGlzLnBvcG92ZXJDb250ZW50KSB7XG4gICAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2VcbiAgICBpZiAodGhpcy50cmlnZ2VyVHlwZVZhbHVlID09PSAnY2xpY2snKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlcilcbiAgICB9XG4gIH1cblxuICBjbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpICYmICF0aGlzLnBvcG92ZXJDb250ZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgfVxuICB9XG5cbiAgcG9zaXRpb25Qb3BvdmVyKCkge1xuICAgIGNvbnN0IG1pZGRsZXdhcmUgPSBbXG4gICAgICBvZmZzZXQodGhpcy5vZmZzZXRWYWx1ZSksXG4gICAgICBmbGlwKCksXG4gICAgICBzaGlmdCh7cGFkZGluZzogNX0pLFxuICAgIF1cblxuICAgIGlmICh0aGlzLmFycm93VmFsdWUpIHtcbiAgICAgIGNvbnN0IGFycm93RWxlbWVudCA9IHRoaXMucG9wb3ZlckNvbnRlbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktcG9wb3Zlci10YXJnZXQ9XCJhcnJvd1wiXScpXG4gICAgICBpZiAoYXJyb3dFbGVtZW50KSB7XG4gICAgICAgIG1pZGRsZXdhcmUucHVzaChhcnJvdyh7IGVsZW1lbnQ6IGFycm93RWxlbWVudCB9KSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wdXRlUG9zaXRpb24odGhpcy50cmlnZ2VyVGFyZ2V0LCB0aGlzLnBvcG92ZXJDb250ZW50LCB7XG4gICAgICBwbGFjZW1lbnQ6IHRoaXMucGxhY2VtZW50VmFsdWUsXG4gICAgICBtaWRkbGV3YXJlOiBtaWRkbGV3YXJlLFxuICAgIH0pLnRoZW4oKHt4LCB5LCBwbGFjZW1lbnQsIG1pZGRsZXdhcmVEYXRhfSkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLCB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgICAgekluZGV4OiAxMDAwLFxuICAgICAgfSlcblxuICAgICAgXG4gICAgICBpZiAodGhpcy5hcnJvd1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGFycm93RWxlbWVudCA9IHRoaXMucG9wb3ZlckNvbnRlbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktcG9wb3Zlci10YXJnZXQ9XCJhcnJvd1wiXScpXG4gICAgICAgIGlmIChhcnJvd0VsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCB7eDogYXJyb3dYLCB5OiBhcnJvd1l9ID0gbWlkZGxld2FyZURhdGEuYXJyb3dcblxuICAgICAgICAgIGNvbnN0IHN0YXRpY1NpZGUgPSB7XG4gICAgICAgICAgICB0b3A6ICdib3R0b20nLFxuICAgICAgICAgICAgcmlnaHQ6ICdsZWZ0JyxcbiAgICAgICAgICAgIGJvdHRvbTogJ3RvcCcsXG4gICAgICAgICAgICBsZWZ0OiAncmlnaHQnLFxuICAgICAgICAgIH1bcGxhY2VtZW50LnNwbGl0KCctJylbMF1dXG5cbiAgICAgICAgICBPYmplY3QuYXNzaWduKGFycm93RWxlbWVudC5zdHlsZSwge1xuICAgICAgICAgICAgbGVmdDogYXJyb3dYICE9IG51bGwgPyBgJHthcnJvd1h9cHhgIDogJycsXG4gICAgICAgICAgICB0b3A6IGFycm93WSAhPSBudWxsID8gYCR7YXJyb3dZfXB4YCA6ICcnLFxuICAgICAgICAgICAgcmlnaHQ6ICcnLFxuICAgICAgICAgICAgYm90dG9tOiAnJyxcbiAgICAgICAgICAgIFtzdGF0aWNTaWRlXTogJy00cHgnLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9yZXNpemFibGVfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IGludGVyYWN0IGZyb20gXCJpbnRlcmFjdGpzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBkaXJlY3Rpb246IFN0cmluZyxcbiAgICBwYW5lbHM6IEFycmF5XG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZVJlc2l6YWJsZSgpXG4gIH1cblxuICBpbml0aWFsaXplUmVzaXphYmxlKCkge1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHRoaXMuZGlyZWN0aW9uVmFsdWUgPT09IFwiaG9yaXpvbnRhbFwiXG4gICAgY29uc3QgaGFuZGxlcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYW5lbC1yZXNpemUtaGFuZGxlLWVuYWJsZWQ9XCJ0cnVlXCJdJylcblxuICAgIGhhbmRsZXMuZm9yRWFjaCgoaGFuZGxlLCBpbmRleCkgPT4ge1xuICAgICAgaW50ZXJhY3QoaGFuZGxlKS5kcmFnZ2FibGUoe1xuICAgICAgICBheGlzOiBpc0hvcml6b250YWwgPyBcInhcIiA6IFwieVwiLFxuICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICBtb3ZlOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZQYW5lbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYW5lbC1pZD1cIiR7dGhpcy5lbGVtZW50LmlkfS1wYW5lbC0ke2luZGV4fVwiXWApXG4gICAgICAgICAgICBjb25zdCBuZXh0UGFuZWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGFuZWwtaWQ9XCIke3RoaXMuZWxlbWVudC5pZH0tcGFuZWwtJHtpbmRleCArIDF9XCJdYClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcHJldlNpemUgPSBwYXJzZUZsb2F0KHByZXZQYW5lbC5kYXRhc2V0LnBhbmVsU2l6ZSlcbiAgICAgICAgICAgIGNvbnN0IG5leHRTaXplID0gcGFyc2VGbG9hdChuZXh0UGFuZWwuZGF0YXNldC5wYW5lbFNpemUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsU2l6ZSA9IHByZXZTaXplICsgbmV4dFNpemVcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gaXNIb3Jpem9udGFsID8gXG4gICAgICAgICAgICAgIChldmVudC5keCAvIHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCkgKiB0b3RhbFNpemUgOlxuICAgICAgICAgICAgICAoZXZlbnQuZHkgLyB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAqIHRvdGFsU2l6ZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdQcmV2U2l6ZSA9IE1hdGgubWF4KDEwLCBNYXRoLm1pbig5MCwgcHJldlNpemUgKyBkZWx0YSkpXG4gICAgICAgICAgICBjb25zdCBuZXdOZXh0U2l6ZSA9IHRvdGFsU2l6ZSAtIG5ld1ByZXZTaXplXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByZXZQYW5lbC5zdHlsZS5mbGV4ID0gYCR7bmV3UHJldlNpemV9IDEgMCVgXG4gICAgICAgICAgICBuZXh0UGFuZWwuc3R5bGUuZmxleCA9IGAke25ld05leHRTaXplfSAxIDAlYFxuICAgICAgICAgICAgcHJldlBhbmVsLmRhdGFzZXQucGFuZWxTaXplID0gbmV3UHJldlNpemUudG9TdHJpbmcoKVxuICAgICAgICAgICAgbmV4dFBhbmVsLmRhdGFzZXQucGFuZWxTaXplID0gbmV3TmV4dFNpemUudG9TdHJpbmcoKVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYXJpYSB2YWx1ZXNcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCBuZXdQcmV2U2l6ZS50b0ZpeGVkKDApKVxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1heCcsICc5MCcpXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJywgJzEwJylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpLXNoZWV0LWNvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IHVzZVRyYW5zaXRpb24gfSBmcm9tIFwic3RpbXVsdXMtdXNlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJvdmVybGF5XCIsIFwiY29udGVudFwiXVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdXNlVHJhbnNpdGlvbih0aGlzLCB7XG4gICAgICBlbGVtZW50OiB0aGlzLmNvbnRlbnRUYXJnZXQsXG4gICAgICBlbnRlckFjdGl2ZTogJ3RyYW5zaXRpb24gZWFzZS1vdXQgZHVyYXRpb24tMzAwJyxcbiAgICAgIGVudGVyRnJvbTogdGhpcy5nZXRFbnRlckZyb21DbGFzcygpLFxuICAgICAgZW50ZXJUbzogdGhpcy5nZXRFbnRlclRvQ2xhc3MoKSxcbiAgICAgIGxlYXZlQWN0aXZlOiAndHJhbnNpdGlvbiBlYXNlLWluIGR1cmF0aW9uLTIwMCcsXG4gICAgICBsZWF2ZUZyb206IHRoaXMuZ2V0RW50ZXJUb0NsYXNzKCksXG4gICAgICBsZWF2ZVRvOiB0aGlzLmdldEVudGVyRnJvbUNsYXNzKCksXG4gICAgfSlcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5vdmVybGF5VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgdGhpcy5lbnRlcigpXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLmxlYXZlKClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgdGhpcy5jb250ZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfSwgMjAwKSAvLyBNYXRjaCB0aGlzIHdpdGggdGhlIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgfVxuXG4gIGNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmICghdGhpcy5jb250ZW50VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIFxuICBnZXRFbnRlckZyb21DbGFzcygpIHtcbiAgICBjb25zdCBzaWRlID0gdGhpcy5jb250ZW50VGFyZ2V0LmRhdGFzZXQuc2lkZVxuICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgY2FzZSAndG9wJzogcmV0dXJuICctdHJhbnNsYXRlLXktZnVsbCdcbiAgICAgIGNhc2UgJ3JpZ2h0JzogcmV0dXJuICd0cmFuc2xhdGUteC1mdWxsJ1xuICAgICAgY2FzZSAnYm90dG9tJzogcmV0dXJuICd0cmFuc2xhdGUteS1mdWxsJ1xuICAgICAgY2FzZSAnbGVmdCc6IHJldHVybiAnLXRyYW5zbGF0ZS14LWZ1bGwnXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ3RyYW5zbGF0ZS14LWZ1bGwnXG4gICAgfVxuICB9XG5cbiAgZ2V0RW50ZXJUb0NsYXNzKCkge1xuICAgIHJldHVybiAndHJhbnNsYXRlLXktMCB0cmFuc2xhdGUteC0wJ1xuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcbi8vXG4gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbiAgIGNvbm5lY3QoKSB7XG4gICB9XG4gICBkaXNjb25uZWN0KCkge1xuICAgfVxuIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5pbXBvcnQge0NvbnRyb2xsZXJ9IGZyb20gJ0Bob3R3aXJlZC9zdGltdWx1cydcbmltcG9ydCB7IHB1dCB9IGZyb20gXCJAcmFpbHMvcmVxdWVzdC5qc1wiO1xuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25uZWN0KCkge1xuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgfVxuXG4gIHNlbmRQdXRSZXF1ZXN0KGV2ZW50KSB7XG4gICAgcHV0KGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC51cmwsIHtyZXNwb25zZUtpbmQ6IFwidHVyYm9cIn0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rXCIpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246XCIsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9XG4gfVxuIiwgImV4cG9ydCBjbGFzcyBGZXRjaFJlc3BvbnNlIHtcbiAgY29uc3RydWN0b3IgKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlXG4gIH1cblxuICBnZXQgc3RhdHVzQ29kZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2Uuc3RhdHVzXG4gIH1cblxuICBnZXQgcmVkaXJlY3RlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2UucmVkaXJlY3RlZFxuICB9XG5cbiAgZ2V0IG9rICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5va1xuICB9XG5cbiAgZ2V0IHVuYXV0aGVudGljYXRlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA9PT0gNDAxXG4gIH1cblxuICBnZXQgdW5wcm9jZXNzYWJsZUVudGl0eSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA9PT0gNDIyXG4gIH1cblxuICBnZXQgYXV0aGVudGljYXRpb25VUkwgKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdXV1ctQXV0aGVudGljYXRlJylcbiAgfVxuXG4gIGdldCBjb250ZW50VHlwZSAoKSB7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSB0aGlzLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSB8fCAnJ1xuXG4gICAgcmV0dXJuIGNvbnRlbnRUeXBlLnJlcGxhY2UoLzsuKiQvLCAnJylcbiAgfVxuXG4gIGdldCBoZWFkZXJzICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5oZWFkZXJzXG4gIH1cblxuICBnZXQgaHRtbCAoKSB7XG4gICAgaWYgKHRoaXMuY29udGVudFR5cGUubWF0Y2goL14oYXBwbGljYXRpb258dGV4dClcXC8oaHRtbHx4aHRtbFxcK3htbCkkLykpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHRcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBFeHBlY3RlZCBhbiBIVE1MIHJlc3BvbnNlIGJ1dCBnb3QgXCIke3RoaXMuY29udGVudFR5cGV9XCIgaW5zdGVhZGApKVxuICB9XG5cbiAgZ2V0IGpzb24gKCkge1xuICAgIGlmICh0aGlzLmNvbnRlbnRUeXBlLm1hdGNoKC9eYXBwbGljYXRpb25cXC8uKmpzb24kLykpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlSnNvbiB8fCAodGhpcy5yZXNwb25zZUpzb24gPSB0aGlzLnJlc3BvbnNlLmpzb24oKSlcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBFeHBlY3RlZCBhIEpTT04gcmVzcG9uc2UgYnV0IGdvdCBcIiR7dGhpcy5jb250ZW50VHlwZX1cIiBpbnN0ZWFkYCkpXG4gIH1cblxuICBnZXQgdGV4dCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VUZXh0IHx8ICh0aGlzLnJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2UudGV4dCgpKVxuICB9XG5cbiAgZ2V0IGlzVHVyYm9TdHJlYW0gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRUeXBlLm1hdGNoKC9edGV4dFxcL3ZuZFxcLnR1cmJvLXN0cmVhbVxcLmh0bWwvKVxuICB9XG5cbiAgZ2V0IGlzU2NyaXB0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50VHlwZS5tYXRjaCgvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi8pXG4gIH1cblxuICBhc3luYyByZW5kZXJUdXJib1N0cmVhbSAoKSB7XG4gICAgaWYgKHRoaXMuaXNUdXJib1N0cmVhbSkge1xuICAgICAgaWYgKHdpbmRvdy5UdXJibykge1xuICAgICAgICBhd2FpdCB3aW5kb3cuVHVyYm8ucmVuZGVyU3RyZWFtTWVzc2FnZShhd2FpdCB0aGlzLnRleHQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1lvdSBtdXN0IHNldCBgd2luZG93LlR1cmJvID0gVHVyYm9gIHRvIGF1dG9tYXRpY2FsbHkgcHJvY2VzcyBUdXJibyBTdHJlYW0gZXZlbnRzIHdpdGggcmVxdWVzdC5qcycpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEV4cGVjdGVkIGEgVHVyYm8gU3RyZWFtIHJlc3BvbnNlIGJ1dCBnb3QgXCIke3RoaXMuY29udGVudFR5cGV9XCIgaW5zdGVhZGApKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFjdGl2ZVNjcmlwdCAoKSB7XG4gICAgaWYgKHRoaXMuaXNTY3JpcHQpIHtcbiAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gICAgICBjb25zdCBtZXRhVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPWNzcC1ub25jZV0nKVxuICAgICAgY29uc3Qgbm9uY2UgPSBtZXRhVGFnICYmIG1ldGFUYWcuY29udGVudFxuICAgICAgaWYgKG5vbmNlKSB7IHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpIH1cbiAgICAgIHNjcmlwdC5pbm5lckhUTUwgPSBhd2FpdCB0aGlzLnRleHRcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBFeHBlY3RlZCBhIFNjcmlwdCByZXNwb25zZSBidXQgZ290IFwiJHt0aGlzLmNvbnRlbnRUeXBlfVwiIGluc3RlYWRgKSlcbiAgICB9XG4gIH1cbn1cbiIsICJleHBvcnQgY2xhc3MgUmVxdWVzdEludGVyY2VwdG9yIHtcbiAgc3RhdGljIHJlZ2lzdGVyIChpbnRlcmNlcHRvcikge1xuICAgIHRoaXMuaW50ZXJjZXB0b3IgPSBpbnRlcmNlcHRvclxuICB9XG5cbiAgc3RhdGljIGdldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJjZXB0b3JcbiAgfVxuXG4gIHN0YXRpYyByZXNldCAoKSB7XG4gICAgdGhpcy5pbnRlcmNlcHRvciA9IHVuZGVmaW5lZFxuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZSAobmFtZSkge1xuICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW11cbiAgY29uc3QgcHJlZml4ID0gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfT1gXG4gIGNvbnN0IGNvb2tpZSA9IGNvb2tpZXMuZmluZChjb29raWUgPT4gY29va2llLnN0YXJ0c1dpdGgocHJlZml4KSlcblxuICBpZiAoY29va2llKSB7XG4gICAgY29uc3QgdmFsdWUgPSBjb29raWUuc3BsaXQoJz0nKS5zbGljZSgxKS5qb2luKCc9JylcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhY3QgKG9iamVjdCkge1xuICBjb25zdCByZXN1bHQgPSB7fVxuXG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV1cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ldGFDb250ZW50IChuYW1lKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cIiR7bmFtZX1cIl1gKVxuICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmNvbnRlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0VudHJpZXNGcm9tRm9ybURhdGEgKGZvcm1EYXRhKSB7XG4gIHJldHVybiBbLi4uZm9ybURhdGFdLnJlZHVjZSgoZW50cmllcywgW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgIHJldHVybiBlbnRyaWVzLmNvbmNhdCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gW1tuYW1lLCB2YWx1ZV1dIDogW10pXG4gIH0sIFtdKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VFbnRyaWVzIChzZWFyY2hQYXJhbXMsIGVudHJpZXMpIHtcbiAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiB3aW5kb3cuRmlsZSkgY29udGludWVcblxuICAgIGlmIChzZWFyY2hQYXJhbXMuaGFzKG5hbWUpICYmICFuYW1lLmluY2x1ZGVzKCdbXScpKSB7XG4gICAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKG5hbWUpXG4gICAgICBzZWFyY2hQYXJhbXMuc2V0KG5hbWUsIHZhbHVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEZldGNoUmVzcG9uc2UgfSBmcm9tICcuL2ZldGNoX3Jlc3BvbnNlJ1xuaW1wb3J0IHsgUmVxdWVzdEludGVyY2VwdG9yIH0gZnJvbSAnLi9yZXF1ZXN0X2ludGVyY2VwdG9yJ1xuaW1wb3J0IHsgZ2V0Q29va2llLCBjb21wYWN0LCBtZXRhQ29udGVudCwgc3RyaW5nRW50cmllc0Zyb21Gb3JtRGF0YSwgbWVyZ2VFbnRyaWVzIH0gZnJvbSAnLi9saWIvdXRpbHMnXG5cbmV4cG9ydCBjbGFzcyBGZXRjaFJlcXVlc3Qge1xuICBjb25zdHJ1Y3RvciAobWV0aG9kLCB1cmwsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubWV0aG9kID0gbWV0aG9kXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMub3JpZ2luYWxVcmwgPSB1cmwudG9TdHJpbmcoKVxuICB9XG5cbiAgYXN5bmMgcGVyZm9ybSAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvciA9IFJlcXVlc3RJbnRlcmNlcHRvci5nZXQoKVxuICAgICAgaWYgKHJlcXVlc3RJbnRlcmNlcHRvcikge1xuICAgICAgICBhd2FpdCByZXF1ZXN0SW50ZXJjZXB0b3IodGhpcylcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaCA9ICh0aGlzLnJlc3BvbnNlS2luZCA9PT0gJ3R1cmJvLXN0cmVhbScgJiYgd2luZG93LlR1cmJvKVxuICAgICAgPyB3aW5kb3cuVHVyYm8uZmV0Y2hcbiAgICAgIDogd2luZG93LmZldGNoXG5cbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBGZXRjaFJlc3BvbnNlKGF3YWl0IGZldGNoKHRoaXMudXJsLCB0aGlzLmZldGNoT3B0aW9ucykpXG5cbiAgICBpZiAocmVzcG9uc2UudW5hdXRoZW50aWNhdGVkICYmIHJlc3BvbnNlLmF1dGhlbnRpY2F0aW9uVVJMKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qod2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5hdXRoZW50aWNhdGlvblVSTClcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2UuaXNTY3JpcHQpIHtcbiAgICAgIGF3YWl0IHJlc3BvbnNlLmFjdGl2ZVNjcmlwdCgpXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2VTdGF0dXNJc1R1cmJvU3RyZWFtYWJsZSA9IHJlc3BvbnNlLm9rIHx8IHJlc3BvbnNlLnVucHJvY2Vzc2FibGVFbnRpdHlcblxuICAgIGlmIChyZXNwb25zZVN0YXR1c0lzVHVyYm9TdHJlYW1hYmxlICYmIHJlc3BvbnNlLmlzVHVyYm9TdHJlYW0pIHtcbiAgICAgIGF3YWl0IHJlc3BvbnNlLnJlbmRlclR1cmJvU3RyZWFtKClcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIGFkZEhlYWRlciAoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmFkZGl0aW9uYWxIZWFkZXJzXG4gICAgaGVhZGVyc1trZXldID0gdmFsdWVcbiAgICB0aGlzLm9wdGlvbnMuaGVhZGVycyA9IGhlYWRlcnNcbiAgfVxuXG4gIHNhbWVIb3N0bmFtZSAoKSB7XG4gICAgaWYgKCF0aGlzLm9yaWdpbmFsVXJsLnN0YXJ0c1dpdGgoJ2h0dHA6JykpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgVVJMKHRoaXMub3JpZ2luYWxVcmwpLmhvc3RuYW1lID09PSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWVcbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGdldCBmZXRjaE9wdGlvbnMgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiB0aGlzLmZvcm1hdHRlZEJvZHksXG4gICAgICBzaWduYWw6IHRoaXMuc2lnbmFsLFxuICAgICAgY3JlZGVudGlhbHM6IHRoaXMuY3JlZGVudGlhbHMsXG4gICAgICByZWRpcmVjdDogdGhpcy5yZWRpcmVjdFxuICAgIH1cbiAgfVxuXG4gIGdldCBoZWFkZXJzICgpIHtcbiAgICBjb25zdCBiYXNlSGVhZGVycyA9IHtcbiAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB0aGlzLmNvbnRlbnRUeXBlLFxuICAgICAgQWNjZXB0OiB0aGlzLmFjY2VwdFxuICAgIH1cblxuICAgIGlmICh0aGlzLnNhbWVIb3N0bmFtZSgpKSB7XG4gICAgICBiYXNlSGVhZGVyc1snWC1DU1JGLVRva2VuJ10gPSB0aGlzLmNzcmZUb2tlblxuICAgIH1cblxuICAgIHJldHVybiBjb21wYWN0KFxuICAgICAgT2JqZWN0LmFzc2lnbihiYXNlSGVhZGVycywgdGhpcy5hZGRpdGlvbmFsSGVhZGVycylcbiAgICApXG4gIH1cblxuICBnZXQgY3NyZlRva2VuICgpIHtcbiAgICByZXR1cm4gZ2V0Q29va2llKG1ldGFDb250ZW50KCdjc3JmLXBhcmFtJykpIHx8IG1ldGFDb250ZW50KCdjc3JmLXRva2VuJylcbiAgfVxuXG4gIGdldCBjb250ZW50VHlwZSAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250ZW50VHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jb250ZW50VHlwZVxuICAgIH0gZWxzZSBpZiAodGhpcy5ib2R5ID09IG51bGwgfHwgdGhpcy5ib2R5IGluc3RhbmNlb2Ygd2luZG93LkZvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfSBlbHNlIGlmICh0aGlzLmJvZHkgaW5zdGFuY2VvZiB3aW5kb3cuRmlsZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYm9keS50eXBlXG4gICAgfVxuXG4gICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG5cbiAgZ2V0IGFjY2VwdCAoKSB7XG4gICAgc3dpdGNoICh0aGlzLnJlc3BvbnNlS2luZCkge1xuICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgIHJldHVybiAndGV4dC9odG1sLCBhcHBsaWNhdGlvbi94aHRtbCt4bWwnXG4gICAgICBjYXNlICd0dXJiby1zdHJlYW0nOlxuICAgICAgICByZXR1cm4gJ3RleHQvdm5kLnR1cmJvLXN0cmVhbS5odG1sLCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3hodG1sK3htbCdcbiAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24sIGFwcGxpY2F0aW9uL3ZuZC5hcGkranNvbidcbiAgICAgIGNhc2UgJ3NjcmlwdCc6XG4gICAgICAgIHJldHVybiAndGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcqLyonXG4gICAgfVxuICB9XG5cbiAgZ2V0IGJvZHkgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYm9keVxuICB9XG5cbiAgZ2V0IHF1ZXJ5ICgpIHtcbiAgICBjb25zdCBvcmlnaW5hbFF1ZXJ5ID0gKHRoaXMub3JpZ2luYWxVcmwuc3BsaXQoJz8nKVsxXSB8fCAnJykuc3BsaXQoJyMnKVswXVxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3JpZ2luYWxRdWVyeSlcblxuICAgIGxldCByZXF1ZXN0UXVlcnkgPSB0aGlzLm9wdGlvbnMucXVlcnlcbiAgICBpZiAocmVxdWVzdFF1ZXJ5IGluc3RhbmNlb2Ygd2luZG93LkZvcm1EYXRhKSB7XG4gICAgICByZXF1ZXN0UXVlcnkgPSBzdHJpbmdFbnRyaWVzRnJvbUZvcm1EYXRhKHJlcXVlc3RRdWVyeSlcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3RRdWVyeSBpbnN0YW5jZW9mIHdpbmRvdy5VUkxTZWFyY2hQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RRdWVyeSA9IHJlcXVlc3RRdWVyeS5lbnRyaWVzKClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdFF1ZXJ5ID0gT2JqZWN0LmVudHJpZXMocmVxdWVzdFF1ZXJ5IHx8IHt9KVxuICAgIH1cblxuICAgIG1lcmdlRW50cmllcyhwYXJhbXMsIHJlcXVlc3RRdWVyeSlcblxuICAgIGNvbnN0IHF1ZXJ5ID0gcGFyYW1zLnRvU3RyaW5nKClcbiAgICByZXR1cm4gKHF1ZXJ5Lmxlbmd0aCA+IDAgPyBgPyR7cXVlcnl9YCA6ICcnKVxuICB9XG5cbiAgZ2V0IHVybCAoKSB7XG4gICAgcmV0dXJuICh0aGlzLm9yaWdpbmFsVXJsLnNwbGl0KCc/JylbMF0pLnNwbGl0KCcjJylbMF0gKyB0aGlzLnF1ZXJ5XG4gIH1cblxuICBnZXQgcmVzcG9uc2VLaW5kICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnJlc3BvbnNlS2luZCB8fCAnaHRtbCdcbiAgfVxuXG4gIGdldCBzaWduYWwgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc2lnbmFsXG4gIH1cblxuICBnZXQgcmVkaXJlY3QgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmVkaXJlY3QgfHwgJ2ZvbGxvdydcbiAgfVxuXG4gIGdldCBjcmVkZW50aWFscyAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jcmVkZW50aWFscyB8fCAnc2FtZS1vcmlnaW4nXG4gIH1cblxuICBnZXQgYWRkaXRpb25hbEhlYWRlcnMgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGVhZGVycyB8fCB7fVxuICB9XG5cbiAgZ2V0IGZvcm1hdHRlZEJvZHkgKCkge1xuICAgIGNvbnN0IGJvZHlJc0FTdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcy5ib2R5KSA9PT0gJ1tvYmplY3QgU3RyaW5nXSdcbiAgICBjb25zdCBjb250ZW50VHlwZUlzSnNvbiA9IHRoaXMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPT09ICdhcHBsaWNhdGlvbi9qc29uJ1xuXG4gICAgaWYgKGNvbnRlbnRUeXBlSXNKc29uICYmICFib2R5SXNBU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5ib2R5KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmJvZHlcbiAgfVxufVxuIiwgImltcG9ydCB7IEZldGNoUmVxdWVzdCB9IGZyb20gJy4vZmV0Y2hfcmVxdWVzdCdcblxuYXN5bmMgZnVuY3Rpb24gZ2V0ICh1cmwsIG9wdGlvbnMpIHtcbiAgY29uc3QgcmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QoJ2dldCcsIHVybCwgb3B0aW9ucylcbiAgcmV0dXJuIHJlcXVlc3QucGVyZm9ybSgpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBvc3QgKHVybCwgb3B0aW9ucykge1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IEZldGNoUmVxdWVzdCgncG9zdCcsIHVybCwgb3B0aW9ucylcbiAgcmV0dXJuIHJlcXVlc3QucGVyZm9ybSgpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHB1dCAodXJsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KCdwdXQnLCB1cmwsIG9wdGlvbnMpXG4gIHJldHVybiByZXF1ZXN0LnBlcmZvcm0oKVxufVxuXG5hc3luYyBmdW5jdGlvbiBwYXRjaCAodXJsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KCdwYXRjaCcsIHVybCwgb3B0aW9ucylcbiAgcmV0dXJuIHJlcXVlc3QucGVyZm9ybSgpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlc3Ryb3kgKHVybCwgb3B0aW9ucykge1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IEZldGNoUmVxdWVzdCgnZGVsZXRlJywgdXJsLCBvcHRpb25zKVxuICByZXR1cm4gcmVxdWVzdC5wZXJmb3JtKClcbn1cblxuZXhwb3J0IHsgZ2V0LCBwb3N0LCBwdXQsIHBhdGNoLCBkZXN0cm95IH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfdG9hc3RfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgZW50ZXIsIGxlYXZlIH0gZnJvbSAnZWwtdHJhbnNpdGlvbidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJjb250YWluZXJcIiwgXCJpdGVtXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgdGhlbWU6IFN0cmluZyxcbiAgICBwb3NpdGlvblk6IFN0cmluZyxcbiAgICBwb3NpdGlvblg6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnNldHVwQ3VzdG9tRXZlbnQoKVxuICAgIHRoaXMuc2V0dXBUdXJib1N0cmVhbUxpc3RlbmVyKClcbiAgfVxuXG4gIHNldHVwQ3VzdG9tRXZlbnQoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndWk6dG9hc3QnLCB0aGlzLmhhbmRsZUN1c3RvbVRvYXN0LmJpbmQodGhpcykpXG4gIH1cblxuICBzZXR1cFR1cmJvU3RyZWFtTGlzdGVuZXIoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHVyYm86YmVmb3JlLXN0cmVhbS1yZW5kZXInLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHR1cmJvU3RyZWFtID0gZXZlbnQudGFyZ2V0XG4gICAgICBpZiAodHVyYm9TdHJlYW0uYWN0aW9uID09PSAnYXBwZW5kJyAmJiB0dXJib1N0cmVhbS50YXJnZXQgPT09ICd0b2FzdHMnKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgdGhpcy5hcHBlbmRUb2FzdCh0dXJib1N0cmVhbS50ZW1wbGF0ZUNvbnRlbnQucXVlcnlTZWxlY3RvcignbGknKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlQ3VzdG9tVG9hc3QoZXZlbnQpIHtcbiAgICBjb25zdCB7IHRpdGxlLCBjb250ZW50LCB0eXBlIH0gPSBldmVudC5kZXRhaWxcbiAgICB0aGlzLmFwcGVuZFRvYXN0KHRoaXMuY3JlYXRlVG9hc3RFbGVtZW50KHRpdGxlLCBjb250ZW50LCB0eXBlKSlcbiAgfVxuXG4gIGNyZWF0ZVRvYXN0RWxlbWVudCh0aXRsZSwgY29udGVudCwgdHlwZSkge1xuICAgIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuICAgIHRvYXN0LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgZGF0YS1jb250ZW50PVwiXCI+XG4gICAgICAgIDxkaXYgZGF0YS10aXRsZT1cIlwiPiR7dGl0bGV9PC9kaXY+XG4gICAgICAgIDxkaXY+JHtjb250ZW50fTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYFxuICAgIHRvYXN0LmNsYXNzTmFtZSA9IFwibWItMiBwLTQgcm91bmRlZC1tZCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHRyYW5zZm9ybSB0cmFuc2xhdGUteS1mdWxsIG9wYWNpdHktMC1cIlxuICAgIC8vIHRoaXMuaXRlbVRhcmdldHNbMF0uY2xhc3NOYW1lXG4gICAgdG9hc3QuZGF0YXNldC51aVRvYXN0VGFyZ2V0ID0gXCJpdGVtXCJcbiAgICB0b2FzdC5kYXRhc2V0LmFjdGlvbiA9IFwiY2xpY2stPnVpLXRvYXN0I2Rpc21pc3NcIlxuICAgIHJldHVybiB0b2FzdFxuICB9XG5cbiAgYXBwZW5kVG9hc3QodG9hc3RFbGVtZW50KSB7XG4gICAgdGhpcy5jb250YWluZXJUYXJnZXQuYXBwZW5kQ2hpbGQodG9hc3RFbGVtZW50KVxuICAgIGVudGVyKHRvYXN0RWxlbWVudClcbiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGlzbWlzcyh7IHRhcmdldDogdG9hc3RFbGVtZW50IH0pLCA1MDAwKVxuICB9XG5cbiAgZGlzbWlzcyhldmVudCkge1xuICAgIGNvbnN0IHRvYXN0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLXRvYXN0LXRhcmdldD1cIml0ZW1cIl0nKVxuICAgIGxlYXZlKHRvYXN0KS50aGVuKCgpID0+IHtcbiAgICAgIHRvYXN0LnJlbW92ZSgpXG4gICAgfSlcbiAgfVxufSIsICJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZW50ZXIoZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUgPSBudWxsKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIGF3YWl0IHRyYW5zaXRpb24oJ2VudGVyJywgZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsZWF2ZShlbGVtZW50LCB0cmFuc2l0aW9uTmFtZSA9IG51bGwpIHtcbiAgICBhd2FpdCB0cmFuc2l0aW9uKCdsZWF2ZScsIGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lKVxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZShlbGVtZW50LCB0cmFuc2l0aW9uTmFtZSA9IG51bGwpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGF3YWl0IGVudGVyKGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IGxlYXZlKGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lKVxuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gdHJhbnNpdGlvbihkaXJlY3Rpb24sIGVsZW1lbnQsIGFuaW1hdGlvbikge1xuICAgIGNvbnN0IGRhdGFzZXQgPSBlbGVtZW50LmRhdGFzZXRcbiAgICBjb25zdCBhbmltYXRpb25DbGFzcyA9IGFuaW1hdGlvbiA/IGAke2FuaW1hdGlvbn0tJHtkaXJlY3Rpb259YCA6IGRpcmVjdGlvblxuICAgIGxldCB0cmFuc2l0aW9uID0gYHRyYW5zaXRpb24ke2RpcmVjdGlvbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGRpcmVjdGlvbi5zbGljZSgxKX1gXG4gICAgY29uc3QgZ2VuZXNpcyA9IGRhdGFzZXRbdHJhbnNpdGlvbl0gPyBkYXRhc2V0W3RyYW5zaXRpb25dLnNwbGl0KFwiIFwiKSA6IFthbmltYXRpb25DbGFzc11cbiAgICBjb25zdCBzdGFydCA9IGRhdGFzZXRbYCR7dHJhbnNpdGlvbn1TdGFydGBdID8gZGF0YXNldFtgJHt0cmFuc2l0aW9ufVN0YXJ0YF0uc3BsaXQoXCIgXCIpIDogW2Ake2FuaW1hdGlvbkNsYXNzfS1zdGFydGBdXG4gICAgY29uc3QgZW5kID0gZGF0YXNldFtgJHt0cmFuc2l0aW9ufUVuZGBdID8gZGF0YXNldFtgJHt0cmFuc2l0aW9ufUVuZGBdLnNwbGl0KFwiIFwiKSA6IFtgJHthbmltYXRpb25DbGFzc30tZW5kYF1cblxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgZ2VuZXNpcylcbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIHN0YXJ0KVxuICAgIGF3YWl0IG5leHRGcmFtZSgpXG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBzdGFydClcbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIGVuZCk7XG4gICAgYXdhaXQgYWZ0ZXJUcmFuc2l0aW9uKGVsZW1lbnQpXG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBlbmQpXG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBnZW5lc2lzKVxufVxuXG5mdW5jdGlvbiBhZGRDbGFzc2VzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcylcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBjbGFzc2VzKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXMpXG59XG5cbmZ1bmN0aW9uIG5leHRGcmFtZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzb2x2ZSlcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFmdGVyVHJhbnNpdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAvLyBzYWZhcmkgcmV0dXJuIHN0cmluZyB3aXRoIGNvbW1hIHNlcGFyYXRlIHZhbHVlc1xuICAgICAgICBjb25zdCBjb21wdXRlZER1cmF0aW9uID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS50cmFuc2l0aW9uRHVyYXRpb24uc3BsaXQoXCIsXCIpWzBdXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyKGNvbXB1dGVkRHVyYXRpb24ucmVwbGFjZSgncycsICcnKSkgKiAxMDAwO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9LCBkdXJhdGlvbilcbiAgICB9KTtcbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aS10b2dnbGUtY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImJ1dHRvblwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIHByZXNzZWQ6IEJvb2xlYW5cbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy51cGRhdGVQcmVzc2VkKClcbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLnByZXNzZWRWYWx1ZSA9ICF0aGlzLnByZXNzZWRWYWx1ZVxuICAgIHRoaXMudXBkYXRlUHJlc3NlZCgpXG4gIH1cblxuICB1cGRhdGVQcmVzc2VkKCkge1xuICAgIHRoaXMuYnV0dG9uVGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCB0aGlzLnByZXNzZWRWYWx1ZSlcbiAgICB0aGlzLmJ1dHRvblRhcmdldC5kYXRhc2V0LnN0YXRlID0gdGhpcy5wcmVzc2VkVmFsdWUgPyBcIm9uXCIgOiBcIm9mZlwiXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGF1dG9VcGRhdGUsIGZsaXAsIHNoaWZ0LCBvZmZzZXQsIGFycm93IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0cmlnZ2VyXCIsIFwiY29udGVudFwiLCBcImFycm93XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7IFxuICAgIGRlbGF5OiBOdW1iZXIsXG4gICAgcGxhY2VtZW50OiBTdHJpbmdcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5zaG93VG9vbHRpcEJvdW5kID0gdGhpcy5zaG93VG9vbHRpcC5iaW5kKHRoaXMpXG4gICAgdGhpcy5oaWRlVG9vbHRpcEJvdW5kID0gdGhpcy5oaWRlVG9vbHRpcC5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5zaG93VG9vbHRpcEJvdW5kKVxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLmhpZGVUb29sdGlwQm91bmQpXG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLnNob3dUb29sdGlwQm91bmQpXG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHRoaXMuaGlkZVRvb2x0aXBCb3VuZClcblxuICAgIHRoaXMuY2xlYW51cCA9IGF1dG9VcGRhdGUoXG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQsXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQsXG4gICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uLmJpbmQodGhpcylcbiAgICApXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLnNob3dUb29sdGlwQm91bmQpXG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMuaGlkZVRvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMuc2hvd1Rvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcy5oaWRlVG9vbHRpcEJvdW5kKVxuXG4gICAgaWYgKHRoaXMuY2xlYW51cCkge1xuICAgICAgdGhpcy5jbGVhbnVwKClcbiAgICB9XG4gIH1cblxuICBzaG93VG9vbHRpcCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dClcbiAgICB0aGlzLnNob3dUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpXG4gICAgfSwgdGhpcy5kZWxheVZhbHVlKVxuICB9XG5cbiAgaGlkZVRvb2x0aXAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuc2hvd1RpbWVvdXQpXG4gICAgdGhpcy5oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jb250ZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICB9LCA0MClcbiAgfVxuXG4gIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGNvbXB1dGVQb3NpdGlvbih0aGlzLnRyaWdnZXJUYXJnZXQsIHRoaXMuY29udGVudFRhcmdldCwge1xuICAgICAgcGxhY2VtZW50OiB0aGlzLnBsYWNlbWVudFZhbHVlLFxuICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICBvZmZzZXQoNiksXG4gICAgICAgIGZsaXAoKSxcbiAgICAgICAgc2hpZnQoeyBwYWRkaW5nOiA1IH0pLFxuICAgICAgICBhcnJvdyh7IGVsZW1lbnQ6IHRoaXMuYXJyb3dUYXJnZXQgfSksXG4gICAgICBdLFxuICAgIH0pLnRoZW4oKHsgeCwgeSwgcGxhY2VtZW50LCBtaWRkbGV3YXJlRGF0YSB9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udGVudFRhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHsgeDogYXJyb3dYLCB5OiBhcnJvd1kgfSA9IG1pZGRsZXdhcmVEYXRhLmFycm93XG5cbiAgICAgIGNvbnN0IHN0YXRpY1NpZGUgPSB7XG4gICAgICAgIHRvcDogJ2JvdHRvbScsXG4gICAgICAgIHJpZ2h0OiAnbGVmdCcsXG4gICAgICAgIGJvdHRvbTogJ3RvcCcsXG4gICAgICAgIGxlZnQ6ICdyaWdodCcsXG4gICAgICB9W3BsYWNlbWVudC5zcGxpdCgnLScpWzBdXVxuXG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuYXJyb3dUYXJnZXQuc3R5bGUsIHtcbiAgICAgICAgbGVmdDogYXJyb3dYICE9IG51bGwgPyBgJHthcnJvd1h9cHhgIDogJycsXG4gICAgICAgIHRvcDogYXJyb3dZICE9IG51bGwgPyBgJHthcnJvd1l9cHhgIDogJycsXG4gICAgICAgIHJpZ2h0OiAnJyxcbiAgICAgICAgYm90dG9tOiAnJyxcbiAgICAgICAgW3N0YXRpY1NpZGVdOiAnLTRweCcsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn0iLCAiXG4gICAgICAgIGltcG9ydCAqIGFzIG1vZHVsZTAgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb24vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb25faXRlbS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FsZXJ0L2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUzIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnRfZGlhbG9nL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGU0IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYXNwZWN0X3JhdGlvL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGU1IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYXZhdGFyL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGU2IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYmFkZ2UvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTcgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGU4IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnJlYWRjcnVtYl9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGU5IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnV0dG9uL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhbGVuZGFyL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhcmQvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEyIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2Fyb3VzZWwvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEzIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29sbGFwc2libGUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE0IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29tbWFuZC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTUgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb250ZXh0X21lbnUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE2IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZGlhbG9nL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxNyBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Ryb3Bkb3duX21lbnUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE4IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudV9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxOSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2lucHV0X290cC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjAgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9tZW51YmFyL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3BvcG92ZXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTIyIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcHJvZ3Jlc3MvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTIzIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcmVzaXphYmxlL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyNCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NlcGFyYXRvci9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjUgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9zaGVldC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjYgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9za2VsZXRvbi9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjcgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9zd2l0Y2gvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI4IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFibGUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI5IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFicy9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMzAgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMzEgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdF9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUzMiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvZ2dsZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMzMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2dnbGVfZ3JvdXAvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTM0IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9vbHRpcC9pbmRleC5qcydcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IFt7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWFjY29yZGlvbi0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTAsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWNjb3JkaW9uL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hY2NvcmRpb24taXRlbS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTEsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWNjb3JkaW9uX2l0ZW0vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWFsZXJ0LS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYWxlcnQtZGlhbG9nLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydF9kaWFsb2cvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWFzcGVjdC1yYXRpby0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTQsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYXNwZWN0X3JhdGlvL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hdmF0YXItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU1LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2F2YXRhci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYmFkZ2UtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU2LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JhZGdlL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1icmVhZGNydW1iLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlNywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1icmVhZGNydW1iLWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU4LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWJfaXRlbS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYnV0dG9uLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlOSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9idXR0b24vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNhbGVuZGFyLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTAsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FsZW5kYXIvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNhcmQtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxMSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJkL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1jYXJvdXNlbC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTEyLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Nhcm91c2VsL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1jb2xsYXBzaWJsZS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTEzLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbGxhcHNpYmxlL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1jb21tYW5kLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTQsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29tbWFuZC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY29udGV4dC1tZW51LS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTUsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29udGV4dF9tZW51L2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1kaWFsb2ctLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxNiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWRyb3Bkb3duLW1lbnUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxNywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51L2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1kcm9wZG93bi1tZW51LWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxOCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWlucHV0LW90cC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE5LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2lucHV0X290cC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tbWVudWJhci0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTIwLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXBvcG92ZXItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyMSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wb3BvdmVyL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1wcm9ncmVzcy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTIyLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Byb2dyZXNzL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1yZXNpemFibGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyMywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNlcGFyYXRvci0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTI0LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NlcGFyYXRvci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tc2hlZXQtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyNSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9zaGVldC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tc2tlbGV0b24tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyNiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9za2VsZXRvbi9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tc3dpdGNoLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjcsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc3dpdGNoL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS10YWJsZS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTI4LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RhYmxlL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS10YWJzLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjksIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFicy9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdG9hc3QtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzMCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdG9hc3QtaXRlbS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTMxLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0X2l0ZW0vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvZ2dsZS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTMyLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvZ2dsZS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdG9nZ2xlLWdyb3VwLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMzMsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9nZ2xlX2dyb3VwL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS10b29sdGlwLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMzQsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9vbHRpcC9pbmRleC5qcyd9XVxuICAgICAgICBleHBvcnQgZGVmYXVsdCBtb2R1bGVzO1xuICAgICAgIiwgIi8vIFRoaXMgZmlsZSBpcyBhdXRvLWdlbmVyYXRlZCBieSAuL2Jpbi9yYWlscyBzdGltdWx1czptYW5pZmVzdDp1cGRhdGVcbi8vIFJ1biB0aGF0IGNvbW1hbmQgd2hlbmV2ZXIgeW91IGFkZCBhIG5ldyBjb250cm9sbGVyIG9yIGNyZWF0ZSB0aGVtIHdpdGhcbi8vIC4vYmluL3JhaWxzIGdlbmVyYXRlIHN0aW11bHVzIGNvbnRyb2xsZXJOYW1lXG5cbmltcG9ydCB7IGFwcGxpY2F0aW9uIH0gZnJvbSBcIi4vYXBwbGljYXRpb25cIlxuXG5pbXBvcnQgY29udHJvbGxlcnMgZnJvbSAnLi8qKi8qX2NvbnRyb2xsZXIuanMnO1xuXG4vLyBpbXBvcnQgJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2luZGV4LmpzJ1xuXG5cbmNvbnRyb2xsZXJzLmZvckVhY2goKGNvbnRyb2xsZXIpID0+IHtcbiAgYXBwbGljYXRpb24ucmVnaXN0ZXIoY29udHJvbGxlci5uYW1lLCBjb250cm9sbGVyLm1vZHVsZS5kZWZhdWx0KTtcbn0pO1xuXG5cbmltcG9ydCB1aUNvbnRyb2xsZXJzIGZyb20gXCIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS8qKi8qaW5kZXguanNcIlxuXG5cbmNvbnNvbGUubG9nKHVpQ29udHJvbGxlcnMpXG5cbnVpQ29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4ge1xuICBpZihjb250cm9sbGVyLm1vZHVsZS5kZWZhdWx0KXtcbiAgICAvLyAuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1za2VsZXRvblxuICAgIGxldCBuYW1lID0gY29udHJvbGxlci5uYW1lLnJlcGxhY2UoXCItLWluZGV4LmpzXCIsIFwiXCIpXG4gICAgbmFtZSA9IG5hbWUucmVwbGFjZShcIi4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLVwiLCBcIlwiKVxuICAgIG5hbWUgPSBgdWktJHtuYW1lfWBcbiAgICBjb25zb2xlLmxvZyhcIkFERElOREcgQ09OVFJPTExFUlwiLCBuYW1lKVxuICAgIGFwcGxpY2F0aW9uLnJlZ2lzdGVyKG5hbWUsIGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpO1xuICB9XG5cbn0pO1xuXG5jb25zb2xlLmxvZyhhcHBsaWNhdGlvbilcblxuXG5cblxuXG5cblxuXG4iLCAiLy8gRW50cnkgcG9pbnQgZm9yIHRoZSBidWlsZCBzY3JpcHQgaW4geW91ciBwYWNrYWdlLmpzb25cbmltcG9ydCB7IFR1cmJvIH0gZnJvbSAnQGhvdHdpcmVkL3R1cmJvLXJhaWxzJztcbndpbmRvdy5UdXJibyA9IFR1cmJvO1xuXG5pbXBvcnQgXCIuL2NvbnRyb2xsZXJzXCJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFB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QUN0QyxrQkFBWSxTQUFTLE1BQU0sV0FBVyxPQUFPLE9BQU87QUFBQSxJQUN0RDtBQUFBLEVBRUYsQ0FBQztBQUVELFVBQVEsSUFBSSxXQUFXOzs7QUMvQnZCLFNBQU8sUUFBUTsiLAogICJuYW1lcyI6IFsiY29uc3VtZXIiLCAiZXJyb3IiLCAibWVzc2FnZSIsICJjb25zdW1lciIsICJjb25zdW1lciIsICJzdWJzY3JpcHRpb24iLCAiaXNXaW5kb3ciLCAidGhpbmciLCAiV2luZG93IiwgInJlYWxXaW5kb3ciLCAid2luIiwgImluaXQiLCAid2luZG93IiwgImVsIiwgImRvY3VtZW50IiwgImNyZWF0ZVRleHROb2RlIiwgIm93bmVyRG9jdW1lbnQiLCAid3JhcCIsICJnZXRXaW5kb3ciLCAibm9kZSIsICJkZWZhdWx0VmlldyIsICJvYmplY3QiLCAiX3R5cGVvZiIsICJmdW5jIiwgImlzIiwgImRvY0ZyYWciLCAibm9kZVR5cGUiLCAibnVtYmVyIiwgImJvb2wiLCAic3RyaW5nIiwgImVsZW1lbnQiLCAiX3dpbmRvdyIsICJ0ZXN0IiwgIkVsZW1lbnQiLCAibm9kZU5hbWUiLCAicGxhaW5PYmplY3QiLCAiY29uc3RydWN0b3IiLCAidG9TdHJpbmciLCAiYXJyYXkiLCAibGVuZ3RoIiwgInNwbGljZSIsICJiZWZvcmVNb3ZlIiwgIl9yZWYiLCAiaW50ZXJhY3Rpb24iLCAicHJlcGFyZWQiLCAibmFtZSIsICJheGlzIiwgImNvb3JkcyIsICJjdXIiLCAicGFnZSIsICJ5IiwgInN0YXJ0IiwgImNsaWVudCIsICJ2ZWxvY2l0eSIsICJ4IiwgIm1vdmUiLCAiX3JlZjIiLCAiaUV2ZW50IiwgIm9wcG9zaXRlIiwgImRlbHRhIiwgImRyYWciLCAiaWQiLCAiaW5zdGFsbCIsICJzY29wZSIsICJhY3Rpb25zIiwgIkludGVyYWN0YWJsZSIsICJkZWZhdWx0cyIsICJwcm90b3R5cGUiLCAiZHJhZ2dhYmxlIiwgIm1hcCIsICJtZXRob2REaWN0IiwgImxpc3RlbmVycyIsICJhcmciLCAiaW50ZXJhY3RhYmxlIiwgImJ1dHRvbnMiLCAiZHJhZ09wdGlvbnMiLCAib3B0aW9ucyIsICJlbmFibGVkIiwgInBvaW50ZXJJc0Rvd24iLCAicG9pbnRlclR5cGUiLCAibW91c2VCdXR0b25zIiwgImFjdGlvbiIsICJsb2NrQXhpcyIsICJzdGFydEF4aXMiLCAidGhpcyIsICJzZXRQZXJBY3Rpb24iLCAic2V0T25FdmVudHMiLCAiZ2V0Q3Vyc29yIiwgImZpbHRlckV2ZW50VHlwZSIsICJ0eXBlIiwgInNlYXJjaCIsICJkcmFnJDEiLCAiZG9tT2JqZWN0cyIsICJEb2N1bWVudEZyYWdtZW50IiwgImJsYW5rIiwgIlNWR0VsZW1lbnQiLCAiU1ZHU1ZHRWxlbWVudCIsICJTVkdFbGVtZW50SW5zdGFuY2UiLCAiSFRNTEVsZW1lbnQiLCAiRXZlbnQiLCAiVG91Y2giLCAiUG9pbnRlckV2ZW50IiwgIk1TUG9pbnRlckV2ZW50IiwgImRvbU9iamVjdHMkMSIsICJicm93c2VyIiwgIm5hdmlnYXRvciIsICJzdXBwb3J0c1RvdWNoIiwgIkRvY3VtZW50VG91Y2giLCAic3VwcG9ydHNQb2ludGVyRXZlbnQiLCAicG9pbnRlckVuYWJsZWQiLCAiaXNJT1MiLCAicGxhdGZvcm0iLCAiaXNJT1M3IiwgImFwcFZlcnNpb24iLCAiaXNJZTkiLCAidXNlckFnZW50IiwgImlzT3BlcmFNb2JpbGUiLCAiYXBwTmFtZSIsICJwcmVmaXhlZE1hdGNoZXNTZWxlY3RvciIsICJwRXZlbnRUeXBlcyIsICJ1cCIsICJkb3duIiwgIm92ZXIiLCAib3V0IiwgImNhbmNlbCIsICJ3aGVlbEV2ZW50IiwgImJyb3dzZXIkMSIsICJub2RlQ29udGFpbnMiLCAicGFyZW50IiwgImNoaWxkIiwgImNvbnRhaW5zIiwgInBhcmVudE5vZGUiLCAiY2xvc2VzdCIsICJzZWxlY3RvciIsICJtYXRjaGVzU2VsZWN0b3IiLCAiaG9zdCIsICJyZXBsYWNlIiwgImdldFBhcmVudCIsICJnZXROb2RlUGFyZW50cyIsICJsaW1pdCIsICJwYXJlbnRQYXJlbnQiLCAicGFyZW50cyIsICJ1bnNoaWZ0IiwgIm1hdGNoZXNVcFRvIiwgImdldEFjdHVhbEVsZW1lbnQiLCAiY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQiLCAiZ2V0RWxlbWVudENsaWVudFJlY3QiLCAiY2xpZW50UmVjdCIsICJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCAiZ2V0Q2xpZW50UmVjdHMiLCAibGVmdCIsICJyaWdodCIsICJ0b3AiLCAiYm90dG9tIiwgIndpZHRoIiwgImhlaWdodCIsICJnZXRFbGVtZW50UmVjdCIsICJyZWxldmFudFdpbmRvdyIsICJzY3JvbGwiLCAic2Nyb2xsWCIsICJkb2N1bWVudEVsZW1lbnQiLCAic2Nyb2xsTGVmdCIsICJzY3JvbGxZIiwgInNjcm9sbFRvcCIsICJnZXRQYXRoIiwgInBhdGgiLCAicHVzaCIsICJ0cnlTZWxlY3RvciIsICJ2YWx1ZSIsICJxdWVyeVNlbGVjdG9yIiwgImV4dGVuZCIsICJkZXN0IiwgInNvdXJjZSIsICJwcm9wIiwgImdldFN0cmluZ09wdGlvblJlc3VsdCIsICJ0YXJnZXQiLCAiZ2V0UmVjdCIsICJyZXNvbHZlUmVjdExpa2UiLCAiZnVuY3Rpb25BcmdzIiwgInJldHVyblZhbHVlIiwgImFwcGx5IiwgInJlY3RUb1hZIiwgInJlY3QiLCAidGxiclRvWHl3aCIsICJhZGRFZGdlcyIsICJlZGdlcyIsICJnZXRPcmlnaW5YWSIsICJhY3Rpb25OYW1lIiwgImFjdGlvbk9wdGlvbnMiLCAib3JpZ2luIiwgIm5vcm1hbGl6ZSIsICJmaWx0ZXIiLCAiYXJndW1lbnRzIiwgIl90eXBlT3JQcmVmaXgiLCAicmVzdWx0IiwgInNwbGl0IiwgImZvckVhY2giLCAidCIsICJfaTIiLCAiX2xpc3RlbmVyczIiLCAibCIsICJwcmVmaXgiLCAicCIsICJjb25jYXQiLCAidHJpbSIsICJoeXBvdCIsICJNYXRoIiwgInNxcnQiLCAiVkVORE9SX1BSRUZJWEVTIiwgInBvaW50ZXJFeHRlbmQiLCAiX19zZXQiLCAiX2xvb3AiLCAic29tZSIsICJpbmRleE9mIiwgIk9iamVjdCIsICJkZWZpbmVQcm9wZXJ0eSIsICJnZXQiLCAic2V0IiwgImNvbmZpZ3VyYWJsZSIsICJjb3B5Q29vcmRzIiwgInNyYyIsICJ0aW1lU3RhbXAiLCAic2V0WmVyb0Nvb3JkcyIsICJ0YXJnZXRPYmoiLCAiaXNOYXRpdmVQb2ludGVyIiwgInBvaW50ZXIiLCAiZG9tIiwgImdldFhZIiwgInh5IiwgImdldFBhZ2VYWSIsICJnZXRQb2ludGVySWQiLCAicG9pbnRlcklkIiwgImlkZW50aWZpZXIiLCAic2V0Q29vcmRzIiwgInBvaW50ZXJzIiwgInBvaW50ZXJBdmVyYWdlIiwgImdldFRvdWNoUGFpciIsICJldmVudCIsICJ0b3VjaGVzIiwgImNoYW5nZWRUb3VjaGVzIiwgImF2ZXJhZ2UiLCAicGFnZVgiLCAicGFnZVkiLCAiY2xpZW50WCIsICJjbGllbnRZIiwgInNjcmVlblgiLCAic2NyZWVuWSIsICJ0b3VjaEJCb3giLCAibWluWCIsICJtaW4iLCAibWluWSIsICJtYXhYIiwgIm1heCIsICJtYXhZIiwgInRvdWNoRGlzdGFuY2UiLCAiZGVsdGFTb3VyY2UiLCAic291cmNlWCIsICJzb3VyY2VZIiwgImR4IiwgImR5IiwgInRvdWNoQW5nbGUiLCAiYXRhbjIiLCAiUEkiLCAiZ2V0UG9pbnRlclR5cGUiLCAidW5kZWZpbmVkIiwgImdldEV2ZW50VGFyZ2V0cyIsICJjb21wb3NlZFBhdGgiLCAiZG9tVXRpbHMiLCAiY3VycmVudFRhcmdldCIsICJCYXNlRXZlbnQiLCAiX2NsYXNzQ2FsbENoZWNrIiwgImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsICJwcm9wYWdhdGlvblN0b3BwZWQiLCAiX2ludGVyYWN0aW9uIiwgIl9jcmVhdGVDbGFzcyIsICJrZXkiLCAiX3Byb3h5IiwgIm1lcmdlIiwgIml0ZW0iLCAiZnJvbSIsICJmaW5kSW5kZXgiLCAiaSIsICJmaW5kIiwgIkRyb3BFdmVudCIsICJfQmFzZUV2ZW50IiwgIl9pbmhlcml0cyIsICJfc3VwZXIiLCAiX2NyZWF0ZVN1cGVyIiwgImRyb3BTdGF0ZSIsICJkcmFnRXZlbnQiLCAiX3RoaXMiLCAiY2FsbCIsICJkcm9wem9uZSIsICJyZWxhdGVkVGFyZ2V0IiwgInByZXYiLCAiX3RoaXMyIiwgInJlamVjdGVkIiwgImV2ZW50cyIsICJlbnRlciIsICJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCAiYWN0aXZlRHJvcHMiLCAiaW5kZXgiLCAiYXJyIiwgImRlYWN0aXZhdGVFdmVudCIsICJmaXJlIiwgImZpcmVBY3RpdmF0aW9uRXZlbnRzIiwgIl9pNiIsICJfYWN0aXZlRHJvcHMkc2xpY2UyIiwgInNsaWNlIiwgIl9hY3RpdmVEcm9wcyRzbGljZTIkXyIsICJnZXRBY3RpdmVEcm9wcyIsICJkcmFnRWxlbWVudCIsICJkcmFnZ2FibGVFbGVtZW50IiwgImRyb3BzIiwgIl9pbnRlcmFjdGFibGVzJGxpc3QyIiwgImludGVyYWN0YWJsZXMiLCAibGlzdCIsICJkcm9wIiwgImFjY2VwdCIsICJfaTQiLCAiX2Ryb3B6b25lJGdldEFsbEVsZW1lMiIsICJnZXRBbGxFbGVtZW50cyIsICJkcm9wem9uZUVsZW1lbnQiLCAiX2k4IiwgImFjdGl2ZURyb3AiLCAiZ2V0RHJvcCIsICJwb2ludGVyRXZlbnQiLCAidmFsaWREcm9wcyIsICJfaTEwIiwgIl9kcm9wU3RhdGUkYWN0aXZlRHJvcDIiLCAiX2Ryb3BTdGF0ZSRhY3RpdmVEcm9wMyIsICJpc1ZhbGlkIiwgImRyb3BDaGVjayIsICJkcm9wSW5kZXgiLCAiZWxlbWVudHMiLCAiZGVlcGVzdE5vZGVJbmRleCIsICJoaWdoZXJOb2RlIiwgImxvd2VyTm9kZSIsICJkZWVwZXN0Tm9kZVBhcmVudHMiLCAiY3VycmVudE5vZGUiLCAiZGVlcGVzdE5vZGUiLCAiY3VycmVudE5vZGVQYXJlbnQiLCAiZGVlcGVzdE5vZGVQYXJlbnQiLCAiYW5jZXN0cnlTdGFydCIsICJvd25lclNWR0VsZW1lbnQiLCAiY3VycmVudE5vZGVQYXJlbnRzIiwgImNvbW1vbkluZGV4IiwgImxhc3RDaGlsZCIsICJwcmV2aW91c1NpYmxpbmciLCAiaGlnaGVySW5kZXgiLCAicGFyc2VJbnQiLCAiZ2V0Q29tcHV0ZWRTdHlsZSIsICJ6SW5kZXgiLCAiZ2V0RHJvcEV2ZW50cyIsICJfcG9pbnRlckV2ZW50IiwgImRyb3BFdmVudHMiLCAibGVhdmUiLCAiYWN0aXZhdGUiLCAiZGVhY3RpdmF0ZSIsICJkcmFnTGVhdmUiLCAicHJldkRyb3B6b25lIiwgImRyYWdFbnRlciIsICJmaXJlRHJvcEV2ZW50cyIsICJvbkV2ZW50Q3JlYXRlZCIsICJfcmVmMyIsICJkeW5hbWljRHJvcCIsICJkcm9wUmVzdWx0IiwgImludGVyYWN0IiwgImludGVyYWN0U3RhdGljIiwgInVzZVBsdWdpbiIsICJub3JtYWxpemVkIiwgIm5vcm1hbGl6ZUxpc3RlbmVycyIsICJjb3JyZWN0ZWQiLCAia2V5cyIsICJyZWR1Y2UiLCAiYWNjIiwgInByZXZMaXN0ZW5lcnMiLCAib2ZmIiwgIm9uIiwgIm9uZHJvcCIsICJvbmRyb3BhY3RpdmF0ZSIsICJvbmRyb3BkZWFjdGl2YXRlIiwgIm9uZHJhZ2VudGVyIiwgIm9uZHJhZ2xlYXZlIiwgIm9uZHJvcG1vdmUiLCAib3ZlcmxhcCIsICJjaGVja2VyIiwgImRyb3BFbGVtZW50IiwgImRyb3BwZWQiLCAiZHJvcE92ZXJsYXAiLCAicG9pbnRlclV0aWxzIiwgImhvcml6b250YWwiLCAidmVydGljYWwiLCAiZHJhZ1JlY3QiLCAiY3giLCAiY3kiLCAibmV3VmFsdWUiLCAicGhhc2VsZXNzVHlwZXMiLCAiZHJhZ2VudGVyIiwgImRyYWdsZWF2ZSIsICJkcm9wYWN0aXZhdGUiLCAiZHJvcGRlYWN0aXZhdGUiLCAiZHJvcG1vdmUiLCAiX3JlZjQiLCAiX3JlZjUiLCAiX3JlZjYiLCAiX3JlZjciLCAiZHJvcCQxIiwgInVwZGF0ZUdlc3R1cmVQcm9wcyIsICJwaGFzZSIsICJzdGFydGluZyIsICJlbmRpbmciLCAiZGlzdGFuY2UiLCAiYm94IiwgInNjYWxlIiwgImRzIiwgImFuZ2xlIiwgImRhIiwgImdlc3R1cmUiLCAic3RhcnREaXN0YW5jZSIsICJzdGFydEFuZ2xlIiwgInByZXZFdmVudCIsICJJbmZpbml0eSIsICJpc05hTiIsICJiZWZvcmUiLCAiZ2VzdHVyYWJsZSIsICJnZXN0dXJlT3B0aW9ucyIsICJnZXN0dXJlJDEiLCAiY2hlY2tSZXNpemVFZGdlIiwgImludGVyYWN0YWJsZUVsZW1lbnQiLCAibWFyZ2luIiwgImFicyIsICJlZGdlIiwgInVwZGF0ZUV2ZW50QXhlcyIsICJyZXNpemVBeGVzIiwgInJlc2l6ZUV2ZW50IiwgInJlc2l6ZSIsICJzcXVhcmUiLCAiYXhlcyIsICJyZXF1ZXN0IiwgImN1cnNvcnMiLCAidG9wbGVmdCIsICJib3R0b21yaWdodCIsICJ0b3ByaWdodCIsICJib3R0b21sZWZ0IiwgImRlZmF1bHRNYXJnaW4iLCAicmVzaXphYmxlIiwgInByZXNlcnZlQXNwZWN0UmF0aW8iLCAiX3JlY3RzIiwgInByZXZpb3VzIiwgImRlbHRhUmVjdCIsICJpbnZlcnQiLCAiaW52ZXJ0aWJsZSIsICJjdXJyZW50IiwgIl9pbnRlcmFjdGlvbiRfcmVjdHMiLCAic3RhcnRSZWN0IiwgInN3YXAiLCAicmVzaXplT3B0aW9ucyIsICJyZXNpemVFZGdlcyIsICJfbGF0ZXN0UG9pbnRlciIsICJldmVudFRhcmdldCIsICJOYU4iLCAiY3Vyc29yS2V5IiwgIl9yZWY4IiwgInJlc2l6ZSQxIiwgImxhc3RUaW1lIiwgInJhZiIsICJjYWxsYmFjayIsICJ0b2tlbiIsICJnbG9iYWwiLCAicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwgImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwgInZlbmRvcnMiLCAidmVuZG9yIiwgImJpbmQiLCAiY3VyclRpbWUiLCAiRGF0ZSIsICJub3ciLCAidGltZVRvQ2FsbCIsICJzZXRUaW1lb3V0IiwgImNsZWFyVGltZW91dCIsICJhdXRvU2Nyb2xsIiwgImNvbnRhaW5lciIsICJzcGVlZCIsICJpc1Njcm9sbGluZyIsICJwcmV2VGltZSIsICJzdG9wIiwgImdldENvbnRhaW5lciIsICJkdCIsICJzIiwgInNjcm9sbEJ5IiwgInByZXZTY3JvbGwiLCAiZ2V0U2Nyb2xsIiwgImN1clNjcm9sbCIsICJjaGVjayIsICJfb3B0aW9ucyRhY3Rpb25OYW1lJGEiLCAib25JbnRlcmFjdGlvbk1vdmUiLCAiaW50ZXJhY3RpbmciLCAic2ltdWxhdGlvbiIsICJpbm5lcldpZHRoIiwgImlubmVySGVpZ2h0IiwgImJvZHkiLCAiYXV0b1Njcm9sbFBsdWdpbiIsICJhdXRvc2Nyb2xsIiwgInBlckFjdGlvbiIsICJhdXRvU2Nyb2xsJDEiLCAid2Fybk9uY2UiLCAibWV0aG9kIiwgIm1lc3NhZ2UiLCAid2FybmVkIiwgImNvbnNvbGUiLCAid2FybiIsICJjb3B5QWN0aW9uIiwgInN0eWxlQ3Vyc29yIiwgImFjdGlvbkNoZWNrZXIiLCAiSW50ZXJhY3RhYmxlTWV0aG9kcyIsICJnZXRBY3Rpb24iLCAiYnV0dG9uIiwgImlnbm9yZUZyb20iLCAiX2JhY2tDb21wYXRPcHRpb24iLCAiYWxsb3dGcm9tIiwgInZhbGlkYXRlQWN0aW9uIiwgInRlc3RJZ25vcmVBbGxvdyIsICJ3aXRoaW5JbnRlcmFjdGlvbkxpbWl0IiwgInZhbGlkYXRlTWF0Y2hlcyIsICJtYXRjaGVzIiwgIm1hdGNoRWxlbWVudHMiLCAibGVuIiwgIm1hdGNoIiwgIm1hdGNoRWxlbWVudCIsICJtYXRjaEFjdGlvbiIsICJnZXRBY3Rpb25JbmZvIiwgInB1c2hNYXRjaGVzIiwgImZvckVhY2hNYXRjaCIsICJhY3Rpb25JbmZvIiwgIm1hbnVhbFN0YXJ0IiwgInByZXBhcmUiLCAic2V0SW50ZXJhY3Rpb25DdXJzb3IiLCAibWF4QWN0aW9ucyIsICJtYXhQZXJFbGVtZW50IiwgImF1dG9TdGFydE1heCIsICJhdXRvU3RhcnQiLCAibWF4SW50ZXJhY3Rpb25zIiwgImFjdGl2ZUludGVyYWN0aW9ucyIsICJpbnRlcmFjdGFibGVDb3VudCIsICJlbGVtZW50Q291bnQiLCAiX3Njb3BlJGludGVyYWN0aW9ucyRsMiIsICJpbnRlcmFjdGlvbnMiLCAib3RoZXJBY3Rpb24iLCAic2V0Q3Vyc29yIiwgImN1cnNvciIsICJwcmV2Q3Vyc29yRWxlbWVudCIsICJjdXJzb3JFbGVtZW50IiwgInN0eWxlIiwgImN1cnNvckNoZWNrZXIiLCAiX2ludGVyYWN0aW5nIiwgImJhc2UiLCAicG9pbnRlcldhc01vdmVkIiwgImF1dG9TdGFydCQyIiwgImRyYWdBeGlzIiwgImFic1giLCAiYWJzWSIsICJ0YXJnZXRPcHRpb25zIiwgImN1cnJlbnRBeGlzIiwgImdldERyYWdnYWJsZSIsICJkb3duUG9pbnRlciIsICJkb3duRXZlbnQiLCAidGhpc0F4aXMiLCAiZ2V0SG9sZER1cmF0aW9uIiwgImhvbGQiLCAiZGVsYXkiLCAiYmFzZVBsdWdpbiIsICJhdXRvU3RhcnRIb2xkVGltZXIiLCAiZHVwbGljYXRlIiwgImhvbGQkMSIsICJwcmV2ZW50RGVmYXVsdCIsICJvbkludGVyYWN0aW9uRXZlbnQiLCAiY2hlY2tBbmRQcmV2ZW50RGVmYXVsdCIsICJpbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCIsICJzZXR0aW5nIiwgInN1cHBvcnRzUGFzc2l2ZSIsICJkb2MiLCAiZG9jT3B0aW9ucyIsICJnZXREb2NPcHRpb25zIiwgInBhc3NpdmUiLCAiZG9jRXZlbnRzIiwgImxpc3RlbmVyIiwgImV2ZW50VHlwZSIsICJpc05vbk5hdGl2ZUV2ZW50IiwgInN1YnN0ciIsICJwaGFzZXMiLCAiY2xvbmUiLCAiTW9kaWZpY2F0aW9uIiwgInN0YXRlcyIsICJzdGFydE9mZnNldCIsICJzdGFydERlbHRhIiwgImVuZFJlc3VsdCIsICJzdGFydEVkZ2VzIiwgImNyZWF0ZVJlc3VsdCIsICJwYWdlQ29vcmRzIiwgIm1vZGlmaWVyTGlzdCIsICJhY3Rpb25Nb2RpZmllcnMiLCAibW9kaWZpZXJzIiwgIm1ldGhvZHMiLCAiX21ldGhvZHMiLCAibSIsICJwcmVwYXJlU3RhdGVzIiwgImZpbGxBcmciLCAicHJlRW5kIiwgInN0YXJ0QWxsIiwgInNldEFsbCIsICJfdGhpcyRzdGF0ZXMyIiwgInN0YXRlIiwgInNraXBNb2RpZmllcnMiLCAidW5tb2RpZmllZFJlY3QiLCAidW5tb2RpZmllZEVkZ2VzIiwgIm5ld1Jlc3VsdCIsICJfc3RhdGUkbWV0aG9kcyIsICJsYXN0TW9kaWZpZXJDb29yZHMiLCAic2hvdWxkRG8iLCAicmVjdFV0aWxzIiwgImV2ZW50UHJvcHMiLCAicmVjdERlbHRhIiwgInByZXZDb29yZHMiLCAicHJldlJlY3QiLCAicmVjdENoYW5nZWQiLCAiY2hhbmdlZCIsICJjdXJDb29yZHMiLCAic3RhcnRDb29yZHMiLCAiY3VyRGVsdGEiLCAiX3JlZjMkX2kiLCAiY29vcmRzU2V0IiwgIm1vZGlmaWVkQ29vcmRzIiwgImFkanVzdG1lbnQiLCAiYXBwbHlUb0ludGVyYWN0aW9uIiwgImRvUHJlZW5kIiwgImVuZFBvc2l0aW9uIiwgImJlZm9yZUVuZCIsICJtb2RpZmllckFyZyIsICJfdGhpcyRzdGF0ZXM0IiwgIl9tb2RpZmllckxpc3QkaW5kZXgiLCAiX3JlZjQkaW50ZXJhY3Rpb24iLCAibW9kaWZpY2F0aW9uIiwgIl9tb2RpZmljYXRpb24kcmVzdWx0IiwgIl9pMTIiLCAiX3JlZjYkX2kiLCAicmVxdWlyZUVuZE9ubHkiLCAiZW5kT25seSIsICJzZXRTdGFydCIsICJvdGhlciIsICJtYWtlTW9kaWZpZXIiLCAibW9kdWxlIiwgIm1vZGlmaWVyIiwgIl9vcHRpb25zIiwgImVuYWJsZSIsICJkaXNhYmxlIiwgIl9kZWZhdWx0cyIsICJhZGRFdmVudE1vZGlmaWVycyIsICJtb2RpZmllcnNCYXNlIiwgInJldCIsICJzZXRBbmRBcHBseSIsICJyZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMiLCAiSW50ZXJhY3RFdmVudCIsICJjdHJsS2V5IiwgInNoaWZ0S2V5IiwgImFsdEtleSIsICJtZXRhS2V5IiwgIngwIiwgInkwIiwgInQwIiwgImR1cmF0aW9uIiwgImNsaWVudFgwIiwgImNsaWVudFkwIiwgInN3aXBlIiwgIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCAiZG93blRpbWUiLCAiZ2V0U3dpcGUiLCAidmVsb2NpdHlZIiwgInZlbG9jaXR5WCIsICJkZWZpbmVQcm9wZXJ0aWVzIiwgIlBvaW50ZXJJbmZvIiwgImRvd25UYXJnZXQiLCAiX1Byb3h5VmFsdWVzIiwgIl9Qcm94eU1ldGhvZHMiLCAiaWRDb3VudGVyIiwgIkludGVyYWN0aW9uIiwgInNjb3BlRmlyZSIsICJfc2NvcGVGaXJlIiwgIl9lbmRpbmciLCAiX3N0b3BwZWQiLCAiZG9Nb3ZlIiwgInNpZ25hbEFyZyIsICJfaWQiLCAidGhhdCIsICJfbG9vcDIiLCAiX2tleSIsICJwb2ludGVySW5kZXgiLCAidXBkYXRlUG9pbnRlciIsICJwb2ludGVySW5mbyIsICJfZG9QaGFzZSIsICJkdXBsaWNhdGVNb3ZlIiwgInBvaW50ZXJNb3ZlVG9sZXJhbmNlIiwgImdldFBvaW50ZXJJbmRleCIsICJjdXJFdmVudFRhcmdldCIsICJlbmQiLCAicmVtb3ZlUG9pbnRlciIsICJlbmRQaGFzZVJlc3VsdCIsICJjdXJQb2ludGVyIiwgIl9ub3ciLCAiX3VwZGF0ZUxhdGVzdFBvaW50ZXIiLCAiX3RoaXMkaW50ZXJhY3RhYmxlIiwgIl9jcmVhdGVQcmVwYXJlZEV2ZW50IiwgIl9maXJlRXZlbnQiLCAiYmVmb3JlQWN0aW9uIiwgImFwcGx5UGVuZGluZyIsICJvZmZzZXQiLCAicGVuZGluZyIsICJhZGRUb0Nvb3JkcyIsICJvZmZzZXRCeSIsICJ0b3RhbCIsICJvZmZzZXQkMSIsICJJbmVydGlhU3RhdGUiLCAiYWN0aXZlIiwgImlzTW9kaWZpZWQiLCAic21vb3RoRW5kIiwgImFsbG93UmVzdW1lIiwgIm1vZGlmaWVyQ291bnQiLCAidjAiLCAidGUiLCAidGFyZ2V0T2Zmc2V0IiwgIm1vZGlmaWVkT2Zmc2V0IiwgImN1cnJlbnRPZmZzZXQiLCAibGFtYmRhX3YwIiwgIm9uZV92ZV92MCIsICJ0aW1lb3V0IiwgImdldE9wdGlvbnMiLCAidmVsb2NpdHlDbGllbnQiLCAicG9pbnRlclNwZWVkIiwgImNvcHlGcm9tIiwgIm1pblNwZWVkIiwgImVuZFNwZWVkIiwgInN0YXJ0SW5lcnRpYSIsICJzdGFydFNtb290aEVuZCIsICJzdGFydFZlbG9jaXR5IiwgImxhbWJkYSIsICJyZXNpc3RhbmNlIiwgImluZXJ0aWFEdXIiLCAibG9nIiwgIm9uTmV4dEZyYW1lIiwgImluZXJ0aWFUaWNrIiwgInNtb290aEVuZFRpY2siLCAidGlja0ZuIiwgIl90aGlzMyIsICJzdGFydFgiLCAic3RhcnRZIiwgImNwWCIsICJjcFkiLCAiZW5kWCIsICJlbmRZIiwgInBvc2l0aW9uIiwgIl90aGlzNCIsICJuZXdPZmZzZXQiLCAicHJvZ3Jlc3MiLCAiZXhwIiwgIl9nZXRRQmV6aWVyVmFsdWUiLCAiX3RoaXM1IiwgInNtb290aEVuZER1cmF0aW9uIiwgImVhc2VPdXRRdWFkIiwgImluZXJ0aWEiLCAiaW5lcnRpYXN0YXJ0IiwgInJlc3VtZSIsICJwMSIsICJwMiIsICJwMyIsICJpVCIsICJiIiwgImMiLCAiZCIsICJpbmVydGlhJDEiLCAiZmlyZVVudGlsSW1tZWRpYXRlU3RvcHBlZCIsICJFdmVudGFibGUiLCAidHlwZXMiLCAiZXZlbnRMaXN0IiwgIl9saXN0ZW5lcnMkdHlwZTIiLCAic3ViTGlzdGVuZXIiLCAiX2VsZW1lbnQiLCAiRmFrZUV2ZW50IiwgIm9yaWdpbmFsRXZlbnQiLCAicEV4dGVuZCIsICJzdG9wUHJvcGFnYXRpb24iLCAicGFyYW0iLCAiY2FwdHVyZSIsICJvcHRpb25zTWF0Y2giLCAiYSIsICJfc2NvcGUkZG9jdW1lbnQiLCAidGFyZ2V0cyIsICJkZWxlZ2F0ZWRFdmVudHMiLCAiZG9jdW1lbnRzIiwgImV2ZW50c01ldGhvZHMiLCAiYWRkIiwgInJlbW92ZSIsICJhZGREZWxlZ2F0ZSIsICJjb250ZXh0IiwgIm9wdGlvbmFsQXJnIiwgIl9pMyIsICJkZWxlZ2F0ZUxpc3RlbmVyIiwgImRlbGVnYXRlVXNlQ2FwdHVyZSIsICJkZWxlZ2F0ZXMiLCAiZGVsZWdhdGUiLCAicmVtb3ZlRGVsZWdhdGUiLCAibWF0Y2hGb3VuZCIsICJlbnRyeSIsICJzdXBwb3J0c09wdGlvbnMiLCAiYWRkRXZlbnRMaXN0ZW5lciIsICJyZW1vdmVFdmVudExpc3RlbmVyIiwgInRhcmdldEluZGV4IiwgInR5cGVJc0VtcHR5IiwgInR5cGVMaXN0ZW5lcnMiLCAiaGFzT3duUHJvcGVydHkiLCAiZmFrZUV2ZW50IiwgIl9pNSIsICJjcmVhdGVFbGVtZW50IiwgImZpbmRlciIsICJtZXRob2RPcmRlciIsICJkZXRhaWxzIiwgIl9maW5kZXIkbWV0aG9kT3JkZXIyIiwgInNpbXVsYXRpb25SZXN1bWUiLCAibW91c2VPclBlbiIsICJmaXJzdE5vbkFjdGl2ZSIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGw0IiwgImhhc1BvaW50ZXJJZCIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGw2IiwgImhhc1BvaW50ZXIiLCAiX3Njb3BlJGludGVyYWN0aW9ucyRsOCIsICJpZGxlIiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDEwIiwgImZpbmRlciQxIiwgIm1ldGhvZE5hbWVzIiwgImRvT25JbnRlcmFjdGlvbnMiLCAiX3BvaW50ZXJVdGlscyRnZXRFdmVuIiwgInByZXZUb3VjaFRpbWUiLCAiX2V2ZW50JGNoYW5nZWRUb3VjaGVzMiIsICJjaGFuZ2VkVG91Y2giLCAic2VhcmNoRGV0YWlscyIsICJnZXRJbnRlcmFjdGlvbiIsICJpbnZhbGlkUG9pbnRlciIsICJfbWF0Y2hlcyRfaSIsICJuZXciLCAib25Eb2NTaWduYWwiLCAiZXZlbnRNZXRob2ROYW1lIiwgImV2ZW50TWV0aG9kIiwgImV2ZW50T3B0aW9ucyIsICJfaTE0IiwgIl9kb2NFdmVudHMkX2kiLCAicmVsZWFzZVBvaW50ZXJzT25SZW1vdmVkRWxzIiwgIl9pbnRlcmFjdGlvbiRwb2ludGVyczIiLCAicG9pbnRlckRvd24iLCAicG9pbnRlck1vdmUiLCAicG9pbnRlclVwIiwgImRvY3VtZW50Qmx1ciIsICJfSW50ZXJhY3Rpb25CYXNlIiwgIl9jbGFzcyIsICJJbnRlcmFjdGlvbkJhc2UiLCAiZGVzdHJveSIsICJpbnRlcmFjdGlvbnMkMSIsICJPbk9mZk1ldGhvZCIsICJkZWZhdWx0Q29udGV4dCIsICJzY29wZUV2ZW50cyIsICJfYWN0aW9ucyIsICJfY29udGV4dCIsICJfd2luIiwgIl9kb2MiLCAiX3Njb3BlRXZlbnRzIiwgIm9uc3RhcnQiLCAib25tb3ZlIiwgIm9uZW5kIiwgIm9uaW5lcnRpYXN0YXJ0IiwgIl90aGlzJF9hY3Rpb25zJG1hcCRhYyIsICJhY3Rpb25GaWx0ZXIiLCAiX29uT2ZmIiwgIk9mZiIsICJPbiIsICJvcHRpb25OYW1lXyIsICJvcHRpb25OYW1lIiwgIm9wdGlvblZhbHVlIiwgInVwZGF0ZVBlckFjdGlvbkxpc3RlbmVycyIsICJBcnJheSIsICJxdWVyeVNlbGVjdG9yQWxsIiwgInRhcmdldE5vZGUiLCAidGVzdElnbm9yZSIsICJ0ZXN0QWxsb3ciLCAidHlwZUFyZyIsICJsaXN0ZW5lckFyZyIsICJfbGlzdGVuZXJzJF90eXBlMiIsICJhY3Rpb25OYW1lXyIsICJtZXRob2ROYW1lIiwgInJlY3RDaGVja2VyIiwgImRlbGVnYXRlZCIsICJfZGVsZWdhdGVkJGkiLCAiSW50ZXJhY3RhYmxlU2V0IiwgInNlbGVjdG9yTWFwIiwgImFkZExpc3RlbmVycyIsICJpbnRlcmFjdGFibGVzT25UYXJnZXQiLCAiYWRkRG9jdW1lbnQiLCAiaXNTZWxlY3RvciIsICJpbkNvbnRleHQiLCAiX3RoaXMkbGlzdDIiLCAiU2NvcGUiLCAiZmxvb3IiLCAicmFuZG9tIiwgImlzSW5pdGlhbGl6ZWQiLCAibGlzdGVuZXJNYXBzIiwgImdldEV4aXN0aW5nIiwgImdsb2JhbEV2ZW50cyIsICJnZXRQb2ludGVyQXZlcmFnZSIsICJnZXRUb3VjaEJCb3giLCAiZ2V0VG91Y2hEaXN0YW5jZSIsICJnZXRUb3VjaEFuZ2xlIiwgInZlcnNpb24iLCAicHJvY2VzcyIsICJ1c2UiLCAicGx1Z2luIiwgImlzU2V0IiwgIl90eXBlMiIsICJkZWJ1ZyIsICJfdGhpcyRzY29wZSRpbnRlcmFjdGkyIiwgInJlbW92ZURvY3VtZW50IiwgIl9wbHVnaW5zIiwgIm9uV2luZG93VW5sb2FkIiwgIl9JbnRlcmFjdGFibGVCYXNlIiwgIl9jbGFzczIiLCAiX2dldCIsICJfZ2V0UHJvdG90eXBlT2YiLCAiSW50ZXJhY3RhYmxlQmFzZSIsICJfdGhpcyRsaXN0ZW5lck1hcHMyIiwgInBsdWdpbklzSW5zdGFsbGVkIiwgInBsdWdpbklkUm9vdCIsICJvdGhlcklkIiwgImdldERvY0luZGV4IiwgImRvY0luZGV4IiwgImludGVyYWN0JDEiLCAiX2dsb2JhbCIsICJnbG9iYWxUaGlzIiwgImdyaWQiLCAiY29vcmRGaWVsZHMiLCAieEZpZWxkIiwgInlGaWVsZCIsICJncmlkRnVuYyIsICJyYW5nZSIsICJfZ3JpZCRsaW1pdHMiLCAibGltaXRzIiwgIl9ncmlkJG9mZnNldCIsICJfY29vcmRGaWVsZHMkX2kiLCAiZ3JpZHgiLCAicm91bmQiLCAiZ3JpZHkiLCAic25hcHBlcnNQbHVnaW4iLCAic25hcHBlcnMiLCAiYWxsU25hcHBlcnMiLCAiY3JlYXRlU25hcEdyaWQiLCAiYXNwZWN0UmF0aW8iLCAiX3N0YXRlJG9wdGlvbnMiLCAicmF0aW8iLCAiX3N0YXRlJG9wdGlvbnMyIiwgImVxdWFsRGVsdGEiLCAibGlua2VkRWRnZXMiLCAieElzUHJpbWFyeUF4aXMiLCAic2lnbiIsICJlZGdlU2lnbiIsICJzdWJNb2RpZmljYXRpb24iLCAiX29iamVjdFNwcmVhZCIsICJpbml0aWFsQ29vcmRzIiwgImFzcGVjdE1ldGhvZCIsICJzZXRFcXVhbERlbHRhIiwgInNldFJhdGlvIiwgImNvcnJlY3RlZFJlY3QiLCAibmV3SGVpZ2h0IiwgIm5ld1dpZHRoIiwgImFzcGVjdFJhdGlvJDEiLCAibm9vcCIsICJydWJiZXJiYW5kIiwgImdldFJlc3RyaWN0aW9uUmVjdCIsICJyZXN0cmljdCIsICJlbGVtZW50UmVjdCIsICJyZXN0cmljdGlvbiIsICJ3aWR0aERpZmYiLCAiaGVpZ2h0RGlmZiIsICJyZXN0cmljdCQxIiwgIm5vSW5uZXIiLCAibm9PdXRlciIsICJmaXhSZWN0IiwgInJlc3RyaWN0RWRnZXMiLCAiaW5uZXIiLCAib3V0ZXIiLCAicmVzdHJpY3RFZGdlcyQxIiwgIl8iLCAicmVzdHJpY3RSZWN0JDEiLCAibm9NaW4iLCAibm9NYXgiLCAicmVzdHJpY3RTaXplJDEiLCAibWluU2l6ZSIsICJtYXhTaXplIiwgInNuYXAiLCAic25hcE9mZnNldCIsICJvZmZzZXRXaXRoT3JpZ2luIiwgIm9wdGlvbnNPcmlnaW4iLCAib2Zmc2V0UmVjdCIsICJyZWxhdGl2ZVBvaW50cyIsICJvZmZzZXRzIiwgInJlbGF0aXZlUG9pbnQiLCAicmVsYXRpdmVYIiwgInJlbGF0aXZlWSIsICJzbmFwVGFyZ2V0IiwgImluUmFuZ2UiLCAic25hcCQxIiwgInNuYXBTaXplIiwgInRhcmdldEZpZWxkcyIsICJyZWxhdGl2ZSIsICJfc3RhdGUkdGFyZ2V0RmllbGRzMiIsICJfc3RhdGUkdGFyZ2V0RmllbGRzMiQiLCAic25hcFNpemUkMSIsICJhbGwiLCAicmVzdHJpY3RSZWN0IiwgInJlc3RyaWN0U2l6ZSIsICJzbmFwRWRnZXMiLCAic3ByaW5nIiwgImF2b2lkIiwgInRyYW5zZm9ybSIsICJfYWxsIiwgIm1vZGlmaWVycyQxIiwgImludGVydmFsIiwgInRhcFRpbWUiLCAiZG91YmxlIiwgInByZXZUYXAiLCAib3JpZ2luWCIsICJvcmlnaW5ZIiwgInBvaW50ZXJFdmVudHMiLCAiY2xlYXJIb2xkIiwgInRpbWVyIiwgIm1pbkR1cmF0aW9uIiwgIl9zaWduYWxBcmckdGFyZ2V0czIiLCAiaG9sZER1cmF0aW9uIiwgImV2ZW50YWJsZSIsICJjb2xsZWN0RXZlbnRUYXJnZXRzIiwgInRhcCIsICJkb3VibGV0YXAiLCAiX2FyZyR0YXJnZXRzIiwgInByb3BzIiwgIl9zdWJ0cmFjdE9yaWdpbiIsICJfYWRkT3JpZ2luIiwgIl9pbnRlcmFjdGlvbiRwb2ludGVycyIsICJlbmRIb2xkUmVwZWF0IiwgImhvbGRJbnRlcnZhbEhhbmRsZSIsICJjbGVhckludGVydmFsIiwgImhvbGRSZXBlYXQiLCAiaG9sZFJlcGVhdEludGVydmFsIiwgImhvbGRyZXBlYXQiLCAiZW5kZXJUeXBlcyIsICJjb3VudCIsICJob2xkUmVwZWF0JDEiLCAiX19iYWNrQ29tcGF0T3B0aW9uIiwgImludGVyYWN0YWJsZVRhcmdldHMiLCAicmVmbG93IiwgIlByb21pc2UiLCAicHJvbWlzZXMiLCAicmVmbG93UHJvbWlzZSIsICJydW5uaW5nSW50ZXJhY3Rpb24iLCAiX3JlZmxvd1Byb21pc2UiLCAicmVzb2x2ZSIsICJfcmVmbG93UmVzb2x2ZSIsICJ4eXdoIiwgInRoZW4iLCAicmVmbG93JDEiLCAiZGVmYXVsdCIsICJleHBvcnRzIiwgIl91bnVzZWQiLCAibWVzc2FnZSIsICJsb2NhdGlvbiIsICJtYXRjaCIsICJlcnJvciIsICJjb29raWUiLCAic2Vzc2lvbiIsICJ2aXNpdCIsICJwb3RlbnRpYWxNYXRjaCIsICJzaXplIiwgInJlY2VudFJlcXVlc3RzIiwgImZpbmRGcmFtZUVsZW1lbnRfZm4iLCAiZG9jdW1lbnQiLCAiY3JlYXRlQ29uc3VtZXIiLCAiZXh0ZW5kZWRFdmVudCIsICJhcHBsaWNhdGlvbiIsICJlcnJvciIsICJtZXNzYWdlIiwgIm1hdGNoIiwgInNoaWZ0IiwgImZpbHRlciIsICJzaXplIiwgIm1hdGNoIiwgIm9sZFZhbHVlIiwgImVycm9yIiwgImNvbnN0cnVjdG9yIiwgIm1lc3NhZ2UiLCAiZXh0ZW5kIiwgImFwcGxpY2F0aW9uIiwgImVsZW1lbnQiLCAiZmlsdGVyIiwgImRpc3BhdGNoRXZlbnQiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZW50ZXIiLCAiZ2V0QXR0cmlidXRlIiwgInJlbW92ZUNsYXNzZXMiLCAidHJhbnNpdGlvbiIsICJsZWF2ZSIsICJoaWRkZW5DbGFzcyIsICJwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MiLCAiYWRkQ2xhc3NlcyIsICJuZXh0QW5pbWF0aW9uRnJhbWUiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZm9ybWF0IiwgImRlZmF1bHRPcHRpb25zIiwgImRlZmF1bHRPcHRpb25zIiwgImxvY2FsaXplIiwgIm9mZnNldCIsICJmb3JtYXRMb25nIiwgImZvcm1hdCIsICJkZWZhdWx0T3B0aW9ucyIsICJzdGFydCIsICJvZmZzZXQiLCAiZGlzcGF0Y2giLCAiZGVmYXVsdE9wdGlvbnMiLCAibWVzc2FnZSIsICJkaXNwYXRjaEV2ZW50IiwgImhvdGtleXMiLCAic3RhcnQiLCAicGxhdGZvcm0iLCAibWF4IiwgIm9mZnNldCIsICJwbGF0Zm9ybSIsICJwbGFjZW1lbnRzIiwgInNpZGVzIiwgInNpZGUiLCAicGxhY2VtZW50IiwgIm92ZXJmbG93IiwgInBsYXRmb3JtIiwgIngiLCAieSIsICJtaW4iLCAibWF4IiwgImdldENvbXB1dGVkU3R5bGUiLCAiZ2V0Q29tcHV0ZWRTdHlsZSIsICJjYWNoZSIsICJvZmZzZXQiLCAic2hpZnQiLCAiZmxpcCIsICJhcnJvdyIsICJjb21wdXRlUG9zaXRpb24iLCAiY2FjaGUiLCAiY29tcHV0ZVBvc2l0aW9uIiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgImNvbXB1dGVQb3NpdGlvbiIsICJvZmZzZXQiLCAiZmxpcCIsICJzaGlmdCIsICJjb21wdXRlUG9zaXRpb24iLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAiYXJyb3ciLCAiY29tcHV0ZVBvc2l0aW9uIiwgImludGVyYWN0IiwgIkNvbnRyb2xsZXIiLCAiQ29udHJvbGxlciIsICJGZXRjaFJlc3BvbnNlIiwgImdldENvb2tpZSIsICJjb29raWUiLCAiRmV0Y2hSZXF1ZXN0IiwgImVycm9yIiwgImZldGNoIiwgIkZldGNoUmVzcG9uc2UiLCAiZ2V0Q29va2llIiwgIkZldGNoUmVxdWVzdCIsICJlcnJvciIsICJ0cmFuc2l0aW9uIiwgInN0YXJ0IiwgImFmdGVyVHJhbnNpdGlvbiIsICJjb21wdXRlUG9zaXRpb24iLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAiYXJyb3ciLCAibW9kdWxlcyJdCn0K
